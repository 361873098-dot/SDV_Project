## 56.7.59 Receive FIFO B Read Index (RFBRIR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFBRIR     | 8Eh      |

## Function

Provides the MB header index of the next available FIFO B entry that the application can read.

NOTE

If the FIFO is empty, the RDIDX field points to a physical MB with invalid content.

<!-- image -->

## Diagram

## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 15-10   | Reserved                                                                                  |
| -       |                                                                                           |
| 9-0     | Read Index                                                                                |
| RDIDX   | Provides the MB header index of the next available FIFO MB that the application can read. |

## 56.7.60 Receive FIFO Message ID Acceptance Filter Value (RFMIDAFVR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFMIDAFVR  | 90h      |

## Function

Defines the filter value for the message ID acceptance filter of the selected FIFO. For details on message ID filtering, see FIFO filtering.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                  |
|----------|-----------------------------------------------------------|
| 15-0     | MIDAFVALA Or MIDAFVALB Message ID Acceptance Filter Value |
| MIDAFVAL | Contains the value for the message ID acceptance filter.  |

## 56.7.61 Receive FIFO Message ID Acceptance Filter Mask (RFMIDAFMR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFMIDAFMR  | 92h      |

## Function

Defines the filter mask for the message ID acceptance filter of the selected FIFO. For details on message ID filtering, see FIFO filtering.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                 |
|----------|----------------------------------------------------------|
| 15-0     | MIDAFMSKA Or MIDAFMSKB Message ID Acceptance Filter Mask |
| MIDAFMSK | Contains the mask for the message ID acceptance filter.  |

FlexRay Communication Controller (FlexRay)

## 56.7.62 Receive FIFO Frame ID Rejection Filter Value (RFFIDRFVR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFFIDRFVR  | 94h      |

## Function

Defines the filter value for the frame ID rejection filter of the selected FIFO. For details on frame ID filtering, see FIFO filtering.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                               |
|----------|--------------------------------------------------------|
| 15-11    | Reserved                                               |
| -        |                                                        |
| 10-0     | FIDRFVALA Or FIDRFVALB Frame ID Rejection Filter Value |
| FIDRFVAL | Contains the value for the frame ID rejection filter.  |

## 56.7.63 Receive FIFO Frame ID Rejection Filter Mask (RFFIDRFMR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFFIDRFMR  | 96h      |

## Function

Defines the filter mask for the frame ID rejection filter of the selected FIFO. For details on frame ID filtering, see FIFO filtering.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field    | Function                                             |
|----------|------------------------------------------------------|
| 15-11    | Reserved                                             |
| -        |                                                      |
| 10-0     | Frame ID Rejection Filter Mask                       |
| FIDRFMSK | Contains the mask for the frame ID rejection filter. |

## 56.7.64 Receive FIFO Range Filter Configuration (RFRFCFR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFRFCFR    | 98h      |

## Function

Provides access to the four internal frame ID range filter boundary registers of the selected FIFO. For details on frame ID range filter, see FIFO filtering.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                |
|---------|-----------------------------------------------------------------------------------------|
| 15      | Write Mode                                                                              |
| WMD     | Defines the write mode of this register. 0b - Write to all fields in this register on a |
|         | write access                                                                            |
|         | 1b - Write only to the SEL and IBD fields on write access                               |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field     | Function                                                                                                                      |
|-----------|-------------------------------------------------------------------------------------------------------------------------------|
| 14 IBD    | Interval Boundary Selects the lower or upper interval boundary to be programmed with the SID value. 0b - Lower 1b - Upper     |
| 13-12 SEL | Filter Selector Selects the frame ID range filter to be accessed. 00b - Filter 0 01b - Filter 1 10b - Filter 2 11b - Filter 3 |
| 11 -      | Reserved                                                                                                                      |
| 10-0 SID  | Slot ID Defines the IBD-selected frame ID boundary value for the SEL-selected range filter.                                   |

## 56.7.65 Receive FIFO Range Filter Control (RFRFCTR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFRFCTR    | 9Ah      |

## Function

Used to:

- Enable and disable each frame ID range filter
- Define whether each frame ID range filter is running as acceptance or rejection filter

## Diagram

<!-- image -->

| Bits    |   15 |   14 | 13   | 12   | 11   | 10   | 9 8   | 7   |   6 |   5 |   4 | 3    | 2    | 1    | 0    |
|---------|------|------|------|------|------|------|-------|-----|-----|-----|-----|------|------|------|------|
| R       |    0 |    0 | 0    | F3MD | F2MD | F1MD | F0MD  |     |   0 |   0 |   0 | F3EN | F2EN | F1EN | F0EN |
| W Reset |    0 |    0 | 0 0  | 0    | 0    | 0    | 0     | 0   |   0 |   0 |   0 | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                         |
|---------|----------------------------------------------------------------------------------------------------------------------------------|
| 15-12 - | Reserved                                                                                                                         |
| 11 F3MD | Range Filter 3 Mode Defines the filter mode (acceptance or rejection) of frame ID range filter 3. 0b - Acceptance 1b - Rejection |
| 10 F2MD | Range Filter 2 Mode Defines the filter mode (acceptance or rejection) of frame ID range filter 2. 0b - Acceptance 1b - Rejection |
| 9 F1MD  | Range Filter 1 Mode Defines the filter mode (acceptance or rejection) of frame ID range filter 1. 0b - Acceptance 1b - Rejection |
| 8 F0MD  | Range Filter 0 Mode Defines the filter mode (acceptance or rejection) of frame ID range filter 0. 0b - Acceptance 1b - Rejection |
| 7-4 -   | Reserved                                                                                                                         |
| 3 F3EN  | Range Filter 3 Enable Enables and disables frame ID range filter 3. 0b - Disabled 1b - Enabled                                   |
| 2       | Range Filter 2 Enable                                                                                                            |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field   | Function                                                                                       |
|---------|------------------------------------------------------------------------------------------------|
| F2EN    | Enables and disables frame ID range filter 2. 0b - Disabled 1b - Enabled                       |
| 1 F1EN  | Range Filter 1 Enable Enables and disables frame ID range filter 1. 0b - Disabled 1b - Enabled |
| 0 F0EN  | Range Filter 0 Enable Enables and disables frame ID range filter 0. 0b - Disabled 1b - Enabled |

## 56.7.66 Last Dynamic Transmit Slot Channel A (LDTXSLAR)

## Offset

| Register   | Offset   |
|------------|----------|
| LDTXSLAR   | 9Ch      |

## Function

Provides the number of the last transmission slot in the dynamic segment for channel A.

This register is updated after the end of the dynamic segment and before the start of the next communication cycle.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 15-11   | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                           |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 10-0        | Last Dynamic Transmission Slot Channel A                                                                                                                                                                                                           |
| LDYNTXSLOTA | Provides the number of the last transmission slot in the dynamic segment for channel A. If no frame is transmitted during the dynamic segment on channel A, the value of this field becomes 0. Protocol-related variable: zLastDynTxSlot channel A |

## 56.7.67 Last Dynamic Transmit Slot Channel B (LDTXSLBR)

## Offset

| Register   | Offset   |
|------------|----------|
| LDTXSLBR   | 9Eh      |

## Function

Provides the number of the last transmission slot in the dynamic segment for channel B.

This register is updated after the end of the dynamic segment and before the start of the next communication cycle.

## Diagram

<!-- image -->

## Fields

| Field            | Function                                                                                                                                                                                                                                                                                    |
|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-11 -          | Reserved                                                                                                                                                                                                                                                                                    |
| 10-0 LDYNTXSLOTB | Last Dynamic Transmission Slot Channel B Provides the number of the last transmission slot in the dynamic segment for channel B. If no frame is transmitted during the dynamic segment on channel B, the value of this field becomes 0. Protocol-related variable: zLastDynTxSlot channel B |

## 56.7.68 Protocol Configuration 0 (PCR0)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR0       | A0h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                | Function                |
|----------------------|-------------------------|
| 15-10                | action_point_offset     |
| action_point_off set | gdActionPointOffset - 1 |
| 9-0                  | static_slot_length      |
| static_slot_lengt h  | gdStaticSlot            |

## 56.7.69 Protocol Configuration 1 (PCR1)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR1       | A2h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field                          | Function                      |
|--------------------------------|-------------------------------|
| 15-14                          | Reserved                      |
| 13-0                           | macro_after_first_static_slot |
| macro_after_firs t_static_slot | gMacroPerCycle - gdStaticSlot |

## 56.7.70 Protocol Configuration 2 (PCR2)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR2       | A4h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                        | Function                                     |
|------------------------------|----------------------------------------------|
| 15-10                        | minislot_after_action_point                  |
| minislot_after_a ction_point | gdMinislot - gdMinislotActionPointOffset - 1 |
| 9-0                          | gNumberOfStaticSlots                         |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field                   | Function   |
|-------------------------|------------|
| number_of_stati c_slots |            |

## 56.7.71 Protocol Configuration 3 (PCR3)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR3       | A6h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                             | Function                                                     |
|-----------------------------------|--------------------------------------------------------------|
| 15-10 wakeup_symbol _rx_low       | wakeup_symbol_rx_low gdWakeupSymbolRxLow                     |
| 9-5 minislot_action_ point_offset | minislot_action_point_offset gdMinislotActionPointOffset - 1 |
| 4-0 coldstart_attem pts           | coldstart_attempts gColdstartAttempts                        |

## 56.7.72 Protocol Configuration 4 (PCR4)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR4       | A8h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                    | Function                |
|--------------------------|-------------------------|
| 15-9                     | cas_rx_low_max          |
| cas_rx_low_ma x          | gdCASRxLowMax - 1       |
| 8-0                      | wakeup_symbol_rx_window |
| wakeup_symbol _rx_window | gdWakeupSymbolRxWindow  |

## 56.7.73 Protocol Configuration 5 (PCR5)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR5       | AAh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field                      | Function                                   |
|----------------------------|--------------------------------------------|
| 15-12 tss_transmitter      | tss_transmitter gdTSSTransmitter           |
| 11-6 wakeup_symbol _tx_low | wakeup_symbol_tx_low gdWakeupSymbolTxLow   |
| 5-0 wakeup_symbol _rx_idle | wakeup_symbol_rx_idle gdWakeupSymbolRxIdle |

## 56.7.74 Protocol Configuration 6 (PCR6)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR6       | ACh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

|   Field | Function   |
|---------|------------|
|      15 | Reserved   |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field                                   | Function                                                                  |
|-----------------------------------------|---------------------------------------------------------------------------|
| -                                       |                                                                           |
| 14-7 symbol_window _after_action_p oint | symbol_window_after_action_point gdSymbolWindow - gdActionPointOffset - 1 |
| 6-0 macro_initial_off set_a             | macro_initial_offset_a pMacroInitialOffset[A]                             |

## 56.7.75 Protocol Configuration 7 (PCR7)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR7       | AEh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

<!-- image -->

## Fields

| Field                         | Function                                                          |
|-------------------------------|-------------------------------------------------------------------|
| 15-7 decoding_corre ction_b   | decoding_correction_b pDecodingCorrection + pDelayCompensation[B] |
| 6-0 micro_per_macr o_nom_half | micro_per_macro_nom_half round(pMicroPerMacroNom / 2)             |

## 56.7.76 Protocol Configuration 8 (PCR8)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR8       | B0h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                                       | Function                                                               |
|---------------------------------------------|------------------------------------------------------------------------|
| 15-12 max_without_cl ock_correction_f atal  | max_without_clock_correction_fatal gMaxWithoutClockCorrectionFatal     |
| 11-8 max_without_cl ock_correction_ passive | max_without_clock_correction_passive gMaxWithoutClockCorrectionPassive |
| 7-0 wakeup_symbol _tx_idle                  | wakeup_symbol_tx_idle gdWakeupSymbolTxIdle                             |

## 56.7.77 Protocol Configuration 9 (PCR9)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR9       | B2h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

FlexRay Communication Controller (FlexRay)

<!-- image -->

## Fields

| Field                       | Function                                   |
|-----------------------------|--------------------------------------------|
| 15 minislot_exists          | minislot_exists gNumberOfMinislots ≠ 0     |
| 14 symbol_window _exists    | symbol_window_exists gdSymbolWindow ≠ 0    |
| 13-0 offset_correctio n_out | offset_correction_out pOffsetCorrectionOut |

## 56.7.78 Protocol Configuration 10 (PCR10)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR10      | B4h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

|   Field | Function            |
|---------|---------------------|
|      15 | single_slot_enabled |

Table continues on the next page...

Table continued from the previous page...

| Field                 | Function                       |
|-----------------------|--------------------------------|
| single_slot_ena bled  | pSingleSlotEnabled             |
| 14 wakeup_channe l    | wakeup_channel pWakeupChannel  |
| 13-0 macro_per_cycl e | macro_per_cycle gMacroPerCycle |

## 56.7.79 Protocol Configuration 11 (PCR11)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR11      | B6h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

<!-- image -->

## Fields

| Field                         | Function                                         |
|-------------------------------|--------------------------------------------------|
| 15 key_slot_used_f or_startup | key_slot_used_for_startup pKeySlotUsedForStartup |
| 14 key_slot_used_f or_sync    | key_slot_used_for_sync pKeySlotUsedForSync       |
| 13-0 offset_correctio n_start | offset_correction_start gOffsetCorrectionStart   |

## 56.7.80 Protocol Configuration 12 (PCR12)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR12      | B8h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                 | Function                |
|-----------------------|-------------------------|
| 15-11 allow_passive_t | allow_passive_to_active |
| o_active              | pAllowPassiveToActive   |
| 10-0                  | key_slot_header_crc     |
| key_slot_header _crc  | header CRC for key slot |

## 56.7.81 Protocol Configuration 13 (PCR13)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR13      | BAh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                                     | Function                                                                                     |
|-------------------------------------------|----------------------------------------------------------------------------------------------|
| 15-10 first_minislot_ac tion_point_offset | first_minislot_action_point_offset max(gdActionPointOffset, gdMinislotActionPointOffset) - 1 |
| 9-0 static_slot_after _action_point       | static_slot_after_action_point gdStaticSlot - gdActionPointOffset - 1                        |

## 56.7.82 Protocol Configuration 14 (PCR14)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR14      | BCh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

Bits

15

14

13

12

11

10

9

8

7

6

5

4

3

2

1

0

R

rate\_correction\_out

listen\_timeout

W

Reset

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

<!-- image -->

## Fields

| Field                | Function            |
|----------------------|---------------------|
| 15-5                 | rate_correction_out |
| rate_correction_ out | pRateCorrectionOut  |
| 4-0                  | listen_timeout      |
| listen_timeout       | pdListenTimeout - 1 |

FlexRay Communication Controller (FlexRay)

## 56.7.83 Protocol Configuration 15 (PCR15)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR15      | BEh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field          | Function            |
|----------------|---------------------|
| 15-0           | listen_timeout      |
| listen_timeout | pdListenTimeout - 1 |

## 56.7.84 Protocol Configuration 16 (PCR16)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR16      | C0h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field                   | Function                             |
|-------------------------|--------------------------------------|
| 15-9                    | macro_initial_offset_b               |
| macro_initial_off set_b | pMacroInitialOffset[B]               |
| 8-0                     | noise_listen_timeout                 |
| noise_listen_tim eout   | (gListenNoise × pdListenTimeout) - 1 |

## 56.7.85 Protocol Configuration 17 (PCR17)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR17      | C2h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                 | Function                             |
|-----------------------|--------------------------------------|
| 15-0                  | noise_listen_timeout                 |
| noise_listen_tim eout | (gListenNoise × pdListenTimeout) - 1 |

FlexRay Communication Controller (FlexRay)

## 56.7.86 Protocol Configuration 18 (PCR18)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR18      | C4h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field          | Function       |
|----------------|----------------|
| 15-10          | wakeup_pattern |
| wakeup_pattern | pWakeupPattern |
| 9-0            | key_slot_id    |
| key_slot_id    | pKeySlotId     |

## 56.7.87 Protocol Configuration 19 (PCR19)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR19      | C6h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field                       | Function                                                          |
|-----------------------------|-------------------------------------------------------------------|
| 15-7 decoding_corre ction_a | decoding_correction_a pDecodingCorrection + pDelayCompensation[A] |
| 6-0 payload_length_ static  | payload_length_static gPayloadLengthStatic                        |

## 56.7.88 Protocol Configuration 20 (PCR20)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR20      | C8h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                   | Function               |
|-------------------------|------------------------|
| 15-8                    | micro_initial_offset_b |
| micro_initial_off set_b | pMicroInitialOffset[A] |
| 7-0                     | micro_initial_offset_a |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field                   | Function               |
|-------------------------|------------------------|
| micro_initial_off set_a | pMicroInitialOffset[A] |

## 56.7.89 Protocol Configuration 21 (PCR21)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR21      | CAh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                   | Function                       |
|-------------------------|--------------------------------|
| 15-13                   | extern_rate_correction         |
| extern_rate_corr ection | pExternRateCorrection          |
| 12-0                    | latest_tx                      |
| latest_tx               | gNumberOfMinislots - pLatestTx |

## 56.7.90 Protocol Configuration 22 (PCR22)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR22      | CCh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                                | Function                                                                                  |
|--------------------------------------|-------------------------------------------------------------------------------------------|
| 15 -                                 | Reserved bit, will not be changed. Do not write any value different from the reset value. |
| 14-4 comp_accepted _startup_range_ a | comp_accepted_startup_range_a pdAcceptedStartupRange - pDelayCompensation[A]              |
| 3-0 micro_per_cycle                  | micro_per_cycle pMicroPerCycle                                                            |

## 56.7.91 Protocol Configuration 23 (PCR23)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR23      | CEh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field           | Function        |
|-----------------|-----------------|
| 15-0            | micro_per_cycle |
| micro_per_cycle | pMicroPerCycle  |

FlexRay Communication Controller (FlexRay)

## 56.7.92 Protocol Configuration 24 (PCR24)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR24      | D0h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                            | Function                                        |
|----------------------------------|-------------------------------------------------|
| 15-11 cluster_drift_da mping     | cluster_drift_damping pClusterDriftDamping      |
| 10-4 max_payload_le ngth_dynamic | max_payload_length_dynamic pPayloadLengthDynMax |
| 3-0 micro_per_cycle _min         | micro_per_cycle_min pMicroPerCycle - pdMaxDrift |

## 56.7.93 Protocol Configuration 25 (PCR25)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR25      | D2h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                | Function                    |
|----------------------|-----------------------------|
| 15-0                 | micro_per_cycle_min         |
| micro_per_cycle _min | pMicroPerCycle - pdMaxDrift |

## 56.7.94 Protocol Configuration 26 (PCR26)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR26      | D4h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                           | Function                                       |
|---------------------------------|------------------------------------------------|
| 15                              | allow_halt_due_to_clock                        |
| allow_halt_due_ to_clock        | pAllowHaltDueToClock                           |
| 14-4                            | comp_accepted_startup_range_b                  |
| comp_accepted _startup_range_ b | pdAcceptedStartupRange - pDelayCompensation[B] |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field                | Function                    |
|----------------------|-----------------------------|
| 3-0                  | micro_per_cycle_max         |
| micro_per_cycle _max | pMicroPerCycle + pdMaxDrift |

## 56.7.95 Protocol Configuration 27 (PCR27)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR27      | D6h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                | Function                    |
|----------------------|-----------------------------|
| 15-0                 | micro_per_cycle_max         |
| micro_per_cycle _max | pMicroPerCycle + pdMaxDrift |

## 56.7.96 Protocol Configuration 28 (PCR28)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR28      | D8h      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                               | Function                                                              |
|-------------------------------------|-----------------------------------------------------------------------|
| 15-14 dynamic_slot_id le_phase      | dynamic_slot_idle_phase gdDynamicSlotIdlePhase.                       |
| 13-0 macro_after_off set_correction | macro_after_offset_correction gMacroPerCycle - gOffsetCorrectionStart |

## 56.7.97 Protocol Configuration 29 (PCR29)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR29      | DAh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field                     | Function                 |
|---------------------------|--------------------------|
| 15-13                     | extern_offset_correction |
| extern_offset_c orrection | pExternOffsetCorrection  |
| 12-0                      | minislots_max            |
| minislots_max             | gNumberOfMinislots - 1   |

FlexRay Communication Controller (FlexRay)

## 56.7.98 Protocol Configuration 30 (PCR30)

## Offset

| Register   | Offset   |
|------------|----------|
| PCR30      | DCh      |

## Function

Provides the necessary configuration information to PE. The individual values are described in Table 548.

## Diagram

<!-- image -->

## Fields

| Field         | Function      |
|---------------|---------------|
| 15-4          | Reserved      |
| -             |               |
| 3-0           | sync_node_max |
| sync_node_max | gSyncNodeMax  |

## 56.7.99 Stopwatch Count High (STPWHR)

## Offset

| Register   | Offset   |
|------------|----------|
| STPWHR     | DEh      |

## Function

Works with Stopwatch Count Low (STPWLR) to form a stopwatch counter that runs on the system clock. This counter starts on cycle start even and stops on an external event 'OS\_tick'. When all 32 bits of the stopwatch counter are read, the counter automatically clears. For details, see StopWatch function.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field    | Function                                            |
|----------|-----------------------------------------------------|
| 15-0     | Stopwatch Count High                                |
| STPW_S_H | Contains the high 16 bits of the stopwatch counter. |

## 56.7.100 Stopwatch Count Low (STPWLR)

## Offset

| Register   | Offset   |
|------------|----------|
| STPWLR     | E0h      |

## Function

Works with Stopwatch Count High (STPWHR) to form a stopwatch counter that runs on the system clock. This counter starts on cycle start even and stops on an external event 'OS\_tick'. When all 32 bits of the stopwatch counter are read, the counter automatically clears. For details, see StopWatch function.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                           |
|----------|----------------------------------------------------|
| 15-0     | Stopwatch Count Low                                |
| STPW_S_L | Contains the low 16 bits of the stopwatch counter. |

FlexRay Communication Controller (FlexRay)

## 56.7.101 Protocol Event Output Enable And Stopwatch Control (PEOER)

## Offset

| Register   | Offset   |
|------------|----------|
| PEOER      | E2h      |

## Function

Defines whether or not the event output ports are enabled based on the events such as Cycle start and Timer1 and Timer2 expiration (see Timer support for details).

Enables and disables the stopwatch counter.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                 |
|-----------|--------------------------------------------------------------------------------------------------------------------------|
| 15-9 -    | Reserved                                                                                                                 |
| 8 STPW_EN | Stopwatch Count Enable Enables and disables the stopwatch counter. 0b - Disabled 1b - Enabled                            |
| 7-3 -     | Reserved                                                                                                                 |
| 2 TIM2_EE | Timer 2 Expired Event Output Enable Enables and disables the event on the "fr_evt_tim2" port. 0b - Disabled 1b - Enabled |
| 1 TIM1_EE | Timer 1 Expired Event Output Enable Enables and disables the event on the "fr_evt_tim1" port. 0b - Disabled 1b - Enabled |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                            |
|---------|-------------------------------------------------------------------------------------|
| 0       | Cycle Start Event Output Enable                                                     |
| CYC_EE  | Enables and disables the event on the "fr_evt_cyc" port. 0b - Disabled 1b - Enabled |

## 56.7.102 Receive FIFO Start Data Offset (RFSDOR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFSDOR     | E6h      |

## Function

Because all data fields of the FIFO are of equal length and are located at subsequent system memory addresses, the content of this register corresponds to the start address of payload area of the selected FIFO.

## Diagram

Bits

15

14

13

12

11

10

9

8

7

6

5

4

3

2

1

0

R

SDO

W

Reset

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                    |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-0    | SDOA And SDOB Start Data Field Offset                                                                                                                                                                                                                       |
| SDO     | Defines the data field offset of the header field of the first MBof the selected FIFO. CCuses the SDOvalue to determine the physical location of the receiver FIFO's first MBheader field. For configuration constraints, see Configure data field offsets. |

## 56.7.103 Receive FIFO System Memory Base Address High (RFSYMBADHR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFSYMBADHR | E8h      |

## Function

Works with Receive FIFO System Memory Base Address Low (RFSYMBADLR) to define the system memory base address for the receive FIFO if MCR[FAM] = 1. BMIF uses the system memory base address to calculate the physical memory address for system memory accesses for the FIFOs.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                         |
|---------|----------------------------------------------------------------------------------|
| 15-0    | System Memory Base Address                                                       |
| SMBA    | Contains the value of the system memory base address, defined as a byte address. |

## 56.7.104 Receive FIFO System Memory Base Address Low (RFSYMBADLR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFSYMBADLR | EAh      |

## Function

Works with Receive FIFO System Memory Base Address High (RFSYMBADHR) to define the system memory base address for the receive FIFO if MCR[FAM] = 1. BMIF uses the system memory base address to calculate the physical memory address for system memory accesses for the FIFOs.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                         |
|---------|----------------------------------------------------------------------------------|
| 15-4    | System Memory Base Address                                                       |
| SMBA    | Contains the value of the system memory base address, defined as a byte address. |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 3-0     | Reserved   |

## 56.7.105 Receive FIFO Periodic Timer (RFPTR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFPTR      | ECh      |

## Function

Holds the duration for the periodic FIFO timer. The periodic timer applies to both FIFOs (see FIFO periodic timer ).

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-14 -  | Reserved                                                                                                                                                                                                                |
| 13-0 PTD | Periodic Timer Duration Defines the periodic timer duration, in terms of µTs, as follows: 0h - Timer remains expired 1-3FFEh - Timer expires after PTD µTs and restarts at each cycle start 3FFFh - Timer never expires |

## 56.7.106 Receive FIFO Fill Level and Pop Count (RFFLPCR)

## Offset

| Register   | Offset   |
|------------|----------|
| RFFLPCR    | EEh      |

## Function

Provides the current fill level of the two receiver FIFOs and allows you to pop a number of entries from the FIFOs.

If the pop count value (PCA or PCB) is greater than the current FIFO fill level (FLB or FLA), then the FIFO is empty after the update. You do not receive any notification that the required number of entries was not removed.

## Diagram

<!-- image -->

## Fields

| Field           | Function                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-8 FLB_or_PCB | FLB Or PCB Displays the fill level value FLB or configures the pop count value PCB. This field behaves differently for register reads and writes. NOTE When reading 0000_0000b-1111_1111b - Fill Level FIFO B (FLB): Provides the current number of entries in FIFO B When writing 0000_0000b-1111_1111b - Pop Count FIFO B (PCB): Defines the number of entries to be removed from FIFO B |
| 7-0 FLA_or_PCA  | FLA Or PCA Displays the fill level value FLA or configures the pop count value PCA. This field behaves differently for register reads and writes. NOTE When reading 0000_0000b-1111_1111b - Fill Level FIFO A (FLA): Provides the current number of entries in FIFO A When writing 0000_0000b-1111_1111b - Pop Count FIFO A (PCA): Defines the number of entries to be removed from FIFO A |

FlexRay Communication Controller (FlexRay)

## 56.7.107 ECC Error Interrupt Flag And Enable (EEIFER)

## Offset

| Register   | Offset   |
|------------|----------|
| EEIFER     | F0h      |

## Function

Controls the ECC-related interrupt request lines and provides the corresponding interrupt flags.

You can return the interrupt flags to 0 by writing 1 to them. This resets the corresponding report registers. For a detailed description, see Memory error reporting.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 LRNE_OF | LRAM Non-Corrected Error Overflow Flag Becomes 1 when at least one of the following events occurs: • Memory errors are detected but not corrected on CHI LRAM and LRNE_IF is already 1. • Memory errors are detected but not corrected on at least two banks of CHI LRAM. 0b - No such event 1b - Non-corrected error overflow detected on CHI LRAM                                                                 |
| 14 LRCE_OF | LRAM Corrected Error Overflow Flag Becomes 1 when at least one of the following events occurs: • Memory errors are detected and corrected on CHI LRAM and LRCE_IF is already 1. • Memory errors are detected and corrected on at least two banks of CHI LRAM. Error correction not implemented on CHI LRAM; flag will never be asserted. NOTE 0b - No such event 1b - Corrected error overflow detected on CHI LRAM |
| 13 DRNE_OF | DRAM Non-Corrected Error Overflow Flag Becomes 1 when at least one of the following events occurs:                                                                                                                                                                                                                                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                         |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 12 DRCE_OF | • Memory errors are detected but not corrected on PE DRAM and DRNE_IF is already 1. • Memory errors are detected but not corrected on at least two banks of the PE DRAM. 0b - No such event 1b - Non-corrected error overflow detected on PE DRAM DRAM Corrected Error Overflow Flag Becomes 1 when at least one of the following events occurs: |
| 11 LRNE_IF | LRAM Non-Corrected Error Interrupt Flag Becomes 1 when a memory error is detected but not corrected on CHI LRAM. 0b - No such event 1b - Non-corrected error detected on CHI LRAM                                                                                                                                                                |
| 10 LRCE_IF | LRAM Corrected Error Interrupt Flag Becomes 1 when a memory error is detected and corrected on CHI LRAM. Error correction not implemented on CHI LRAM; flag will never be asserted. NOTE 0b - No such event 1b - Corrected error detected on CHI LRAM                                                                                            |
| 9 DRNE_IF  | DRAM Non-Corrected Error Interrupt Flag Becomes 1 when a memory error is detected but not corrected on PE DRAM. 0b - No such event 1b - Non-corrected error detected on PE DRAM                                                                                                                                                                  |
| 8 DRCE_IF  | DRAM Corrected Error Interrupt Flag Becomes 1 when a memory error is detected and corrected on PE DRAM. 0b - No such event 1b - Corrected error detected on PE DRAM                                                                                                                                                                              |
| 7-4 -      | Reserved                                                                                                                                                                                                                                                                                                                                         |
| 3          | LRAM Non-Corrected Error Interrupt Enable                                                                                                                                                                                                                                                                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                               |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| LRNE_IE   | Enables and disables the assertion of the LRAM non-corrected error interrupt line when LRNE_IF = 1. 0b - Disable 1b - Enable                                           |
| 2 LRCE_IE | LRAM Corrected Error Interrupt Enable Enables and disables the assertion of the LRAM corrected error interrupt line when LRCE_IF = 1. 0b - Disable 1b - Enable         |
| 1 DRNE_IE | DRAM Non-Corrected Error Interrupt Enable Enables and disables the assertion of the DRAM non-corrected error interrupt line when DRNE_IF = 1. 0b - Disable 1b - Enable |
| 0 DRCE_IE | DRAM Corrected Error Interrupt Enable Enables and disables the assertion of the DRAM corrected error interrupt line when DRCE_IF = 1. 0b - Disable 1b - Enable         |

## 56.7.108 ECC Error Report And Injection Control (EERICR)

## Offset

| Register   | Offset   |
|------------|----------|
| EERICR     | F2h      |

## Function

Configures the error injection and error reporting and provides the selector for the content of the report registers.

## Diagram

<!-- image -->

| Bits   | 15   | 14   | 13   | 11   | 10   | 9   | 8   | 7   | 6   | 5   | 4   | 3 2   | 1   | 0   |
|--------|------|------|------|------|------|-----|-----|-----|-----|-----|-----|-------|-----|-----|
| R      | BSY  | 0    | 0    | 0    | 0    | ERS |     |     | 0   | ERM |     | 0     | EIM | EIE |
| W      |      |      |      |      |      | ERS |     |     |     | ERM |     |       |     |     |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                              |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 BSY  | Register Update Busy Indicates the current state of the ECC configuration update and controls the register write access condition IDL specified in Register write access. 0b - Idle 1b - Running                                                                                      |
| 14-10 - | Reserved                                                                                                                                                                                                                                                                              |
| 9-8 ERS | Error Report Select Selects the content of the ECC error reporting registers. 00b - Show PE DRAM noncorrected error information. 01b - Show PE DRAM corrected error information. 10b - Show CHI LRAM noncorrected error information. 11b - Show CHI LRAM corrected error information. |
| 7-5 -   | Reserved                                                                                                                                                                                                                                                                              |
| 4 ERM   | Error Report Mode Configures the type of data written into the internal error report registers on the detection of a memory error. 0b - Store data and code as delivered by ECC decoding logic. 1b - Store data and code as read from the memory.                                     |
| 3-2 -   | Reserved                                                                                                                                                                                                                                                                              |
| 1 EIM   | Error Injection Mode Configures the ECC error injection mode. 0b - Use EEIDR[DATA] and EEICR[CODE] as XOR distortion pattern for error injection. 1b - Use EEIDR[DATA] and EEICR[CODE] as write value for error injection.                                                            |
| 0       | Error Injection Enable                                                                                                                                                                                                                                                                |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field   | Function                                                                                 |
|---------|------------------------------------------------------------------------------------------|
| EIE     | Enables and disables the ECC error injection on the memories. 0b - Disabled 1b - Enabled |

## 56.7.109 ECC Error Report Address (EERAR)

## Offset

| Register   | Offset   |
|------------|----------|
| EERAR      | F4h      |

## Function

Provides the memory identifier, bank, and address for which the memory error is reported.

## Diagram

<!-- image -->

| Bits   | 15   | 13   | 12   | 11   | 10   | 9    | 7    | 6    | 5    | 4    | 3    | 2    | 1    |      |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | MID  | BANK | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 MID     | Memory Identifier Provides the memory instance for which the memory error is reported. 0b - PE DRAM 1b - CHI LRAM                                                                                                                                                                                                       |
| 14-12 BANK | Memory Bank Provides the BANK for which the memory error is reported. BANK = 111b indicates that no error was found after reset. When MID = 0, BANK values indicate the following: 000b - PE DRAM [7:0] 001b - PE DRAM [15:8] 010b-111b - Not used When MID = 1, see the following table for the assignment of the LRAM |

Table continued from the previous page...

| Field     | Function                                                            | Function                                                            | Function                                                            | Function                                                            |
|-----------|---------------------------------------------------------------------|---------------------------------------------------------------------|---------------------------------------------------------------------|---------------------------------------------------------------------|
|           | BANK                                                                | Register                                                            | Register                                                            | Register                                                            |
|           | 000                                                                 | MBCCFR(2n)                                                          | MBDOR(6n)                                                           | LEETR0                                                              |
|           | 001                                                                 | MBFIDR(2n)                                                          | MBDOR(6n + 1)                                                       | LEETR1                                                              |
|           | 010                                                                 | MBIDXR(2n)                                                          | MBDOR(6n + 2)                                                       | LEETR2                                                              |
|           | 011                                                                 | MBCCFR(2n+1)                                                        | MBDOR(6n + 3)                                                       | LEETR3                                                              |
|           | 100                                                                 | MBFIDR(2n+1)                                                        | MBDOR(6n + 4)                                                       | LEETR4                                                              |
|           | 101                                                                 | MBIDXR(2n+1)                                                        | MBDOR(6n + 5)                                                       | LEETR5                                                              |
|           | 110                                                                 | Not used                                                            | Not used                                                            | Not used                                                            |
|           | 111                                                                 |                                                                     |                                                                     |                                                                     |
| 11-0 ADDR | Memory Address Provides the address of the failing memory location. | Memory Address Provides the address of the failing memory location. | Memory Address Provides the address of the failing memory location. | Memory Address Provides the address of the failing memory location. |

## 56.7.110 ECC Error Report Data (EERDR)

## Offset

| Register   | Offset   |
|------------|----------|
| EERDR      | F6h      |

## Function

Provides the data-related information of the reported memory read access. The bit assignment depends on the selected memory and memory bank as shown in Table 556.

## Table 556. Valid bits in the EERDR[DATA] and EEIDR[DATA] fields

| MEM      |   BANK | 15         | 14         | 13         | 12         | 11         | 10         | 9          | 8          | 7             | 6             | 5             | 4             | 3             | 2             | 1             | 0             |
|----------|--------|------------|------------|------------|------------|------------|------------|------------|------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|
| PE DRAM  |      0 |            |            |            |            |            |            |            |            | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  | PE DRAM[7:0]  |
| PE DRAM  |      1 |            |            |            |            |            |            |            |            | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] | PE DRAM[15:8] |
| CHI LRAM |      0 | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n) | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    | MBCCFR(2n)    |
| CHI LRAM |      0 | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)  | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     | MBDOR(6n)     |

Table continues on the next page...

## Table 556. Valid bits in the EERDR[DATA] and EEIDR[DATA] fields (continued)

| MEM      |   BANK | 15           | 14           | 13           | 12           | 11           | 10                | 9                 | 7                   | 6                   | 5                   | 4                   | 3                   | 2                   | 1                   | 0                   |                   |
|----------|--------|--------------|--------------|--------------|--------------|--------------|-------------------|-------------------|---------------------|---------------------|---------------------|---------------------|---------------------|---------------------|---------------------|---------------------|-------------------|
| CHI LRAM |      0 | LEETR0       | LEETR0       | LEETR0       | LEETR0       | LEETR0       | LEETR0            | LEETR0            | LEETR0              | LEETR0              | LEETR0              | LEETR0              | LEETR0              | LEETR0              | LEETR0              | LEETR0              | LEETR0            |
| CHI LRAM |      1 |              |              |              |              |              | MBFIDR(2n)[FID]   | MBFIDR(2n)[FID]   | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]     | MBFIDR(2n)[FID]   |
| CHI LRAM |      1 | MBDOR(6n+1)  | MBDOR(6n+1)  | MBDOR(6n+1)  | MBDOR(6n+1)  | MBDOR(6n+1)  | MBDOR(6n+1)       | MBDOR(6n+1)       | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)         | MBDOR(6n+1)       |
| CHI LRAM |      1 | LEETR1       | LEETR1       | LEETR1       | LEETR1       | LEETR1       | LEETR1            | LEETR1            | LEETR1              | LEETR1              | LEETR1              | LEETR1              | LEETR1              | LEETR1              | LEETR1              | LEETR1              | LEETR1            |
| CHI LRAM |      2 |              |              |              |              |              |                   |                   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   | MBIDXR(2n)[MBIDX]   |                   |
| CHI LRAM |      2 | LEETR2       | LEETR2       | LEETR2       | LEETR2       | LEETR2       | LEETR2            | LEETR2            | LEETR2              | LEETR2              | LEETR2              | LEETR2              | LEETR2              | LEETR2              | LEETR2              | LEETR2              | LEETR2            |
| CHI LRAM |      3 | MBCCFR(2n+1) | MBCCFR(2n+1) | MBCCFR(2n+1) | MBCCFR(2n+1) | MBCCFR(2n+1) | MBCCFR(2n+1)      | MBCCFR(2n+1)      | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)        | MBCCFR(2n+1)      |
| CHI LRAM |      3 | MBDOR(6n+3)  | MBDOR(6n+3)  | MBDOR(6n+3)  | MBDOR(6n+3)  | MBDOR(6n+3)  | MBDOR(6n+3)       | MBDOR(6n+3)       | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)         | MBDOR(6n+3)       |
| CHI LRAM |      3 | LEETR3       | LEETR3       | LEETR3       | LEETR3       | LEETR3       | LEETR3            | LEETR3            | LEETR3              | LEETR3              | LEETR3              | LEETR3              | LEETR3              | LEETR3              | LEETR3              | LEETR3              | LEETR3            |
| CHI LRAM |      4 |              |              |              |              |              | MBFIDR(2n+1)[FID] | MBFIDR(2n+1)[FID] | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID]   | MBFIDR(2n+1)[FID] |
| CHI LRAM |      4 | MBDOR(6n+4)  | MBDOR(6n+4)  | MBDOR(6n+4)  | MBDOR(6n+4)  | MBDOR(6n+4)  | MBDOR(6n+4)       | MBDOR(6n+4)       | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)         | MBDOR(6n+4)       |
| CHI LRAM |      4 | LEETR4       | LEETR4       | LEETR4       | LEETR4       | LEETR4       | LEETR4            | LEETR4            | LEETR4              | LEETR4              | LEETR4              | LEETR4              | LEETR4              | LEETR4              | LEETR4              | LEETR4              | LEETR4            |
| CHI LRAM |      5 |              |              |              |              |              |                   |                   | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] | MBIDXR(2n+1)[MBIDX] |                   |
| CHI LRAM |      5 | MBDOR(6n+5)  | MBDOR(6n+5)  | MBDOR(6n+5)  | MBDOR(6n+5)  | MBDOR(6n+5)  | MBDOR(6n+5)       | MBDOR(6n+5)       | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)         | MBDOR(6n+5)       |
| CHI LRAM |      5 | LEETR5       | LEETR5       | LEETR5       | LEETR5       | LEETR5       | LEETR5            | LEETR5            | LEETR5              | LEETR5              | LEETR5              | LEETR5              | LEETR5              | LEETR5              | LEETR5              | LEETR5              | LEETR5            |

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                     |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-0    | Data                                                                                                                                                                                                                         |
| DATA    | The content of this field depends on the report mode selected by EERICR[ERM]: • When ERM = 0, DATA represents ECC data as generated by the ECC decoding logic. • When ERM = 1, DATA represents data as read from the memory. |

## 56.7.111 ECC Error Report Code (EERCR)

## Offset

| Register   | Offset   |
|------------|----------|
| EERCR      | F8h      |

## Function

Provides ECC-related information of the reported memory read access.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                         |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-5 -   | Reserved                                                                                                                                                                                                                                                                                                                         |
| 4-0 CODE | Code The content of this field depends on the report mode selected by EERICR[ERM]: • When ERM = 0, CODE represents the ECC syndrome generated by the ECC decoding logic. - PE DRAM syndrome shows the associated encoding for the PE DRAM syndrome. - CHI LRAM syndrome shows the associated encoding for the CHI LRAM syndrome. |

## 56.7.112 ECC Error Injection Address (EEIAR)

## Offset

| Register   | Offset   |
|------------|----------|
| EEIAR      | FAh      |

## Function

Defines the memory module, bank, and address where the ECC error must be injected.

## Diagram

<!-- image -->

| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9   | 7   | 6   | 5    | 4   | 3   | 2   | 1 0   |
|--------|------|------|------|------|------|------|-----|-----|-----|------|-----|-----|-----|-------|
| R W    | MID  | BANK |      |      |      |      |     |     |     | ADDR |     |     |     |       |
| Reset  | 0    | 0 0  | 0    | 0    | 0    |      | 0   | 0   | 0   | 0    | 0   | 0 0 | 0   | 0     |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                           |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 MID     | Memory Identifier Defines the memory instance for ECC error injection. 0b - PE DRAM 1b - CHI LRAM                                                                                                                                                                                  |
| 14-12 BANK | Memory Bank This field defines the memory bank for ECC error injection. When MID = 0, BANK values indicate the following: 000b - PE DRAM [7:0] 001b - PE DRAM [15:8] 010b-111b - Reserved When MID = 1, see ECC Error Report Address (EERAR) for the assignment of the LRAM banks. |
| 11-0 ADDR  | Memory Address Defines the memory address for ECC error injection.                                                                                                                                                                                                                 |

## 56.7.113 ECC Error Injection Data (EEIDR)

## Offset

| Register   | Offset   |
|------------|----------|
| EEIDR      | FCh      |

## Function

Defines the data distortion pattern for the error injection write. The number of valid bits depends on the selected memory and memory bank as shown in ECC Error Report Data (EERDR).

## NOTE

The effect of the error injected depends from the LRAM content at the address accessed and from the module internal usage of the data. See Memory error response for details.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                  |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-0    | Data                                                                                                                                                                                                                                                      |
| DATA    | The content of this field depends on the error injection mode selected by EERICR[ERM]: • When EIM = 0, DATA defines the XOR distortion pattern for the data written into the memory. • When EIM = 1, DATA defines the data to be written into the memory. |

## 56.7.114 ECC Error Injection Code (EEICR)

## Offset

| Register   | Offset   |
|------------|----------|
| EEICR      | FEh      |

## Function

Defines the ECC code distortion pattern for the error injection write.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                               |
|---------|----------------------------------------------------------------------------------------|
| 15-5    | Reserved                                                                               |
| -       |                                                                                        |
| 4-0     | Code                                                                                   |
| CODE    | The content of this field depends on the error injection mode selected by EERICR[ERM]: |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                       |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | • When EIM = 0, CODE defines the XOR distortion pattern for the ECC checkbits written into the memory. • When EIM = 1, CODE defines the ECC checkbits written into the memory. |

## 56.7.115 MB Configuration Control Status (MBCCSR0 - MBCCSR255)

## Offset

For n = 0 to 255:

| Register   | Offset          |
|------------|-----------------|
| MBCCSRn    | 800h + (n × 8h) |

## Function

## Contains:

- MB configuration data
- MB control data
- MB status information
- MB interrupt flags

A detailed description of all flags can be found in Individual MB functional description.

If you write 1 to EDT, no write access to the other register fields is performed.

If you write 0 to EDT and 1 to LCKT, no write access to the other fields is performed.

## Diagram

<!-- image -->

| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9 8   | 7   | 6   | 5   | 4   | 3    | 2   | 1    | 0    |
|--------|------|------|------|------|------|------|-------|-----|-----|-----|-----|------|-----|------|------|
| R      |      | 0    | MTD  | CMT  |      | 0    | MBIE  |     | 0   |     | DUP | DVAL | EDS | LCKS | MBIF |
| W      |      |      |      |      | EDT  | LCKT | MBIE  |     |     |     |     |      |     |      | W1C  |
| Reset  | 0    | 0 0  | 0    | 0    | 0    | 0    | 0     | 0   | 0   | 0   | 0   | 0    | 0   | 0    | 0    |

## Fields

| Field   | Function                              |
|---------|---------------------------------------|
| 15-13   | Reserved                              |
| -       |                                       |
| 12      | MB Transfer Direction                 |
| MTD     | Configures the MB transfer direction. |

Table continues on the next page...

FlexRay Communication Controller (FlexRay)

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                  |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 11 CMT  | Commit To Transmission Indicates whether the transmit MB data is ready for transmission. This field is read/write but may be modified by hardware other than by a reset. NOTE 0b - Not ready              |
| 10 EDT  | Enable And Disable Trigger If you write 1 to this field, a MB enable or disable is triggered, depending on the current value of EDS. 0b - No effect 1b - MB enable or disable is triggered                |
| 9 LCKT  | Lock And Unlock Trigger If you write 1 to this field and write 0 to EDT bit, a MB lock or unlock is triggered, depending on the current LCKS value. 0b - No effect 1b - MB lock or unlock is triggered    |
| 8 MBIE  | MB Interrupt Enable Defines whether the MB generates an interrupt request when the MB's MBIF field is 1. 0b - Disabled 1b - Enabled                                                                       |
| 7-5 -   | Reserved                                                                                                                                                                                                  |
| 4 DUP   | Data Updated Indicates whether the frame header in the MB header field and the data in the MB data field are updated after a frame reception. 0b - Not updated 1b - Updated                               |
| 3 DVAL  | Data Valid For receive MBs, indicates whether the MBdata field contains valid frame data. For transmit MBs, indicates if a message is transferred again because of the state transmission mode of the MB. |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                         |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Receive MB contains no valid frame data, or message is transmitted for the first time 1b - Receive MB contains valid frame data, or message will be transferred again                                                       |
| 2 EDS   | Enable And Disable Status Indicates whether the MB is enabled or disabled. 0b - Disabled 1b - Enabled                                                                                                                            |
| 1 LCKS  | Lock Status Indicates the current lock status of the MB. 0b - You have not locked the MB 1b - You have locked the MB                                                                                                             |
| 0 MBIF  | MB Interrupt Flag Becomes 1 when the MBslot status field is updated after frame transmission or reception, or when you just enabled a transmit MB. 0b - No such event 1b - Slot status field updated or transmit MB just enabled |

## 56.7.116 MB Cycle Counter Filter (MBCCFR0 - MBCCFR255)

## Offset

For n = 0 to 255:

| Register   | Offset          |
|------------|-----------------|
| MBCCFRn    | 802h + (n × 8h) |

## Function

Contains MB configuration data for the:

- Transmission mode
- Channel assignment
- Cycle counter filtering

For detailed information on cycle counter filtering, see MB cycle counter filtering.

## NOTE

- If at least one MB assigned to a certain slot is assigned to both channels, then all MBs assigned to that slot must be assigned to both channels. Otherwise, the MB configuration is illegal and the result of the MB search is not defined.
- After Phase3 reset, LRAM is not initialized. LRAM is initialized when CC leaves Disabled mode. For details, see CHI LRAM initialization.

Table 557. Channel assignment description

| CHA   | CHB   | Transmit MB                              | Transmit MB                | Receive MB                                                        | Receive MB                                                      |
|-------|-------|------------------------------------------|----------------------------|-------------------------------------------------------------------|-----------------------------------------------------------------|
|       |       | Static segment                           | Dynamic segment            | Static segment                                                    | Dynamic segment                                                 |
| 1     | 1     | Transmit on both channel A and channel B | Transmit on channel A only | Store first valid frame received on either channel A or channel B | Store first valid frame received on channel A; ignore channel B |
| 0     | 1     | Transmit on channel B                    | Transmit on channel B      | Store first valid frame received on channel B                     | Store first valid frame received on channel B                   |
| 1     | 0     | Transmit on channel A                    | Transmit on channel A      | Store first valid frame received on channel A                     | Store first valid frame received on channel A                   |
| 0     | 0     | No frame transmission                    | No frame transmission      | No frame stored                                                   | No frame stored                                                 |

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                       |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 MTM  | MB Transmission Mode Applies only to transmit MBs and defines the transmission mode. 0b - Event 1b - State                                                                                     |
| 14 CHA  | Channel Assignment A In conjunction with the CHB field, defines the channel assignment and controls the receive and transmit behavior of the MB according to MB Cycle Counter Filter Register. |
| 13 CHB  | Channel Assignment B In conjunction with the CHB field, defines the channel assignment and controls the receive and transmit behavior of the MB according to MB Cycle Counter Filter Register. |
| 12 CCFE | Cycle Counter Filtering Enable Enables and disables the cycle counter filtering. 0b - Disabled 1b - Enabled                                                                                    |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                  |
|---------|-----------------------------------------------------------|
| 11-6    | Cycle Counter Filtering Mask                              |
| CCFMSK  | Defines the filter mask for the cycle counter filtering.  |
| 5-0     | Cycle Counter Filtering Value                             |
| CCFVAL  | Defines the filter value for the cycle counter filtering. |

## 56.7.117 MB FID (MBFIDR0 - MBFIDR255)

## Offset

For n = 0 to 255:

| Register   | Offset          |
|------------|-----------------|
| MBFIDRn    | 804h + (n × 8h) |

## Function

NOTE

After Phase3 reset, LRAM is not initialized. LRAM is initialized when CC leaves Disabled mode. For details, see CHI LRAM initialization.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                          |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-11 -  | Reserved                                                                                                                                                                                                                                                                                                                                                          |
| 10-0 FID | FID The meaning of this field depends on the MB transfer type. • For a receive MB, this field is used as a filter value to determine if the MB is used for reception of a message received in a slot with the slot ID equal to MBFIDR n [FID]. • For a transmit MB, this field is used to determine the slot in which the message in this MB must be transmitted. |

FlexRay Communication Controller (FlexRay)

## 56.7.118 MB Index (MBIDXR0 - MBIDXR255)

## Offset

For n = 0 to 255:

| Register   | Offset          |
|------------|-----------------|
| MBIDXRn    | 806h + (n × 8h) |

## Function

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                             |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-9 -    | Reserved                                                                                                                                                                                                                                                                                                                                             |
| 8-0 MBIDX | MB Index Provides the index of the MB header field of the physical MB that is currently associated with this MB. You write the index of the initially associated MB header field into this register. CC updates this register after frame reception or transmission. Legal values are 0 ≤ i ≤ 259. Illegal values are detected during the MB search. |

## 56.7.119 MB Data Field Offset (MBDOR0 - MBDOR259)

## Offset

For n = 0 to 259:

| Register   | Offset           |
|------------|------------------|
| MBDORn     | 1000h + (n × 2h) |

## NOTE

After Phase3 reset, LRAM is not initialized. LRAM is initialized when CC leaves Disabled mode. For details, see CHI LRAM initialization.

## Function

<!-- image -->

## Fields

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
| 15-0    | MB Data Field Offset                                                                                                                |
| MBDO    | Provides the data field offset belonging to a particular MB index. For configuration constraints, see Configure data field offsets. |

## 56.7.120 LRAM ECC Error Test Register (LEETR0 - LEETR5)

## Offset

| Register   | Offset   |
|------------|----------|
| LEETR0     | 1210h    |
| LEETR1     | 1212h    |
| LEETR2     | 1214h    |
| LEETR3     | 1216h    |
| LEETR4     | 1218h    |
| LEETR5     | 121Ah    |

## Function

## NOTE

## NOTE

After Phase3 reset, LRAM is not initialized. LRAM is initialized when CC leaves Disabled mode. For details, see CHI LRAM initialization.

FlexRay Communication Controller (FlexRay)

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                       |
|---------|--------------------------------------------------------------------------------|
| 15-0    | LRAM ECC Error Test Data                                                       |
| LEETD   | Contains the LRAM data belonging to the test register located in LRAM bank n . |

## 56.8 Glossary

BCU

Buffer control unit-handles MB access

BMIF

Bus master interface-provides master access to the FlexRay memory area

CC

Communication controller

CDC

Clock domain crossing unit

CHI

Controller host interface

FID

Frame identifier

FlexRay memory area

Memory area to store the physical MB payload data, frame header, frame and slot status, and synchronization frame related tables

FSS

Frame start sequence

HIF

Host interface-provides host access to controller

Host

The FlexRay CC host MCU

Key slot

Transmits the startup frame, sync frame, or designated single slot frame

LUT

Lookup table-stores MB header index values

LRAM

LUT RAM-the module internal memory to store MB configuration data and data field offsets for individual MBs and receive shadow buffers

MB

Message buffer

Mini-slot

An interval of time within the dynamic segment of the communication cycle that is of constant duration (in terms of macroticks) and that is used by the synchronized FTDMA media access scheme to manage media arbitration

MBIDX

MB index-the position of a header field entry within the header area; if the header area is accessed as an array, this is the same as the array index of the entry

MCU

Microcontroller unit

µT

Microtick

MT

Macrotick

MTS

Media access test symbol

Message frame

Frame for which the null frame indicator is 1

FlexRay Communication Controller (FlexRay)

FlexRay Communication Controller (FlexRay)

| NMV           | Network management vector                                                                                                                                                              |
|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Normal frame  | Null frame or message frame for which both the sync frame indicator and the startup frame indicator are 0                                                                              |
| Null frame    | Frame for which the null frame indicator is 0                                                                                                                                          |
| NIT           | Network idle time                                                                                                                                                                      |
| PE            | Protocol engine                                                                                                                                                                        |
| PE DRAM       | Protocol engine data memory                                                                                                                                                            |
| POC           | Protocol operation control; each state of the POC is denoted by POC:state                                                                                                              |
| Rx            | Reception                                                                                                                                                                              |
| Slot          | An interval of time during which access to a communication channel is granted exclusively to a specific node for the transmission of a frame with a frame ID corresponding to the slot |
| SEQ           | Sequencer engine                                                                                                                                                                       |
| SU            | Status update                                                                                                                                                                          |
| SECDED        | Single-bit error correction, double-bit error detection                                                                                                                                |
| System memory | Memory that contains the FlexRay memory area                                                                                                                                           |
| System bus    | Bus that connects the controller and system memory                                                                                                                                     |
| Sync frame    | Null frame or message frame for which the sync frame indicator is 1                                                                                                                    |
| Startup frame | Null frame or message frame for which both the sync frame indicator and the startup frame indicator are 1                                                                              |
| TCU           | Time control unit                                                                                                                                                                      |
| Tx            | Transmission                                                                                                                                                                           |

## Chapter 57 Cross-Triggering Unit (CTU)

## 57.1 Chip-specific CTU information

## 57.1.1 CTU connections

The following table shows the CTU input triggers, ADC interconnections, and TGSISR assignments in this chip.

## Table 558. CTU connections

| Input module   | Input signal   | TGSISR I/P      | Source       | Driver signal   |
|----------------|----------------|-----------------|--------------|-----------------|
| CTU            | PWM_REL        | 0               | FTM_0        | CH0             |
| CTU            | PWM_ODD_0      | 1               | FTM_0        | CH1             |
| CTU            | PWM_ODD_1      | 2               | FTM_0        | CH2             |
| CTU            | PWM_ODD_2      | 3               | FTM_1        | CH0             |
| CTU            | PWM_ODD_3      | 4               | FTM_1        | CH1             |
| CTU            | PWM_EVEN_0     | 5               | FTM_1        | CH2             |
| CTU            | PWM_EVEN_1     | 6               | PIT_0        | TRIGGER[6]      |
| CTU            | -              | 7-14 (Reserved) |              |                 |
| CTU            | EXT_IN         | 15              | External pin | External pin    |
| ADC_0 1        | TRIGGER        | -               | CTU          | TRIGGER_0       |
| ADC_0 1        | CMD            | -               | CTU          | CMD_0           |
| ADC_1 2        | TRIGGER        | -               | CTU          | TRIGGER_1       |
| ADC_1 2        | CMD            | -               | CTU          | CMD_1           |

1. Throughout the CTU chapter, ADC\_0 is referred to as ADC A (ADC\_A).

2. Throughout the CTU chapter, ADC\_1 is referred to as ADC B (ADC\_B).

## 57.2 Introduction

In PWM driven systems, it is important to schedule the acquisition of the state variables with respect to the PWM cycle. State variables are obtained through the following peripherals: ADC, position counter (for example, quadrature decoder, resolver, and sine-cos sensor), and PWM duty cycle decoder.

The Cross-Triggering Unit (CTU) is intended to completely avoid CPU involvement in the acquisition of state variables during a control cycle defined by the PWM cycle, the half PWM cycle, or a multiple number of PWM cycles. Several CTU registers are double-buffered, thus allowing coherent update during the transition from one control cycle to the next. Thus, double-buffered registers updated at control cycle N are updated during the transition from control cycle N to control cycle N+1.

The CTU provides four FIFO memory blocks to temporarily store ADC results for CPU access.

## 57.3 Block diagram

<!-- image -->

## 57.4 CTU overview

The CTU receives several signals from different sources such as FTM , timers, position decoder These signals are then processed to generate up to eight trigger events. An input event can be a rising edge, a falling edge, or both edges of the incoming signal. The output can be a pulse, an ADC command, or a stream of consecutive ADC commands for oversampling support. The outputs are targeted to one or more ADCs.

The CTU provides the following features:

- Cross triggering between ADC, FTM timers, on-chip general purpose timers
- Double-buffered trigger unit that generates up to eight triggers
- Trigger generation unit configurable in sequential or triggered modes
- Trigger delay functionality to compensate for the delay of external low-pass filters
- Double-buffered ADC command list pointers
- Double-buffered ADC conversion command list
- Each trigger has the capability to generate consecutive conversion commands
- ADC conversion commands allow two ADCs to be controlled synchronously with queue selection to store conversion results
- DMA support

In a typical application, the CTU interfaces with the following peripherals:

- FTM generators for motor control
- Timers

Cross-Triggering Unit (CTU)

The inputs are 16 digital signals. The CTU detects the rising and/or falling edges for each one of them.

Figure 539 shows a high-level CTU block diagram. The CTU hardware architecture consists of two subunits:

- Trigger generator
- Scheduler

The Trigger generator subunit receives CTU input signals and selects the active edges to generate the Master Reload signal. The signal is used to load several CTU double buffered registers. See sections TGS in triggered mode and TGS in sequential mode for more details about the Master Reload signal. The Trigger generator subunit also generates up to eight trigger event signals are used by the Scheduler subunit.

This subunit generates the trigger event output according to the trigger event signals from the Trigger generator subunit. The trigger event output starts an ADC conversion or generates output signals to trigger events for IPs in the SoC. See section Scheduler subunit (SU) for more detail about the Scheduler subunit.

## 57.4.1 Modes of operation

The CTU has two main modes of operation:

- Triggered mode: This input event from the CTU interface is used to generate a sequence of up to eight triggers to several outputs such as the ADCs, timers, and external triggers. Internal sequencer logic is used to schedule the triggers based upon the input event occurrence.
- Sequential mode: Each input event generates only one trigger for the selected output, such as ADCs, timers, and external triggers.

## 57.5 Signal description

The following table shows the chip-level signals for the CTU module.

## Table 559. Signal properties

| Name   | Function                        |
|--------|---------------------------------|
| EXT_IN | Input pin for external triggers |

## 57.6 CTU register descriptions

CTU registers can be accessed in 32-bit, 16-bit, or 8-bit mode.

If a 32-bit write operation is performed over a 16-bit register, the write operation is performed on the 4 aligned bytes. Read operation should be performed only at 32-bit boundary.

## NOTE

Reserved bit registers, when available for write operations, should be written always with logic 0. Read access does not return meaningful data from reserved bit registers. This module does not issue transfer errors when trying to access its reserved locations.

The following tables describe the CTU memory mapped registers.

## 57.6.1 CTU memory map

CTU base address: 401F\_C000h

Cross-Triggering Unit (CTU)

| Offset    | Register                                                                              |   Width (In bits) | Access   | Reset value   |
|-----------|---------------------------------------------------------------------------------------|-------------------|----------|---------------|
| 0h        | Trigger Generator Subunit Input Selection Register (TGSISR)                           |                32 | RW       | 0000_0000h    |
| 4h        | Trigger Generator Subunit Control Register (TGSCR)                                    |                16 | RW       | 0000h         |
| 6h        | Trigger Compare Register (T0CR)                                                       |                16 | RW       | 0000h         |
| 8h        | Trigger Compare Register (T1CR)                                                       |                16 | RW       | 0000h         |
| Ah        | Trigger Compare Register (T2CR)                                                       |                16 | RW       | 0000h         |
| Ch        | Trigger Compare Register (T3CR)                                                       |                16 | RW       | 0000h         |
| Eh        | Trigger Compare Register (T4CR)                                                       |                16 | RW       | 0000h         |
| 10h       | Trigger Compare Register (T5CR)                                                       |                16 | RW       | 0000h         |
| 12h       | Trigger Compare Register (T6CR)                                                       |                16 | RW       | 0000h         |
| 14h       | Trigger Compare Register (T7CR)                                                       |                16 | RW       | 0000h         |
| 16h       | TGS Counter Compare Register (TGSCCR)                                                 |                16 | RW       | 0000h         |
| 18h       | TGS Counter Reload Register (TGSCRR)                                                  |                16 | RW       | 0000h         |
| 1Ch       | Commands List Control Register 1 (CLCR1)                                              |                32 | RW       | 0000_0000h    |
| 20h       | Commands List Control Register 2 (CLCR2)                                              |                32 | RW       | 0000_0000h    |
| 24h       | Trigger Handler Control Register 1 (THCR1)                                            |                32 | RW       | 0000_0000h    |
| 28h       | Trigger Handler Control Register 2 (THCR2)                                            |                32 | RW       | 0000_0000h    |
| 2Ch - 5Ah | Commands List Register A for ADC single-conversion mode commands (CLR_A_1 - CLR_A_24) |                16 | RW       | 0000h         |
| 2Ch - 5Ah | Command List Register B for ADC dual-conversion mode commands (CLR_B_1 - CLR_B_24)    |                16 | RW       | 0000h         |
| 6Ch       | FIFO DMA Control Register (FDCR)                                                      |                16 | RW       | 0F00h         |
| 70h       | FIFO Control Register (FCR)                                                           |                32 | RW       | 0000_0000h    |
| 74h       | FIFO Threshold Register (FTH)                                                         |                32 | RW       | 0000_0000h    |
| 7Ch       | FIFO Status Register (FST)                                                            |                32 | RW       | 0000_2222h    |
| 80h - 8Ch | FIFO Right Aligned Data Register (FR0 - FR3)                                          |                32 | R        | 0000_0000h    |
| A0h - ACh | FIFO Signed Left Aligned Data Register (FL0 - FL3)                                    |                32 | R        | 0000_0000h    |
| C0h       | Error Flag Register (EFR)                                                             |                16 | RW       | 0000h         |
| C2h       | Interrupt Flag Register (IFR)                                                         |                16 | RW       | 01FEh         |
| C4h       | Interrupt/DMA Register (IR)                                                           |                16 | RW       | 0000h         |
| C6h       | Control ON Time Register (COTR)                                                       |                16 | RW       | 0000h         |
| C8h       | Control Register (CR)                                                                 |                16 | RW       | 0000h         |
| CAh       | Digital Filter Register (DFR)                                                         |                16 | RW       | 0000h         |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                               |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------|-------------------|----------|---------------|
| CCh      | Expected Value A Register (EXPAR)      |                16 | RW       | FFFFh         |
| CEh      | Expected Value B Register (EXPBR)      |                16 | RW       | FFFFh         |
| D0h      | Counter Range Register (CNTRNGR)       |                16 | RW       | 0000h         |
| D4h      | List Control/Status Register (LISTCSR) |                32 | RW       | 0000_0000h    |

## 57.6.2 Trigger Generator Subunit Input Selection Register (TGSISR)

## Offset

| Register   | Offset   |
|------------|----------|
| TGSISR     | 0h       |

## Function

The TGSISR register is double buffered. The load from the corresponding buffer to the register is controlled by the TGSISR\_RE bit in the CTU\_CR register. The TGSISR\_RE bit is self negated. Once set, this bit remains set until the TGSISR register is updated from the corresponding buffer register. Reads to the TGSISR register actually return the content of the buffer and not the content of the register. Thus, a read will return the most recent data written to the register address even though the buffer data is not synchronized with the register data.

This device has of triggers available, bits corresponding to unavailable triggers, if any, have no effect.

<!-- image -->

## Fields

| Field     | Function                                                        |
|-----------|-----------------------------------------------------------------|
| 31 I15_FE | Input 15 Falling Edge Enable. 0b - Disabled 1b - Enabled        |
| 30 I15_RE | Input 15 Rising Edge Enable. 0b - Disabled 1b - Enabled         |
| 29-28 -   | Reserved This field is not used, writing to this has no effect. |
| 27-26 -   | Reserved This field is not used, writing to this has no effect. |
| 25-24 -   | Reserved This field is not used, writing to this has no effect. |
| 23-22 -   | Reserved This field is not used, writing to this has no effect. |
| 21-20 -   | Reserved This field is not used, writing to this has no effect. |
| 19-18 -   | Reserved This field is not used, writing to this has no effect. |
| 17-16 -   | Reserved This field is not used, writing to this has no effect. |
| 15-14 -   | Reserved This field is not used, writing to this has no effect. |
| 13 I6_FE  | Input 6 Falling Edge Enable. 0b - Disabled 1b - Enabled         |
| 12 I6_RE  | Input 6 Rising Edge Enable. 0b - Disabled 1b - Enabled          |
| 11 I5_FE  | Input 5 Falling Edge Enable. 0b - Disabled                      |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                |
|----------|---------------------------------------------------------|
| 10 I5_RE | Input 5 Rising Edge Enable. 0b - Disabled 1b - Enabled  |
| 9 I4_FE  | Input 4 Falling Edge Enable. 0b - Disabled 1b - Enabled |
| 8 I4_RE  | Input 4 Rising Edge Enable. 0b - Disabled 1b - Enabled  |
| 7 I3_FE  | Input 3 Falling Edge Enable. 0b - Disabled 1b - Enabled |
| 6 I3_RE  | Input 3 Rising edge Enable 0b - Disabled 1b - Enabled   |
| 5 I2_FE  | Input 2 Falling Edge Enable. 0b - Disabled 1b - Enabled |
| 4 I2_RE  | Input 2 Rising Edge Enable. 0b - Disabled 1b - Enabled  |
| 3 I1_FE  | Input 1 Falling Edge Enable. 0b - Disabled 1b - Enabled |
| 2 I1_RE  | Input 1 Rising edge Enable 0b - Disabled 1b - Enabled   |
| 1 I0_FE  | Input 0 Falling Edge Enable. 0b - Disabled 1b - Enabled |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                    |
|---------|-----------------------------|
| 0       | Input 0 Rising Edge Enable. |
| I0_RE   | 0b - Disabled 1b - Enabled  |

## 57.6.3 Trigger Generator Subunit Control Register (TGSCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TGSCR      | 4h       |

## Function

This register controls the operation of TGS module.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-9 -   | Reserved                                                                                                                                                |
| 8 ET_TM  | Enable Toggle Mode for external Trigger. 0b - Pulse mode 1b - Toggle mode                                                                               |
| 7-6 PRES | Prescaler selection bits for TGS and SU. This prescaler is used by the TGS counter. 00b - Value is 1 01b - Value is 2 10b - Value is 3 11b - Value is 4 |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                                            |
|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| 5-1 MRS_SM | MRS Selection in Sequential Mode-5 bits to select one of the 2 x 16inputs shown in the Trigger generator subunit input selection (TGSISR) register. |
| 0 TGS_M    | Trigger Generator Subunit Mode 0b - Triggered Mode 1b - Sequential Mode                                                                             |

## 57.6.4 Trigger Compare Register (T0CR - T7CR)

## Offset

| Register   | Offset   |
|------------|----------|
| T0CR       | 6h       |
| T1CR       | 8h       |
| T2CR       | Ah       |
| T3CR       | Ch       |
| T4CR       | Eh       |
| T5CR       | 10h      |
| T6CR       | 12h      |
| T7CR       | 14h      |

## Function

These registers hold the compare value of triggers with TGS counter.

## Diagram

<!-- image -->

## Fields

| Field   | Function                       |
|---------|--------------------------------|
| 15-0    | Trigger Compare Register Value |
| TCRV    |                                |

## 57.6.5 TGS Counter Compare Register (TGSCCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TGSCCR     | 16h      |

## Function

This register holds the terminal value of TGS counter.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                                                                                    |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| 15-0 TGSCCV | TGS Counter Compare Value. The value in this register is compared against the TGS counter. When a match occurs, the TGS counter is stopped. |

## 57.6.6 TGS Counter Reload Register (TGSCRR)

## Offset

| Register   | Offset   |
|------------|----------|
| TGSCRR     | 18h      |

## Function

This register holds the initial value of TGS counter.

Cross-Triggering Unit (CTU)

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                    |
|---------|-------------------------------------------------------------------------------------------------------------|
| 15-0    | TGSCRV                                                                                                      |
| TGSCRV  | TGS Counter Reload Value. When an MRS occurs, the value in this register is used to reload the TGS counter. |

## 57.6.7 Commands List Control Register 1 (CLCR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CLCR1      | 1Ch      |

## Function

This register holds the start index value of list corresponding to output triggers of TGS module.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-29   | Reserved   |

Table continues on the next page...

Cross-Triggering Unit (CTU)

## Table continued from the previous page...

| Field          | Function                                                                                                                                                              |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 28-24 T3_INDEX | Trigger 3 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23. |
| 23-21 -        | Reserved                                                                                                                                                              |
| 20-16 T2_INDEX | Trigger 2 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23. |
| 15-13 -        | Reserved                                                                                                                                                              |
| 12-8 T1_INDEX  | Trigger 1 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23. |
| 7-5 -          | Reserved                                                                                                                                                              |
| 4-0 T0_INDEX   | Trigger 0 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23. |

## 57.6.8 Commands List Control Register 2 (CLCR2)

## Offset

| Register   | Offset   |
|------------|----------|
| CLCR2      | 20h      |

## Function

This register holds the start index value of list corresponding to output triggers of TGS module.

## Diagram

<!-- image -->

## Fields

| Field          | Function                                                                                                                                                                       |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-29 -        | Reserved                                                                                                                                                                       |
| 28-24 T7_INDEX | T7_INDEX Trigger 7 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23. |
| 23-21 -        | Reserved                                                                                                                                                                       |
| 20-16 T6_INDEX | Trigger 6 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23.          |
| 15-13 -        | Reserved                                                                                                                                                                       |
| 12-8 T5_INDEX  | Trigger 5 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23.          |
| 7-5 -          | Reserved                                                                                                                                                                       |
| 4-0 T4_INDEX   | Trigger 4 Commands List 1st command address. This is the address of the first command in the LIST associated with this trigger. Valid values range from 0 through 23.          |

Cross-Triggering Unit (CTU)

## 57.6.9 Trigger Handler Control Register 1 (THCR1)

## Offset

| Register   | Offset   |
|------------|----------|
| THCR1      | 24h      |

## Function

The THCR1 register is double buffered. The update from the corresponding buffer register is controlled by the MRS signal. The THCR1 and THCR2 registers are together organized into 8 groups of enable bits. Each group is associated with one trigger from the Trigger subunit. Each group of enable bits enables corresponding to a master trigger enable, External Trigger outputs, and the ADC command list enable, respectively. If the master trigger enable Tn\_E is cleared, the trigger is disabled and the other trigger enable bits in the group have no effect.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                        |
|---------|-----------------------------------------------------------------|
| 31 -    | Reserved                                                        |
| 30 T3_E | Trigger 3 Enable. 0b - Disabled 1b - Enabled                    |
| 29 -    | Reserved This field is not used, writing to this has no effect. |
| 28 -    | Reserved This field is not used, writing to this has no effect. |
| 27      | Reserved                                                        |

Table continues on the next page...

Cross-Triggering Unit (CTU)

## Table continued from the previous page...

| Field      | Function                                                        |
|------------|-----------------------------------------------------------------|
| -          | This field is not used, writing to this has no effect.          |
| 26 -       | Reserved This field is not used, writing to this has no effect. |
| 25 -       | Reserved This field is not used, writing to this has no effect. |
| 24 T3_ADCE | Trigger 3 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 23 -       | Reserved This field is not used, writing to this has no effect. |
| 22 T2_E    | Trigger 2 Enable. 0b - Disabled 1b - Enabled                    |
| 21 -       | Reserved This field is not used, writing to this has no effect. |
| 20 -       | Reserved This field is not used, writing to this has no effect. |
| 19 -       | Reserved This field is not used, writing to this has no effect. |
| 18 -       | Reserved This field is not used, writing to this has no effect. |
| 17 -       | Reserved This field is not used, writing to this has no effect. |
| 16 T2_ADCE | Trigger 2 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 15 -       | Reserved This field is not used, writing to this has no effect. |
| 14         | Trigger 1 Enable.                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                        |
|-----------|-----------------------------------------------------------------|
| T1_E      | 0b - Disabled 1b - Enabled                                      |
| 13 -      | Reserved This field is not used, writing to this has no effect. |
| 12 -      | Reserved This field is not used, writing to this has no effect. |
| 11 -      | Reserved This field is not used, writing to this has no effect. |
| 10 -      | Reserved This field is not used, writing to this has no effect. |
| 9 -       | Reserved This field is not used, writing to this has no effect. |
| 8 T1_ADCE | Trigger 1 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 7 -       | Reserved This field is not used, writing to this has no effect. |
| 6 T0_E    | Trigger 0 Enable. 0b - Disabled 1b - Enabled                    |
| 5         | Reserved                                                        |
| 4 -       | Reserved This field is not used, writing to this has no effect. |
| 3 -       | Reserved This field is not used, writing to this has no effect. |
| 2 -       | Reserved This field is not used, writing to this has no effect. |
| 1         | Reserved                                                        |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                               |
|---------|--------------------------------------------------------|
| -       | This field is not used, writing to this has no effect. |
| 0       | Trigger 0 ADC command output Enable.                   |
| T0_ADCE | 0b - Disabled 1b - Enabled                             |

## 57.6.10 Trigger Handler Control Register 2 (THCR2)

## Offset

| Register   | Offset   |
|------------|----------|
| THCR2      | 28h      |

## Function

The THCR2 register is double buffered. The update from the corresponding buffer register is controlled by the MRS signal. The THCR1 and THCR2 registers are together organized into 8 groups of enable bits. Each group is associated with one trigger from the Trigger subunit. Each group of enable bits enables corresponding to a master trigger enable, External Trigger outputs, and the ADC command list enable, respectively. If the master trigger enable Tn\_E is cleared, the trigger is disabled and the other trigger enable bits in the group have no effect.

## Diagram

<!-- image -->

## Fields

|   Field | Function          |
|---------|-------------------|
|      31 | Reserved          |
|      30 | Trigger 7 Enable. |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                        |
|------------|-----------------------------------------------------------------|
| T7_E       | 0b - Disabled 1b - Enabled                                      |
| 29 -       | Reserved This field is not used, writing to this has no effect. |
| 28 -       | Reserved This field is not used, writing to this has no effect. |
| 27 -       | Reserved This field is not used, writing to this has no effect. |
| 26 -       | Reserved This field is not used, writing to this has no effect. |
| 25 -       | Reserved This field is not used, writing to this has no effect. |
| 24 T7_ADCE | Trigger 7 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 23 -       | Reserved                                                        |
| 22 T6_E    | Trigger 6 Enable. 0b - Disabled 1b - Enabled                    |
| 21 -       | Reserved This field is not used, writing to this has no effect. |
| 20 -       | Reserved This field is not used, writing to this has no effect. |
| 19 -       | Reserved This field is not used, writing to this has no effect. |
| 18 -       | Reserved This field is not used, writing to this has no effect. |
| 17         | Reserved                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                        |
|------------|-----------------------------------------------------------------|
| -          | This field is not used, writing to this has no effect.          |
| 16 T6_ADCE | Trigger 6 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 15 -       | Reserved                                                        |
| 14 T5_E    | Trigger 5 Enable. 0b - Disabled 1b - Enabled                    |
| 13 -       | Reserved This field is not used, writing to this has no effect. |
| 12 -       | Reserved This field is not used, writing to this has no effect. |
| 11 -       | Reserved This field is not used, writing to this has no effect. |
| 10 -       | Reserved This field is not used, writing to this has no effect. |
| 9 -        | Reserved This field is not used, writing to this has no effect. |
| 8 T5_ADCE  | Trigger 5 ADC command output Enable. 0b - Disabled 1b - Enabled |
| 7 -        | Reserved                                                        |
| 6 T4_E     | Trigger 4 Enable. 0b - Disabled 1b - Enabled                    |
| 5 -        | Reserved This field is not used, writing to this has no effect. |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                        |
|-----------|-----------------------------------------------------------------|
| 4 -       | Reserved This field is not used, writing to this has no effect. |
| 3 -       | Reserved This field is not used, writing to this has no effect. |
| 2 -       | Reserved This field is not used, writing to this has no effect. |
| 1 -       | Reserved This field is not used, writing to this has no effect. |
| 0 T4_ADCE | Trigger 4 ADC command output Enable. 0b - Disabled 1b - Enabled |

## 57.6.11 Commands List Register A for ADC single-conversion mode commands (CLR\_A\_1 -CLR\_A\_24)

## Offset

For n = 1 to 24:

| Register   | Offset         |
|------------|----------------|
| CLR_A_n    | 2Ah + (n × 2h) |

## Function

The Command List Register (CLR\_x\_n), where n = 1,.......,24, has one of two formats (CLR\_A\_n, CLR\_B\_n) depending on the setting of its CMS bits. If CMS=0, the single conversion mode is selected and the CLR register assumes the CLR\_A\_n format described in the following figure.

## NOTE

Reserved fields of this register are read/write as they share same physical register and address. The value of reserved fields must be zero.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                            |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 CIR     | Command execution Interrupt Request enable bit. 0b - Disabled 1b - Enabled                                                                                                                                                          |
| 14 LC      | Last Command bit 0b - Not last 1b - Last                                                                                                                                                                                            |
| 13 CMS     | Conversion Mode Selection. Must be 0 in this register format. 0b - Single conversion mode 1b - Dual conversion mode                                                                                                                 |
| 12-10 FIFO | FIFO used for ADC Port A / Port B. See CLR_A[SU] bit for Port A versus Port B selection. Values other than as specified below must not be used. 000b - FIFO_0 select 001b - FIFO_1 select 010b - FIFO_2 select 011b - FIFO_3 select |
| 9 -        | Reserved The value of this field must be zero.                                                                                                                                                                                      |
| 8-6 -      | Reserved The value of this field must be zero.                                                                                                                                                                                      |
| 5 SU       | ADC Port A / Port B selection. 0b - ADC Port A selected 1b - ADC Port B selected                                                                                                                                                    |
| 4 -        | Reserved The value of this field must be zero.                                                                                                                                                                                      |
| 3-0 CH     | ADC Port channel number.                                                                                                                                                                                                            |

Cross-Triggering Unit (CTU)

Cross-Triggering Unit (CTU)

## 57.6.12 Command List Register B for ADC dual-conversion mode commands (CLR\_B\_1 - CLR\_B\_24)

## Offset

For n = 1 to 24:

| Register   | Offset         |
|------------|----------------|
| CLR_B_n    | 2Ah + (n × 2h) |

## Function

The Command List Register (CLR\_x\_n), where n = 1,.......,24, has one of two formats (CLR\_A\_n, CLR\_B\_n) depending on the setting of its CMS bits. If CMS=1, the dual conversion mode is selected and the CLR register assumes the CLR\_B\_n format described in the following figure.

<!-- image -->

## Fields

| Field      | Function                                                                                                                                        |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 CIR     | Command execution Interrupt Request enable bit. 0b - Disabled 1b - Enabled                                                                      |
| 14 LC      | Last Command Bit 0b - Not last 1b - Last                                                                                                        |
| 13 CMS     | Conversion Mode Selection Must be 1 in this register format. 0b - Single conversion mode 1b - Dual conversion mode                              |
| 12-10 FIFO | FIFO used for ADC Port A / Port B. See CLR_A[SU] bit for Port A versus Port B selection. Values other than as specified below must not be used. |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                            |
|----------|-------------------------------------------------------------------------------------|
|          | 000b - FIFO_0 select 001b - FIFO_1 select 010b - FIFO_2 select 011b - FIFO_3 select |
| 9 -      | Reserved The value of this field must be zero.                                      |
| 8-5 CH_B | ADC Port B Channel Number                                                           |
| 4 -      | Reserved The value of this field must be zero.                                      |
| 3-0 CH_A | ADC Port A Channel Number                                                           |

## 57.6.13 FIFO DMA Control Register (FDCR)

## Offset

| Register   | Offset   |
|------------|----------|
| FDCR       | 6Ch      |

## Function

The FDCR register enables the DMA requests issued by the CTU FIFOs. The DMA request occurs when it is enabled and the corresponding FIFO had reached a threshold defined in register FTH.

## NOTE

Interrupt and DMA are controlled independently, thus FIFO DMA operation and interrupts can be enabled at the same time.

## Diagram

<!-- image -->

| Bits   | 15       | 14       | 13       | 12   | 11        | 10        | 9         | 8         | 7   | 6        | 5   | 4   | 3   | 2   | 1 0   |
|--------|----------|----------|----------|------|-----------|-----------|-----------|-----------|-----|----------|-----|-----|-----|-----|-------|
| R      | Reserved | Reserved | Reserved |      | Reserv ed | Reserv ed | Reserv ed | Reserv ed |     | Reserved |     | DE3 | DE2 | DE1 | DE0   |
| W      | W1C      | W1C      | W1C      |      | W1C       | W1C       | W1C       | W1C       | W1C | W1C      | W1C |     |     |     |       |
| Reset  | 0        | 0        | 0        | 0    | 1         | 1 1       |           | 1 0       | 0   | 0        | 0   | 0   | 0   | 0   | 0     |

## Fields

| Field   | Function                                                                                                                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-12 - | Reserved                                                                                                                                                                                                                               |
| 11 -    | Reserved The reset value of this bit is 1b. If this reset value is to be preserved during a write to this bit, 0b must be written. This bit is a "write 1 to clear" bit, which means a write of 1b changes the bit's value to 0b. NOTE |
| 10 -    | Reserved The reset value of this bit is 1b. If this reset value is to be preserved during a write to this bit, 0b must be written. This bit is a "write 1 to clear" bit, which means a write of 1b changes the bit's value to 0b. NOTE |
| 9 -     | Reserved The reset value of this bit is 1b. If this reset value is to be preserved during a write to this bit, 0b must be written. This bit is a "write 1 to clear" bit, which means a write of 1b changes the bit's value to 0b. NOTE |
| 8 -     | Reserved The reset value of this bit is 1b. If this reset value is to be preserved during a write to this bit, 0b must be written. This bit is a "write 1 to clear" bit, which means a write of 1b changes the bit's value to 0b. NOTE |
| 7-4 -   | Reserved The reset value of each individual bit is 0b1. If this reset value is to be preserved during a write to these bits, and 0b0 must be written to each of these bits. NOTE                                                       |
| 3       | FIFO 3 DMA enable.                                                                                                                                                                                                                     |

Table continues on the next page...

Cross-Triggering Unit (CTU)

Table continued from the previous page...

| Field   | Function                                      |
|---------|-----------------------------------------------|
| DE3     | 0b - Disabled 1b - Enabled                    |
| 2 DE2   | FIFO 2 DMA enable. 0b - Disabled 1b - Enabled |
| 1 DE1   | FIFO 1 DMA enable. 0b - Disabled 1b - Enabled |
| 0 DE0   | FIFO 0 DMA enable. 0b - Disabled 1b - Enabled |

## 57.6.14 FIFO Control Register (FCR)

## Offset

| Register   | Offset   |
|------------|----------|
| FCR        | 70h      |

## Function

This register implements interrupt enable bits to signal FIFO behavior. FIFO overrun, overflow, empty, and full indication from one of the FIFOs are OR-ed together to indicate through one interrupt line that one or more flags are active. After receiving an interrupt the FST register should be checked to evaluate what caused that interrupt. There is one interrupt line per FIFO module.

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29          | 28        | 27      | 26      | 25          | 24        | 23      | 22      | 21          | 20        | 19      | 18      | 17          | 16        |
|--------|---------|---------|-------------|-----------|---------|---------|-------------|-----------|---------|---------|-------------|-----------|---------|---------|-------------|-----------|
| R      | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         |
| W      |         |         |             |           |         |         |             |           |         |         |             |           |         |         |             |           |
| Reset  | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         |
| Bits   | 15      | 14      | 13          | 12        | 11      | 10      | 9           | 8         | 7       | 6       | 5           | 4         | 3       | 2       | 1           | 0         |
| R W    | OR_ EN3 | OF_ EN3 | EMPT Y_E... | FULL_ EN3 | OR_ EN2 | OF_ EN2 | EMPT Y_E... | FULL_ EN2 | OR_ EN1 | OF_ EN1 | EMPT Y_E... | FULL_ EN1 | OR_ EN0 | OF_ EN0 | EMPT Y_E... | FULL_ EN0 |
| Reset  | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         | 0       | 0       | 0           | 0         |

## Fields

| Field        | Function                                                               |
|--------------|------------------------------------------------------------------------|
| 31-16 -      | Reserved                                                               |
| 15 OR_EN3    | FIFO 3 Overrun interrupt enable. 0b - Disabled 1b - Enabled            |
| 14 OF_EN3    | FIFO 3 threshold Overflow interrupt enable. 0b - Disabled 1b - Enabled |
| 13 EMPTY_EN3 | FIFO 3 Empty interrupt enable. 0b - Disabled 1b - Enabled              |
| 12 FULL_EN3  | FIFO 3 Full interrupt enable. 0b - Disabled 1b - Enabled               |
| 11 OR_EN2    | FIFO 2 Overrun interrupt enable. 0b - Disabled 1b - Enabled            |
| 10 OF_EN2    | FIFO 2 threshold Overflow interrupt enable. 0b - Disabled 1b - Enabled |
| 9 EMPTY_EN2  | FIFO 2 Empty interrupt enable. 0b - Disabled 1b - Enabled              |
| 8 FULL_EN2   | FIFO 2 Full interrupt enable. 0b - Disabled 1b - Enabled               |
| 7 OR_EN1     | FIFO 1 Overrun interrupt enable. 0b - Disabled 1b - Enabled            |
| 6            | FIFO 1 threshold Overflow interrupt enable.                            |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                               |
|-------------|------------------------------------------------------------------------|
| OF_EN1      | 0b - Disabled 1b - Enabled                                             |
| 5 EMPTY_EN1 | FIFO 1 Empty interrupt enable. 0b - Disabled 1b - Enabled              |
| 4 FULL_EN1  | FIFO 1 Full interrupt enable. 0b - Disabled 1b - Enabled               |
| 3 OR_EN0    | FIFO 0 Overrun interrupt enable. 0b - Disabled 1b - Enabled            |
| 2 OF_EN0    | FIFO 0 threshold Overflow interrupt enable. 0b - Disabled 1b - Enabled |
| 1 EMPTY_EN0 | FIFO 0 Empty interrupt enable. 0b - Disabled 1b - Enabled              |
| 0 FULL_EN0  | FIFO 0 Full interrupt enable. 0b - Disabled 1b - Enabled               |

## 57.6.15 FIFO Threshold Register (FTH)

## Offset

| Register   | Offset   |
|------------|----------|
| FTH        | 74h      |

## Function

This register defines the threshold value for FIFO modules. The threshold is used for comparison against the FIFO pointer and to evaluate if an overflow condition occurred for that FIFO. The overflow flag indicates that a certain amount of data, defined by the threshold value, is available in the FIFO for read. The overflow condition is set if the number of elements in the FIFO is greater than the threshold value. Thus, out of reset this register is set to detect one element in the respective FIFO since the initial value is zero.

Cross-Triggering Unit (CTU)

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W    | TH3  | TH3  | TH3  | TH3  | TH3  | TH3  | TH3  | TH3  | TH2  | TH2  | TH2  | TH2  | TH2  | TH2  | TH2  | TH2  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | TH1  | TH1  | TH1  | TH1  | TH1  | TH1  | TH1  | TH1  |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

<!-- image -->

## Fields

| Field     | Function          |
|-----------|-------------------|
| 31-24 TH3 | FIFO 3 Threshold. |
| 23-16 TH2 | FIFO 2 Threshold. |
| 15-8 TH1  | FIFO 1 Threshold. |
| 7-0 TH0   | FIFO 0 Threshold. |

## 57.6.16 FIFO Status Register (FST)

## Offset

| Register   | Offset   |
|------------|----------|
| FST        | 7Ch      |

## Function

This register has the flags that indicate the status of the FIFO modules. FIFO overrun, overflow, empty, and full flags are available. If enabled by the FCR register bits, these flags can generate an interrupt to the CPU. There is one interrupt signal per FIFO which combines overrun, overflow, empty, and full flags.

## NOTE

The only actual error indication corresponds to the overrun flags which stay asserted once the overrun condition occurs. They are cleared by writing 1 to the respective flag. The overflow, empty, and full flags correspond to the current state of the FIFOs.

<!-- image -->

## Fields

| Field    | Function                                                                                                                                       |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                       |
| 15 OR3   | FIFO 3 Overrun interrupt flag. It is cleared if 1 is written to this bit location. 0b - Interrupt has not occurred 1b - Interrupt has occurred |
| 14 OF3   | FIFO 3 threshold Overflow interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                          |
| 13 EMP3  | FIFO 3 Empty interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                       |
| 12 FULL3 | FIFO 3 Full interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                        |
| 11       | FIFO 2 Overrun interrupt flag. It is cleared if 1 is written to this bit location.                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                       |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------|
| OR2     | 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                                                    |
| 10 OF2  | FIFO 2 threshold Overflow interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                          |
| 9 EMP2  | FIFO 2 Empty interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                       |
| 8 FULL2 | FIFO 2 Full interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                        |
| 7 OR1   | FIFO 1 Overrun interrupt flag. It is cleared if 1 is written to this bit location. 0b - Interrupt has not occurred 1b - Interrupt has occurred |
| 6 OF1   | FIFO 1 threshold Overflow interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                          |
| 5 EMP1  | FIFO 1 Empty interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                       |
| 4 FULL1 | FULL1 FIFO 1 Full interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                                  |
| 3 OR0   | FIFO 0 Overrun interrupt flag. It is cleared if 1 is written to this bit location. 0b - Interrupt has not occurred 1b - Interrupt has occurred |
| 2 OF0   | FIFO 0 threshold Overflow interrupt flag. 0b - Interrupt has not occurred 1b - Interrupt has occurred                                          |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                    |
|---------|-------------------------------------------------------------|
| 1       | FIFO 0 Empty interrupt flag.                                |
| EMP0    | 0b - Interrupt has not occurred 1b - Interrupt has occurred |
| 0       | FIFO 0 Full interrupt flag.                                 |
| FULL0   | 0b - Interrupt has not occurred 1b - Interrupt has occurred |

## 57.6.17 FIFO Right Aligned Data Register (FR0 - FR3)

## Offset

| Register   | Offset   |
|------------|----------|
| FR0        | 80h      |
| FR1        | 84h      |
| FR2        | 88h      |
| FR3        | 8Ch      |

## Function

These registers hold the ADC data in right aligned order.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | ADC  | N_CH | N_CH | N_CH |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function   |
|---------|------------|
| 31-20   | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                                             |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                      |
| 19 ADC     | This bit indicates from which ADC Port the value in the DATA field corresponds to. 0b - Data coming from ADC Port B 1b - Data coming from ADC Port A |
| 18-16 N_CH | Number of the channel that DATA field corresponds to.                                                                                                |
| 15-12 -    | Reserved                                                                                                                                             |
| 11-0 DATA  | Data of stored channel.                                                                                                                              |

## 57.6.18 FIFO Signed Left Aligned Data Register (FL0 - FL3)

## Offset

| Register   | Offset   |
|------------|----------|
| FL0        | A0h      |
| FL1        | A4h      |
| FL2        | A8h      |
| FL3        | ACh      |

## Function

<!-- image -->

## Fields

| Field        | Function                                                                                                                                             |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 -      | Reserved                                                                                                                                             |
| 19 ADC       | This bit indicates from which ADC Port the value in the DATA field corresponds to. 0b - Data coming from ADC Port B 1b - Data coming from ADC Port A |
| 18-16 N_CH   | Number of the channel that DATA field corresponds to.                                                                                                |
| 15 -         | Reserved                                                                                                                                             |
| 14-3 LA_DATA | LA_DATA Data of stored channel.                                                                                                                      |
| 2-0 -        | Reserved                                                                                                                                             |

## 57.6.19 Error Flag Register (EFR)

## Offset

| Register   | Offset   |
|------------|----------|
| EFR        | C0h      |

## Function

The EFR register bits are cleared if a 1 is written to the bit position. Otherwise, the bit retains the previous value.

## NOTE

The ERRCMP field reads 0 at reset. When reset is released, this field remains cleared until the CTU timer clock is enabled. After the CTU timer clock is enabled, ERRCMP reads 1. This field must be cleared before enabling the interrupt requests.

## Diagram

<!-- image -->

| Bits   | 15   | 14   | 13       | 12        | 11        | 10      | 9         | 8         | 7         | 6         | 5       | 4        | 3      | 2   | 1      | 0       |
|--------|------|------|----------|-----------|-----------|---------|-----------|-----------|-----------|-----------|---------|----------|--------|-----|--------|---------|
| R      | 0    |      | LIST_ BE | Reserv ed | Reserv ed | ERRC MP | Reserv ed | Reserv ed | Reserv ed | Reserv ed | ADC_ OE | TGS_ OSM | MRS_ O | ICE | SM_ TO | MRS_ RE |
|        | W    |      | W1C      | W1C       | W1C       | W1C     | W1C       | W1C       | W1C       | W1C       | W1C     | W1C      | W1C    | W1C | W1C    | W1C     |
| Reset  | 0    | 0    | 0        | 0         | 0         | 0       | 0         | 0         | 0         | 0         | 0       | 0        | 0      | 0   | 0      | 0       |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                      |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-14 -    | Reserved                                                                                                                                                                                                                                                                                                                      |
| 13 LIST_BE | List Busy Error. Indicates that a list of commands is trying to send commands to a busy ADCor to the same ADC at the same time. It also indicates a conflict in the self-test algorithm execution by the ADCs, see Self-Test Execution Errors section. Cleared if 1 is written to this bit location. 0b - No error 1b - Error |
| 12 -       | Reserved Writing has no effect.                                                                                                                                                                                                                                                                                               |
| 11 -       | Reserved                                                                                                                                                                                                                                                                                                                      |
| 10 ERRCMP  | Error Compare. When a match occurs, the TGS Counter has reached the TGSCCR value. Cleared if 1 is written to this bit location. 0b - No match 1b - Match                                                                                                                                                                      |
| 9 -        | Reserved                                                                                                                                                                                                                                                                                                                      |
| 8 -        | Reserved                                                                                                                                                                                                                                                                                                                      |
| 7 -        | Reserved                                                                                                                                                                                                                                                                                                                      |
| 6 -        | Reserved                                                                                                                                                                                                                                                                                                                      |
| 5 ADC_OE   | ADC command generation Overrun Error. This bit is set if an ADC command is issued when there is a command already being processed. Cleared if 1 is written to this bit location.                                                                                                                                              |

Table continues on the next page...

Cross-Triggering Unit (CTU)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                      |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 0b - No Error 1b - Error                                                                                                                                                                                                                                                                                      |
| 4 TGS_OSM | The TGS Overrun in Sequential Mode. This bit is set when a new event occurs before the trigger event selected by the previous event had occurred. The error is generated only if the trigger from the TGSis linked to a SU output. Cleared if 1 is written to this bit location. 0b - No overrun 1b - Overrun |
| 3 MRS_O   | Master Reload Signal Overrun. If the time window defined by two consecutive MRS is not enough for the number of programmed events in the THCR registers, an error occurs and MRS_O flag is set. Cleared if 1 is written to this bit location. 0b - No overrun 1b - Overrun                                    |
| 2 ICE     | Invalid Command Error. An error that occurs when the shared channel is accessed by two ADCs at the same time, or when an ADC is already using the channel. This situation can occur with a dual conversion command or with two single conversions in parallel mode. 0b - No error 1b - Error                  |
| 1 SM_TO   | Trigger Overrun (more than 8 ES) in TGS Sequential Mode. If the number of positive edges of ES is higher than 8, an error occurs and SM_TO flag is set. Cleared if 1 is written to this bit location. 0b - No overrun 1b - Overrun                                                                            |
| 0 MRS_RE  | Master Reload Signal Reload Error. If an MRSoccurs while the user is updating a double-buffered register, the MRS_RE is set indicating an error condition. Cleared if 1 is written to this bit location. 0b - No error 1b - Error                                                                             |

## 57.6.20 Interrupt Flag Register (IFR)

## Offset

| Register   | Offset   |
|------------|----------|
| IFR        | C2h      |

## Function

The IFR register bits are cleared if a 1 is written to the bit position. Otherwise, the bit retains the previous value.

## Diagram

<!-- image -->

| Bits   | 15   | 14   | 13   | 12      | 11      | 10    | 9    | 8    | 7    | 6 5   | 4    | 3    | 2    | 1    | 0     |
|--------|------|------|------|---------|---------|-------|------|------|------|-------|------|------|------|------|-------|
| R      | 0    |      |      | SERR _B | SERR _A | ADC_I | T7_I | T6_I | T5_I | T4_I  | T3_I | T2_I | T1_I | T0_I | MRS_I |
| W      |      |      |      | W1C     | W1C     | W1C   | W1C  | W1C  | W1C  | W1C   | W1C  | W1C  | W1C  | W1C  | W1C   |
| Reset  | 0    | 0    | 0 0  | 0       | 0       | 0     | 1    | 1    | 1    | 1     | 1    | 1    | 1    | 1    | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                        |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-12 -   | Reserved                                                                                                                                                                                                                                                                                                        |
| 11 SERR_B | If this bit is set, it means that the time between the start of a conversion and the end of that conversion is out of the expected range which is defined by the EXPBR and CNTRNGR registers. See Expected Value B (EXPBR) and Counter Range (CNTRNGR) registers. Cleared if 1 is written to this bit location. |
| 10 SERR_A | If this bit is set, it means that the time between the start of a conversion and the end of that conversion is out of the expected range defined by the EXPARandCNTRNGRregisters. See the Expected value A(EXPAR) and Counter Range (CNTRNGR) registers. Cleared if 1 is written to this bit location.          |
| 9 ADC_I   | ADC command interrupt flag is set when a new command is issued. The interrupt related to this flag is enabled by the CIR bit in the CLR_x_n registers. Cleared if 1 is written to this bit location.                                                                                                            |
| 8 T7_I    | Trigger 7 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |
| 7 T6_I    | Trigger 6 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |
| 6 T5_I    | Trigger 5 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |
| 5 T4_I    | Trigger 4 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |
| 4 T3_I    | Trigger 3 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |
| 3         | Trigger 2 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                                                                                                                         |

Table continues on the next page...

## NOTE

The Tn\_I fields read 0 at reset. When reset is released, these fields remain cleared until the CTU timer clock is enabled. After the CTU timer clock is enabled, the Tn\_I fields read 1. These flags must be cleared before enabling the interrupt requests.

Cross-Triggering Unit (CTU)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                               |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| T2_I    |                                                                                                                                                                                                        |
| 2 T1_I  | Trigger 1 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                |
| 1 T0_I  | Trigger 0 interrupt flag is set when the corresponding trigger is issued. Cleared if 1 is written to this bit location.                                                                                |
| 0 MRS_I | MRS Interrupt flag is set when the Master Reload Signal occurs. The interrupt associated with this flag is enabled by the MRS_IE bit in the IR register. Cleared if 1 is written to this bit location. |

## 57.6.21 Interrupt/DMA Register (IR)

## Offset

| Register   | Offset   |
|------------|----------|
| IR         | C4h      |

## Function

This register holds the interrupt and the DMA controls.

## Diagram

<!-- image -->

| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7   |   6 | 5           | 4           | 3       | 2         | 1       | 0   |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-----|-----|-------------|-------------|---------|-----------|---------|-----|
| R W    | T7_IE | T6_IE | T5_IE | T4_IE | T3_IE | T2_IE | T1_IE | T0_IE |     |   0 | SAF_C NT... | SAF_C NT... | DMA_ DE | MRS_ DMAE | MRS_ IE | IEE |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0   |   0 | 0           | 0           | 0       | 0         | 0       | 0   |

## Fields

| Field   | Function                   |
|---------|----------------------------|
| 15      | Trigger 7 Interrupt Enable |
| T7_IE   | 0b - Disabled 1b - Enabled |
| 14      | Trigger 6 Interrupt Enable |
| 13      | Trigger 5 Interrupt Enable |

Table continues on the next page...

## Table continued from the previous page...

| Field           | Function                                                                               |
|-----------------|----------------------------------------------------------------------------------------|
| T5_IE           | 0b - Disabled 1b - Enabled                                                             |
| 12 T4_IE        | Trigger 4 Interrupt Enable 0b - Disabled 1b - Enabled                                  |
| 11 T3_IE        | Trigger 3 Interrupt Enable 0b - Disabled 1b - Enabled                                  |
| 10 T2_IE        | Trigger 2 Interrupt Enable 0b - Disabled 1b - Enabled                                  |
| 9 T1_IE         | Trigger 1 Interrupt Enable 0b - Disabled 1b - Enabled                                  |
| 8 T0_IE         | Trigger 0 Interrupt Enable 0b - Disabled 1b - Enabled                                  |
| 7-6 -           | Reserved                                                                               |
| 5 SAF_CNT_B_E N | Enable the ADC Port B counter to check the conversion time. 0b - Disabled 1b - Enabled |
| 4 SAF_CNT_A_E N | Enable the ADC Port A counter to check the conversion time. 0b - Disabled 1b - Enabled |
| 3 DMA_DE        | If this bit is set, a dma done acts as a write '1' in the GRE bit.                     |
| 2 MRS_DMAE      | If GRE bit is set, DMA request is issued on MRS occurrence.                            |
| 1 MRS_IE        | MRS Interrupt Enable.                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                           |
|---------|----------------------------------------------------|
|         | 0b - Disabled 1b - Enabled                         |
| 0 IEE   | Interrupt Error Enable. 0b - Disabled 1b - Enabled |

## 57.6.22 Control ON Time Register (COTR)

## Offset

| Register   | Offset   |
|------------|----------|
| COTR       | C6h      |

## Function

This register holds the value of number of cycles during which the external trigger will not happen after the last external trigger.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                         |
|---------|------------------------------------------------------------------------------------------------------------------|
| 15-8    | Reserved                                                                                                         |
| 7-0     | COTGT                                                                                                            |
| COTGT   | Control ON-Time and Guard Time for external trigger. See Scheduler subunit (SU) for a more detailed description. |

## 57.6.23 Control Register (CR)

## Offset

| Register   | Offset   |
|------------|----------|
| CR         | C8h      |

## Function

## NOTE

The CTU\_ADC\_R bit resets all lists in execution. If CTU list execution is in parallel mode, this bit resets both lists even if they issued commands to different ADCs. Also, the self-test algorithm counters go to reset state.

## NOTE

Bits Tn\_SG, CTU\_ADC\_R, CGRE, and MRS\_SG can be set by software. Bits CTU\_ODIS, DFE, GRE, and TGSISR\_RE can be read and set by software.

<!-- image -->

## Fields

| Field    | Function                                                                |
|----------|-------------------------------------------------------------------------|
| 15 T7_SG | Trigger 7 Software Generated. 0b - S/W not generated 1b - S/W generated |
| 14 T6_SG | Trigger 6 Software Generated. 0b - S/W not generated 1b - S/W generated |
| 13 T5_SG | Trigger 5 Software Generated. 0b - S/W not generated 1b - S/W generated |
| 12 T4_SG | Trigger 4 Software Generated. 0b - S/W not generated 1b - S/W generated |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                                               |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 11 T3_SG    | Trigger 3 Software Generated. 0b - S/W not generated 1b - S/W generated                                                                                                                                                                                                                                                                |
| 10 T2_SG    | Trigger 2 Software Generated. 0b - S/W not generated 1b - S/W generated                                                                                                                                                                                                                                                                |
| 9 T1_SG     | Trigger 1 Software Generated. 0b - S/W not generated 1b - S/W generated                                                                                                                                                                                                                                                                |
| 8 T0_SG     | Trigger 0 Software Generated. 0b - S/W not generated 1b - S/W generated                                                                                                                                                                                                                                                                |
| 7 CTU_ADC_R | CTU command list control state machine Reset. Self negated bit. This bit resets the command list in the CTU in case the ADC does not respond to a conversion command within the expected time window. After a reset, the command list stops execution and waits for a new trigger event in order to initiate a command list execution. |
| 6 CTU_ODIS  | CTU Output Disable. 0b - Enabled 1b - Disabled                                                                                                                                                                                                                                                                                         |
| 5 DFE       | Writing a1btothis bit creates atrigger in CTUtimerclock domainwhichis used to register the value of Digital Filter in the register CTU_DFR into CTU timer clock domain. This bit is self-clearing. It is cleared by CTU when its value it registered into CTU timer clock domain. Digital Filter Enable. 0b - Disabled 1b - Enabled    |
| 4 CGRE      | Clear GRE to 0.                                                                                                                                                                                                                                                                                                                        |
| 3 FGRE      | Flag GRE. See Reload mechanism for more details.                                                                                                                                                                                                                                                                                       |
| 2 MRS_SG    | MRS Software Generated. 0b - S/W not generated 1b - S/W generated                                                                                                                                                                                                                                                                      |

Table continues on the next page...

Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                          |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 GRE     | General Reload Enable. See Reload mechanism for more details. 0b - Disabled 1b - Enabled                                                                                                                                          |
| 0         | TGS Input Selection Register Reload Enable. Controls the re-load of the TGSISR register. This bit is self negated, thus it always returns zero. See Trigger Generator Subunit Input Selection Register (TGSISR) for more details. |
| TGSISR_RE |                                                                                                                                                                                                                                   |

## 57.6.24 Digital Filter Register (DFR)

## Offset

| Register   | Offset   |
|------------|----------|
| DFR        | CAh      |

## Function

This register holds the value of minimum duration of input external trigger in number of motor control clock.

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-8 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 7-0 FILTER_N | Digital Filter value. The external signal (EXT_IN) is considered at 1 if it is latched FILTER_N times at 1 and is considered at 0 if it is latched FILTER_N times at 0. If FILTER_N = 0, the filter is in bypass. 0d - Filter is bypassed (any trigger on EXT_IN if captured by synchronizer is passed) 1d - External signal must be stable at least 1 cycle. 2d - External signal must be stable at least 2 cycles. Nd - External signal must be stable at least N cycles. |

## 57.6.25 Expected Value A Register (EXPAR)

## Offset

| Register   | Offset   |
|------------|----------|
| EXPAR      | CCh      |

## Function

The EXPAR register has the expected number of system clock cycles (the slave bus clock) for an AD conversion to be completed by the ADC connected to Port A. If SAF\_CNT\_A\_EN is set in the IR register and a conversion takes a number of cycles out of the interval defined by EXPA and CNTRNG to complete, then the SERR\_A error bit is set in the IFR register. Please see the CNTRNGR for more details.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                |
|-----------|---------------------------------------------------------------------------------------------------------|
| 15-0 EXPA | This value is the expected number of system clock cycles needed by ADC Port A to complete a conversion. |

## 57.6.26 Expected Value B Register (EXPBR)

## Offset

| Register   | Offset   |
|------------|----------|
| EXPBR      | CEh      |

## Function

The EXPBR register has the expected number of system clock cycles (the slave bus clock) for an AD conversion to be completed by the ADC connected to Port B. If SAF\_CNT\_B\_EN is set in the IR register and a conversion takes a number of cycles out of the interval defined by EXPB and CNTRNG to complete, then the SERR\_B error bit is set in the IFR register. Please see the CNTRNGR for more details.

Cross-Triggering Unit (CTU)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                |
|-----------|---------------------------------------------------------------------------------------------------------|
| 15-0 EXPB | This value is the expected number of system clock cycles needed by ADC Port B to complete a conversion. |

## 57.6.27 Counter Range Register (CNTRNGR)

## Offset

| Register   | Offset   |
|------------|----------|
| CNTRNGR    | D0h      |

## Function

The CNTRNGR register provides a way to mask out the less significant bits in the EXP\_A and EXP\_B fields of EXPAR and EXPBR registers, respectively. If set, bits in CNTRNG mask out related bits in EXP\_A and EXP\_B fields, thus providing a range in which a conversion should occur. The expression used for the conversion range check is: set SERR\_A bit if (conversion counter &amp; ~CNTRNG &gt; EXP\_A &amp; ~CNTRNG) or (conversion counter &amp; ~CNTRNG &lt; EXPP\_A &amp; ~CNTRNG), where the conversion counter increments at system clock rate (slave bus clock rate). This equation also applies to SERR\_B and EXP\_B.

## NOTE

The 1s in the CNTRNG must be set from the right to the left (less significant bits) without gap with 0.

## NOTE

The safety counter allowed range is obtained by taking the EXPA/B value and exchanging to "X" the corresponding positions where the CNTRNG bit is 1.

Cross-Triggering Unit (CTU)

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15-8 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 7-0 CNTRNG | CNTRNG If set, the bits in this field mask out the equivalent bits of the expected values EXP_A and EXP_B. In this way, a range of system clock (slave bus clock) cycles is defined for a conversion to occur. This meansthe bit positions with 1s in the CNTRNG change the corresponding bits on EXPA/EXPB and safety counters A/B to "X". For example, with EXPA = 1b0010_1101 and CNTRNG = 0b0111, the safety counter can end with values of the format 0b0010_1XXX to avoid SERR_A error flag. |

## 57.6.28 List Control/Status Register (LISTCSR)

## Offset

| Register   | Offset   |
|------------|----------|
| LISTCSR    | D4h      |

## Function

This register holds the error status of lists and enable for parallel list mode.

## Diagram

<!-- image -->

Cross-Triggering Unit (CTU)

## Fields

| Field            | Function                                                                                                                                                                                                                                                                             |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 LIST1_BLK     | List 1 Blocked flag. When set, this bit indicates that the address indicated by LIST1_ADDR had failed when trying to issue a command to the corresponding ADC. This bit is only meaningful if LIST_BE flag in EFR register is set. This bit is cleared when LIST_BE flag is cleared. |
| 30-29 -          | Reserved                                                                                                                                                                                                                                                                             |
| 28-24 LIST1_ADDR | List Address 1. This field shows the command address that was being executed when the LIST_BE flag in the EFR register was set.                                                                                                                                                      |
| 23 LIST0_BLK     | List 0 Blocked flag. This bit indicates that the address indicated by LIST0_ADDR had failed when trying to issue a command to the corresponding ADC. This bit is only meaningful if LIST_BE flag in EFR register is set. This bit is cleared when LIST_BE flag is cleared.           |
| 22-21 -          | Reserved                                                                                                                                                                                                                                                                             |
| 20-16 LIST0_ADDR | List Address 0. Indicates the command address being executed when LIST_BE flag in EFR register was set.                                                                                                                                                                              |
| 15-1 -           | Reserved                                                                                                                                                                                                                                                                             |
| 0 PAR_LIST       | Parallel mode List. This bit selects the parallel mode for the list execution. 0b - List is executed in streaming mode 1b - List is executed in parallel mode                                                                                                                        |

## 57.7 Functional description

The CTU is consists of two subunits: the Trigger Generator subunit, or TGS, and the Scheduler subunit, or SU. The TGS is responsible for generating triggers based on the module input signals connected to timer modules. The trigger signal from TGS is then connected to the scheduler subunit, which is responsible for the generation of ADC commands or triggers to on-chip logic such as timers. The following sections describe the TGS and SU in more detail.

## 57.7.1 Trigger Generator Subunit (TGS)

The Trigger Generator Subunit, TGS, generates up to eight trigger events. The main sub-blocks in the TGS are:

- Counter: generates sequential trigger events
- Trigger list: with 8 x 16-bit double-buffered registers for timing comparison

The TGS has two modes of operation:

- Triggered mode: each event source generates up to eight trigger event outputs.
- Sequential mode: each event source generates only one trigger event output.

## NOTE

An event means a pulse generated from the selected CTU trigger inputs. It is represented in Figure 542 by the ES signal (event signal).

Trigger events can be initiated by hardware or by software. A software trigger is generated by writing to the CTU Control Register, CR. The CR register Tx\_SG bits are automatically cleared by the CTU hardware when the respective trigger event is generated.

## 57.7.2 TGS in triggered mode

See Figure 540 that shows the TGS configuration in triggered mode.

Figure 540. Trigger Generator subunit in the triggered mode

<!-- image -->

## NOTE

The CTU timer clock should be connected to the same clock source used by the CTU inputs clock. See Figure 540 that shows these inputs are from the FTM generator, and EXT\_IN.

The TGS has 16 input signals selected from the input selection register (TGSISR). The available selections are these:

- Inactive, no selection
- Rising edge
- Falling edge
- Both edges

Up to 2 x 16 input events corresponding to 16 input signals are selected through the TGSISR register and OR-ed in order to generate the Master Reload Signal (MRS), which defines a control cycle.

The MRS can also be generated by software. The software operation is done by writing to the MRS\_SG bit in the CTU Control Register. The MRS\_SG bit is self cleared; thus, it reads always as 0. The MRS is used to re-load the TGS Counter Register with the values from the double-buffered TGSCRR register. The MRS is also used to re-load all double-buffered registers, such as the trigger compare registers, TGSCR and TGSCRR, with the corresponding buffered values.

Cross-Triggering Unit (CTU)

Cross-Triggering Unit (CTU)

The triggers list registers consist of eight compare registers (T0CR through T7CR). Each register is associated with a comparator, where a match generates an output trigger. On the occurrence of a re-load triggered by MRS, the comparison for trigger events generation starts from the first cycle of counting. However, the comparison with the TGS Counter Compare Register (TGSCCR) is always disabled during one TGS clock cycle and then re-enabled. A match between the TGSCCR and TGS counter stops the TGS counter. Therefore, this one cycle disable allows the user to configure the TGSCCR and TGSCRR with the same value.

The prescaler for TGS and SU is defined by the PRES bits in the TGS Control Register and divides the CTU timer clock. The available selections for the prescaler values are 1, 2, 3, and 4.

Figure 541 shows a timing diagram for the TGS operation in the triggered mode. The MRS and the trigger event occurrences are indicated along with the delay relative to the MRS occurrence.

Figure 541. Example timing diagram for TGS in triggered mode

<!-- image -->

## 57.7.3 TGS in sequential mode

Figure 542 shows the blocks and signals related to TGS in sequential mode.

In sequential mode, only one of the 2 x 16 input signals is selected by the 5-bit MRS\_SM (master reload selection). The selected signal re-loads the trigger list and resets the 3-bit ES counter which selects the trigger event. Sequences of up to eight trigger events are generated in one control cycle.

The 2 x 16 input events corresponding to 1'd0 input signals with 2 edges detection per signal are individually enabled through the register TGSISR and OR-ed in order to generate the event signal ES. This signal is used to re-load the TGS counter register and to increment the 3-bit ES counter.

Cross-Triggering Unit (CTU)

<!-- image -->

Figure 543 is a timing diagram for TGS in sequential mode showing the MRS and ES. The trigger events are indicated by a delay with respect to ES. Note that the ES and MRS are aligned in the beginning. The TGS counter is re-loaded on each ES and starts counting up until the next ES or until it matches the value in the TGSCCR register and stops.

<!-- image -->

## 57.7.4 TGS counter

The TGS counter counts from negative to positive values as defined by the re-load and stop values defined in register TGSCRR and TGSCCR, respectively. The maximum counter value is 0x7FFF; after that, a counter wrap occurs and the counter value transitions from 0x7FFF to 0x8000. The following figure shows TGS counting examples.

<!-- image -->

## NOTE

The TGS counter starts counting after an MRS and only stops if a counter wrap occurs and the TGSCCR value is reached before the next MRS occurs.

## Loading the initial value of TGS counter in Triggered mode

TGSCRR is a double-buffered register. It has a CPU copy (TGSCRR) and a buffered copy (B\_TGSCRR) for internal operation. The TGS counter and B\_TGSCRR are loaded on the MRS pulse at the same clock cycle. So, the TGS counter is loaded with the existing value of B\_TGSCRR before it is updated from TGSCRR. For this reason, the modified value of TGSCRR takes effect after one control cycle.

Following is a timing diagram of the TGSCRR and TGSCCR register updates. The CPU updates the TGSCRR and TGSCCR during the Nth control cycle (1), and then their buffer copies are updated with new values on the next MRS pulse (2). Because the TGS counter is loaded on the same MRS (3), it is reloaded with B\_TGSCRR on the second MRS pulse (4) after the CPU writes

Cross-Triggering Unit (CTU)

Cross-Triggering Unit (CTU)

the new values into the TGSCRR. So, the effect of TGSCRR takes place at N+2 control cycle (4) whereas the effect of TGSCCR takes place in N+1 control cycle (5).

<!-- image -->

## NOTE

So, to conclude, the initial value of TGS counter, TGSCRR, must be set one control period earlier than the rest of the double-buffered registers.

## Loading the initial value of TGS counter in Sequential mode:

In this mode, the TGS counter is loaded with B\_ TGSCRR on every ES pulse, unlike in the Triggered mode. The MRS pulse always coincides with any one of the ES pulses, so they both occur on same clock cycle. For this reason, the TGS counter is loaded with the actual value of B\_TGSCRR before it is updated from TGSCRR. So, the modified value of TGSCRR takes effect on the second ES pulse of the next control cycle with respect to the write to TGSCRR by CPU.

Following is the timing diagram of the TGSCRR and TGSCCR register updates. The CPU updates the TGSCRR and TGSCCR during the Nth control cycle (1), then their buffer copies are updated with new values on the next MRS pulse (2). Because the TGS counter is loaded on the same MRS (3), it is reloaded with updated B\_TGSCRR on the second ES pulse (4) at N+1 cycle after the CPU writes the new values into the TGSCRR. So, the effect of TGSCRR takes place at N+1 control cycle (second ES pulse onwards (4)) whereas the effect of TGSCCR takes place in N+1 control cycle (first ES pulse onwards (5)).

Cross-Triggering Unit (CTU)

<!-- image -->

## 57.7.5 Scheduler subunit (SU)

The following figure shows the block diagram of the Scheduler subunit. The SU trigger event outputs are these:

- ADC command or ADC stream of commands

Figure 547. Scheduler subunit

<!-- image -->

The SU receives eight trigger signals from the Trigger Generator subunit(TGS) and starts a command list to the selected ADC or generates the trigger event outputs. This module has the same functionality in both TGS modes: triggered and sequential. Each of the 2 SU outputs can be linked to any of the eight trigger events from TGS. This is implemented by the Trigger Handler block. Each trigger event can be linked to one or more SU outputs.

If two events are linked at the same time to the same output (either ADC commands or output triggers), an error is generated and flagged in the EFR register's TnOE bits. In this case, only the trigger with the lowest index is used. For example, if trigger 0 and trigger 1 are linked to the same ADC output and they occur at the same time, an error is generated and the ADC command corresponding to trigger 0 is generated.

When a trigger is linked to an ADC, an associated ADC stream of commands is generated. The ADC Commands List Control Register CLCR1/2 defines the list entry point that is the first command to be executed. Subsequent list pointers are generated in an incremental way as the commands in the list are executed.

## 57.7.6 ADC commands list

The SU implements a command list that stores the ADC commands. The command list stores up to 24 x 16-bit commands (see ADC command list format) in a double-buffered implementation. The command list buffer registers may be updated at any time between two consecutive MRs, but the changes are transferred from the buffers to the actual registers only after an MRS occurs, so a correct reload procedure is performed (see Reload mechanism). The first command in a list is pointed by the 5-bit CLCRx register. After a command list is triggered, it executes until the last command is found. The last command (n) is defined by the LC bit of the next command (n+1) in the list. Note that the command with LC=1 does not belong to the list and thus it is not executed. Also note that the LC bit is ignored in the first command of a list. See the command list registers, CLR\_A\_n, CLR\_B\_n , where n = 1,...,24. The figure below describes the state diagram for the Commands List execution. A sequence of commands on the list is executed until the last command is found. See ADC command list format for more details.

<!-- image -->

## NOTE

The CTU reads the next command line (the LC bit) to determine if the present command is the last one to be executed.

## 57.7.7 ADC command list format

The ADC command can be configured for single or dual conversion. In single conversion mode, the command targets one ADC only. In dual conversion mode, the conversion command is sent to both ADCs at the same time. Due to the clock domain crossing between CTU and ADCs, there could be a misalignment of up to one ADC clock cycle between the two commands.

The result of each conversion, in both modes, is stored in one of the four available FIFOs. In dual conversion mode, both ADCs store the result of their conversion in the same FIFO. If both ADCs access the FIFO in the same clock cycle, ADC unit A has higher priority, otherwise the first available conversion result is stored first.

The CTU supports up to 2 x 16 channels for both ADCs. The same physical channel cannot be assigned for both ADCs in a dual conversion mode. If there is an attempt to do so, an error is flagged in the EFR register's ICE bit, but the CTU sends the command to both ADCs.

In general, an ADC command consist of the following fields depending upon the conversion format used (see Commands List Register A for ADC single-conversion mode commands (CLR\_A\_1 - CLR\_A\_24)):

- Channel A: ADC A channel number (4 bits)
- Channel B: ADC B channel number (4 bits)
- Target ADC selection: ADC A or ADC B used in single conversion mode only (1 bit)
- FIFO selection bits for the selected ADC unit: up to four FIFOs (2 bits)
- Conversion mode selection: single or dual conversion mode (1 bit)
- Last command (LC): defines the last command in a list (1 bit)
- Interrupt request: enable interrupt request on command execution (1 bit)

The first command of a list is indicated by the CLCR1/2 registers' Tx\_INDEX field. The last command is indicated by the last command bit(LC) of the following command in the command list. The first command is always executed, and the execution of the following commands is controlled by the LC bit.

The figure below describes several scenarios for the command sequencing. If the first command indicated by the CLCR1/2 register is one of the lines identified as "Last command," then the list is a single command list. Also note that the list pointer wraps back to the first command in the list after command 24 is executed and if it is not the last command. If no command is defined as the last command, then the list is executed continuously in a loop of 24 commands.

- Command List A: two command queues are available with elements 4 and 24 being last commands
- Command List B: sub-list 1 with one single command at address 1, and sub-list 2 with a queue of commands with last command at address 24
- Command List C: sub-list 2 with one single command at address 24, and sub-list 1 with a command queue with last command at address 23
- Command List D: two command queues with a wrap at address 24

Cross-Triggering Unit (CTU)

Cross-Triggering Unit (CTU)

<!-- image -->

## NOTE

The addresses shown in the above figure do not represent addresses in the memory map. Please refer to the Memory Map section to check for the actual addresses.

## 57.7.8 ADC command list operation modes

There are two modes of operation in the ADC command list execution: streaming mode and parallel mode. In the streaming mode, the command lists should behave as a stream of commands, indicating that two or more lists cannot be executed at the same time, but only in a sequence. Thus, if list 1 is triggered, it should finish the execution of its last command before list 2 can be triggered. If there is an attempt to trigger more than one list at the same time, then an error occurs.

In the parallel mode, up to two lists can be executed at the same time. To avoid errors during the execution of two parallel lists, they should not have commands for both ADCs. Therefore, if list 1 has commands for ADC A, then list 2 should only have commands for ADC B. Also note that if a shared analog input is used by one of the lists, it should not be used by the other list to avoid a contention and therefore an error. ADC dual conversion commands should also not be used in the parallel mode.

Figure 550 shows the execution of two lists in streaming mode. While a list is being executed, any attempt to trigger the execution of another list while in this mode will cause an error. Note that both lists may have commands for ADC A or B with no restriction. Also, dual commands may be used.

<!-- image -->

Figure 551 shows the execution of two lists in the parallel mode. There are no restrictions for the triggers of both lists. After the two lists are triggered, no other triggers are allowed. If there is an attempt to trigger a third list while lists 1 and 2 are executing, then an error is issued by setting the ADC\_OE bit in the EFR register. Note that list 1 only has commands for ADC A and list 2 only has commands for ADC B. Having ADC A and ADC B commands in the same list may cause an error because two commands for the same ADC cannot be executed from different lists at the same time.

## NOTE

The mixing of commands for both ADCs in the same list in the parallel mode must not be used because the correct execution of commands in this case is not guaranteed by the CTU hardware.

<!-- image -->

The list mode is controlled by the PAR\_LIST bit in the LISTCSR register.

## 57.7.9 ADC results FIFOs

ADC results are stored in one of the four FIFOs. These FIFOs allow the storage of ADC results according to the type of data acquisition (phase currents, rotor position, ground-noise, and so on) so the software can distinguish data from several ADC channels. Each FIFO has its own interrupt line, DMA request signal, and a status register. The target FIFO for a conversion result is specified in the ADC command. Each FIFO element is 32-bit wide. The following figure shows the FIFO selection for ADC A and ADC B results.

<!-- image -->

CTU has 4 FIFOs. The depth of each FIFO is fixed as given below:

- FIFO 0 : depth is 8.
- FIFO 1 : depth is 8.
- FIFO 2 : depth is 8.
- FIFO 3 : depth is 8.

Cross-Triggering Unit (CTU)

Cross-Triggering Unit (CTU)

FIFO access can be performed by 16-bit or 32-bit read transactions. If a 32-bit reads the conversion result, the target ADC and the channel number are accessed. An 8-bit access must not be used; otherwise, the FIFO pointer increments and the complete data is not retrieved. The FIFO result register can be read in a right- or left-aligned format using two different addresses:

- Unsigned right-justified, read from register FLx (for FIFO x)

Conversion result is unsigned right-justified data, that is bits [11:0] are used for a 12-bit resolution and bits [15:12] always return zero

- Signed left-justified, read from register FLx (for FIFO x)

Conversion result is signed left-justified data, i.e. bit [15] is reserved for sign and is always read as zero, bits [14:3] are used for 12-bit resolution and bits [2:0] always return zero

The FIFO access should be based on the status bits in the FCR register. Empty and full indications are provided. If data is read from an empty FIFO, then the read data should not be considered as valid data. Note that there is no indication of an underflow condition. If the FIFO is full and there is an attempt to write more data, then the new data is not written to the FIFO and an overrun flag is set.

## 57.7.10 Reload mechanism

To assure coherent programming, several CTU registers are double-buffered, thus allowing the programming of new data on the buffers while not affecting the data being used. All the registers are uploaded with buffer data at the same time. For the majority of the CTU registers, the re-load is controlled by the Master Reload Signal(MRS).

As the Master Reload Signal is generated by the hardware, it may occur while the software is still updating the buffer registers. In this case, non-coherent values are written to the registers because the CPU did not finish the programing of all registers. To avoid this situation, a General Reload Enable(GRE), control bit is provided. If GRE is cleared, then no reload occurs. If this bit is set, then the reload is performed when MRS occurs. The GRE bit is automatically cleared by MRS or is cleared by software using the CGRE bit in the same register. The CGRE bit is self-cleared and thus always read as zero.

The software should be able to program all registers buffers within a control cycle. To help the software to evaluate that a flawless register programing was executed, the MRS\_RE flag is provided in the EFR register. If cleared, this flag indicates that all register buffers were programed before MRS occurred, as follows:

- If any of the double buffered registers is written, the FGRE flag is set indicating that a programing cycle has initiated.
- Set GRE to indicate that all updates to the buffer registers were performed.
- The reload of all registers is executed when the MRS occurs. Because GRE is set, MRS\_RE is not be set.
- GRE and FGRE are cleared when MRS occurs.

See Figure 553 for more details.

An error is flagged by MRS\_RE when MRS occurs, GRE is cleared, and FGRE is set. This scenario indicates that the software has initiated a register programming but has not finished it before the MRS, as follows:

- If any of the double buffered registers is written, the FGRE flag is set indicating that a programing cycle has initiated.
- MRS occurs and GRE is not set. In this case, MRS\_RE is set and, if enabled, an interrupt is generated.
- FGRE is not cleared when MRS occurs and no register is updated, because GRE is cleared.

Note that the software does not need to update all double-buffered registers during a control cycle. To avoid the error indication, it is sufficient to set GRE before an MRS occurs.

A race condition occurs when GRE is being cleared by CGRE at the same time that an MRS occurs. In this case, GRE is considered to be cleared and no reload occurs. Another race condition may occur between CGRE and GRE being set. Because these two bits are in the same register, they could eventually be set at the same time. In this case, CGRE has precedence; thus, GRE is cleared.

## NOTE

MRS has priority over the TGSISR\_RE bit in the CR register, which is the re-synchronization bit of the TGSISR.

Cross-Triggering Unit (CTU)

The following figure describes two scenarios for the register re-load. Scenario (a) is a normal re-load where the buffers of the double-buffered registers are programmed and the GRE bit is set before the next MRS occurs. The scenario presented in (b) describes an error condition where the software did not signal the hardware that all registers are ready for re-load before the next MRS. This is indicated by GRE being at zero when MRS occurs. In this case, the MRS\_RE flag is set indicating the fault condition.

<!-- image -->

## NOTE

If MRS is generated by software (by writing 1 b to CTU\_CR [MRS\_SG]) after GRE is set then due to longer processing path of GRE bit compared to MRS\_SG bit, the effect of GRE may reach later occasionally in MT clock domain than MRS\_SG (based on relative positioning of clock edges), consequently the original write sequence ( GRE set -&gt; MR pulse) may get reversed ( MR pulse -&gt; GRE set ) in MT clock domain. This leads to loading error and MRS\_RE is set with GRE and FGRE is not cleared. To avoid this situation user must maintain a minimum delay between the writes of GRE bit and MRS\_SG bit as defined in the equation below.

The delay between writes of GRE and MRS\_SG need to meet the below equation:

D min = 2 (system clock period + CTU timer clock period)

## 57.8 Interrupts and DMA requests

## 57.8.1 DMA support

The DMA interface can be used to configure the CTU registers. A DMA request is issued if MRS occurs and the GRE bit is set. In this case, the previously transferred data is loaded from the buffers into the registers and a new transfer cycle is initiated with the DMA request. The DMA done signal from the DMA controller is used to set the GRE bit that allows the reload to be performed. The following figure describes this operation.

<!-- image -->

DMA support can also be provided for reading FIFO stored data. Each FIFO can be configured to perform a DMA request when the number of stored words reaches a threshold value defined in the FTH register. See the FIFO Threshold(FTH), register for more information. After a DMA\_DONE and the remaining data in the FIFO is below the watermark, the DMA request is removed. For

Cross-Triggering Unit (CTU)

an efficient operation, the DMA should be configured to execute a loop reading all the data in the FIFO, considering the amount of data the same as defined by the watermark.

## 57.8.2 CTU faults and errors

The CTU detects and signals the following error conditions:

- MRS reload error: MRS occurs while a user is updates the double-buffered registers.
- Sequential mode trigger overrun SM\_TO: More than eight event signals occur before the next MRS in the TGS sequential mode.
- Trigger event overrun indicated by interrupt signals ADC\_OE .
- The CTU allows the user to pre-set a trigger to eTimer1 in the middle of an ADC conversion. In parallel mode, even two ADC commands can be issued at the same time. The error only occurs if the second trigger is targeting the same ADC.
- Invalid (unrecognized) ADC command occurs and the ICE bit is set.
- Master reload signal overrun MRS\_O: MRS occurs before all triggers selected by Tn\_E and TnETE or TnTmE or Tn\_ADCE bits in THCR1/2 registers have occurred.
- TGS\_OSM TGS overrun in sequential mode: new event occurs before the trigger event selected by the previous event had occurred.

The faults/errors flags in the CTU error flag register and in the CTU interrupt flag register can be cleared by writing 1 to the respective bit. Writing 0 to these bits has no effect.

## NOTE

The CTU does not support write-protection mechanism for any register, indicating that all registers are accessible at any time.

The CTU does not generate a transfer error when its reserved address space is accessed.

## 57.8.2.1 CTU parallel list errors

The command list operation in parallel mode may generate errors because two lists may be in execution at the same time. Following are some of the error conditions:

Commands for the same ADC are issued at the same time by two lists. In this case:

- One of the commands is disregarded and an error is issued.
- The LIST\_BE bit in the EFR register is set.
- The address of the list commands is shown in the LISTCSR register.
- The address of the command that was not executed is indicated in the LISTCSR register.

A third list is triggered when two lists are already being executed. In this case:

- The third list is not executed and an error is indicated by the ADC\_OE bit in the EFR register.

One list is being executed and a second list is triggered; the first command of the second list is for the same ADC being used by the first list. In this case:

- The command of the second list is not executed.
- The address of the second list command is shown in the LISTCSR register.
- The LIST\_BE bit in the EFR register is set.

## 57.8.3 CTU interrupt/DMA requests

The CTU generates the following interrupt/DMA requests which are controlled by the IR register:

- Error interrupt request, see CTU faults and errors (1 interrupt line)

- ADC command interrupt request (1 interrupt line).
- MRS interrupt request (1 interrupt line)
- Trigger event interrupt request (1 interrupt line for each trigger event)
- FIFOs interrupt and/or DMA transfer request (1 interrupt line for each FIFO). See FIFO control register, FCR.
- DMA transfer request on the MRS occurrence if GRE bit is set

Cross-Triggering Unit (CTU)

## Chapter 58 Analog-to-Digital Converter (SAR\_ADC)

## 58.1 Chip-specific SAR\_ADC information

## 58.1.1 SAR\_ADC instances

The chip has two SAR\_ADC instances, SAR\_ADC\_0 and SAR\_ADC\_1.

## 58.1.2 SAR\_ADC resolution

Each SAR\_ADC instance has 12-bit resolution.

## 58.1.3 Analog watchdogs

Each SAR\_ADC instance has eight analog watchdogs.

## 58.1.4 Normal and injection trigger

Normal and injection triggers are supported through package pins and additional hardware triggers via CTU. CTU can trigger conversion only on external channels (mapped from pads). For details, see the IOMUX file attached to this document. This chip does not support CTU-initiated self-test on SAR\_ADCs.

## 58.1.5 SAR\_ADC channel assignments

This chip does not support any external analog muxes.

The following table identifies channel assignments for the SAR\_ADC module.

Table 560. SAR\_ADC channel assignments

| Channel number   | Group     | Channel name             | Channel type   |
|------------------|-----------|--------------------------|----------------|
| SAR_ADC_0        | SAR_ADC_0 | SAR_ADC_0                | SAR_ADC_0      |
| 0                | 0         | ADC_CH_00                | Precision      |
| 1                | 0         | ADC_CH_01                | Precision      |
| 2                | 0         | ADC_CH_02                | Precision      |
| 3                | 0         | ADC_CH_03                | Precision      |
| 4                | 0         | ADC_CH_04                | Precision      |
| 5                | 0         | ADC_CH_05                | Precision      |
| 6                | 0         | ADC_CH_06                | Precision      |
| 7                | 0         | ADC_CH_07                | Precision      |
| 8-31             | Reserved  | Reserved                 | Reserved       |
| 32               | 32        | Scaled Bandgap reference | Internal       |
| 33-34            | 32        | Internal                 | Internal       |

Table continues on the next page...

Table 560. SAR\_ADC channel assignments (continued)

| Channel number   | Group     | Channel name             | Channel type   |
|------------------|-----------|--------------------------|----------------|
| 35               | 32        | DVDD/2                   | Internal       |
| 36               | 32        | AVDD 1                   | Internal       |
| 37               | 32        | VREFL                    | Internal       |
| 38               | 32        | VREFH                    | Internal       |
| 39               | 32        | Internal                 | Internal       |
| SAR_ADC_1        | SAR_ADC_1 | SAR_ADC_1                | SAR_ADC_1      |
| 0                | 0         | ADC_CH_08                | Precision      |
| 1                | 0         | ADC_CH_09                | Precision      |
| 2                | 0         | ADC_CH_10                | Precision      |
| 3                | 0         | ADC_CH_11                | Precision      |
| 4                | 0         | ADC_CH_04                | Precision      |
| 5                | 0         | ADC_CH_05                | Precision      |
| 6                | 0         | ADC_CH_06                | Precision      |
| 7                | 0         | ADC_CH_07                | Precision      |
| 8-31             | Reserved  | Reserved                 | Reserved       |
| 32               | 32        | Scaled Bandgap reference | Internal       |
| 33-34            | 32        | Internal                 | Internal       |
| 35               | 32        | DVDD/2                   | Internal       |
| 36               | 32        | AVDD 1                   | Internal       |
| 37               | 32        | VREFL                    | Internal       |
| 38               | 32        | VREFH                    | Internal       |
| 39               | 32        | Internal                 | Internal       |

1. AVDD corresponds to VDD\_ADC.

## 58.2 Overview

SAR\_ADC provides fast and accurate analog-to-digital conversion using the Successive Approximation Register (SAR) method. It has 12-bit resolution and is highly configurable for a wide range of applications.

## 58.2.1 Block diagram

The following figure shows the high-level interface diagram of SAR\_ADC.

Analog-to-Digital Converter (SAR\_ADC)

<!-- image -->

SAR\_ADC interfaces as shown above are as follows:

- Analog inputs to sample the channels to be converted.
- Channel selection controls are provided to use internal or external analog multiplexers.
- Host Bus allows access to configuration, control, and status registers which are used to start/stop conversions, monitor the conversion results, errors, violations, and so on.
- DMA interface transfers conversion results by the DMA controller.
- Interrupts can be generated for various events depending on configuration (data availability, threshold violation, error, and so on).
- External hardware triggers are used to start conversion from sources external to SAR\_ADC.
- Cross Triggering Unit (CTU) interface allows triggers from the CTU on the chip to start conversions.
- Power-down controls are used to place the analog block into a deactivated state.
- Fault indications from runtime self-test are generated for supply and analog faults.

## 58.2.2 Features

The general feature list of SAR\_ADC is shown below. Feature availability is chip-specific and is defined during module integration. See chip-specific SAR\_ADC information for details.

- 4'd12-bit resolution
- Multiple modes of starting conversion (Normal, Injected, CTU)
- Normal mode supports One-Shot and Scan (continuous) conversions
- Injected mode supports One-Shot conversions only
- CTU mode runs a single conversion per trigger
- Software-initiated conversions in Normal and Injected modes, or external hardware trigger
- Two different abort features for either a single or chain conversion in Normal and Injected modes
- Independent data registers for each channel contain information about mode of conversion, data validity, overwrite status, and conversion data
- Alternate analog watchdog thresholds (threshold selected through input ports)
- Programmable DMA enables for each channel

- Individual interrupt flags for the following conditions:
- End of conversion of a single channel for Normal and Injected modes
- End of chain conversion for both Normal and Injected modes
- End of conversion in CTU mode
- Watchdog threshold violations
- Programmable presampling for channels
- Auto-Clock-Off feature for improved power performance
- Power-Down mode to place SAR\_ADC in power-down state
- Programmable clock prescaler for SAR\_ADC (bus clock, or bus clock divided by two or four)
- Software-initiated calibration
- Self-test feature

## 58.3 Functional description

The ADCD interfaces are shown in Figure 555. The available functionality in the ADCD is described in the following sections (see chip-specific SAR\_ADC information for details).

## 58.3.1 Submodules

SAR\_ADC consists of two major functional parts:

- ADC Digital (ADCD)
- ADC Analog hard macro cell (ADCA)

ADCD controls ADCA. ADCD holds the configuration, control, and status registers that are accessible through software using the host interface. ADCD executes the SAR Control algorithm. The selection of channel multiplexers and analog gates is driven by ADCD based on the configuration you perform. Conversion results are stored in registers, and the results can be transferred to memory by DMA or read by host access.

ADCA holds all analog circuitry which consists of a comparator, capacitor bank, bias generation, and so on. Only one channel is processed at a time. Multiple channels are processed sequentially by multiplexing the analog inputs. You can configure the duration for which each channel is sampled. The hold value is used to calculate a channel's digital code by successively comparing it with an analog voltage generated by a Digital to Analog Converter (DAC) inside ADCA.

## 58.3.2 Special channels

Reference voltages and supply voltages are available at predefined SAR\_ADC channels.

## 58.3.3 Conversion

Conversions are software or CTU or external hardware initiated.

The following list shows the methods of initiating conversions in order of priority (highest to lowest):

1. CTU trigger (see CTU conversion mode)
2. Injection (see Injected Conversion mode)
3. Normal (see Normal Conversion mode)

Each type of conversion method has different processing features.

CTU trigger starts a single conversion for a single channel.

Injection can start a single chain of conversions one at a time, where a chain may have from one up to the maximum number of channels available (each channel appears once in the chain).

Analog-to-Digital Converter (SAR\_ADC)

Analog-to-Digital Converter (SAR\_ADC)

Normal conversion can start a continuous or single chain of conversion one at a time. In continuous mode, the chain of conversions is repeated unless you stop them.

When a normal conversion is in process, the starting injected conversions are done by software or external hardware. This allows a chain of channels that cannot wait to be converted (as selected by JCMR) to be handled immediately.

Conversions initiated by the CTU (one channel per trigger) are processed immediately by suspending normal conversions and discarding any ongoing injected conversion chain.

Analog watchdogs allow continuous hardware monitoring of input channel conversion results.

A built-in self-test function enables periodic checking of ADCA health. If a fault is detected, the FCCU can be signaled. The severity of the fault is programmable (critical/non-critical).

## NOTE

ADC configurations must be changed only when ADC is in idle or power-down state (MSR[NSTART]=0 and MSR[ADCSTATUS] = idle/power-down).

## 58.3.3.1 Normal Conversion mode

The conversion method which is generally used to convert channels is Normal Conversion mode. To select channels for conversion, you program the Normal Conversion Mask Register (NCMR). Each channel can be individually enabled by setting the corresponding field in NCMR:

- NCMR0 selects channels in Group0.
- NCMR1 selects channels in Group32.

The mask registers must be programmed before starting the conversion and cannot be modified until all selected channel conversions have completed. A conversion always starts from the lowest channel number and continues sequentially to the highest channel number.

## 58.3.3.1.1 Starting conversions in Normal Conversion mode

After programming the required fields of the Main Configuration Register (MCR) and NCMR, conversion starts as follows:

- By software:
- Conversion chain starts when one is written to MCR[NSTART].
- By hardware trigger:
- If external trigger is enabled (MCR[TRGEN] = 1), and an external trigger enable is detected, the conversion will start. The enable is checked only during the start of conversion. The hardware trigger needs to be active for a least 2 ADC bus clock cycles in order to recognized and start a conversion.
- Detection of an active edge is defined by MCR[EDGE] (rising = 1, falling = 0). When an external trigger is recognized, MSR[NSTART] is set and normal conversion starts.

## NOTE

An external trigger, or software-initiated conversion, in Normal Conversion mode is ignored during any ongoing conversion chain.

## NOTE

There must be a gap of three cycles between configuration of the NCMR and the start of conversion (setting of MCR[NSTART] or arrival of hardware start trigger) for proper SAR\_ADC operation. SAR\_ADC calculates the total number of channels to be converted during this period.

## NOTE

There must be a gap of three cycles between configuration of the NCMR and the start of conversion (setting of MCR[NSTART] or arrival of hardware start trigger) for proper SAR\_ADC operation. SAR\_ADC calculates the total number of channels to be converted during this period.

## 58.3.3.1.2 Operation modes in Normal Conversion mode

Two operation modes are available for normal conversions:

- One-Shot Operation mode
- Scan Operation mode

The MCR[MODE] field determines the operating mode in normal conversion. The first phase of any conversion process involves sampling the analog channel. Which is followed by the conversion phase, when the sampled analog value is converted to digital as shown in Figure 556.

<!-- image -->

In One-Shot Operation mode (MCR[MODE] = 0), a sequential conversion specified in the NCMR mask registers is performed once. At the end of each conversion, the digital result of the conversion is stored in the corresponding data register (CDRn; n = channel number).

For example: Channels A-B-C-D-E-F-G-H are available on the chip, where channels B-D-E are to be converted in One-Shot Operation mode. Conversion starts from channel B, followed by conversion of channels D-E. At the end of conversion of channel E the channel scanning stops.

MSR[NSTART] is automatically set when the normal conversion starts. At that time MCR[NSTART] is reset by hardware, allowing the software to program a new start of conversion in advance. In this case, the new requested conversion starts after completion of the currently running conversion. However, for correct device function, it is required to program MCR[NSTART] for the new conversion only after the current conversion is complete. Software can wait for the end of conversion (ISR[ECH] = 1) prior to setting MCR[NSTART] again.

If the conversion chain starts by external trigger (if MCR[TRGEN] = 1), the ADC cannot monitor the trigger input until the conversion chain finished. After the chain is finished, the next chain starts by subsequent hardware trigger edge.

In Scan Operation mode (MCR[MODE] = 1), a sequential conversion of  n channels specified in the NCMR registers is continuously performed. At the end of each conversion the converted result is stored into the corresponding channel data register, as it is in One-Shot Operation mode.

MSR[NSTART] is automatically set when normal conversion starts. Unlike One-Shot Operation mode, MCR[NSTART] is not reset in Scan Operation mode. It can be reset by software when you need to stop the Scan Operation mode. In that case, the ADC will complete the current chain, and after the last conversion, it clears MSR[NSTART].

For example: Channels A-B-C-D-E-F-G-H are available on the chip, where channels B-D-E are to be converted in Scan Operation mode. Conversion starts from channel B followed by conversion of channels D-E. At the end of conversion of channel E the scanning of channel B starts again, followed by conversion of channels D-E. This sequence repeats itself until MCR[NSTART] is reset by software.

This scan chain can be stopped by writing zero to MCR[NSTART]. The conversion stops when the ongoing chain is finished.

If the conversion is started by an external trigger, MCR[NSTART] is not set. As a consequence, after it is started, the only way to stop a Scan Operation mode conversion started by external trigger is to write MCR[MODE] = 0.

## End of conversion:

In both modes, at the end of each conversion an End of Conversion (EOC) interrupt is issued (if enabled by the corresponding mask bit in CIMR and IMR).

After conversion of all the selected channels in NCMR has completed, the conversion operation is considered finished. ISR[ECH] is then set and End of Chain (ECH) interrupt is issued (if enabled in IMR[MSKECH]).

The corresponding channel bit of CEOCFR is updated to indicate data is available in data register CDRn of the corresponding channel.

If there is no channel selected in NCMR, and there is a start of conversion trigger, ISR[ECH] is set and an ECH interrupt is issued immediately, if enabled.

Analog-to-Digital Converter (SAR\_ADC)

## NOTE

In scan (continuous) mode, ADC conversions happen very regularly as per timing derived by sample time and resolution. The host reads the result registers after checking ECH flag. The reading time of the host after setting ECH could vary based on the load on it. So, it may occasionally get invalid data (valid bit 0b in data CDR register) in channels. To avoid such scenarios, check the ECH flag twice before reading the conversion results, to ensure that the host gets valid data always for all channels. The host needs to clear the ECH flag each time it finds it set. The sequence will be as below:

1. Host waits for ECH. On ECH, it clears it.
2. Host waits for second ECH. On ECH, it clears it.
3. Host reads data for all channels.
4. Repeat steps 1-3.

## 58.3.3.2 Injected Conversion mode

An injected conversion is a conversion of a programmed chain that can be injected anytime into an ongoing conversion chain processed in Normal Conversion mode. You require to configure Injected Mask Register(s) (JCMRn). In Normal Conversion mode each internal or external channel can be individually selected:

- JCMR0 for channels in Group0
- JCMR1 for channels in Group32

An injected conversion chain can only be run in One-Shot Operation mode and suspends the ongoing conversion chain processed in Normal Conversion mode. When an injected conversion chain is inserted into an ongoing chain processed in Normal Conversion mode, the ongoing chain is suspended and the injected conversion request is processed. After conversion completion of the last channel of the injected chain, conversion resumes from the channel at the chain which was suspended in Normal Conversion mode, as shown in Figure 557.

<!-- image -->

## 58.3.3.2.1 Starting conversions in Injected Conversion mode

The injected conversion chain can be started by using one of the following methods:

- By software: When external triggering is disabled (MCR[JTRGEN] = 0), MCR[JSTART] can be set. Setting MCR[JSTART] causes any Normal Conversion mode chain to be suspended and the injected chain to start processing.
- By external trigger: When external triggering is enabled (MCR[JTRGEN] = 1), a programmed event on the external injection input (high or low depending on MCR[JEDGE] setting) starts the Injected Conversion mode. The external trigger needs to be active for a least 2 ADC bus clock cycles in order to recognized and start a conversion.

MSR[JSTART] is automatically set when the injected conversion chain starts, and MCR[JSTART] is cleared. This allows the software to program a new start of conversion in advance. If a new injected conversion request occurs while an injected conversion chain is in progress (for example, setting MCR[JSTART] while MSR[JSTART] is set), then conversion will start after the current conversion has completed.

Analog-to-Digital Converter (SAR\_ADC)

At the end of each conversion, an End Of Injected Conversion (JEOC) (ISR[JEOC] = 1) interrupt is issued (that is, IMR[MSKJEOC] = 1), and at the end of the chain an End of Injected Chain (JECH) (ISR[JECH] = 1) interrupt is issued (that is, IMR[MSKJECH] = 1).

The corresponding channel bit of CEOCFRn is set, indicating that data is available in the CDR of the respective channel.

After it is started, an injected chain conversion cannot be interrupted.

## NOTE

If there is no channel selected in JCMRn, and an injected conversion is started, then ISR[JECH] is immediately set and the corresponding interrupt is asserted (if enabled). This behavior is independent of normal conversion status.

For correct operation of SAR\_ADC, there must be a gap of at least three cycles between configuration of JCMRn and the start of a conversion (setting MCR[JSTART] or receiving an external hardware trigger). SAR\_ADC calculates the total number of channels to be converted during this period.

## 58.3.3.3 CTU conversion mode

The CTU interface enhances the injected conversion capability of the ADC. They contain multiple control inputs that can be used to select the channels to be converted from the appropriate event configuration register. Figure 558 shows the interface.

The CTU generates a trigger and a channel to be converted. A single channel is converted for each request. After performing the conversion, the ADC returns the result on the data bus together with two output signals named Next command and End of conversion. The assertion of signal Next command means that ADC is ready to accept the next trigger from CTU. The End of conversion signal is asserted at the end of conversion, meaning that conversion is finished and the conversion result available at output data is valid.

The conversion result is also saved in the corresponding channel's data register. It is compared with watchdog thresholds when requested.

The CTU and ADC are always connected to the same clock domain and therefore are synchronous (same frequency and domain).

<!-- image -->

Program MCR[CTUEN] to enable the CTU interface. The operating mode (Trigger/Control) can be fixed or programmable. If available, in Power-Down mode MCR[CTU\_MODE] program the CTU interface operating mode.

## 58.3.3.4 Abort of conversion

Two different abort functions are provided:

- Abort of a single channel
- Abort of chain

You can abort the ongoing conversion by setting MCR[ABORT]. SAR\_ADC then aborts the current conversion and immediately starts the conversion of the next channel of the chain. The abort action may take 1-4 cycles of bus clock to abort the current conversion, depending on the state of the conversion. At the start of any conversion and at the end of a particular conversion, when internal state counters are changing, then the abort get delay by a maximum of three cycles. This allows all states to be placed in stable condition before aborting.

So, you are advised not to change the abort field status for the next three cycles to achieve this effect.

Abort also not to be programmed along with and within three cycles of programming MCR[NSTART] or MCR[JSTART].

Analog-to-Digital Converter (SAR\_ADC)

In the case of an abort operation, MSR[NSTART/JSTART] remains set if not in the last channel of the chain, and MCR[ABORT] is reset as soon as the channel is aborted. The EOC corresponding to the aborted channel is not generated. This behavior is true for Normal or Injected Conversion modes. If the last channel of a chain is aborted, the end of chain is reported, generating an ECH interrupt.

It is also possible to abort the current chain of conversions by setting MCR[ABORTCHAIN]. In that case, the behavior of the ADC depends on MCR[MODE] (One-Shot/Scan Operation modes). If Scan Operation mode is disabled, MSR[NSTART] is automatically reset together with MCR[ABORTCHAIN]. Otherwise, in Scan Operation mode, a new chain is started. The EOC of the current aborted conversion is not generated but an ECH interrupt is generated to signal the end of the chain.

## NOTE

For a single channel chain, ECH is not generated in the case of an abort or abort chain.

When an ABORTCHAIN is requested while an injected chain is running over a suspended normal chain, both injected and normal chains are aborted. Both ISR[ECH] and ISR[JECH] are set. MSR[JSTART] is reset to mark the end of the injected chain. MSR[NSTART] is reset if normal conversion is running in One-Shot mode. Otherwise, in Scan mode it remains set and a new chain is started.

## 58.3.3.5 Conversion time

Total conversion time depends on SAR\_ADC clock (AD\_CLK). This clock can be prescaled to half or one-fourth of bus clock. SAR\_ADC operating clock (AD\_CLK) is always synchronous with the bus clock. The frequency of AD\_CLK depends on MCR[ADCLKSE] settings.

- When MCR[ADCLKSE] = 1, AD\_CLK = bus clock.
- When MCR[ADCLKSE] = 0, AD\_CLK = (bus clock / 2).

Conversion timing detail is shown in the figure below. The description of each time segment follows the figure.

<!-- image -->

## Trigger time (TPT):

Analog-to-Digital Converter (SAR\_ADC)

To prepare a channel for conversion, two bus clock cycles are required by SAR\_ADC for the single conversion and for the first conversion in a chain. For continuous conversions and subsequent conversions in a chain, this time is not required because it is hidden in the pipeline operation.

Triggers from the synchronous CTU interface require two cycles of bus clock for the first conversion, but for back-to-back CTU conversions it takes only one cycle for trigger processing, because the other cycle is hidden in the pipeline operation.

## Sample phase time (ST):

ST duration is controlled by the CTRn[INPSAMP[7:0]] configuration. The value in the register field represents units of AD\_CLK cycles. The minimum value of sample time is eight AD\_CLK cycles. If the value programmed in CTRn[INPSAMP[7:0]] is less than eight, it has no effect on sample time duration and will default to eight AD\_CLK cycles.

## Compare phase time (CT):

CT depends on the resolution of SAR\_ADC. The CT is ((x + 2) × 4) cycles of AD\_CLK, where x is the resolution of SAR\_ADC.

## Data processing time (DP):

DP takes two AD\_CLK cycles to post and load data into the data register.

## Total conversion time:

The total time required for a single or first conversion is (TPT + ST + CT + DP) AD\_CLK cycles. The time for subsequent conversions in a chain or continuous conversions is (ST + CT + DP) AD\_CLK cycles.

## Examples:

- CTRn[INPSAMP] = 20d (software or hardware triggered, MCR[NSTART]):
- Single or first conversion: 2 + 20 + ((12 + 2) × 4) + 2 = 2 + 20 + 56 +2 = 80 AD\_CLK cycles
- Subsequent or continuous conversions: 20 + ((12 + 2)× 4) + 2 = 20 + 56 + 2 = 78 AD\_CLK cycles
- CTRn[INPSAMP] = 20d (CTU triggered):
- Single or first conversion: 2 + 20 + ((12 + 2)× 4) + 2 = 2 + 20 + 56 + 2 = 80 AD\_CLK cycles
- Subsequent back-to-back conversions: 1 + 20 +((12 + 2)× 4) + 2 = 1 + 20 + 56 + 2 = 79 AD\_CLK cycles

## Presample phase time (PST):

When presampling is enabled, SAR\_ADC presamples prior to starting the actual sampling, as described in Presampling. This phase takes the number of AD\_CLK cycles defined in CTRn[INPSAMP]. Additionally, to switch from presample phase to actual channel sampling phase, it takes another two AD\_CLK cycles. So, the total presampling AD\_CLK cycle is CTRn[INPSAMP] + 2 additional cycles that are required for a conversion to complete. If presampling is implemented, all equations and examples above are valid only with the additional (CTRNn[INPSAMP] + 2) AD\_CLK cycles.

Figure 560. Conversion timing with presampling

<!-- image -->

## Conversion time for calibration:

- Single conversion time = Sample time (MCR[TSAMP]) + CT (11 × 4) + DP (2)
- Interconversion gap = 1 cycle
- Total number of tests = 12
- Averaging = 32

One test duration = (single conversion time + interconversion gap) × averaging samples

Total test duration = (one test duration × total number of tests)

Example: Sample time = 22

Total test time = ((((22 + (11× 4) + 2) + 1) × 32) × 12) = 26496 cycles × 25 ns (40 MHz) = 662.4 µs

## Conversion time for self-test conversion:

The time for a self-test conversion is one test period multiplied by the number of consecutive (atomic) steps. For supply self-tests, the atomic step is three and for other tests it is one.

One test period for self-test is:

- For supply tests: (ST + (14 × 4) + 2)
- For other algorithms: (ST + (11 × 4) + 2)

## Example:

## NOTE

Steps (conversions) of the supply algorithm always run in atomic operation, required for algorithmic procedure. So, in Scan Operation mode when all algorithms are selected, three steps (conversions) of supply algorithm run together after end of the chain. Steps (conversions) of algorithm C are not required to be run together, so after every chain one step (conversion) is executed serially. Conversion time in self-test also needs to be calculated accordingly.

- Channels in chain A→B→C
- Scan Operation mode
- All self-test algorithms selected

The resulting conversion order will be:

[A→B→C→AS\_step0→AS\_step1→AS\_step2→A→B→C→AC\_step0→A→B→C→AC\_step1→A→B→C→AC\_step2→ .....→A→B→C→AC\_ step11] →[same sequence repeats]

AS = Algorithm S (supply self-test) AC = Algorithm C (capacitive self-test) NOTE

## 58.3.3.6 Conversion data processing

The raw converted data of SAR\_ADC contains many types of errors like offset, gain, and so on. In order to reduce or eliminate errors, the raw conversion data is processed inside SAR\_ADC controller before sending to result register/output. The process of error correction happens in parallel during bit-by-bit evaluation, with the correction values generated during offset determination and calibration process.

The error correction value is subtracted from the raw conversion result whenever the comparator output for one of the calibrated capacitors evaluates high during the conversion period.

In order to reduce data processing time, the error correction is done in parallel during each bit evaluation of a conversion. All lower-weighted capacitors are not calibrated and no error correction is performed for these capacitors, but they are self-tested to guarantee error contribution is below specified accuracy limits.

The final result is checked for any overflow or underflow. If the processed data is above the maximum value that can be represented by ADC resolution, then the output data is forced to all ones (FFFh for 12-bit resolution). Similarly, if the processed data is negative, then output data is forced to all zeros (000h for 12-bit resolution).

## 58.3.4 ADC clock prescaler and sample time settings

The AD\_CLK frequency can be scaled by programming MCR[ADCLKSE]. If MCR[ADCLKSE] is set, then the AD\_CLK frequency is the same as the bus clock. Otherwise, AD\_CLK frequency is half of bus clock, MCR[ADCLKSE] bit can be written in power-down only when MCR[PWDN] = 1.

In order to support different sampling times for different type of channels the different conversion timing registers are used (CTR0, CTR1). CTR0 is associated to channels (0 to 31), CTR1 is associated to channels (32 to 63). See the register description for details.

## 58.3.5 Presampling

The presampling feature allows precharging or discharging SAR\_ADC internal sample capacitor node to a defined level before sampling of the selected analog input channel starts. This is useful for resetting information (history effect/offset) regarding the last converted data. During presampling, ADC samples the internally generated voltage, while in the sampling SAR\_ADC samples analog input coming from pads.

Presampling can be enabled/disabled on a per-channel basis by setting the corresponding bits in the PSR0, PSR1 registers. PSR0 serves channels 0-31 , PSR1 serves channels 32-63 .

After enabling the presampling for a channel, the normal sequence of operation will be Presampling → Sampling → Evaluation for that channel. Sampling of all channels can be bypassed by setting PSCR[PRECONV]. When sampling of a channel is bypassed, the sampled and stored internal voltage applied during the presampling phase get converted (see Figure 561). See Conversion time for the timing equation for conversion.

Presampling does not apply to self-test channels.

Analog-to-Digital Converter (SAR\_ADC)

<!-- image -->

## 58.3.5.1 Presampling channel enable

The presampling channels are selected by programming the PSCR. It is possible to select between four internally generated voltages depending on the value of PSCR[PREVALn], as shown in the following table.

## Table 561. Presampling voltage selection

|   PSCR[PREVAL n ] | Presampling voltage                |
|-------------------|------------------------------------|
|                00 | Presample voltage - 1: (DVDD0P8/2) |
|                01 | Presample voltage - 2: (AVDD1p8/4) |
|                10 | Presample voltage - 3: VREFL_1p8   |
|                11 | Presample voltage - 4: VREFH_1p8   |

## NOTE

The voltage for presampling is (AVDD1p8/4) when PSCR[PREVAL]=01b. However, when this value is measured in sample bypass mode (PSCR[PRECONV]=1), the raw conversion result is shifted by two bits to the left (multiplied by 4) before error compensation. So the expected value of the final conversion result is AVDD1p8 (deviation may be in the range 0-3 LSB, due to left shift).

The PSCR[PREVALn] fields are associated with SAR\_ADC channels as follows:

- PREVAL0 for channels 0-31
- PREVAL1 for channels 32-63

## 58.3.6 Programmable analog watchdog

The analog watchdogs are used to monitor the conversion result to see if it is within defined limits (as shown in the figure below), specified by an upper and a lower threshold value named THRH and THRL, respectively.

<!-- image -->

Analog-to-Digital Converter (SAR\_ADC)

After the conversion of the selected channel, a comparison is performed between the converted value and the threshold values. If the converted value is outside the threshold values, then a corresponding threshold violation interrupt is generated.

The comparison result is stored as WDGnH and WDGnL fields in WTISR as explained in the following table. Depending on the values of WTIMR[MSKWDGnL] and WTIMR[MSKWDGnH] mask bits, an interrupt is generated on a threshold violation.

Table 562. Values of WDGxH and WDGxL fields

|   WDG n H |   WDG n L | Converted data                 |
|-----------|-----------|--------------------------------|
|         1 |         0 | Converted data > THRH          |
|         0 |         1 | Converted data < THRL          |
|         0 |         0 | THRH >= converted data >= THRL |

Depending on the device settings, the number of analog watchdogs can vary for each instance of SAR\_ADC (see chip-specific SAR\_ADC information for details).

## Analog watchdog setting

For each watchdog there is one threshold value (low and high) register (THRHLRn [n=0..15]).

The analog watchdog for each channel can be enabled independently by programming the corresponding CWENR fields.

- CWENR0 for Group0 channels
- CWENR1 for Group32 channels

Watchdog selection of each channel is done by configuring CWSELRn[WSEL\_CHm] (where n = CWSELR instance and m = channel number).

Each CWSELRn holds a selection for a maximum of eight consecutive channels (for example, CWSELR0 holds eight WSEL\_CH fields for channels 0-7, CWSELR1 is for channels 8-15, and so on).

If the conversion result of a selected channel is outside the range specified by threshold values, then the corresponding bit is set in the Analog Watchdog Out of Range Register (AWORR) (for example, if channel number 12 is to be monitored with the threshold values in register THRHLR3, then WSEL\_CH4 of CWSELR1 is to be programmed with 3). Enabling the watchdog is done by setting the corresponding bit for channel 12 in register CWENR0.

In this setting, a set of threshold values (THRHLRn) can be linked to several SAR\_ADC channels. The threshold values to be selected for a channel must be programmed only once in CWSELRn register.

## NOTE

If the higher threshold of the analog watchdog is programmed to be below the lower threshold and the conversion result is below the lower threshold, then the WTISR[WDGnL] interrupt for the low threshold violation is set. If the conversion result is greater than the lower threshold (consequently also greater than the higher threshold), then the interrupt WTISR[WDGnH] for high threshold violation is set. Thus, you should take care to avoid that situation as it could lead to misinterpretation of the watchdog interrupts.

## 58.3.7 Clocking

SAR\_ADC has only one clock input (bus clock).

This clock is used for accessing registers through the Host Bus and operation of all interfaces.

The conversion clock (AD\_CLK), is derived from the bus clock input. The AD\_CLK can be equal to, or half of the bus clock frequency based on configuration (see register bit descriptions of MCR[ADCLKSE]).

If MCR[ADCLKSE] = 1, then the AD\_CLK is equal to the bus clock. If MCR[ADCLKSE] = 0, then the AD\_CLK is half of the bus clock frequency. However, depending on configuration and performance requirements, MCR[ADCLKSE] may always need to be 1.

## 58.3.8 Reset

SAR\_ADC has two resets, Functional (normal) and Calibration. Calibration reset is applied only when calibration is needed along, and is asserted with a functional reset. A functional reset can happen any time without a calibration reset.

Calibration reset is provided to hold internal calibration and status values if a functional reset occurs. The following register and field values are maintained after a functional reset:

- Main Status (MSR)
- CALIBRTD
- CALFAIL
- User OFFSET and Gain (USROFSGN) (Full register)
- GAINUSER
- OFFSUSER
- Calibration Status (CALSTAT) (Full register)
- TEST\_RESULT
- STAT[1:14]

## 58.3.9 Interrupts

SAR\_ADC generates the following maskable interrupt signals:

- EOC (End of Conversion) interrupt request
- ECH (End of Chain) interrupt request
- JEOC (End of Injected Conversion mode) interrupt request
- JECH (End of injected Chain) interrupt request
- EOCTU (End of CTU conversion) interrupt request
- WDGnL and WDGnH (watchdog threshold) interrupt requests
- Self-testing Interrupts

Interrupts are generated during the conversion process to signal events such as EOC and so on, as explained in register description for ISR. Two registers named ISR (Interrupt Status Register) and IMR (Interrupt Mask Request Register) are provided in order to check and enable the interrupt request to external interrupt controller.

Interrupts can be individually enabled on a channel-by-channel basis by programming CIMR (Channel Interrupt Mask).

For pending EOC interrupts, registers with one bit per channel are provided to indicate completed conversions on a channel basis (CEOCFRn).

Interrupts generated due to the analog watchdogs are handled by two 32-bit registers named WTISR (Watchdog Threshold Interrupt Status Register) and WTIMR (Interrupt Mask for the Watchdog Threshold Register). These registers are used to check and enable an interrupt request . A watchdog interrupt causes two corresponding bits to be set for each channel monitored. One bit is set in the WTISR[WDGnH] register and the other bit in the WTISR[WDGnL] register.

Generated events are logged into status registers and used to generate an interrupt if enabled in corresponding mask registers.

In the below list, there are different interrupt outputs of ADC. The interrupt structure is shown in Figure 564.

Each interrupt is generated by combining a group of events.

- Interrupts for EOC, ECH, EOCTU, JEOC, JECH , and End of self-test algorithm (WDG\_EOA\_S and WDG\_EOA\_C) in STSR1 are combined (logic OR) into one interrupt output. .
- Interrupts of WDGnH and WDGnL are combined on the second interrupt output.

Analog-to-Digital Converter (SAR\_ADC)

- Interrupts of all self-test errors (watchdog threshold, sequence, and timer, that is, WDSERR, WDTERR, ERR\_S0, ERR\_S1, ERR\_S2, and ERR\_C in STSR1 ) are combined on the third interrupt output.

<!-- image -->

The ISR register contains the interrupt pending request status. If you want to clear a particular interrupt event status, then writing one to the corresponding status bit clears the pending interrupt flag (during this write operation all other bits of the ISR register must be maintained at zero).

The ISR must check the following for three different types of interrupts.

For interrupt 1:

- Read ISR to determine if the type of event falls in:
- EOC

- JEOC
- ECH
- JECH
- EOCTU
- Read STSR1 to determine the end of self-test algorithm events (WDG\_EOA\_C / S) (if present).
- If the interrupt is EOC or JEOC:
- Clear the channel pending bit of respective channel in CEOCFRn for EOC or JEOC in ISR.
- Clear ISR[EOC] or ISR[JEOC].
- If the interrupt is ECH or JECH, clear ISR[ECH] or ISR[JECH].
- If the interrupt is EOCTU, clear ISR[EOCTU].
- If the interrupt is for self-test end of algorithm, clear STSR1[WDG\_EOA\_C/S].

For interrupt 2:

- Read WTISR to determine which watchdog is giving the interrupt.
- Read AWORRn to determine which channel's data is creating the interrupt (if present).
- Clear the respective flag of WTISR [WDGnH / WDGnL] (n = watchdog number).
- Clear the respective flag of AWORRn[AWOR\_CHm] (n=register, m=channel).

For Interrupt 3:

- Read STSR1 to determine the type of error that has occurred in self-test (ERR\_S0/S1/S2/C, WDTERR, WDSERR, and so on) (if present).
- Clear the respective flag in STSR1.

The connectivity of interrupt lines at the chip level (external to SAR\_ADC) determines whether software needs to read all the registers for all the interrupts or any one or a combination of any two.

## 58.3.10 DMA

Conversion data of any channel can be transferred from a register to system memory through Direct Memory Access (DMA). The DMA transfers can be enabled by setting DMAE[DMAEN]. When enabled, the on-chip DMA controller can receive a DMA request after the conversion of every channel by setting the respective masking bit in the DMARn registers. The DMA masking registers must be programmed before starting any conversion.

The DMA request to DMA controller can be cleared at different times in two modes:

MODE 1: Clearing of DMA request on acknowledgment from DMA controller (setting DMAE [DCLR] = 0).

MODE 2: Clearing of DMA request on read to data registers (DMAE[DCLR] = 1).

Figure 565 and Figure 566 show the operation of DMA in two modes (cycle counts are for a typical case).

## NOTE

The DMA should complete the read of SAR\_ADC data within the throughput rate of SAR\_ADC. For example, SAR\_ADC can support a maximum throughput rate of 1 MSPS. Thus, DMA should complete a data read within 1 µs after assertion of DMA requests .

Analog-to-Digital Converter (SAR\_ADC)

<!-- image -->

## 58.3.11 Power-Down mode

The analog part along with SAR controller of the ADC can be put in Power-Down mode by setting MCR[PWDN] to shut down ADC hard macro and to stop the clock to SAR controller. After release of reset MCR[PWDN] remains one, so ADC analog module is kept in Power-Down mode by default. This state must be exited before starting any operation by resetting MCR[PWDN].

In Power-Down mode, no conversion can be started. If a CTU trigger pulse is received during power-down, it is discarded. You must ensure that CTU trigger is not initiated to ADC before resetting MCR[PWDN], as it may cause the CTU module to be stuck forever in a wait state.

MCR[PWDN] can be set anytime. If a conversion is ongoing, the ADC cannot move into Power-down mode immediately. SAR\_ADC enters Power-Down mode only after completion of the ongoing conversion. In Scan Operation mode the ongoing operation should be aborted manually by resetting MCR[NSTART] before or after setting MCR[PWDN].

The ADC Power-Down mode status is indicated by MSR[ADCSTATUS] when ADC enters into this mode.

If CTU is enabled, and MSR[CTUSTART] is one, then MCR[PWDN] cannot be set. When CTU Trigger mode is enabled, the application needs to wait for the end of conversion (MSR[CTUSTART] is automatically reset). When CTU Control mode is enabled, before entering Power-Down mode, the application needs to reset MCR[CTUEN] also.

If Power-Down mode is entered by setting MCR[PWDN], the process running before entry into the Power-Down mode must be restarted manually (by setting the appropriate START bit in MCR) after exiting Power-Down mode.

## NOTE

Resetting MCR[PWDN] and setting MCR[NSTART] or MCR[JSTART] during the same cycle is forbidden.

## 58.3.12 Low-power mode support

For low-power operation, the SAR-ADC must be in an Idle state and then put into Power Down state to ensure proper signal condition at the analog boundary.

From any of the states listed below, follow the sequence of steps shown to put the SAR-ADC into a Power Down state.

1. Idle condition:
- a. Verify that SAR\_ADC is in an Idle state (MSR[ADCSTATUS[2:0]] = 000b).
- b. Set MCR[PWDN] to shut off the clock to the hard macro with the proper state of signals required for Low-power mode.
- c. Verify that the ADC is in a Power-down state (MSR[ADCSTATUS[2:0]] = 001b).
2. During calibration:

## NOTE

Setting MCR[PWDN] during calibration is prohibited. Once calibration is started, it should be allowed to finish normally. Alternatively, it can be terminated by starting a normal conversion before setting MCR[PWDN].

- a. Check the current SAR-ADC state through MSR[ADCSTATUS[2:0]] (000b = Idle, 011b = Calibration), or through MSR[CALBUSY] (1 = calibration is in progress).
- b. When the ADC is in an Idle state, set MCR[PWDN] to shut off the clock to the hard macro with the proper state of signals required for Low-power mode.
- c. Verify that the ADC is in a Power-down state (MSR[ADCSTATUS[2:0]] = 001b).
3. During conversion (normal [one-shot]/Injected/CTU):
- a. Set MCR[PWDN].
- b. The SAR-ADC enters into Power-down mode after completing the current conversion chain (for normal and injected conversions) or the conversion for CTU-triggered conversion.
- c. Check the ADC state through MSR[ADCSTATUS[2:0]] (000b = Idle, 001b = power down).
4. During Scan mode operation of normal conversion:

## NOTE

Setting MCR[PWDN] during Scan mode operation has no effect other than to prevent software from starting a new Normal or Injection conversion. It does not stop a conversion in progress and cannot put the ADC into a Power Down state.

- a. Software must write zero to MCR[NSTART] to stop the ongoing scan conversion before (or after) setting MCR[PWDN]. Which stops conversion at the current chain boundary.
- b. The ADC enters Power-down mode after coming to an Idle state after the MCR[PWDN] bit is set. Which shuts off the clock to the hard macro and puts analog inputs in the proper state required for Low-power mode.
- c. Verify that the ADC is in a Power-down state (MSR[ADCSTATUS[2:0]] = 001b).

## 58.3.13 External start feature

This feature allows synchronous conversion of two independent ADC instances operating in parallel. If the ADC is in Idle state (that is, no conversion phase ongoing and MCR[PWDN] and MCR[ACKO] are zero), and MCR[XSTRTEN] is set, an event on the external start signal causes the ADC to start a normal conversion operation. MSR[NSTART] is automatically set.

## 58.3.14 Auto-Clock-Off mode

To reduce the power consumption during Idle state (without going into Power-down mode), an 'Auto-Clock-Off' feature can be enabled by setting MCR[ACKO]. When enabled, the internal SAR operating clock (AD\_CLK) is automatically switched off during idle periods (for example, you cannot program conversions).

## 58.3.15 Calibration

The accuracy of ADC depends on the manufacturing precision of the devices used to build the module (for instance, capacitor size matching, amplifier gain, and so on). Due to variations during manufacturing and various runtime environmental influences (like temperature), the conversion result contains errors.

To reduce or eliminate the various error contribution effects, the ADC provides self-test and calibration features.

In the calibration process, a known reference voltage is sampled and converted under controlled conditions to determine the correction values (calibration values) for offset, gain, and capacitor mismatch.

These calibration values (except gain calibration) are used in a result post-processing step to reduce or eliminate the various error contribution effects. The gain calibration is used during sample phase to define the additional charge to be loaded in order to compensate for gain failure.

Calibration must be performed after every power-up reset (check chip-specific reset connectivity for appropriate reset applied) and whenever required in runtime operation. It is also recommended to run calibration if the operating conditions (particularly VrefH) change. Never apply functional reset during the calibration process. If applied, calibration must be rerun after exiting a reset condition; otherwise, the calibration generated values and conversion results may be unspecified.

Configuring and starting of calibration is done by programming the calibration attributes in MCR register. During calibration, the internal hardware averaging function should be enabled. Maximum averaging is recommended for best performance.

## Calibration time

Clock 40 MHz. (AD\_Clk == (bus\_clock / 2)) (MCR[ADCLKSE] = 0)

Average samples (MCR[NRSMPL])

- 16-327 µs
- 32-654 µs
- 128-2.612 ms
- 512-10.446 ms

The calibration status is captured by status flag (MSR[CALFAIL]) to indicate if any fault is detected during calibration execution, or if  the calibration has aborted at a premature state (calibration is aborted if any normal conversion is initiated during the execution of calibration, which is called premature termination). MSR[CALFAIL] = 1 means a calibration fail and a determined calibration value is out of internal defined limits. It also means that the ADC health may not be good and may not meet specifications.

The results of individual steps are also updated in CALSTAT register (CALSTAT[STAT\_n]). The result of the last failed step is dynamically updated in the same register.

To execute the calibration algorithm, perform the following steps:

1. Wait for deassertion of both calibration and functional reset.
2. Configure desired parameters for calibration in MCR:
- MCR[TSAMP]
- MCR[NRSMPL]
- MCR[AVGEN]
- MCR[ADCLKSE]
3. Set the ADC internal operating clock to 40 MHz (MCR[ADCLKSE] = 0 ). (This setting assumes that ADC input clock is set to 80 MHz.)

Analog-to-Digital Converter (SAR\_ADC)

4. Exit power-down state (MCR[PWDN] = 0).
5. Start calibration (MCR[CALSTART] = 1). Calibration starts immediately.
6. Check the status of MSR[CALBUSY] periodically. Wait until it becomes zero (alternatively, MSR[ADCSTATUS] can be monitored until it indicates an idle condition).
7. Check the fail flag (MSR[CALFAIL]) to learn the final status. If it is set to one, then calibration failed.
8. Check the pass/fail status of each calibration step in the CALSTAT register to look for failures.
9. At the end, check the status of MSR[CALIBRTD]. If calibration is successful this bit sets to one.

## 58.3.16 Self-test

For safety applications, it is important to check at regular intervals whether SAR\_ADC is operating correctly. For this purpose, a self-test feature is provided. When self-test is enabled, SAR\_ADC automatically checks its components and flags any errors it finds.

The test can be enabled to check the supply voltage (V DD), reference voltage (V refH ), and calibrated values.

The following test algorithms have been implemented:

- Supply self-test (algorithm S): It includes the conversion of the band gap, supply, and VREF voltages. It includes a sequence of 3 test conversions (steps). The supply test conversions must be an atomic operation (that is, all supply algorithm conversions must be performed one after another with no functional conversions in between).
- Capacitive self-test (algorithm C): It includes a sequence of test steps per definition of algorithm C (See Table 563) which executes the capacitive matrix of the CDAC used for sampling and conversion.

Individual steps can take up to 1 µs at 80 MHz SAR\_ADC clock frequency.

## Table 563. Self-test steps

| STCR3[ALG]        | STCR3 [Step] (per algorithm definition)   | Description                                                     | Outcome                                                                                                                                                                                                             | Comment                                                                                                         |
|-------------------|-------------------------------------------|-----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| '00'(algorithm S) | 0                                         | Supply self-test (band gap voltage)                             | Measures the internal band gap voltage                                                                                                                                                                              | Band gap is considered as a constant with very little variation across temperature and process.                 |
| '00'(algorithm S) | 1                                         | Supply self-test (analog supply)                                | Measures the analog supply for SAR_ADC                                                                                                                                                                              |                                                                                                                 |
| '00'(algorithm S) | 2                                         | Supply self- test (reference voltage high)                      | Measures the high reference voltage of SAR_ADC                                                                                                                                                                      |                                                                                                                 |
| '01' (Reserved)   | Reserved                                  |                                                                 |                                                                                                                                                                                                                     |                                                                                                                 |
| '10'(algorithm C) | 0-11                                      | Capacitive self-test: One of the calibration steps is being run | The difference/error of individual offset value from the previously calibrated value is being returned as SAR_ADC result that is compared with programmed value in analog watchdog register(s) to detect any fault. | The result value should be compared with analog watchdog values. See Self-test analog watchdog for more detail. |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table 563. Self-test steps (continued)

| STCR3[ALG]          | STCR3 [Step] (per algorithm definition)   | Description                                                      | Outcome                                                                                                 | Comment   |
|---------------------|-------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|-----------|
|                     |                                           |                                                                  | The difference or error may be caused by any runtime fault, runtime accuracy shift, or by device noise. |           |
| '11'(algorithm S+C) | 0-2 (S) 0-11 (C)                          | Supply for One-Shot and (Supply + Capacitive) for Scan mode only | Same as above                                                                                           |           |

In case some failure occurs in any step of the algorithm, ADC: Schedules self-testing algorithms using configuration registers Monitors the conversion result using analog watchdog registers Flags the error to a fault control unit (FCCU), if it exists.

Self-test steps can be activated from software (CPU).

| ADC mode                 | TEST algorithm (CPU)            |
|--------------------------|---------------------------------|
| CPU mode (MCR.CTUEN = 0) | Yes • One-Shot mode • Scan mode |

## NOTE

ADC self-test should be run with MCR[ADCLKSE] bit set to 1. Self-test with ADCLKSE bit set to 0 can give erroneous results.

## 58.3.16.1 CPU mode

In this case, test conversion works similar to normal conversion. The self-test is enabled by setting STCR2[EN].

The self-test conversions are run with the functional conversions. The sequencing of steps of the selected algorithm depends on the operating mode of normal conversions as selected by MCR[MODE].

In One-Shot mode, if self-test is enabled, only one step of the selected self-testing algorithm is executed at the end of the chain. The step number and algorithm to be executed are programmed in STCR3. So, in One-Shot mode the sequence is as follows:

1. Program NCMRn to select channels to be converted for normal conversion.
2. Program MCR[MODE] = 0 to select One-Shot mode.
3. Program sampling duration values in STCR1[INPSAMPn] field. (x = S,C).
4. Select the self-testing algorithm in STCR3[ALG] and step STCR3[MSTEP]. Default is Algorithm S step 0.
5. Enable self-testing by setting STCR2[EN].
6. Start the normal conversion by setting MCR[NSTART].
7. All normal conversions are executed as usual.
8. At the end of all the normal conversions in the chain, step number programmed in STCR3[MSTEP] field of self-testing algorithm selected by STCR3[ALG] is executed, similar to a normal functional channel.

Analog-to-Digital Converter (SAR\_ADC)

9. On the receiving end of the conversion for test channel, the result is written in STDR1[TCDATA], and STDR1[VALID] is set. ISR[EOC], ISR[ECH] are set, and so is STSR1[ST\_EOC].
10. ADC returns to Idle state.

For example: Channels A-B-C-D-E-F-G-H are present in the device where channels B-D-E are to be converted in One-Shot mode. At the end of conversion for channels B-D-E, self-test conversion is done and ISR[ECH] and ISR[EOC] are set. The sequence is B→D→E→self-test step.

MSR[NSTART] is automatically set when the normal conversion starts and is reset at the end of conversion for test channel.

In Scan mode, consecutive steps of the selected self-test algorithm are converted continuously at the end of each chain of normal conversions. The number of channels converted at the end of each chain is one (except for Algorithm S, in which all the steps are performed at once without any functional conversion interleaved). So, in Scan mode the sequence is as follows.

1. Program NCMRx to select channels to be converted for normal conversion.
2. Program MCR[MODE] = 1 to select Scan mode.
3. Select the self-testing algorithm in STCR3[ALG]. By default, all algorithms (supply and capacitive) are selected that is, all algorithms will be executed step-by-step one after the other.
4. Enable self-testing by setting STCR2[EN].
5. Start the normal conversion by setting MCR[NSTART].
6. All normal conversions are executed as usual.
7. At the end of chain of the normal conversions (assuming default value of STCR3[ALG]) all steps of Algorithm S are performed (as Algorithm S is always atomic). MSR[SELF\_TEST\_S] is set.
8. On receiving end of conversion of test channel for last step of Algorithm S:
- The result is written in STDR1[TCDATA] and STDR1[VALID] is set.
- At the same time, MSR[SELF\_TEST\_S] is reset.
- For Step 1, the integral part and fractional part are written in STDR2[IDATA] and STDR2[FDATA].
- Also, EOC and ECH bits are set in ISR register and ST\_EOC is set in STSR2.
9. The next chain of normal conversion then starts.
10. At end of the normal conversion chain, Step0 of algorithm C is executed.
11. On the receiving end of conversion of test channel for Step0 of algorithm C:
- The result is stored in STDR1[TCDATA] and STDR1[VALID] is set (if MCR[OVERWR] is set).
- Also, EOC and ECH bits are set in ISR register and ST\_EOC is set in STSR2.
12. Then the next chain of normal conversion starts.
13. At end of the normal conversion chain, Step1 of algorithm C is executed.
14. This process continues for all the steps of all three algorithms.
15. ADC returns to Idle state when MCR[NSTART] is written to 0.

For example: channels A-B-C-D-E-F-G-H are present in the device where channels B-D-E are to be converted in Scan mode. At the end of every conversion chain for channels B-D-E, one step of self-test conversion is done and ISR[ECH] and ISR[EOC] are set.

The sequence is:

1. B→D→E→ST-S0→ST-S1→ST-S2→B→D→E→ST-C0→B→D→E→ST-C1→B→D→E→ST-C2→ . . . B→D→E→STC11→B→D→E→ST-S0 . . .
2. ST-Sx - Self-test supply step x (x = 0,1,2)
3. ST-Cx - Self-test capacitive step x (x = 0 to 11)

MCR[NSTART] is automatically set when the normal conversion starts.

## NOTE

The self-test behavior is still the same if normal conversion is started by software (by setting MCR[NSTART]) instead of by external trigger.

In case of Injected Conversion modes, test channel conversion is not performed. It is performed only during normal conversions.

If during a test channel conversion, injection conversion begins, then the test conversion is aborted (as with a normal functional channel) and Injected Conversion modes are completed. After Injected Conversion modes are completed, the test conversion resumes from the step at which it was aborted. In this case, MSR[SELF\_TEST\_S] remains high during Injected Conversion mode.

For self-testing, the mode bit must be programmed at least one cycle before setting MCR[NSTART], and should not be changed thereafter until the conversion is finished or terminated.

## 58.3.16.2 Abort and abort chain for self-testing channel

Setting MCR[ABORT] during self-test channel conversion has no effect.

In One-Shot Operation mode, if MCR[ABORTCHAIN] is set when test channel conversion is ongoing, the test channel conversion is aborted and ISR[ECH] is set. In this case, ISR[EOC] for test channel is not generated.

In Scan Operation mode, if MCR[ABORTCHAIN] is set when test channel Step n is ongoing, the test channel Step n is aborted and next the chain conversion starts. At the end of this chain, Step n conversion is performed again. (In the case of Algorithm S, the full algorithm is executed again).

## 58.3.16.3 Self-test analog watchdog

The ADC digital interface also provides monitors for the conversion data for self-test algorithms. The analog watchdogs are used to determine whether the result of conversion for self-test algorithms is in the range of a particular guard area. For this purpose, separate self-test analog watchdog registers have been provided for each algorithm.

After the conversion of each step of an algorithm, a comparison is performed between the converted value and the threshold values if the analog watchdog feature is enabled by setting STAWnR[AWDE]. If the converted value does not lie between the upper and lower threshold values specified by Analog Watchdog Register of the particular algorithm, corresponding error bit STSR1[ERR\_Sn] is set and the step number in which the error occurred is updated in STSR1[STEP\_C] (in case of algorithm C). Also, erroneous data is written in the STSR4[DATAn] field. The STSR1[ERR\_Sn] fields generate an interrupt if enabled by the corresponding mask bit in STCR2. The fault indication is also given to the fault control unit, if present, through critical and non-critical fault lines, so that necessary action can be taken at the chip level. Configuration in STCR2 register decides the choice between critical and noncritical type.

The analog watchdog feature works differently in algorithm S. As already mentioned, algorithm S is always an atomic operation. So, separate error bits are provided in STSR1 for each Step of algorithm S to avoid overwriting if error occurs in more than one Step. Hence, there are separate mask bits for each step in STCR1. For the same reason, separate fields exist in status registers (STSR2 and STSR3) to store erroneous data for each step.

In step0 of the supply algorithm, ADC measures the band gap voltage (+1.15 V), which is assumed to be stable. The conversion result of Step0 is measured with high (THRH) and low (THRL) thresholds defined in STAW0R if enabled (STAW0R[AWDE] = 1). STSR1[ERR\_S0] is set to one if either threshold is violated. After set, it is cleared by writing a one to it.

For algorithm S Step1, a fixed-point division is performed, which takes about 26 cycles after EOC for Step1 to receive the divided value. It is used for analog watchdog checks. So, the value to be compared for Step1 contains the integer as well as fractional part-thus, two registers (STAW1AR and STAW1BR) are provided.

The comparison is done first for the integer part using the threshold values programmed in STAW1AR. If the integer part lies in the range, the fractional part comparison is skipped; otherwise it is compared to the values programmed in STAW1BR. The following table summarizes this feature for Step1.

Table 564. Algorithm S (Step1) threshold comparison

| STDR2[IDATA] (integer part)   | STDR2[FDATA] (fractional part)   | STSR1[ERR_S1]   |
|-------------------------------|----------------------------------|-----------------|
| > STAW1AR[THRH]               | Any value                        | Set             |
| < STAW1AR[THRL]               | Any value                        | Set             |
| == STAW1AR[THRH]              | > STAW1BR[THRH]                  | Set             |
| == STAW1AR[THRL]              | < STAW1BR[THRL]                  | Set             |

For algorithm S Step2, VREF/VREF is measured in order to check the integrity of the sampling signal. For this particular conversion, no higher threshold value is required, as the ideal value is FFFh. Only the lower threshold value is programmed in STAW2R.

For algorithm C, a separate register is provided for Step0. In Step0, an offset for other steps is measured. The converted data is compared with the threshold values provided by STAW5R if STAW4R[AWDE] is set. For other steps, this offset is subtracted from converted data before performing watchdog checks.

The recommended analog watchdog threshold values are set according to the expected and tested results with a clean environment (noise introduction from external environment minimized) for ADC operation. In a noisier setup, running the self-test with these analog watchdog values may cause failures. To overcome these failures, you can relax the threshold values if the needs of the application can tolerate the existing noise level. The more the threshold values are relaxed, the more the magnitude of true error that can pass. For example, looking at the values for the STAW4R and STAW5R registers, THRH of 010h (16d) and THRL of FF0h (-16d), means that the algorithm C fails for an error of magnitude greater than (16/8 = 2) 2LSB@12b. This is the recommended value for a clean environment.

Similarly, THRH of 020h (32d) and THRL of FE0h (-32d) means that the algorithm C fails for an error of a magnitude greater than 4LSB@12b. Thus to pass the self test in a noisy environment where the application can live with the noise level, the thresholds can be relaxed from ±40 to ±64 or as needed. However, it is preferable that the environment is cleaned up to match the expectation for better operation instead of relaxing the thresholds. Relaxing the thresholds too much (more than ±64) leads to a false pass, and is not recommended for safety applications.

Relaxation of the self-test thresholds due to noise does not directly relate to normal use conversions, and it is not possible to tell what the noise impact to those measurements is with respect to the threshold relaxation. The noise is application-specific and not under control/judgment of the chip. In this scenario, not passing with the default threshold values is caused by external noise and not by the constituent capacitors. Limits are relaxed knowing that there is noise in the system that rides on top of the actual capacitor error, and the magnitude of the noise component is so high that limits should be relaxed as a result. Thus in reality whenever tests are run environment noise will be there, and if there is any true shift of the capacitor error noise it will be added to this environment noise, and should result in a violation of the relaxed threshold limits. The self-test is designed to catch and flag runtime and catastrophic errors. It is not able to, and not meant to, test for specification limits.

## 58.3.16.4 S1 algorithm: calculated voltage comparison method

The software can implement a method of calculating S1 algorithm STDR2[IDATA], STDR2[FDATA], THRHLRn[THRH] and THRHLRn[THRL] voltage values, then perform a comparison to the calculated THRH and THRL voltages.

The steps involved in this method are as follows:

1. Calculate the high threshold voltage: (STAW1AR[THRH] + (STAW1BR[THRH] / 4096)) × VBANDGAP
2. Calculate the low threshold voltage: (STAW1AR[THRL] + (STAW1BR[THRL] / 4096)) × VBANDGAP
3. Calculate the converted results to voltage: (STDR2[IDATA] + (STDR2[FDATA] / 4096)) × VBANDGAP

Analog-to-Digital Converter (SAR\_ADC)

4. Compare result from step 3 to THRH and THRL. S1 algorithm passes if low threshold voltage ≤ converted voltage ≤ high threshold voltage.

## 58.3.16.5 Watchdog timer

The watchdog timer is an additional check which monitors the sequence of the self-testing algorithm implemented. It also verifies that the algorithm is completed within a safe time period. The watchdog timers can be enabled for CPU conversions.

Each algorithm has a different watchdog timer which runs independently of the other. The watchdog timer for a particular algorithm can be enabled by setting STAWnR[WDTE]. The safe time value can be programmed in STBRR[WDT] (default value is 10 ms assuming an 80 MHz clock).

The safe time is measured starting from Step0 of the algorithm (including all normal chain conversions in between) to the point where Step0 of the same algorithm starts again.

The programming sequence is as follows:

1. Program NCMRn to select the channels on which conversion needs to be performed for normal conversion in Scan Operation mode (MCR[MODE] = 1).
2. Select the self-testing algorithm in STCR3[ALG]. By default, all algorithms (supply and capacitive) are selected, that is, all algorithms will be executed step-by-step one after the other.
3. Enable self-testing channel by setting STCR2[EN].
4. Program safe period value in STBRR[WDT].
5. Enable watchdog timer by setting STAWnR[WDTE]. Assume setting of STAWnR[WDTE] to be 't0'. It is important to do all the programming first and then enable STAWnR[WDTE], as the safe time check is also performed between setting STAWnR[WDTE] and the start of Step0. This step checks that the algorithm has started within the safe time.
6. Start the normal conversion by setting MCR[NSTART].
7. At the end of the first conversion chain, three steps (Step 0/1/2) of algorithm S are executed in sequence. Let us assume the start of Step0 to be 't1'.
8. After completion of algorithm S, conversion of the next chain is performed.
9. At the end of the conversion chain, the first Step (Step0) of algorithm C is performed.
10. In this way, one Step of algorithm C is performed after completion of one conversion chain until all the steps have been completed. Steps are executed in sequence (Step 0, 1, 2, . . 11).
11. After the last step of algorithm C, another chain conversion is executed. At the end of this chain conversion, Step0 of algorithm S is started again, thus repeating the whole sequence. Let's assume this time (starting of Step0 of Supply algorithm) to be 't2'.
12. For S algorithm, if (t1-t0) &gt; Safe Period or (t2-t1) &gt; Safe Period, the watchdog timer flags an error and STSR1[WDTERR] is set. A fault is asserted on the specified module port as per criticality configuration (Critical or Non-critical), and an interrupt is also generated if enabled by STCR2[MSKWDTERR]. Otherwise, the watchdog timer counter is reset and starts again to monitor the same for the next sequence.
13. A similar sequence is followed for watchdog timers for algorithm C.

<!-- image -->

## NOTE

You must ensure that watchdog timers are disabled for self-test algorithms which are not executed.

## 58.3.16.5.1 Watchdog sequence checking

The watchdog timer also incorporates sequence checking features that check that the steps of a particular algorithm are in correct order. If steps are not in correct order, an error is flagged by setting STSR1[WDSERR]. A fault is indicated by an interrupt flag if enabled by STCR2[MSKWDSERR]. A fault is also asserted on the specified module port as per criticality configuration (Critical or Non-critical) and an interrupt generated if enabled by STCR2[MSKWDSERR].

A watchdog sequence error is flagged in the following cases:

- If steps of any algorithm are not executed in proper order.
- If abort chain occurs during test channel conversion. That step has to be repeated at the end of the next chain. This gives a sequence error when test channel conversion starts again.
- Exception: If abort chain occurs during the last step of Algorithm S, then a sequence error is not flagged as the whole algorithm has to be repeated again.

If injected conversion occurs during the test channel conversion, a watchdog sequence error is NOT flagged although the ongoing step number is aborted and is repeated again.

## NOTE

Watchdog timer feature is applicable only for Scan Operation mode and not for One-Shot Operation mode.

## 58.3.16.6 Baud rate control for test channel

Baud rate control defines the scheduling of the test channel between the normal conversion chain. STBRR[BR] specify the scheduling rate.

By default, if a test channel is enabled, one step of the selected algorithm is executed after every chain of normal conversion. The bandwidth consumed by a test channel depends on the number of channels in a normal chain. For example, if we have 50 normal conversions in a chain, then a test channel consumes only 2% of total bandwidth. But if the number decreases to just 3 channels, then the bandwidth consumed by a test channel is 25%, which is significant (and may not be desirable as it slows down the normal conversion rate).

STBRR[BR] provides flexibility by scheduling the test channel conversion to be performed not at the end of every chain, but at the end of BR+1 number of chains. For example, if BR = 5, a single step of the selected algorithm for a test channel is performed after six chain conversions, then the next step is performed at the end of the next six chain conversions, and so on. By default, the value of BR is zero.

## NOTE

This feature is applicable only for Scan Operation mode of operation and not for One-Shot Operation mode. STBRR[BR] should be set to zero for One-Shot Operation mode.

To use the baud rate feature in Scan Operation mode, NCMR should have a non-zero value.

## 58.3.16.6.1 Abort chain when baud rate is non-zero

As already described, for a non-zero value of STBRR[BR], the test channel conversion is performed at the end of (BR+1) number of chains. If an abort chain occurs during the chain in which test conversion is scheduled to be converted, then test conversion is done after the next (BR+1) number of chains.

For example, if STBRR[BR] is programmed to two, the sequence will be two normal chains (without any test channel conversion) followed by a chain with test channel converted at the end. Now, if an abort chain occurs during the first two chains, it is treated as a normal chain abort and test channel is converted at the end of the third chain only (as is the case without any abort chain). But if an abort chain occurs during the third chain in which the test channel is scheduled to be converted, then the test channel is converted after the next three chains, that is at the end of sixth chain (counting from the beginning).

Analog-to-Digital Converter (SAR\_ADC)

## 58.3.17 Offset and gain values

Offset and gain errors in ADC are compensated by its calibration mechanism. However, there could be a source of errors outside the ADC module (for example, at system and/or board level). These errors can potentially contribute to ADC static errors and lower the overall TUE observed when an application runs. To compensate for these errors, there is a set of offset and gain values that you can program in User OFFSET and Gain (USROFSGN). By programming this register appropriately, the complete system's TUE can be enhanced (calibrated), when impacted by errors other than ADC itself.

These values (GAIN\_USER and OFFSET\_USER) must be stored in 2's complement format as described in the register section (see User OFFSET and Gain (USROFSGN)). The values stored here are being considered by SAR\_ADC engine and being computed/adjusted for every output. Using this register to compensate offset and gain is described below.

## 58.3.17.1 Writing for 12-bit ADC

## 58.3.17.1.1 Gain compensation (GAIN\_USER)

The ADC can compensate a maximum of ±63 LSB @12b gain by programming GAIN\_USER field in USROFSGN register. The field is in 2's complement format and stored with an 8x multiplication. Thus, if a value of ± Y is stored in this field, it leads to a final result adjusted with ±(Y/8) LSB from its unprogrammed version. It is required to keep the 3-LSBs zero to avoid any fractional subtraction/multiplication related errors.

ADC\_OUTPUT\_NEW = ADC\_OUTPUT\_OLD × (1 + (GAIN\_USER / (8 × 4096))).

## Example:

```
For GAIN_USER = 0, result is ADC_OUTPUT_NEW = ADC_OUTPUT_OLD = P For GAIN _USER = +Y, result is ADC_OUTPUT_NEW = P × (1 + (Y / 32768)) For GAIN _USER = -Y, result is ADC_OUTPUT_NEW = P × (1 - (Y / 32768))
```

## 58.3.17.1.2 Offset compensation (OFFSET\_USER)

The ADC can compensate a maximum of ±15LSB @12b offset by programming OFFSET\_USER field in USROFSGN register. The field is in 2's complement format and stored with an 8x multiplication. Thus, if a value of ±X is stored in this field, it leads to a final result adjusted with ±(X/8) from its unprogrammed version. It is required to keep the 3-LSBs zero to avoid any fractional subtraction-related errors.

ADC\_OUTPUT\_NEW = ADC\_OUTPUT\_OLD - (OFFSET\_USER/8)

## Example:

```
For OFFSET_USER = 0, result is ADC_OUTPUT_NEW = ADC_OUTPUT_OLD = K For OFFSET_USER = +X, result is ADC_OUTPUT_NEW = K - (X / 8) For OFFSET_USER = -X, result is ADC_OUTPUT_NEW = K - (-X / 8) = K + (X / 8)
```

## 58.3.17.1.3 Using OFFSET\_USER and GAIN\_USER together

When both the fields are programmed together, gain is computed first and then offset is computed.

ADC\_OUTPUT\_NEW = (ADC\_OUTPUT\_OLD × (1 + (GAIN\_USER / (8 × 4096)))) - ((OFFSET\_USER / 8)).

## Example:

For OFFSET\_USER = 0 and GAIN\_USER = 0, result is ADC\_OUTPUT\_NEW = ADC\_OUTPUT\_OLD = M

For OFFSET\_USER = X and GAIN\_USER = Y, result is ADC\_OUTPUT\_NEW = (M x (1 + (Y / 32768))) - (X / 8)

## NOTE

```
Negative values are stored in 2's complement in these fields. Example: GAIN_USER = 1F0h means +496d, and 210h means -496d OFFSET _USER = 70h means +112d, and 90h means -112d
```

Analog-to-Digital Converter (SAR\_ADC)

## 58.4 External signals

Also see the Block diagram section.

## Table 565. External signals

| Signal description      | Direction   | Width                  | Function      |
|-------------------------|-------------|------------------------|---------------|
| ADC_CH0 - ADC_CH( n -1) | Input       | n (number of channels) | Analog inputs |
| Injection start trigger | Input       | 1                      | Control       |
| Normal start trigger    | Input       | 1                      | Control       |

## 58.5 Initialization

ADC must be programmed properly to function correctly. This section describes the basic programming sequences for applications to use. Application software may use them in combination by sequencing them carefully.

## 58.5.1 Running calibration

Calibration is the first step that should be run after every power-on reset. ADC has two types of reset:

- Calibration
- Functional

Calibration reset is used for registers that store internal calibration settings and values. This reset is done to store them during functional reset. Functional reset may be applied many times during an application for various reasons and calibration may not be required each time, so storing the settings and values in a higher level of reset avoids recalibration with every functional reset.

1. Wait for deassertion of functional reset.
2. Configure SAR controller operating clock (MCR[ADCLKSE] = 0).
3. Bring ADC out of Power-down state (MCR[PWDN] = 0).
4. Configure desired calibration settings (default values kept for highest accuracy maximum time).
- MCR[TSAMP]: Sample time for calibration conversion
- MCR[NRSMPL]: Number of samples in averaging
- MCR[AVGEN]: Averaging function enable in calibration
5. Run calibration by writing a one to MCR[CALSTART].
6. Check calibration run status in MSR[CALBUSY]-wait until MSR[CALBUSY] = 0; alternatively, MSR[ADCSTAT] can be used to check status.
7. Check calibration pass/fail status in MSR[CALFAIL] field. If MSR[CALFAIL] = 1 then calibration failed. Detailed status can be checked in CALSTAT.

## 58.5.2 Running normal conversion

Normal conversion mode should usually be used to convert analog samples most of the time in an application, unless there is a special need. There are other modes available for special requirements as described in later sections of this document. Normal conversions can be initiated by software trigger or by hardware trigger. Calibration should be done before running any conversion to ensure an accurate result.

1. Configure channel mask registers NCMRn, for different channel groups.
2. Configure desired sample time in CTRn, for different channel groups.
3. Configure interrupt mask registers, IMR for global and CIMRn, for different channel groups.
4. Configure DMA registers, DMAE, and DMARn, for different channel groups.

Analog-to-Digital Converter (SAR\_ADC)

Analog-to-Digital Converter (SAR\_ADC)

5. Configure pre-sampling registers, if needed, PSCR and PSRn, for different channel groups (if needed).
6. Configure watchdogs in WTIMR
7. Configure One-Shot or Scan mode in MCR[MODE] and other settings (MCR[WLSIDE], MCR[OWREN], and so on).
8. Start conversion by writing one to MCR[NSTART].
9. Check EOC status in ISR or wait for interrupt.
10. On interrupt read the data register, or DMA will read out data if configured.
11. Status of conversion for individual channel can be seen in CEOCFRn.
12. Clear the registers by writing one to the fields.
13. Steps 9 to 12 will continue in loop until conversion finishes or is terminated.

## 58.5.3 Running injected conversion

Injected conversion has a higher priority than normal conversion and it runs in One-Shot mode only. It can be started in idle condition or when normal conversion is in process. The configuration sequence is almost similar to normal conversion above, except for the registers discussed in the following steps.

1. Channel mask register JCMRn, is used for different channel groups.
2. Configure other channel attributes as done in normal conversion.
3. Start conversion by writing 1b to MCR[JSTART].
4. Check status of ISR[JEOC] or wait for interrupt.
5. Read out conversion data and clear interrupts as done in normal conversion.
6. Configure channel mask registers NCMRn for different channel groups.
7. Configure desired sample time in CTRn for different channel groups.
8. Configure interrupt mask registers, IMR for global and n, for different channel groups.
9. Configure DMA registers, DMAE and DMARn, for different channel groups.
10. Configure presampling registers, if needed, PSCR and PSRn, for different channel groups (if needed).
11. Configure watchdogs in WTIMR.
12. Configure One-Shot or Scan mode in MCR[MODE] and other settings (MCR[WLSIDE], MCR[OWREN], and so on).
13. Start conversion by writing 1b to MCR[NSTART].
14. Check status of ISR[EOC] or wait for interrupt.
15. On interrupt, read the data register or DMA will read out data if configured.
16. Status of conversion for an individual channel can be seen in CEOCFRn.
17. Clear the registers by writing one to the bits.
18. Steps 9 to 12 will continue in loop until conversion finishes or is terminated.

## 58.5.4 Running CTU triggered conversion

CTU conversion has a higher priority than normal or injected conversion and runs only a single conversion. It can be started in the idle condition or when normal or injected conversion is in progress. Conversions initiated by the CTU (one channel per trigger) are processed immediately by suspending normal conversions and discarding any ongoing injected conversion chain. The configuration sequence is similar to normal conversion above except for the following steps:

1. Enable CTU conversion in MCR[CTUEN].
2. Start CTU trigger.

3. Check EOCTU status in ISR.

## 58.5.5 Running self-test

Self-test conversions run after a programmable number of normal conversion chains. To run normal conversions, additional configurations for self-test need to be implemented before starting normal conversion (as shown in Self-test). Also, you may need to configure the self-test watchdog, timer, and baud rate as described in Self-test analog watchdog.

## 58.6 SAR\_ADC register descriptions

Addresses outside the space defined in this section, as well as unused addresses between registers, are reserved. Do not read from or write to reserved spaces.

## 58.6.1 SAR\_ADC memory map

ADC\_0 base address: 401F\_8000h

ADC\_1 base address: 402E\_8000h

| Offset   | Register                                    |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------|-------------------|----------|---------------|
| 0h       | Main Configuration (MCR)                    |                32 | RW       | 0000_3901h    |
| 4h       | Main Status (MSR)                           |                32 | RW       | 0000_0001h    |
| 10h      | Interrupt Status (ISR)                      |                32 | RW       | 0000_0000h    |
| 14h      | Channel Pending 0 (CEOCFR0)                 |                32 | RW       | 0000_0000h    |
| 18h      | Channel Pending 1 (CEOCFR1)                 |                32 | RW       | 0000_0000h    |
| 20h      | Interrupt Mask (IMR)                        |                32 | RW       | 0000_0000h    |
| 24h      | Channel Interrupt Mask 0 (CIMR0)            |                32 | RW       | 0000_0000h    |
| 28h      | Channel Interrupt Mask 1 (CIMR1)            |                32 | RW       | 0000_0000h    |
| 30h      | Watchdog Threshold Interrupt Status (WTISR) |                32 | RW       | 0000_0000h    |
| 34h      | Watchdog Threshold Interrupt Mask (WTIMR)   |                32 | RW       | 0000_0000h    |
| 40h      | DMAE (DMAE)                                 |                32 | RW       | 0000_0000h    |
| 44h      | DMA 0 (DMAR0)                               |                32 | RW       | 0000_0000h    |
| 48h      | DMA 1 (DMAR1)                               |                32 | RW       | 0000_0000h    |
| 60h      | Analog Watchdog Threshold 0 (THRHLR0)       |                32 | RW       | 0FFF_0000h    |
| 64h      | Analog Watchdog Threshold 1 (THRHLR1)       |                32 | RW       | 0FFF_0000h    |
| 68h      | Analog Watchdog Threshold 2 (THRHLR2)       |                32 | RW       | 0FFF_0000h    |
| 6Ch      | Analog Watchdog Threshold 3 (THRHLR3)       |                32 | RW       | 0FFF_0000h    |
| 80h      | Presampling Control (PSCR)                  |                32 | RW       | 0000_0000h    |
| 84h      | Presampling 0 (PSR0)                        |                32 | RW       | 0000_0000h    |
| 88h      | Presampling 1 (PSR1)                        |                32 | RW       | 0000_0000h    |
| 94h      | Conversion Timing 0 (CTR0)                  |                32 | RW       | 0000_0014h    |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Offset      | Register                                  |   Width (In bits) | Access   | Reset value   |
|-------------|-------------------------------------------|-------------------|----------|---------------|
| 98h         | Conversion Timing 1 (CTR1)                |                32 | RW       | 0000_0014h    |
| A4h         | Normal Conversion Mask 0 (NCMR0)          |                32 | RW       | 0000_0000h    |
| A8h         | Normal Conversion Mask 1 (NCMR1)          |                32 | RW       | 0000_0000h    |
| B4h         | Injected Conversion Mask 0 (JCMR0)        |                32 | RW       | 0000_0000h    |
| B8h         | Injected Conversion Mask 1 (JCMR1)        |                32 | RW       | 0000_0000h    |
| C0h         | User OFFSET and Gain (USROFSGN)           |                32 | RW       | 0000_0000h    |
| C8h         | Power Down Exit Delay (PDEDR)             |                32 | RW       | 0000_0000h    |
| 100h - 11Ch | Precision Channel n Data (PCDR0 - PCDR7)  |                32 | R        | 0000_0000h    |
| 180h - 19Ch | Internal Channel n Data (ICDR32 - ICDR39) |                32 | R        | 0000_0000h    |
| 280h        | Analog Watchdog Threshold 4 (THRHLR4)     |                32 | RW       | 0FFF_0000h    |
| 284h        | Analog Watchdog Threshold 5 (THRHLR5)     |                32 | RW       | 0FFF_0000h    |
| 288h        | Analog Watchdog Threshold 6 (THRHLR6)     |                32 | RW       | 0FFF_0000h    |
| 28Ch        | Analog Watchdog Threshold 7 (THRHLR7)     |                32 | RW       | 0FFF_0000h    |
| 2B0h        | Channel Watchdog Select 0 (CWSELR0)       |                32 | RW       | 0000_0000h    |
| 2C0h        | Channel Watchdog Select 4 (CWSELR4)       |                32 | RW       | 0000_0000h    |
| 2E0h        | Channel Watchdog Enable 0 (CWENR0)        |                32 | RW       | 0000_0000h    |
| 2E4h        | Channel Watchdog Enable 1 (CWENR1)        |                32 | RW       | 0000_0000h    |
| 2F0h        | Analog Watchdog Out of Range 0 (AWORR0)   |                32 | RW       | 0000_0000h    |
| 2F4h        | Analog Watchdog Out of Range 1 (AWORR1)   |                32 | RW       | 0000_0000h    |
| 340h        | Self-Test Configuration 1 (STCR1)         |                32 | RW       | 1800_A000h    |
| 344h        | Self-Test Configuration 2 (STCR2)         |                32 | RW       | 0000_0005h    |
| 348h        | Self-Test Configuration 3 (STCR3)         |                32 | RW       | 0000_0300h    |
| 34Ch        | Self-Test Baud Rate (STBRR)               |                32 | RW       | 0005_0000h    |
| 350h        | Self-Test Status 1 (STSR1)                |                32 | RW       | 0000_0000h    |
| 354h        | Self-Test Status 2 (STSR2)                |                32 | R        | 0000_0000h    |
| 358h        | Self-Test Status 3 (STSR3)                |                32 | R        | 0000_0000h    |
| 35Ch        | Self-Test Status 4 (STSR4)                |                32 | R        | 0000_0000h    |
| 370h        | Self-Test Data 1 (STDR1)                  |                32 | R        | 0000_0000h    |
| 374h        | Self-Test Data 2 (STDR2)                  |                32 | R        | 0000_0000h    |
| 380h        | Self-Test Analog Watchdog 0 (STAW0R)      |                32 | RW       | 0BA4_0992h    |
| 384h        | Self-Test Analog Watchdog 1A (STAW1AR)    |                32 | RW       | 0001_0001h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                               |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------|-------------------|----------|---------------|
| 388h     | Self-Test Analog Watchdog 1B (STAW1BR) |                32 | RW       | 0B33_0586h    |
| 38Ch     | Self-Test Analog Watchdog 2 (STAW2R)   |                32 | RW       | 0000_0FF5h    |
| 390h     | Self-Test Analog Watchdog 3 (STAW3R)   |                32 | R        | 0000_0000h    |
| 394h     | Self-Test Analog Watchdog 4 (STAW4R)   |                32 | RW       | 0028_0FD8h    |
| 398h     | Self-Test Analog Watchdog 5 (STAW5R)   |                32 | RW       | 0028_0FD8h    |
| 39Ch     | Calibration Status (CALSTAT)           |                32 | R        | 0000_0000h    |

## 58.6.2 Main Configuration (MCR)

## Offset

| Register   | Offset   |
|------------|----------|
| MCR        | 0h       |

## Function

Contains fields for performing the main configuration.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                            |
|---------|-------------------------------------------------------------------------------------|
| 31      | Overwrite Enable                                                                    |
| OWREN   | Specifies whether the latest conversion overwrites current value in data registers. |
|         | 0b - Older valid conversion data is not overwritten by newer conversion data        |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 1b - Newer conversion result is always overwritten, irrespective of the validity of older conversion data                                                                                                                                                                                                                                                                                                                                                                                                |
| 30 WLSIDE | Write Left Side Selects whether conversion data is left or right aligned. 0b - Write right-aligned conversion data (from 11 to 0) 1b - Write left-aligned conversion data (from 15 to 4)                                                                                                                                                                                                                                                                                                                 |
| 29 MODE   | Normal Scan Mode Select Selects between One-Shot or Scan Operation modes; MODE must be changed in ADC's Idle condition (check MSR [ADCSTATUS] field). In One-Shot Operation mode, configuration for one chain conversion in Normal Conversion mode takes place. In Scan Operation mode, configuration for continuous chain conversion in Normal Conversion mode takes place. When the chain conversion is finished, a new scan starts immediately. 0b - One-Shot Operation mode 1b - Scan Operation mode |
| 28 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 27 TRGEN  | External Trigger Enable Enables external triggers to start conversions. 0b - External trigger is disabled 1b - Enables the external trigger to start a conversion                                                                                                                                                                                                                                                                                                                                        |
| 26 EDGE   | Trigger Edge Select Selects which edge of the external trigger starts a conversion. This field is only valid if MCR[TRGEN] = 1b. 0b - Falling edge is trigger 1b - Rising edge is trigger                                                                                                                                                                                                                                                                                                                |
| 25 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 24 NSTART | Normal Conversion Start Starts normal conversion in One-Shot or Scan Operation mode. In Scan Operation mode, this field remains high after setting. Clearing this field in Scan Operation mode causes the current chain conversion to finish, then stop the scan.                                                                                                                                                                                                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                              |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | In One-shot Operation mode, this field is cleared immediately after the conversion starts. Setting this field during ongoing conversions keeps this field high until the requested conversion is started (or pending during Injected Operation mode).                                                                 |
| 23 -        | Reserved                                                                                                                                                                                                                                                                                                              |
| 22 JTRGEN   | Injection External Trigger Enable When set, enables the external trigger to start injected conversions. This field must be set if the external trigger feature is needed to start injected conversions. 0b - Injected conversion not started by external trigger 1b - Injected conversion started by external trigger |
| 21 JEDGE    | Injection Trigger Edge Selection Selects which edge of the external trigger starts an injected conversion. This field is only valid if MCR[JTRGEN] = 1b. 0b - Falling edge is trigger 1b - Rising edge is trigger                                                                                                     |
| 20 JSTART   | Start Injection Conversion Starts injection conversion for analog channels to be converted. Clearing this field has no effect since the injected chain conversion cannot be interrupted. If this field is set during on ongoing injected conversion, the field will remain set until the new conversion starts.       |
| 19-18 -     | Reserved                                                                                                                                                                                                                                                                                                              |
| 17 CTUEN    | Cross Trigger Unit Enable Enables conversions to be started by the CTU. This field must not be modified when CTU conversion is running (MSR[CTUSTART]= 1 b). NOTE 0b - CTU disabled; triggered injected conversion cannot take place 1b - CTU enabled; triggered injected conversion can take place                   |
| 16 CTU_MODE | Cross Trigger Unit Mode Specifies the CTU operating mode of SAR_ADC. This field can only be written in Power-down mode. 0b - CTU control mode is selected 1b - CTU trigger mode is selected                                                                                                                           |
| 15          | Self-Testing Configuration Lock                                                                                                                                                                                                                                                                                       |

Table continues on the next page...

Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| STCL         | Locks the self-test configuration registers (write-protected): 1. Self-Test Configuration 1 (STCR1) 2. Self-Test Configuration 2 (STCR2) 3. Self-Test Configuration 3 (STCR3) 4. Self-Test Baud Rate (STBRR) 5. Self-Test Analog Watchdog 0 (STAW0R) 6. Self-Test Analog Watchdog 1A (STAW1AR) 7. Self-Test Analog Watchdog 1B (STAW1BR) 8. Self-Test Analog Watchdog 2 (STAW2R) 9. Self-Test Analog Watchdog 3 (STAW3R) 10. Self-Test Analog Watchdog 4 (STAW4R) 11. Self-Test Analog Watchdog 5 (STAW5R) It can be used only in CPU and Scan operation modes. It is cleared by reset only. 0b - Not locked 1b - Locked |
| 14 CALSTART  | Calibration Start Starts calibration. It is self-clearing, and is cleared by hardware when calibration completes or is terminated prematurely. 0b - No effect 1b - Start calibration                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 13 AVGEN     | Average Enable Allows averaging of calibration time. 0b - Disable 1b - Enable (default)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 12-11 NRSMPL | Number of Averaging Samples Selects the number of averaging samples to be used during Calibration. 00b - 16 01b - 32 10b - 128 11b - 512                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 10-9 TSAMP   | Sample Time for Calibration Specifies the sample time of calibration conversions.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 8 ADCLKSE    | 00b - 22 cycles of AD_CLK (default) 01b - 8 cycles of AD_CLK 10b - 16 cycle of AD_CLK 11b - 32 cycle of AD_CLK Analog Clock Frequency Select Selects the clock frequency of the AD_CLK signal. It can be written in Power-down mode only.                                                                                                                                                                                                                                                        |
| 7 ABORTCHAIN | Abort Conversion Chain Aborts the chain conversion that is in process. When the chain aborts, this field is reset by hardware. Setting this field in idle state (for example, no normal/injected conversion is in process) has no effect. In this case, the field is reset immediately. During a CTU conversion, this field cannot be programmed. You must not apply Abort and Abort Chain simultaneously in SCAN mode operation. NOTE 0b - Chain conversion aborted or is currently not running |
| 6 ABORT      | Abort Conversion Aborts any ongoing conversion and starts the next one. When the ongoing conversion aborts, this field is reset by hardware. This field is not written while the self-test channel conversion is in process. You must not apply Abort and Abort Chain simultaneously in SCAN mode operation. NOTE 0b - Channel conversion has been aborted, or channel conversion is not currently running                                                                                       |
|              | 1b - Abort current channel conversion                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 5 ACKO       | Auto-Clock-Off Mode Enable Enables the auto-clock-off feature. 0b - Auto-Clock-Off feature is disabled 1b - Auto-Clock-Off feature is enabled                                                                                                                                                                                                                                                                                                                                                    |
| 4 -          | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 3-1 -        | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                 |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0       | Power-Down Enable                                                                                                                                                                        |
| PWDN    | Enables entry into Power-Down or Idle modes. 0b - When ADC status is in Power-down mode (MSR[ADCSTATUS] = 001b), start ADC transition to IDLE mode 1b - Request to enter Power-down mode |

## 58.6.3 Main Status (MSR)

## Offset

| Register   | Offset   |
|------------|----------|
| MSR        | 4h       |

## Function

Contains main status fields.

## Diagram

<!-- image -->

| Bits   | 31        | 30       | 29         | 28         | 27         | 26         | 25         | 24      | 23      | 22   | 21   | 20      | 19   | 18          | 17        | 16        |
|--------|-----------|----------|------------|------------|------------|------------|------------|---------|---------|------|------|---------|------|-------------|-----------|-----------|
| R      | CALIB RTD | CALFA IL | CALB USY 0 | CALB USY 0 | CALB USY 0 | CALB USY 0 | CALB USY 0 | NSTA RT | JABO RT | 0    | 0    | JSTAR T | 0    | SELF_ TE... | Reserv ed | CTUS TART |
| W      |           | W1C      |            |            |            |            |            |         |         |      |      |         |      |             |           |           |
| Reset  | 0         | 0        | 0          | 0          | 0          | 0          | 0          | 0       | 0       | 0    | 0    | 0       | 0    | 0           | 0         | 0         |
| Bits   | 15        | 14       | 13         | 12         | 11         | 10         | 9          | 8       | 7       | 6    | 5    | 4       | 3    | 2           | 1         | 0         |
| R      | CHADDR    | CHADDR   | CHADDR     | CHADDR     | CHADDR     | CHADDR     | CHADDR     | 0       | 0       | 0    | ACKO | 0       | 0    | ADCSTATUS   | ADCSTATUS | ADCSTATUS |
| W      |           |          |            |            |            |            |            |         |         |      |      |         |      |             |           |           |
| Reset  | 0         | 0        | 0          | 0          | 0          | 0          | 0          | 0       | 0       | 0    | 0    | 0       | 0    | 0           | 0         | 1         |

## Fields

| Field    | Function                                                                                                                                                   |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31       | Calibration Status                                                                                                                                         |
| CALIBRTD | Updates after running high accuracy calibration (see Calibration). 0b - Uncalibrated or calibration unsuccessful 1b - Calibrated or calibration successful |
| 30       | Calibration Failed                                                                                                                                         |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CALFAIL    | Indicates the status of calibration. It is set automatically if any of the calibration step fails during the calibration process or calibration is aborted prematurely (by any normal conversion). Cleared by writing one, or on restarting calibration by writing one to MCR[CALSTART]. This field behaves differently for register reads and writes. NOTE When reading 0b - Calibration passed (must be checked with CALBUSY = 0b) 1b - Calibration failed When writing 0b - No effect |
| 29 CALBUSY | Calibration Busy Indicates whether SAR_ADC is executing calibration. Set when MCR[CALSTART] is set. 0b - ADC is ready for use 1b - ADC is busy in a calibration process                                                                                                                                                                                                                                                                                                                  |
| 28-25 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 24 NSTART  | Normal Conversion Status Signals whether a normal conversion is in process. 0b - Normal conversion is not in process 1b - Normal conversion is in process                                                                                                                                                                                                                                                                                                                                |
| 23 JABORT  | Injected Conversion Abort Status Signals whether an injected conversion has been aborted. It is reset when a new injected conversion starts. 0b - Injected conversion has not been aborted 1b - Injected conversion has been aborted                                                                                                                                                                                                                                                     |
| 22-21 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 20 JSTART  | Injected Conversion Status Specifies whether an injected conversion is in process. 0b - Injected conversion is not in process 1b - Injected conversion is in process                                                                                                                                                                                                                                                                                                                     |

Table continues on the next page...

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 19 -           | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 18 SELF_TEST_S | Self-Test Status Indicates whether a self-test conversion is in process. 0b - Self-test conversion is not in process 1b - Self-test conversion is in process                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 17 -           | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 16 CTUSTART    | CTU Conversion Status Specifies whether a CTU conversion is in process. It is set when a CTU trigger pulse is received and the CTU conversion starts. When CTU Trigger mode is enabled, this field is automatically reset when the conversion has completed. Otherwise, if Control mode is enabled, this field is reset when the CTU is disabled (MCR[CTUEN] = 0b).                                                                                                                                                                                                                                                                      |
| 15-9 CHADDR    | Channel Address Specifies the address of the channel that is currently being converted. The values 10000b to 11111b are reserved. 000_0000b - Channel 0 selected 000_0001b - Channel 1 selected 000_0010b - Channel 2 selected 000_0011b - Channel 3 selected 000_0100b - Channel 4 selected 000_0101b - Channel 5 selected 000_0110b - Channel 6 selected 000_0111b - Channel 7 selected 000_1000b - Reserved 000_1001b - Reserved 000_1010b - Reserved 000_1011b - Bandgap input selected 000_1100b - Pre-sample voltage - 1 : DVDD1P0/2 000_1101b - Pre-sample voltage - 2 : AVDD1p8/4 000_1110b - Pre-sample voltage - 3 : VREFL_1p8 |
| 8-6            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

Table continues on the next page...

## Table continued from the previous page...

| Field         | Function                                                                                                                                                                                             |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -             |                                                                                                                                                                                                      |
| 5 ACKO        | Auto-Clock-Off Enable Signals whether the auto-clock-off feature is enabled. 0b - Auto-Clock-Off feature is not enabled 1b - Auto-Clock-Off feature is enabled                                       |
| 4-3 -         | Reserved                                                                                                                                                                                             |
| 2-0 ADCSTATUS | ADC Status Represents ADC status. 000b - Idle 001b - Power-down 010b - Wait state (waiting to start conversion after [external trigger]). 011b - Busy in calibration 100b - Sample 110b - Conversion |

## 58.6.4 Interrupt Status (ISR)

## Offset

| Register   | Offset   |
|------------|----------|
| ISR        | 10h      |

## Function

Indicates interrupt status.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20     | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|--------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |        |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0 0  | 0    |      | 0    | 0    | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4      | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      | 0    |      |      |      |      |      | EOCT U | JEOC | JECH | EOC  | ECH  |
| W      |      |      |      |      |      |      |      |      |      |      |      | W1C    | W1C  | W1C  | W1C  | W1C  |
| Reset  | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                     |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-5 -  | Reserved                                                                                                                                                                                                                                                                                                                                     |
| 4 EOCTU | End of CTU Conversion Indicates end of conversion status for the CTU channel. This field behaves differently for register reads and writes. NOTE When reading 0b - CTU end of conversion has not occurred 1b - CTU end of conversion has occurred When writing 0b - No effect                                                                |
| 3 JEOC  | Injected Channel End of Conversion Indicates end of conversion status for an injected channel. This field behaves differently for register reads and writes. NOTE When reading 0b - Injected channel end of conversion has not occurred 1b - Injected channel end of conversion has occurred When writing 0b - No effect 1b - Clear the flag |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 JECH  | Injected End of Conversion Chain Indicates end of conversion chain status for an injected channel. NOTE                                                                                                                                                                                                      |
| 1 EOC   | End of Channel Conversion Indicates the digital end of conversion for a channel. This field behaves differently for register reads and writes. NOTE When reading 0b - Channel end of conversion has not occurred 1b - Channel end of conversion has occurred When writing 0b - No effect                     |
| 0 ECH   | End of Conversion Chain Indicates the digital end of conversion chain for a channel. This field behaves differently for register reads and writes. NOTE When reading 0b - End of conversion chain has not occurred 1b - End of conversion chain has occurred When writing 0b - No effect 1b - Clear the flag |

## 58.6.5 Channel Pending 0 (CEOCFR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CEOCFR0    | 14h      |

## Function

Indicates end of conversion pending interrupt status for SAR\_ADC channels in Group0.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                    |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -    | Reserved                                                                                                                                                                                                                    |
| 7 EOC_CH7 | Channel 7 EOC Status Indicates whether channel 7 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing |
| 6         | Channel 6 EOC Status Indicates whether channel 6 conversion is complete.                                                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                       |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EOC_CH6   | This field behaves differently for register reads and writes. NOTE When reading                                                                                                                                                                                |
| 5 EOC_CH5 | Channel 5 EOC Status Indicates whether channel 5 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag |
| 4 EOC_CH4 | Channel 4 EOC Status Indicates whether channel 4 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect                     |
| 3 EOC_CH3 | Channel 3 EOC Status Indicates whether channel 3 conversion is complete. This field behaves differently for register reads and writes. NOTE                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                          |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 EOC_CH2 | When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag Channel 2 EOC Status Indicates whether channel 2 conversion is complete.                                                       |
| 1 EOC_CH1 | 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag Channel 1 EOC Status Indicates whether channel 1 conversion is complete. This field behaves differently for register reads and writes. NOTE |
| 0 EOC_CH0 | 0b - No effect 1b - Clear the flag Channel 0 EOC Status Indicates whether channel 0 conversion is complete. This field behaves differently for register reads and writes. NOTE                                                                    |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                              |
|---------|-------------------------------------------------------------------------------------------------------|
|         | 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag |

## 58.6.6 Channel Pending 1 (CEOCFR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CEOCFR1    | 18h      |

## Function

Indicates end of conversion pending interrupt status for group32 channels.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| R      | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  |
| W      |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
| R      | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | EOC_ CH39 | EOC_ CH38 | EOC_ CH37 | EOC_ CH36 | EOC_ CH35 | EOC_ CH34 | EOC_ CH33 | EOC_ CH32 |
| W      | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |

## Fields

| Field   | Function   |
|---------|------------|
| 31-16   | Reserved   |
| -       |            |
| 15      | Reserved   |
| -       |            |
| 14      | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                         |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                                                                                                                                  |
| 13 -       | Reserved                                                                                                                                                                                                                                                         |
| 12 -       | Reserved                                                                                                                                                                                                                                                         |
| 11 -       | Reserved                                                                                                                                                                                                                                                         |
| 10 -       | Reserved                                                                                                                                                                                                                                                         |
| 9 -        | Reserved                                                                                                                                                                                                                                                         |
| 8 -        | Reserved                                                                                                                                                                                                                                                         |
| 7 EOC_CH39 | Channel 39 EOC Status Indicates whether channel 39 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag |
| 6 EOC_CH38 | Channel 38 EOC Status Indicates whether channel 38 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                     |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                                                                                                                                           |
| 5 EOC_CH37 | Channel 37 EOC Status Indicates whether channel 37 conversion is complete. NOTE                                                                                                                                                                                                                                                                                                              |
| 4 EOC_CH36 | 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag Channel 36 EOC Status Indicates whether channel 36 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag Channel 35 EOC Status |
| 3 EOC_CH35 | Indicates whether channel 35 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag                                                                                                                                                   |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                         |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 EOC_CH34 | Channel 34 EOC Status Indicates whether channel 34 conversion is complete. NOTE                                                                                                                                                                                  |
| 1 EOC_CH33 | Channel 33 EOC Status Indicates whether channel 33 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag |
| 0 EOC_CH32 | Channel 32 EOC Status Indicates whether channel 32 conversion is complete. This field behaves differently for register reads and writes. NOTE When reading 0b - Conversion not complete 1b - Conversion complete When writing 0b - No effect 1b - Clear the flag |

## 58.6.7 Interrupt Mask (IMR)

## Offset

| Register   | Offset   |
|------------|----------|
| IMR        | 20h      |

## Function

Contains fields for interrupt mask.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                 |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-5 -     | Reserved                                                                                                                                                                                 |
| 4 MSKEOCTU | End of CTU Conversion Interrupt Mask Enables EOCTU interrupt. 0b - EOCTU interrupt disabled 1b - EOCTU interrupt enabled                                                                 |
| 3 MSKJEOC  | End of Injected Conversion Interrupt Mask Enables JEOC interrupt. 0b - End of injected conversion interrupt disabled 1b - End of injected conversion interrupt enabled                   |
| 2 MSKJECH  | End of Injected Chain Conversion Interrupt Mask Enables JECH interrupt. 0b - End of injected chain conversion interrupt disabled 1b - End of injected chain conversion interrupt enabled |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                                                                         |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 MSKEOC | End of Conversion Interrupt Mask Enables end of conversion interrupt. 0b - End of conversion interrupt                                                                           |
| 0 MSKECH | disabled 1b - End of conversion interrupt enabled                                                                                                                                |
|          | End of Chain Conversion Interrupt Mask Enables end of chain conversion interrupt. 0b - End of chain conversion interrupt disabled 1b - End of chain conversion interrupt enabled |

## 58.6.8 Channel Interrupt Mask 0 (CIMR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CIMR0      | 24h      |

## Function

Contains fields for channel interrupt mask for group0.

NOTE

The available CIMR0 fields are chip-specific. See the chip-specific SAR\_ADC information for details.

## Table 566. CIMn field description

| Field   | Description                                                                   |
|---------|-------------------------------------------------------------------------------|
| CIM0    | Interrupt enable. When set (CIM0 = 1), interrupt for channel zero is enabled. |
| CIM n   | Interrupt enable. When set (CIM n = 1), interrupt for channel n is enabled.   |

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                   |
| 7 CIM7  | Channel 7 Interrupt Enable Enables interrupt for channel 7. 0b - Interrupt disabled 1b - Interrupt enabled |
| 6 CIM6  | Channel 6 Interrupt Enable Enables interrupt for channel 6. 0b - Interrupt disabled 1b - Interrupt enabled |
| 5 CIM5  | Channel 5 Interrupt Enable Enables interrupt for channel 5. 0b - Interrupt disabled 1b - Interrupt enabled |
| 4 CIM4  | Channel 4 Interrupt Enable Enables interrupt for channel 4. 0b - Interrupt disabled 1b - Interrupt enabled |
| 3 CIM3  | Channel 3 Interrupt Enable Enables interrupt for channel 3. 0b - Interrupt disabled 1b - Interrupt enabled |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Field   | Function                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------|
| 2 CIM2  | Channel 2 Interrupt Enable Enables interrupt for channel 2. 0b - Interrupt disabled 1b - Interrupt enabled |
| 1 CIM1  | Channel 1 Interrupt Enable Enables interrupt for channel 1. 0b - Interrupt disabled 1b - Interrupt enabled |
| 0 CIM0  | Channel 0 Interrupt Enable Enables interrupt for channel 0. 0b - Interrupt disabled 1b - Interrupt enabled |

## 58.6.9 Channel Interrupt Mask 1 (CIMR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CIMR1      | 28h      |

## Function

Contains fields for channel interrupt mask for group32.

NOTE

The available CIMR1 fields are chip-specific. See chip-specific SAR\_ADC information for details.

## Table 567. CIMn field description

| Field   | Description                                                                   |
|---------|-------------------------------------------------------------------------------|
| CIM0    | Interrupt enable. When set (CIM0 = 1), interrupt for channel zero is enabled. |
| CIM n   | Interrupt enable. When set (CIM n = 1), interrupt for channel n is enabled.   |

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| W      |           |           |           |           |           |           |           |           |          |          |          |          |          |          |          |          |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R W    | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | CIM39    | CIM38    | CIM37    | CIM36    | CIM35    | CIM34    | CIM33    | CIM32    |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field   | Function                                                      |
|---------|---------------------------------------------------------------|
| 31-16 - | Reserved                                                      |
| 15 -    | Reserved                                                      |
| 14 -    | Reserved                                                      |
| 13 -    | Reserved                                                      |
| 12 -    | Reserved                                                      |
| 11 -    | Reserved                                                      |
| 10 -    | Reserved                                                      |
| 9 -     | Reserved                                                      |
| 8 -     | Reserved                                                      |
| 7 CIM39 | Channel 39 Interrupt Enable Enables interrupt for channel 39. |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field   | Function                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------|
|         | 0b - Interrupt disabled 1b - Interrupt enabled                                                               |
| 6 CIM38 | Channel 38 Interrupt Enable Enables interrupt for channel 38. 0b - Interrupt disabled 1b - Interrupt enabled |
| 5 CIM37 | Channel 37 Interrupt Enable Enables interrupt for channel 37. 0b - Interrupt disabled 1b - Interrupt enabled |
| 4 CIM36 | Channel 36 Interrupt Enable Enables interrupt for channel 36. 0b - Interrupt disabled 1b - Interrupt enabled |
| 3 CIM35 | Channel 35 Interrupt Enable Enables interrupt for channel 35. 0b - Interrupt disabled 1b - Interrupt enabled |
| 2 CIM34 | Channel 34 Interrupt Enable Enables interrupt for channel 34. 0b - Interrupt disabled 1b - Interrupt enabled |
| 1 CIM33 | Channel 33 Interrupt Enable Enables interrupt for channel 33. 0b - Interrupt disabled 1b - Interrupt enabled |
| 0 CIM32 | Channel 32 Interrupt Enable Enables interrupt for channel 32. 0b - Interrupt disabled 1b - Interrupt enabled |

## 58.6.10 Watchdog Threshold Interrupt Status (WTISR)

## Offset

| Register   | Offset   |
|------------|----------|
| WTISR      | 30h      |

## Function

Indicates watchdog threshold interrupt status.

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | WDG7 H | WDG7 L | WDG6 H | WDG6 L | WDG5 H | WDG5 L | WDG4 H | WDG4 L | WDG3 H | WDG3 L | WDG2 H | WDG2 L | WDG1 H | WDG1 L | WDG0 H | WDG0 L |
| W      | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    | W1C    |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field   | Function   |
|---------|------------|
| 31-30 - | Reserved   |
| 29-28 - | Reserved   |
| 27-26 - | Reserved   |
| 25-24 - | Reserved   |
| 23-22 - | Reserved   |
| 21-20 - | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                                                                      |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 19-18 -  | Reserved                                                                                                                                                                                                                                                                                                                                      |
| 17-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                      |
| 15 WDG7H | Channel 7 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect                  |
| 14 WDG7L | Channel 7 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |
| 13 WDG6H | Channel 6 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                                                                         |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                              |
| 12 WDG6L | Channel 6 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect                        |
| 11 WDG5H | Channel 5 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |
| 10 WDG5L | Channel 5 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading                                                                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                      |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                           |
| 9 WDG4H | Channel 4 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect                  |
| 8 WDG4L | Channel 4 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |
| 7 WDG3H | Channel 3 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                         |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                              |
| 6 WDG3L | Channel 3 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect                        |
| 5 WDG2H | Channel 2 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |
| 4 WDG2L | Channel 2 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading                                                                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                      |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                           |
| 3 WDG1H | Channel 1 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect                  |
| 2 WDG1L | Channel 1 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |
| 1 WDG0H | Channel 0 Watchdog High Threshold Interrupt Corresponds to the interrupt generated on the converted value being higher than the programmed higher threshold. This field behaves differently for register reads and writes. NOTE When reading                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                      |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                           |
| 0 WDG0L | Channel 0 Watchdog Low Threshold Interrupt Corresponds to the interrupt generated on the converted value being lower than the programmed lower threshold. This field behaves differently for register reads and writes. NOTE When reading 0b - Interrupt not asserted 1b - Interrupt asserted When writing 0b - No effect 1b - Clear the flag |

## 58.6.11 Watchdog Threshold Interrupt Mask (WTIMR)

## Offset

| Register   | Offset   |
|------------|----------|
| WTIMR      | 34h      |

## Function

Indicates the watchdog threshold interrupt mask.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| R      | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |
| W      |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
| R W    | MSKW DG7H | MSKW DG7L | MSKW DG6H | MSKW DG6L | MSKW DG5H | MSKW DG5L | MSKW DG4H | MSKW DG4L | MSKW DG3H | MSKW DG3L | MSKW DG2H | MSKW DG2L | MSKW DG1H | MSKW DG1L | MSKW DG0H | MSKW DG0L |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |

## Fields

| Field       | Function                                                                                                                                                                                                                                                                    |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -     | Reserved                                                                                                                                                                                                                                                                    |
| 29-28 -     | Reserved                                                                                                                                                                                                                                                                    |
| 27-26 -     | Reserved                                                                                                                                                                                                                                                                    |
| 25-24 -     | Reserved                                                                                                                                                                                                                                                                    |
| 23-22 -     | Reserved                                                                                                                                                                                                                                                                    |
| 21-20 -     | Reserved                                                                                                                                                                                                                                                                    |
| 19-18 -     | Reserved                                                                                                                                                                                                                                                                    |
| 17-16 -     | Reserved                                                                                                                                                                                                                                                                    |
| 15 MSKWDG7H | Channel 7 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set, the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                   |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 14 MSKWDG7L | Channel 7 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 13 MSKWDG6H | Channel 6 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 12 MSKWDG6L | Channel 6 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 11 MSKWDG5H | Channel 5 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 10 MSKWDG5L | Channel 5 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 9 MSKWDG4H  | Channel 4 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 8 MSKWDG4L  | Channel 4 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled.                                                         |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                   |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 7 MSKWDG3H | Channel 3 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 6 MSKWDG3L | Channel 3 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 5 MSKWDG2H | Channel 2 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 4 MSKWDG2L | Channel 2 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 3 MSKWDG1H | Channel 1 Watchdog High Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |
| 2 MSKWDG1L | Channel 1 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled    |
| 1          | Channel 0 Watchdog High Threshold Interrupt Mask                                                                                                                                                                                                                           |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MSKWDG0H   | Corresponds to the mask bit for the interrupt generated on the converted value being higher than the programmed higher threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled                                               |
| 0 MSKWDG0L | Channel 0 Watchdog Low Threshold Interrupt Mask Corresponds to the mask bit for the interrupt generated on the converted value being lower than the programmed lower threshold. When set the interrupt is enabled. 0b - Interrupt is disabled 1b - Interrupt is enabled |

## 58.6.12 DMAE (DMAE)

## Offset

| Register   | Offset   |
|------------|----------|
| DMAE       | 40h      |

## Function

Contains fields for DMA global enable and DMA clear sequence enable.

DMA settings must be changed while ADC is in idle state (MSR[ADCSTATUS] = IDLE).

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-2    | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                   |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                            |
| 1 DCLR  | DMA Clear Sequence Enable Selects DMA request clear either by acknowledgement from DMA controller or read of data register. 0b - DMA request cleared by acknowledge from DMA controller 1b - DMA request cleared on read of data registers |
| 0 DMAEN | DMA Global Enable Enables DMA feature if set. 0b - DMA feature is disabled 1b - DMA feature is enabled                                                                                                                                     |

## 58.6.13 DMA 0 (DMAR0)

## Offset

| Register   | Offset   |
|------------|----------|
| DMAR0      | 44h      |

## Function

Enables transfer of data in DMA mode for Group0.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-8    | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                            |
| 7 DMA7  | Channel 7 DMA Enable Enables transfer of data in DMA mode for Channel 7 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 6 DMA6  | Channel 6 DMA Enable Enables transfer of data in DMA mode for Channel 6 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 5 DMA5  | Channel 5 DMA Enable Enables transfer of data in DMA mode for Channel 5 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 4 DMA4  | Channel 4 DMA Enable Enables transfer of data in DMA mode for Channel 4 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 3 DMA3  | Channel 3 DMA Enable Enables transfer of data in DMA mode for Channel 3 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 2 DMA2  | Channel 2 DMA Enable Enables transfer of data in DMA mode for Channel 2 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 1 DMA1  | Channel 1 DMA Enable Enables transfer of data in DMA mode for Channel 1 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 0 DMA0  | Channel 0 DMA Enable Enables transfer of data in DMA mode for Channel 0 if set.                                                                                            |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                   |
|---------|--------------------------------------------------------------------------------------------|
|         | 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |

## 58.6.14 DMA 1 (DMAR1)

## Offset

| Register   | Offset   |
|------------|----------|
| DMAR1      | 48h      |

## Function

Enables transfer of data in DMA mode for Group32.

## Table 568. DMAn field description

| Field   | Description                                                                             |
|---------|-----------------------------------------------------------------------------------------|
| DMA32   | DMA enable. When set (DMA32 = 1), channel zero is enabled to transfer data in DMA mode. |
| DMA n   | DMA enable. When set (DMA n = 1), channel n is enabled to transfer data in DMA mode.    |

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-16   | Reserved   |
| -       |            |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                     |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 -    | Reserved                                                                                                                                                                     |
| 14 -    | Reserved                                                                                                                                                                     |
| 13 -    | Reserved                                                                                                                                                                     |
| 12 -    | Reserved                                                                                                                                                                     |
| 11 -    | Reserved                                                                                                                                                                     |
| 10 -    | Reserved                                                                                                                                                                     |
| 9 -     | Reserved                                                                                                                                                                     |
| 8 -     | Reserved                                                                                                                                                                     |
| 7 DMA39 | Channel 39 DMA Enable Enables transfer of data in DMA mode for Channel 39 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 6 DMA38 | Channel 38 DMA Enable Enables transfer of data in DMA mode for Channel 38 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 5 DMA37 | Channel 37 DMA Enable Enables transfer of data in DMA mode for Channel 37 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 4 DMA36 | Channel 36 DMA Enable Enables transfer of data in DMA mode for Channel 36 if set.                                                                                            |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                     |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled                                                                                   |
| 3 DMA35 | Channel 35 DMA Enable Enables transfer of data in DMA mode for Channel 35 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 2 DMA34 | Channel 34 DMA Enable Enables transfer of data in DMA mode for Channel 34 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 1 DMA33 | Channel 33 DMA Enable Enables transfer of data in DMA mode for Channel 33 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |
| 0 DMA32 | Channel 32 DMA Enable Enables transfer of data in DMA mode for Channel 32 if set. 0b - Transfer of data in DMA mode is disabled 1b - Transfer of data in DMA mode is enabled |

## 58.6.15 Analog Watchdog Threshold 0 (THRHLR0)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR0    | 60h      |

## Function

Specifies high and low threshold 0 values for channel n.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                 |
|---------|------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28   | Reserved                                                                                                                                 |
| - 27-16 | Write of any value has no effect, read value is always zero.                                                                             |
|         | High Threshold                                                                                                                           |
| THRH    | Specifies the high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.              |
| 15-12   | Reserved                                                                                                                                 |
| 11-0    | Low Threshold Specifies the low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |
| THRL    |                                                                                                                                          |

## 58.6.16 Analog Watchdog Threshold 1 (THRHLR1)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR1    | 64h      |

## Function

Specifies high and low threshold 1 values for channel n.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field      | Function                                                                                                                                   |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28      | Reserved                                                                                                                                   |
| 27-16 THRH | High Threshold Specifies the high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |
| 15-12 -    | Reserved                                                                                                                                   |
| 11-0 THRL  | Low Threshold Specifies the low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.   |

## 58.6.17 Analog Watchdog Threshold 2 (THRHLR2)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR2    | 68h      |

## Function

Specifies high and low threshold 2 values for channel n.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field      | Function                                                                                                                                   |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28      | Reserved                                                                                                                                   |
| 27-16 THRH | High Threshold Specifies the high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |
| 15-12 -    | Reserved                                                                                                                                   |
| 11-0 THRL  | Low Threshold Specifies the low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.   |

## 58.6.18 Analog Watchdog Threshold 3 (THRHLR3)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR3    | 6Ch      |

## Function

Specifies high and low threshold 3 values for channel n.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field      | Function                                                                                                                                   |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28      | Reserved                                                                                                                                   |
| 27-16 THRH | High Threshold Specifies the high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |
| 15-12 -    | Reserved                                                                                                                                   |
| 11-0 THRL  | Low Threshold Specifies the low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.   |

## 58.6.19 Presampling Control (PSCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PSCR       | 80h      |

## Function

Contains fields for converting presampled values and selecting analog input voltages for presampling.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21       | 20      | 19   | 18      | 17   | 16       |
|--------|------|------|------|------|------|------|------|------|------|------|----------|---------|------|---------|------|----------|
| R      | 0    |      |      |      |      |      |      |      |      |      |          |         |      |         |      |          |
| W      |      |      |      |      |      |      |      |      |      |      |          |         |      |         |      |          |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0       | 0    | 0       | 0    | 0        |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5        | 4       | 3    | 2       | 1    | 0        |
| R      | 0    |      |      |      |      |      |      |      |      |      |          |         |      |         |      | PREC ONV |
| W      |      |      |      |      |      |      |      |      |      |      | Reserved | PREVAL1 |      | PREVAL0 |      |          |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0       | 0    | 0       | 0    | 0        |

## Fields

| Field       | Function                                                                                                                                                                                                                                                                                               |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -      | Reserved                                                                                                                                                                                                                                                                                               |
| 6-5 -       | Reserved                                                                                                                                                                                                                                                                                               |
| 4-3 PREVAL1 | Internal Presampling Voltage Selection. Selects analog input voltages for presampling from four available internal voltages (channels in the range 32 to 63). See Presampling channel enable for details.                                                                                              |
| 2-1 PREVAL0 | Internal Presampling Voltage Selection Selects analog input voltages for presampling from four internal available voltages (channels in the range 0 to 31). See Presampling channel enable for details.                                                                                                |
| 0 PRECONV   | Convert Presampled Value Converts presampled values. If PRECONV is set, presampling is followed by the conversion. Sampling will be bypassed and conversion of presampled data will be done. 0b - Presampling is followed by sampling then conversion. 1b - Presampling is followed by the conversion. |

## 58.6.20 Presampling 0 (PSR0)

## Offset

| Register   | Offset   |
|------------|----------|
| PSR0       | 84h      |

Analog-to-Digital Converter (SAR\_ADC)

## Function

Enables presampling for channel n, when set (PRES n = 1).

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                             |
| 7 PRES7 | Presampling Enable for Channel 7 Enables presampling for channel 7, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 6 PRES6 | Presampling Enable for Channel 6 Enables presampling for channel 6, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 5 PRES5 | Presampling Enable for Channel 5 Enables presampling for channel 5, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 4 PRES4 | Presampling Enable for Channel 4 Enables presampling for channel 4, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 3       | Presampling Enable for Channel 3                                                                                                     |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field   | Function                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------|
| PRES3   | Enables presampling for channel 3, if set. 0b - Presampling is disabled 1b - Presampling is enabled                                  |
| 2 PRES2 | Presampling Enable for Channel 2 Enables presampling for channel 2, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 1 PRES1 | Presampling Enable for Channel 1 Enables presampling for channel 1, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 0 PRES0 | Presampling Enable for Channel 0 Enables presampling for channel 0, if set. 0b - Presampling is disabled 1b - Presampling is enabled |

## 58.6.21 Presampling 1 (PSR1)

## Offset

| Register   | Offset   |
|------------|----------|
| PSR1       | 88h      |

## Function

Enables presampling for channel n, when set (PRES n = 1).

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                      |
|----------|-------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                      |
| 15 -     | Reserved                                                                      |
| 14 -     | Reserved                                                                      |
| 13 -     | Reserved                                                                      |
| 12 -     | Reserved                                                                      |
| 11 -     | Reserved                                                                      |
| 10 -     | Reserved                                                                      |
| 9 -      | Reserved                                                                      |
| 8 -      | Reserved                                                                      |
| 7 PRES39 | Presampling Enable for Channel 39 Enables presampling for channel 39, if set. |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field    | Function                                                                                                                               |
|----------|----------------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Presampling is disabled 1b - Presampling is enabled                                                                               |
| 6 PRES38 | Presampling Enable for Channel 38 Enables presampling for channel 38, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 5 PRES37 | Presampling Enable for Channel 37 Enables presampling for channel 37, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 4 PRES36 | Presampling Enable for Channel 36 Enables presampling for channel 36, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 3 PRES35 | Presampling Enable for Channel 35 Enables presampling for channel 35, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 2 PRES34 | Presampling Enable for Channel 34 Enables presampling for channel 34, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 1 PRES33 | Presampling Enable for Channel 33 Enables presampling for channel 33, if set. 0b - Presampling is disabled 1b - Presampling is enabled |
| 0 PRES32 | Presampling Enable for Channel 32 Enables presampling for channel 32, if set. 0b - Presampling is disabled 1b - Presampling is enabled |

## 58.6.22 Conversion Timing 0 (CTR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CTR0       | 94h      |

## Function

Configures the sample period duration in terms of the SAR controller clock.

This register is associated with channels 0 to 31.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8    | Reserved                                                                                                                                                                               |
| -       |                                                                                                                                                                                        |
| 7-0     | Sampling Phase Duration                                                                                                                                                                |
| INPSAMP | Configures the sample period duration in terms of the SAR controller clock. The minimum acceptable value is 8. Configuring to a value lower than 8 sets the sample period to 8 cycles. |

## 58.6.23 Conversion Timing 1 (CTR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CTR1       | 98h      |

## Function

Configures the sample period duration in terms of the SAR controller clock.

Analog-to-Digital Converter (SAR\_ADC)

Analog-to-Digital Converter (SAR\_ADC)

This register is associated with channels 32 to 63. An exception exists for the temperature sensor channel, which always uses the CTR1 value.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| R      | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |
| W      |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
| R      | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP | 0 INPSAMP |
| W      |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |           |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 1         | 0         | 1         | 0         | 0         |

## Fields

| Field   | Function                                                                                                                                                                              |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8    | Reserved                                                                                                                                                                              |
| 7-0     | Sampling Phase Duration                                                                                                                                                               |
| INPSAMP | Configures the sample period duration in terms of the SARcontroller clock. The minimum acceptable value is 8. Configuring to a value lower than 8 sets the sample period to 8 cycles. |

## 58.6.24 Normal Conversion Mask 0 (NCMR0)

## Offset

| Register   | Offset   |
|------------|----------|
| NCMR0      | A4h      |

## Function

Sampling enable for Group0 channel n (n = Group0 channel number).

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                   |
| 7 CH7   | Normal Conversion Mask for Channel 7 Enables normal conversion for channel 7, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 6 CH6   | Normal Conversion Mask for Channel 6 Enables normal conversion for channel 6, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 5 CH5   | Normal Conversion Mask for Channel 5 Enables normal conversion for channel 5, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 4 CH4   | Normal Conversion Mask for Channel 4 Enables normal conversion for channel 4, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 3 CH3   | Normal Conversion Mask for Channel 3 Enables normal conversion for channel 3, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Field   | Function                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 CH2   | Normal Conversion Mask for Channel 2 Enables normal conversion for channel 2, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 1 CH1   | Normal Conversion Mask for Channel 1 Enables normal conversion for channel 1, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 0 CH0   | Normal Conversion Mask for Channel 0 Enables normal conversion for channel 0, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |

## 58.6.25 Normal Conversion Mask 1 (NCMR1)

## Offset

| Register   | Offset   |
|------------|----------|
| NCMR1      | A8h      |

## Function

Sampling enable for Group32 channel n ( n = Group32 channel number).

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 - | Reserved                                                                                                                                                     |
| 15 -    | Reserved                                                                                                                                                     |
| 14 -    | Reserved                                                                                                                                                     |
| 13 -    | Reserved                                                                                                                                                     |
| 12 -    | Reserved                                                                                                                                                     |
| 11 -    | Reserved                                                                                                                                                     |
| 10 -    | Reserved                                                                                                                                                     |
| 9 -     | Reserved                                                                                                                                                     |
| 8 -     | Reserved                                                                                                                                                     |
| 7 CH39  | Normal Conversion Mask for Channel 39 Enables normal conversion for channel 39, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 6 CH38  | Normal Conversion Mask for Channel 38 Enables normal conversion for channel 38, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 5 CH37  | Normal Conversion Mask for Channel 37 Enables normal conversion for channel 37, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4 CH36  | Normal Conversion Mask for Channel 36 Enables normal conversion for channel 36, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 3 CH35  | Normal Conversion Mask for Channel 35 Enables normal conversion for channel 35, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 2 CH34  | Normal Conversion Mask for Channel 34 Enables normal conversion for channel 34, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 1 CH33  | Normal Conversion Mask for Channel 33 Enables normal conversion for channel 33, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |
| 0 CH32  | Normal Conversion Mask for Channel 32 Enables normal conversion for channel 32, if set. 0b - Normal Conversion is disabled 1b - Normal Conversion is enabled |

## 58.6.26 Injected Conversion Mask 0 (JCMR0)

## Offset

| Register   | Offset   |
|------------|----------|
| JCMR0      | B4h      |

## Function

Enables injected sampling for Group0 channels.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                           |
| 7 CH7   | Injected Conversion Mask for Channel 7 Enables injected conversion for channel 7, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 6 CH6   | Injected Conversion Mask for Channel 6 Enables injected conversion for channel 6, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 5 CH5   | Injected Conversion Mask for Channel 5 Enables injected conversion for channel 5, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 4 CH4   | Injected Conversion Mask for Channel 4 Enables injected conversion for channel 4, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 3 CH3   | Injected Conversion Mask for Channel 3 Enables injected conversion for channel 3, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Field   | Function                                                                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 CH2   | Injected Conversion Mask for Channel 2 Enables injected conversion for channel 2, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 1 CH1   | Injected Conversion Mask for Channel 1 Enables injected conversion for channel 1, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 0 CH0   | Injected Conversion Mask for Channel 0 Enables injected conversion for channel 0, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |

## 58.6.27 Injected Conversion Mask 1 (JCMR1)

## Offset

| Register   | Offset   |
|------------|----------|
| JCMR1      | B8h      |

## Function

Enables injected sampling for Group32 channels.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 - | Reserved                                                                                                                                                             |
| 15 -    | Reserved                                                                                                                                                             |
| 14 -    | Reserved                                                                                                                                                             |
| 13 -    | Reserved                                                                                                                                                             |
| 12 -    | Reserved                                                                                                                                                             |
| 11 -    | Reserved                                                                                                                                                             |
| 10 -    | Reserved                                                                                                                                                             |
| 9 -     | Reserved                                                                                                                                                             |
| 8 -     | Reserved                                                                                                                                                             |
| 7 CH39  | Injected Conversion Mask for Channel 39 Enables injected conversion for channel 39, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 6 CH38  | Injected Conversion Mask for Channel 38 Enables injected conversion for channel 38, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 5 CH37  | Injected Conversion Mask for Channel 37 Enables injected conversion for channel 37, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4 CH36  | Injected Conversion Mask for Channel 36 Enables injected conversion for channel 36, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 3 CH35  | Injected Conversion Mask for Channel 35 Enables injected conversion for channel 35, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 2 CH34  | Injected Conversion Mask for Channel 34 Enables injected conversion for channel 34, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 1 CH33  | Injected Conversion Mask for Channel 33 Enables injected conversion for channel 33, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |
| 0 CH32  | Injected Conversion Mask for Channel 32 Enables injected conversion for channel 32, if set. 0b - Injected conversion is disabled 1b - Injected conversion is enabled |

## 58.6.28 User OFFSET and Gain (USROFSGN)

## Offset

| Register   | Offset   |
|------------|----------|
| USROFSGN   | C0h      |

## Function

Specifies additional offset and gain values for data processing.

## Diagram

<!-- image -->

## Fields

| Field          | Function                                                                                                                                                                                              |
|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-26 -        | Reserved                                                                                                                                                                                              |
| 25-16 GAINUSER | User-Defined Gain Value Specifies additional gain value in two's complement format used by ADC for data processing (for example, values can be either positive or negative; MSB represents sign bit). |
| 15-8 -         | Reserved                                                                                                                                                                                              |
| 7-0 OFFSUSER   | User Defined Offset Specifies additional offset of ADC in two's complement format used for data processing (values can be either positive or negative; MSB represents sign bit).                      |

## 58.6.29 Power Down Exit Delay (PDEDR)

## Offset

| Register   | Offset   |
|------------|----------|
| PDEDR      | C8h      |

## Function

Specifies the delay between the power-down bit reset and the start of conversion.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      | PDED | PDED | PDED | PDED | PDED | PDED | PDED | PDED |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                                                                                                                                                                          |
| 7-0     | Power Down Exist Delay                                                                                                                                                                                                                                                                                            |
| PDED    | Specifies the delay between the power-down bit reset and the start of conversion. The power-down delay is at least (1/ADC Bus clock) + ((PDED+1) × 1/[ADC_clock_frequency]) where ADC_clock_frequency = frequency of ADC Hard Macro clock(AD_CLK) and ADC Bus clock = module interface clock for register access. |

## 58.6.30 Precision Channel n Data (PCDR0 - PCDR7)

## Offset

For a = 0 to 7:

| Register   | Offset          |
|------------|-----------------|
| PCDRa      | 100h + (a × 4h) |

## Function

Contains conversion results for the precision channels. Each data register also contains information regarding the result.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18     | 17     | 16     |
|--------|------|------|------|------|-------|-------|-------|-------|-------|-------|-------|-------|-------|--------|--------|--------|
| R      | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | VALID | OVER W | RESULT | RESULT |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |        |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0      | 0      | 0      |
| Bits   | 15   | 14   | 13   | 12   | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2      | 1      | 0      |
| R      | 0    | 0    | 0    | 0    | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA  | CDATA  | CDATA  |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |        |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0      | 0      | 0      |

## Fields

| Field        | Function                                                                                                                                                                                                                                                   |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 -      | Reserved                                                                                                                                                                                                                                                   |
| 19 VALID     | Conversion Data Valid Indicates when the data is valid (a new value has been written). It is automatically cleared when data is read. 0b - Not valid data 1b - Valid data                                                                                  |
| 18 OVERW     | Data Overwrite Indicates when conversion data was overwritten by a newer result. The new data is written or discarded according to MCR[OWREN]. 0b - Data not overwritten 1b - Data overwritten                                                             |
| 17-16 RESULT | Mode of Conversion Status Indicates the mode of conversion for the corresponding channel. 00b - Data is a result of Normal conversion mode 01b - Data is a result of Injected conversion mode 10b - Data is a result of CTU conversion mode 11b - Reserved |
| 15-12 -      | Reserved                                                                                                                                                                                                                                                   |
| 11-0 CDATA   | Channel Converted Data Stores the conversion data corresponding to precision channel.                                                                                                                                                                      |

Analog-to-Digital Converter (SAR\_ADC)

## 58.6.31 Internal Channel n Data (ICDR32 - ICDR39)

## Offset

For a = 32 to 39:

| Register   | Offset          |
|------------|-----------------|
| ICDRa      | 100h + (a × 4h) |

## Function

Contains conversion results for the internal channels. Each data register also contains information regarding the result.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18     | 17     | 16     |
|--------|------|------|------|------|-------|-------|-------|-------|-------|-------|-------|-------|-------|--------|--------|--------|
| R      | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | VALID | OVER W | RESULT | RESULT |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |        |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0      | 0      | 0      |
| Bits   | 15   | 14   | 13   | 12   | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2      | 1      | 0      |
| R      | 0    | 0    | 0    | 0    | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA | CDATA  | CDATA  | CDATA  |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |        |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0      | 0      | 0      |

## Fields

| Field    | Function                                                                                                                                                                                       |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 -  | Reserved                                                                                                                                                                                       |
| 19 VALID | Conversion Data Valid Notifies when the data is valid (a new value has been written). It is automatically cleared when data is read. 0b - Not valid data 1b - Valid data                       |
| 18 OVERW | Data Overwrite Indicates when conversion data was overwritten by a newer result. The new data is written or discarded according to MCR[OWREN]. 0b - Data not overwritten 1b - Data overwritten |
| 17-16    | Mode of Conversion Status                                                                                                                                                                      |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RESULT     | Indicates the mode of conversion for the corresponding channel. 00b - Data is a result of Normal conversion mode 01b - Data is a result of Injected conversion mode 10b - Data is a result of CTU conversion mode 11b - Reserved |
| 15-12 -    | Reserved                                                                                                                                                                                                                         |
| 11-0 CDATA | Channel Converted Data Stores the conversion data corresponding to internal channel.                                                                                                                                             |

## 58.6.32 Analog Watchdog Threshold 4 (THRHLR4)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR4    | 280h     |

## Function

Specifies high and low threshold 4 values for channel n.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function   |
|---------|------------|
| 31-28   | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                             |
|------------|--------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                      |
| 27-16 THRH | High Threshold Specifies high threshold value for channel n . Channel n is selected by corresponding field in Channel                |
|            | Select Register.                                                                                                                     |
| 15-12      | Reserved                                                                                                                             |
| 11-0 THRL  | Low Threshold Specifies low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |

## 58.6.33 Analog Watchdog Threshold 5 (THRHLR5)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR5    | 284h     |

## Function

Specifies high and low threshold 5 values for channel n.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function   |
|---------|------------|
| 31-28   | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field     | Function                                                                                                                             |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------|
| 27-16     | High Threshold                                                                                                                       |
| THRH      | Specifies high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.              |
| 15-12     | Reserved                                                                                                                             |
| 11-0 THRL | Low Threshold Specifies low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |

## 58.6.34 Analog Watchdog Threshold 6 (THRHLR6)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR6    | 288h     |

## Function

Specifies high and low threshold 6 values for channel n.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function       |
|---------|----------------|
| 31-28   | Reserved       |
| 27-16   | High Threshold |

Table continues on the next page...

Table continued from the previous page...

| Field     | Function                                                                                                                             |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------|
| THRH      | Specifies high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.              |
| 15-12 -   | Reserved                                                                                                                             |
| 11-0 THRL | Low Threshold Specifies low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |

## 58.6.35 Analog Watchdog Threshold 7 (THRHLR7)

## Offset

| Register   | Offset   |
|------------|----------|
| THRHLR7    | 28Ch     |

## Function

Specifies high and low threshold 7 values for channel n.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function       |
|---------|----------------|
| 31-28   | Reserved       |
| -       |                |
| 27-16   | High Threshold |
| THRH    |                |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------|
|         | Specifies high threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register.              |
| 15-12 - | Reserved                                                                                                                             |
| 11-0    | Low Threshold Specifies low threshold value for channel n . Channel n is selected by corresponding field in Channel Select Register. |
| THRL    |                                                                                                                                      |

## 58.6.36 Channel Watchdog Select 0 (CWSELR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CWSELR0    | 2B0h     |

## Function

Controls the selection of the threshold register to provide upper and lower threshold values for channels 0 through 7.

## Table 569. Channel watchdog select for channel n

| Field     | Description                                                                            |
|-----------|----------------------------------------------------------------------------------------|
| WSEL_CH n | Channel watchdog select for channel n . Selects the threshold register for channel n . |

## Diagram

<!-- image -->

| Bits   | 31   | 30       | 29       | 28   | 27   | 26   | 25       | 24   | 23   | 22   | 21       | 20   | 19   | 18   | 17       | 16   |
|--------|------|----------|----------|------|------|------|----------|------|------|------|----------|------|------|------|----------|------|
| R      | 0    |          | WSEL_CH7 |      | 0    |      | WSEL_CH6 |      | 0    |      | WSEL_CH5 |      | 0    |      | WSEL_CH4 |      |
| W      |      |          |          |      |      |      |          |      |      |      |          |      |      |      |          |      |
| Reset  | 0    | 0        | 0        | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0        | 0    |
| Bits   | 15   | 14       | 13       | 12   | 11   | 10   | 9        | 8    | 7    | 6    | 5        | 4    | 3    | 2    | 1        | 0    |
| R      | 0    | WSEL_CH3 |          |      | 0    |      | WSEL_CH2 |      | 0    |      | WSEL_CH1 |      | 0    |      | WSEL_CH0 |      |
| W      |      |          |          |      |      |      |          |      |      |      |          |      |      |      |          |      |
| Reset  | 0    | 0        | 0        | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0        | 0    |

## Fields

| Field          | Function                                                        |
|----------------|-----------------------------------------------------------------|
| 31 -           | Reserved                                                        |
| 30-28 WSEL_CH7 | Channel Watchdog Select for Channel 7 See Table 569 for values. |
| 27 -           | Reserved                                                        |
| 26-24 WSEL_CH6 | Channel Watchdog Select for Channel 6 See Table 569 for values. |
| 23 -           | Reserved                                                        |
| 22-20 WSEL_CH5 | Channel Watchdog Select for Channel 5 See Table 569 for values. |
| 19 -           | Reserved                                                        |
| 18-16 WSEL_CH4 | Channel Watchdog Select for Channel 4 See Table 569 for values. |
| 15 -           | Reserved                                                        |
| 14-12 WSEL_CH3 | Channel Watchdog Select for Channel 3 See Table 569 for values. |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field         | Function                                                        |
|---------------|-----------------------------------------------------------------|
| 11 -          | Reserved                                                        |
| 10-8 WSEL_CH2 | Channel Watchdog Select for Channel 2 See Table 569 for values. |
| 7 -           | Reserved                                                        |
| 6-4 WSEL_CH1  | Channel Watchdog Select for Channel 1 See Table 569 for values. |
| 3 -           | Reserved                                                        |
| 2-0 WSEL_CH0  | Channel Watchdog Select for Channel 0 See Table 569 for values. |

## 58.6.37 Channel Watchdog Select 4 (CWSELR4)

## Offset

| Register   | Offset   |
|------------|----------|
| CWSELR4    | 2C0h     |

## Function

Controls the selection of the threshold register to provide upper and lower threshold values for channels 32 through 39.

## Table 570. Channel watchdog select for channel n

| Field     | Description                                                                            |
|-----------|----------------------------------------------------------------------------------------|
| WSEL_CH n | Channel watchdog select for channel n . Selects the threshold register for channel n . |

| Field   | Description                     |
|---------|---------------------------------|
|         | 7h THRHLR7 register is selected |

## Diagram

<!-- image -->

| Bits   | 31   | 30        | 29   | 28   | 27   | 26   | 25        | 24   | 23   | 22   | 21        | 20   | 19   | 18   | 17        | 16   |
|--------|------|-----------|------|------|------|------|-----------|------|------|------|-----------|------|------|------|-----------|------|
| R      | 0    | WSEL_CH39 |      |      | 0    |      | WSEL_CH38 |      | 0    |      | WSEL_CH37 |      | 0    |      | WSEL_CH36 |      |
| W      |      |           |      |      |      |      |           |      |      |      |           |      |      |      |           |      |
| Reset  | 0    | 0         | 0    | 0    | 0    | 0    | 0         | 0    | 0    | 0    | 0         | 0    | 0    | 0    | 0         | 0    |
| Bits   | 15   | 14        | 13   | 12   | 11   | 10   | 9         | 8    | 7    | 6    | 5         | 4    | 3    | 2    | 1         | 0    |
| R      | 0    | WSEL_CH35 |      |      | 0    |      | WSEL_CH34 |      | 0    |      | WSEL_CH33 |      | 0    |      | WSEL_CH32 |      |
| W      |      |           |      |      |      |      |           |      |      |      |           |      |      |      |           |      |
| Reset  | 0    | 0         | 0    | 0    | 0    | 0    | 0         | 0    | 0    | 0    | 0         | 0    | 0    | 0    | 0         | 0    |

## Fields

| Field           | Function                                                         |
|-----------------|------------------------------------------------------------------|
| 31 -            | Reserved                                                         |
| 30-28 WSEL_CH39 | Channel Watchdog Select for Channel 39 See Table 570 for values. |
| 27 -            | Reserved                                                         |
| 26-24 WSEL_CH38 | Channel Watchdog Select for Channel 38 See Table 570 for values. |
| 23 -            | Reserved                                                         |
| 22-20 WSEL_CH37 | Channel Watchdog Select for Channel 37 See Table 570 for values. |
| 19 -            | Reserved                                                         |
| 18-16 WSEL_CH36 | Channel Watchdog Select for Channel 36 See Table 570 for values. |

Table continues on the next page...

## Table continued from the previous page...

| Field           | Function                                                         |
|-----------------|------------------------------------------------------------------|
| 15 -            | Reserved                                                         |
| 14-12 WSEL_CH35 | Channel Watchdog Select for Channel 35 See Table 570 for values. |
| 11 -            | Reserved                                                         |
| 10-8 WSEL_CH34  | Channel Watchdog Select for Channel 34 See Table 570 for values. |
| 7 -             | Reserved                                                         |
| 6-4 WSEL_CH33   | Channel Watchdog Select for Channel 33 See Table 570 for values. |
| 3 -             | Reserved                                                         |
| 2-0 WSEL_CH32   | Channel Watchdog Select for Channel 32 See Table 570 for values. |

## 58.6.38 Channel Watchdog Enable 0 (CWENR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CWENR0     | 2E0h     |

## Function

Enables the watchdog feature for channel n, when set (CWEN n = 1).

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                 |
|---------|--------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                 |
| 7 CWEN7 | Watchdog Enable for Channel 7 Enables watchdog for channel 7, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 6 CWEN6 | Watchdog Enable for Channel 6 Enables watchdog for channel 6, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 5 CWEN5 | Watchdog Enable for Channel 5 Enables watchdog for channel 5, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 4 CWEN4 | Watchdog Enable for Channel 4 Enables watchdog for channel 4, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 3 CWEN3 | Watchdog Enable for Channel 3 Enables watchdog for channel 3, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Field   | Function                                                                                                                 |
|---------|--------------------------------------------------------------------------------------------------------------------------|
| 2 CWEN2 | Watchdog Enable for Channel 2 Enables watchdog for channel 2, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 1 CWEN1 | Watchdog Enable for Channel 1 Enables watchdog for channel 1, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 0 CWEN0 | Watchdog Enable for Channel 0 Enables watchdog for channel 0, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |

## 58.6.39 Channel Watchdog Enable 1 (CWENR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CWENR1     | 2E4h     |

## Function

Enables Watchdog feature for channel n , when set (CWEN n = 1).

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                   |
| 15 -     | Reserved                                                                                                                   |
| 14 -     | Reserved                                                                                                                   |
| 13 -     | Reserved                                                                                                                   |
| 12 -     | Reserved                                                                                                                   |
| 11 -     | Reserved                                                                                                                   |
| 10 -     | Reserved                                                                                                                   |
| 9 -      | Reserved                                                                                                                   |
| 8 -      | Reserved                                                                                                                   |
| 7 CWEN39 | Watchdog Enable for Channel 39 Enables watchdog for channel 39, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 6 CWEN38 | Watchdog Enable for Channel 38 Enables watchdog for channel 38, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 5 CWEN37 | Watchdog Enable for Channel 37 Enables watchdog for channel 37, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------|
| 4 CWEN36 | Watchdog Enable for Channel 36 Enables watchdog for channel 36, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 3 CWEN35 | Watchdog Enable for Channel 35 Enables watchdog for channel 35, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 2 CWEN34 | Watchdog Enable for Channel 34 Enables watchdog for channel 34, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 1 CWEN33 | Watchdog Enable for Channel 33 Enables watchdog for channel 33, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |
| 0 CWEN32 | Watchdog Enable for Channel 32 Enables watchdog for channel 32, if set. 0b - Watchdog is disabled 1b - Watchdog is enabled |

## 58.6.40 Analog Watchdog Out of Range 0 (AWORR0)

## Offset

| Register   | Offset   |
|------------|----------|
| AWORR0     | 2F0h     |

## Function

Indicates whether channel n converted data is out of range.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                   |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -     | Reserved                                                                                                                                                                                                                                                                                                   |
| 7 AWOR_CH7 | Analog Watchdog Out of Range for Channel 7 Indicates whether channel 7 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect                     |
| 6 AWOR_CH6 | Analog Watchdog Out of Range for Channel 6 Indicates whether channel 6 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                   |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 5 AWOR_CH5 | Analog Watchdog Out of Range for Channel 5 Indicates whether channel 5 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing                                    |
| 4 AWOR_CH4 | Analog Watchdog Out of Range for Channel 4 Indicates whether channel 4 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |
| 3 AWOR_CH3 | Analog Watchdog Out of Range for Channel 3 Indicates whether channel 3 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |
| 2 AWOR_CH2 | Analog Watchdog Out of Range for Channel 2 Indicates whether channel 2 converted data is out of range.                                                                                                                                                                                                     |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                   |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag                                                                                                        |
| 1 AWOR_CH1 | Analog Watchdog Out of Range for Channel 1 Indicates whether channel 1 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |
| 0 AWOR_CH0 | Analog Watchdog Out of Range for Channel 0 Indicates whether channel 0 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |

## 58.6.41 Analog Watchdog Out of Range 1 (AWORR1)

## Offset

| Register   | Offset   |
|------------|----------|
| AWORR1     | 2F4h     |

## Function

Indicates whether channel n converted data is out of range.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R      | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved  | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    |
| W      |           |           |           |           |           |           |           |           |             |             |             |             |             |             |             |             |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R      | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | AWOR _CH... | AWOR _CH... | AWOR _CH... | AWOR _CH... | AWOR _CH... | AWOR _CH... | AWOR _CH... | AWOR _CH... |
| W      | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |

## Fields

| Field   | Function   |
|---------|------------|
| 31-16 - | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                     |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 10 -        | Reserved                                                                                                                                                                                                                                                                                                     |
| 9 -         | Reserved                                                                                                                                                                                                                                                                                                     |
| 8 -         | Reserved                                                                                                                                                                                                                                                                                                     |
| 7 AWOR_CH39 | Analog Watchdog Out of Range for Channel 39 Indicates whether channel 39 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |
| 6 AWOR_CH38 | Analog Watchdog Out of Range for Channel 38 Indicates whether channel 38 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |
| 5 AWOR_CH37 | Analog Watchdog Out of Range for Channel 37 Indicates whether channel 37 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading                                                                                                                     |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                 |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                      |
| 4 AWOR_CH36 | Analog Watchdog Out of Range for Channel 36 Indicates whether channel 36 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect |
| 3 AWOR_CH35 | Analog Watchdog Out of Range for Channel 35 Indicates whether channel 35 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect |
| 2 AWOR_CH34 | Analog Watchdog Out of Range for Channel 34 Indicates whether channel 34 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range                                                                 |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                     |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                          |
| 1 AWOR_CH33 | Analog Watchdog Out of Range for Channel 33 Indicates whether channel 33 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect                     |
| 0 AWOR_CH32 | Analog Watchdog Out of Range for Channel 32 Indicates whether channel 32 converted data is out of range. This field behaves differently for register reads and writes. NOTE When reading 0b - Converted data is in range 1b - Converted data is out of range When writing 0b - No effect 1b - Clear the flag |

## 58.6.42 Self-Test Configuration 1 (STCR1)

## Offset

| Register   | Offset   |
|------------|----------|
| STCR1      | 340h     |

## Function

Defines ADC self-testing capabilities in CPU mode . The ADC parameters not defined by the ADC self-testing registers, these are controlled according to the setting defined for the functional conversions.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|------|------|------|------|------|------|------|------|
| R      |           |           |           |           |           |           |           |           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | INPSAMP_C | INPSAMP_C | INPSAMP_C | INPSAMP_C | INPSAMP_C | INPSAMP_C | INPSAMP_C | INPSAMP_C |      |      |      |      |      |      |      |      |
| Reset  | 0         | 0         | 0         | 1         | 1         | 0         | 0         | 0         | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |           |           |           |           |           |           |           |           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | INPSAMP_S | INPSAMP_S | INPSAMP_S | INPSAMP_S | INPSAMP_S | INPSAMP_S | INPSAMP_S | INPSAMP_S |      |      |      |      |      |      |      |      |
| Reset  | 1         | 0         | 1         | 0         | 0         | 0         | 0         | 0         | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field           | Function                                                                                                                      |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------|
| 31-24 INPSAMP_C | Sampling Configuration for Algorithm C Specifies the sampling phase duration for the test conversions related to Algorithm C. |
| 23-16 -         | Reserved                                                                                                                      |
| 15-8 INPSAMP_S  | Sampling Configuration for Algorithm S Specifies the sampling phase duration for the test conversions related to Algorithm S. |
| 7-0 -           | Reserved                                                                                                                      |

## 58.6.43 Self-Test Configuration 2 (STCR2)

## Offset

| Register   | Offset   |
|------------|----------|
| STCR2      | 344h     |

## Function

Defines ADC self-testing capabilities in CPU mode .

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27     | 26   | 25     | 24   | 23     | 22   | 21   | 20          | 19          | 18          | 17   | 16     |
|--------|------|------|--------|--------|--------|------|--------|------|--------|------|------|-------------|-------------|-------------|------|--------|
| R      | 0    | 0    | 0      | 0      | MSKW   | 0    | MSKW   | 0    | MSKS   | 0    | 0    | 0           | 0           | MSKW DG_... | 0    | MSKW   |
| W      |      |      |        |        | DSE... | SERR | DTE... |      | T_E... |      |      |             |             | MSKW DG_... |      | DG_... |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0    | 0      | 0    | 0      | 0    | 0    | 0           | 0           | 0           | 0    | 0      |
| Bits   | 15   | 14   | 13     | 12     | 11     | 10   | 9      | 8    | 7      | 6    | 5    | 4           | 3           | 2           | 1    | 0      |
| R      | MSKE | 0    | MSKE   | MSKE   | MSKE   | 0    | 0      |      | EN     | 0    | 0    | FMA_ WDS... | FMA_ WDT... | FMA_        | 0    | FMA_   |
| W      | RR_C |      | RR_... | RR_... | RR_... |      |        |      | EN     |      |      | FMA_ WDS... | FMA_ WDT... | C           |      | S      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0    | 0      | 0    | 0      | 0    | 0    | 0           | 0           | 1           | 0    | 1      |

## Fields

| Field        | Function                                                                                                                                                                                                       |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28 -      | Reserved                                                                                                                                                                                                       |
| 27 MSKWDSERR | Watchdog Sequence Error Interrupt Mask Enables the Watchdog sequence error interrupt (STSR1[WDSERR] = 1). 0b - Interrupt disabled 1b - Interrupt enabled                                                       |
| 26 SERR      | Error Fault Injection Field (write-only) Sets STSR1[ERR_C/S1/S2/S3] only once if you write 1b to this field. Read always returns 0b. Setting this field will not affect any of the self-test data registers.   |
| 25 MSKWDTERR | Watchdog Timer Error Interrupt Mask Enables the Watchdog timer error interrupt (STSR[WDTERR] = 1). 0b - Interrupt disabled 1b - Interrupt enabled                                                              |
| 24 -         | Reserved                                                                                                                                                                                                       |
| 23 MSKST_EOC | Self-Test EOC Interrupt Mask Enables the self-test EOC interrupt (STSR1[ST_EOC] = 1). Also, enables IMR[MSKEOC] for the self-test EOC interrupt to be asserted. 0b - Interrupt disabled 1b - Interrupt enabled |
| 22-19 -      | Reserved                                                                                                                                                                                                       |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field            | Function                                                                                                                                                                              |
|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 18 MSKWDG_EOA _C | End of Algorithm C Interrupt Mask Enables the end of Algorithm C interrupt (STSR1[WDG_EOA_C] = 1). 0b - Interrupt disabled 1b - Interrupt enabled                                     |
| 17 -             | Reserved                                                                                                                                                                              |
| 16 MSKWDG_EOA _S | End of Algorithm S Interrupt Mask Enables the end of Algorithm S interrupt (STSR1[WDG_EOA_S] = 1). 0b - Interrupt disabled 1b - Interrupt enabled                                     |
| 15 MSKERR_C      | Error on Algorithm C Channel Interrupt Mask Enables the error on Algorithm C channel interrupt (STSR1[ERR_C] = 1). 0b - Interrupt disabled 1b - Interrupt enabled                     |
| 14 -             | Reserved                                                                                                                                                                              |
| 13 MSKERR_S2     | Error on Algorithm S2 Channel Interrupt Mask Enables the error on Algorithm S2 channel (SUPPLY, step 2) interrupt (STSR1[ERR_S2] = 1). 0b - Interrupt disabled 1b - Interrupt enabled |
| 12 MSKERR_S1     | Error on Algorithm S1 Channel Interrupt Mask Enables the error on Algorithm S1 channel (SUPPLY, step 1) interrupt (STSR1[ERR_S1] = 1). 0b - Interrupt disabled 1b - Interrupt enabled |
| 11 MSKERR_S0     | Error on Algorithm S0 Channel Interrupt Mask Enables the error on Algorithm S1 channel (SUPPLY, step0) interrupt (STSR1[ERR_S0] = 1). 0b - Interrupt disabled 1b - Interrupt enabled  |
| 10-8 -           | Reserved                                                                                                                                                                              |
| 7                | Self-Testing Channel Enable                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                                                                                            |
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EN           | Enables the TEST channel only in CPU mode. This field must be set before starting normal conversion and should not be changed while the conversion is in process. This field should only be reset after end of conversion of the last self-test channel has been received. 0b - Disable 1b - Enable |
| 6-5 -        | Reserved                                                                                                                                                                                                                                                                                            |
| 4 FMA_WDSERR | Fault Mapping for Watchdog Sequence Error Specifies the type of fault mapping (noncritical fault (NCF) or critical fault (CF)) for watchdog sequence error. By default, a failure on the Watchdog Sequence is mapped to drive the NCF line. 0b - NCF mapping 1b - CF mapping                        |
| 3 FMA_WDTERR | Fault Mapping for Watchdog Timer Error Specifies the type of fault mapping (noncritical fault (NCF) or critical fault (CF)) for watchdog timer error. By default, a failure on the Watchdog Timer is mapped to drive the NCF line. 0b - NCF 1b - CF                                                 |
| 2 FMA_C      | Fault Mapping for Algorithm C Specifies the type of fault mapping (noncritical fault (NCF) or critical fault (CF)) for algorithm C. By default, a failure during Algorithm C is mapped to drive the CF fault line. 0b - NCF 1b - CF                                                                 |
| 1 -          | Reserved                                                                                                                                                                                                                                                                                            |
| 0 FMA_S      | Fault Mapping for BGAP Algorithm Specifies the type of fault mapping (noncritical fault (NCF) or critical fault (CF)) for BGAP algorithm. By default, a failure during the supply algorithm is mapped to drive the Critical Fault (CF) line. 0b - NCF 1b - CF                                       |

## 58.6.44 Self-Test Configuration 3 (STCR3)

## Offset

| Register   | Offset   |
|------------|----------|
| STCR3      | 348h     |

## Function

Defines ADC self-testing capabilities in CPU mode ( MCR[CTUEN] = 0). You must program this register before starting the conversion, and must not change the programming while conversion is in process.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20    | 19    | 18    | 17    | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|-------|-------|-------|-------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |       |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4     | 3     | 2     | 1     | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    |      |      | 0    | 0    | 0    |       |       |       |       |       |
| W      | ALG  | ALG  | ALG  | ALG  | ALG  | ALG  | ALG  | ALG  |      |      |      | MSTEP | MSTEP | MSTEP | MSTEP | MSTEP |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-10 - | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 9-8 ALG | Self-Test Algorithm Select Specifies the algorithm for self-test. In One-Shot Operation mode, for test and debug purposes, STCR3[MSTEP] selects the step for self-test. In Scan Operation mode, the step for self-test is automatically selected based on the previous step and the value of this field. The configuration of Self-Test Baud Rate (STBRR) defines the execution baud rate of algorithm C. 00b - Algorithm S 01b - Reserved 10b - Algorithm C 11b - Algorithm S (for One-Shot Operation mode); Algorithm S + C (for Scan Operation mode) |
| 7-5 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4-0 MSTEP | Self-Test Step Select Selects self-test step. For One-Shot Operation mode: Current step for Algorithm S/ C. • MSTEP = 0 to NUM_SUPPLY_STEPS - 1 for Algorithm S • MSTEP = 0 to NUM_C_STEPS - 1 for Algorithm C The unused codes are RESERVED (should not be used). This field is not used in Scan Operation mode as single-step execution (interleaved mode) is always performed. It should be programmed to zero in Scan Operation mode. |

## 58.6.45 Self-Test Baud Rate (STBRR)

## Offset

| Register   | Offset   |
|------------|----------|
| STBRR      | 34Ch     |

## Function

Specifies the self-test baud rate.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-19   | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 18-16 WDT | Watchdog Timer Value Specifies the watchdog timer value that is used to monitor the algorithm sequence to verify that it is correctly executing within the safe time period. The self-testing watchdog is enabled by setting STAW n R[WDTE]. Default value is 10 ms. A fixed prescaler of 1024 is used to obtain the timer value from the ADCdig clock (80 MHz). Prescaler value is fixed at 1024. 000b - 0.1 ms ((0008h × Prescaler) cycles at 80 MHz) 001b - 0.5 ms ((0027h × Prescaler) cycles at 80 MHz) 010b - 1 ms ((004Eh × Prescaler) cycles at 80 MHz) 011b - 2 ms ((009Ch × Prescaler) cycles at 80 MHz) 100b - 5 ms ((0187h × Prescaler) cycles at 80 MHz) 101b - 10 ms ((030Dh × Prescaler) cycles at 80 MHz) 110b - 20 ms (061Ah × Prescaler) cycles at 80 MHz) 111b - 50 ms (0F42h ×Prescaler) cycles at 80 MHz) |
| 15-8 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 7-0 BR    | Algorithm Baud Rate Specifies the baud rate for the selected algorithm in Scan Operation mode (MCR[MODE] = 1). 00h ≥ maximum scheduling rate (NOMINAL rate) ... FFh ≥ minimum scheduling rate (NOMINAL rate scaled by 255) You must write to this field before enabling a self-test channel.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

## 58.6.46 Self-Test Status 1 (STSR1)

## Offset

| Register   | Offset   |
|------------|----------|
| STSR1      | 350h     |

## Function

Indicates self-test status 1.

## Diagram

<!-- image -->

| Bits   | 31     | 30   | 29      | 28      | 27      | 26   | 25      | 24      | 23      | 22     | 21     | 20   | 19   | 18          | 17   | 16          |
|--------|--------|------|---------|---------|---------|------|---------|---------|---------|--------|--------|------|------|-------------|------|-------------|
| R      | 0      | 0    | 0       | WDSE RR |         | 0    | WDTE RR | OVER WR | ST_ EOC | 0      | 0      | 0    | 0    | WDG_ EOA... | 0    | WDG_ EOA... |
| W      |        |      |         |         | W1C     | W1C  |         | W1C     | W1C     |        |        |      |      | W1C         |      | W1C         |
| Reset  | 0      | 0    | 0 0     |         | 0       | 0    | 0       | 0       | 0       | 0      | 0      | 0    | 0    | 0           | 0    | 0           |
| Bits   | 15     | 14   | 13      | 12      | 11      | 10   | 9       | 8       | 7       | 6      | 5      | 4    | 3    | 2           | 1    | 0           |
| R      | ERR_ C | 0    | ERR_ S2 | ERR_ S1 | ERR_ S0 | 0    | STEP_C  | STEP_C  | STEP_C  | STEP_C | STEP_C | 0    | 0    | 0           | 0    | 0           |
| W      | W1C    | W1C  | W1C     |         | W1C     |      | W1C     | W1C     | W1C     | W1C    | W1C    |      |      |             |      |             |
| Reset  | 0      | 0    | 0       | 0       | 0       | 0    | 0       | 0       | 0       | 0      | 0      | 0    | 0    | 0           | 0    | 0           |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 27 WDSERR | Watchdog Sequence Errors Indicates whether a watchdog sequence error of the ADC subsystem (check for algorithm step sequence) occurred. If a failure occurs, an interrupt will be generated if enabled (STCR2[MSKWDSERR] = 1). It provides the fault indication to the FCCU, asserting a CF or NCF according to the STCR2[FMA_WDSERR] configuration. This field behaves differently for register reads and writes. NOTE When reading 0b - No failure 1b - Failure occurred When writing 0b - No effect 1b - Clear the flag |
| 26 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 25 WDTERR | Watchdog Timer Error Indicates whether a watchdog timer error of the ADC subsystem (algorithm check for completion within safe time) occurred. If a failure occurs, an interrupt will be generated if enabled (STCR2[MSKWDTERR] = 1). It provides the fault indication to the FCCU, asserting a CF or NCF according to the STCR2[FMA_WDTERR] configuration.                                                                                                                                                                |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | This field behaves differently for register reads and writes. NOTE When reading 0b - No failure 1b - Failure occurred When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                                                                                                                                     |
| 24 OVERWR | Overwrite Error Notifies when STSR1[ERR x ] is overwritten by a new error. The new error status is written or discarded according to the MCR[OWREN] value. To avoid Overwrite Error indication, STSR1[ERR x ] must be cleared by software. This field behaves differently for register reads and writes. NOTE When reading 0b - No overwrite error 1b - Overwrite error occurred When writing 0b - No effect 1b - Clear the flag                                                                                          |
| 23 ST_EOC | Self-Test EOC Indicates whether self-test end of conversion is complete. This field is set along with EOC bit when end of conversion occurs from the analog SAR_ADC for self-test channel. An interrupt is generated if STCR2[MSKST_EOC] = 1, and IMR[MSKEOC] = 1. Writing 0 has no effect. This field behaves differently for register reads and writes. NOTE When reading 0b - Self-test end of conversion is not complete 1b - Self-test end of conversion is complete When writing 0b - No effect 1b - Clear the flag |
| 22-19     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

Table continues on the next page...

Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| - 18 WDG_EOA_C | Watchdog End of Algorithm C Indicates that Algorithm C has completed. This field is set after the last STEP of algorithm is executed. An interrupt is generated if STCR2[MSKWDG_EOA_C] = 1. This field will set only if STAW4R[WDTE] =                                                                                                                                                                                                                                                                                      |
| 17 -           | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 16 WDG_EOA_S   | Watchdog End of Algorithm S Indicates whether Algorithm S is complete. This field is set after the last Step of Algorithm S is executed. An interrupt is generated if STCR2[MSKWDG_EOA_S] = 1. This field is set only if STAW0R[WDTE] = 1. Writing 0 has no effect. This field behaves differently for register reads and writes. NOTE When reading 0b - Self-test end of Algorithm S conversion is not complete. 1b - Self-test end of Algorithm S conversion is complete. When writing 0b - No effect 1b - Clear the flag |
| 15 ERR_C       | Algorithm C Error Indicates an error on the self-testing channel (Algorithm C). An interrupt is generated if STCR2[MSKERR_C] = 1. It provides the fault indication to the FCCU, asserting the programmed fault line (STCR2[FMA_ x ]). STSR1[ERR_C] can also be set by software (fault injection) by writing 1 to STCR2[SERR]. In this case, a CF or NCF will be asserted according to the STCR2[FMA_ x ] configuration. Writing 0 has no effect.                                                                            |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | This field behaves differently for register reads and writes. NOTE When reading 0b - No Algorithm C error 1b - Algorithm C error occurred When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 14 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 13 ERR_S2 | Algorithm S2 Error Indicates an error on the self-test channel (Algorithm S (SUPPLY), step2). An interrupt is generated if STCR2[MSKERR_S2] = 1. It provides the fault indication to the FCCU, asserting the programmed fault line (STCR2[FMA_ x ]). STSR1[ERR_S2] can be also set by software (fault injection) by writing 1 to STCR2[SERR]. In this case, a CF or NCF will be asserted according to the STCR2[FMA_ x ] configuration. Writing 0 has no effect. This field behaves differently for register reads and writes. NOTE When reading 0b - No error occurred on the sampled signal 1b - Error occurred on the sampled signal When writing 0b - No effect 1b - Clear the flag |
| 12 ERR_S1 | Algorithm S1 Error Indicates an error on the self-test channel (Algorithm S (SUPPLY), step1). An interrupt is generated if STCR2[MSKERR_S1] = 1. It provides the fault indication to the FCCU, asserting the programmed fault line (STCR2[FMA_ x ]). STSR1[ERR_S1] can be also set by software (fault injection) by writing 1 to STCR2[SERR]. In this case, a CF or NCF will be asserted according to the STCR2[FMA_ x ] configuration. Writing 0 has no effect. This field behaves differently for register reads and writes. NOTE When reading 0b - No VDD ERROR                                                                                                                      |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | 1b - VDD ERROR occurred When writing 0b - No effect 1b - Clear the flag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 11 ERR_S0  | Algorithm S0 Error Indicates an error on the self-test channel (Algorithm S (SUPPLY), step0). An interrupt is generated if STCR2[MSKERR_S0] = 1. It provides the fault indication to the FCCU, asserting the programmed fault line (STCR2[FMA_ x ]). STSR1[ERR_S0] can be also set by software (fault injection) by writing 1 to STCR2[SERR]. In this case, a CF or NCF will be asserted according to the STCR2[FMA_ x ] configuration. Writing 0 has no effect. This field behaves differently for register reads and writes. NOTE When reading 0b - No VREF error 1b - VREF error occurred When writing 0b - No effect 1b - Clear the flag |
| 10 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 9-5 STEP_C | Algorithm C Step Number Error Indicates step of the Algorithm CstepwhenanAlgorithmCerroroccurred (as indicatedbySTSR1[ERR_C]). 0...(NUM_C_STEPS-1) ≥ Algorithm C                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 4-0 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## 58.6.47 Self-Test Status 2 (STSR2)

## Offset

| Register   | Offset   |
|------------|----------|
| STSR2      | 354h     |

## Function

Indicates self-test status 2.

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | OVFL    | 0       | 0       | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   | DATA1   |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0 0     |         | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 | 0 DATA0 |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field       | Function                                                                                                                                                                                                       |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 OVFL     | Overflow Bit Indicates whether an overflow occurred. This flag is set when divisor is zero. Also, STSR1.ERR_S1 is set if overflow occurs. 0b - Not overflow 1b - Overflow                                      |
| 30-28 -     | Reserved                                                                                                                                                                                                       |
| 27-16 DATA1 | Test Channel Converted Data when ERR_S1 Occurred Indicates test channel converted data when the ERR_S1 error occurs. Algorithm S (step1) ≥ fractional part of the ratio TEST (step1)/TEST (step0) = VDD/VBGAP. |
| 15-12 -     | Reserved                                                                                                                                                                                                       |
| 11-0 DATA0  | Test Channel Converted Data when ERR_S1 Occurred Indicates test channel converted data when the ERR_S1 error occurs. Algorithm S (step1) ≥ integer part of the ratio TEST (step1)/TEST (step0) = VDD/VBGAP.    |

## 58.6.48 Self-Test Status 3 (STSR3)

## Offset

| Register   | Offset   |
|------------|----------|
| STSR3      | 358h     |

## Function

Indicates self-test status 3.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|------|------|------|------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | 0    | 0    | 0    | 0    | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | 0    | 0    | 0    | 0    | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 | DATA0 |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field       | Function                                                                                                                                                                  |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28 -     | Reserved                                                                                                                                                                  |
| 27-16 DATA1 | Test Channel Converted Data when ERR_C Occurred Indicates test channel converted data when the ERR_S2 error occurs. Algorithm S (step2) ≥ TEST channel data = VREF/VREF   |
| 15-12 -     | Reserved                                                                                                                                                                  |
| 11-0 DATA0  | Test Channel Converted Data when ERR_S0 Occurred Indicates test channel converted data when the ERR_S0 error occurs. Algorithm S (step0) ≥ TEST channel data = VBGAP/VREF |

## 58.6.49 Self-Test Status 4 (STSR4)

## Offset

| Register   | Offset   |
|------------|----------|
| STSR4      | 35Ch     |

## Function

Indicates self-test status 4.

## NOTE

If MCR.OVERWR is set, registers STSR[2:4] are overwritten if another error occurs.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|------|------|------|------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | 0    | 0    | 0    | 0    | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 | DATA1 |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| W      |      |      |      |      |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field       | Function                                                                                                                                  |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28 -     | Reserved                                                                                                                                  |
| 27-16 DATA1 | Test Channel Converted Data When ERR_C Occurred Indicates test channel converted data when ERR_C occurs. Algorithm C ≥ TEST channel data. |
| 15-0 -      | Reserved                                                                                                                                  |

## 58.6.50 Self-Test Data 1 (STDR1)

## Offset

| Register   | Offset   |
|------------|----------|
| STDR1      | 370h     |

## Function

Indicates self-test data 1.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18      | 17     | 16     |
|--------|------|------|------|------|--------|--------|--------|--------|--------|--------|--------|--------|--------|---------|--------|--------|
| R      | 0    | 0    | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | VALID  | OWER WR | 0      | 0      |
| W      |      |      |      |      |        |        |        |        |        |        |        |        |        |         |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0       | 0      | 0      |
| Bits   | 15   | 14   | 13   | 12   | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2       | 1      | 0      |
| R      | 0    | 0    | 0    | 0    | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA | TCDATA  | TCDATA | TCDATA |
| W      |      |      |      |      |        |        |        |        |        |        |        |        |        |         |        |        |
| Reset  | 0    | 0    | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0       | 0      | 0      |

## Fields

| Field       | Function                                                                                                                                                                                                   |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 -     | Reserved                                                                                                                                                                                                   |
| 19 VALID    | Valid Data Indicates whether data is valid (a new value is written). The field clears automatically when data is read. 0b - Data not valid 1b - Data valid                                                 |
| 18 OWERWR   | Overwrite Data Indicates whether conversion data is overwritten by a newer result. The new data is written or discarded according to the MCR[OWREN] value. 0b - Data not overwritten 1b - Data overwritten |
| 17-12 -     | Reserved                                                                                                                                                                                                   |
| 11-0 TCDATA | Test Channel Converted Data Indicates test channel data that is in 2's complement format.                                                                                                                  |

## 58.6.51 Self-Test Data 2 (STDR2)

## Offset

| Register   | Offset   |
|------------|----------|
| STDR2      | 374h     |

Analog-to-Digital Converter (SAR\_ADC)

## Function

Indicates self-test data 2.

<!-- image -->

## Fields

| Field       | Function                                                                                                                                                                                                        |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 FDATA | Fractional Data Indicates fractional data. The fractional part of the ratio TEST (step1)/TEST (step0) = VDD/VBGAP for Algorithm S.                                                                              |
| 19 VALID    | Valid Data Indicates when data is valid (a new value is written). This field clears automatically when data is read. 0b - Data not valid 1b - Data valid                                                        |
| 18 OVERWR   | Overwrite Data Indicates when conversion data is overwritten by a newer result. The new data is written or discarded according to the MCR[OWREN] configuration. 0b - Data not overwritten 1b - Data overwritten |
| 17-12 -     | Reserved                                                                                                                                                                                                        |
| 11-0 IDATA  | Integer Data Indicates integer data. The integer part of the ratio TEST (step1)/TEST (step0) = VDD/VBGAP for Algorithm S.                                                                                       |

Analog-to-Digital Converter (SAR\_ADC)

## 58.6.52 Self-Test Analog Watchdog 0 (STAW0R)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW0R     | 380h     |

## Function

Contains self-test analog watchdog 0 fields.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 AWDE | Analog Watchdog Enable Enables the comparison of the conversion result from the ADC supply self-test step0 to the thresholds contained in this register (THRH and THRL). 0b - Disabled 1b - Enabled                                                                                                                                                                                                                                                                                                              |
| 30 WDTE | Watchdog Timer Enable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|         | Enables the watchdog timer monitoring function (related to the Algorithm S) for all ADC supply self- test steps. The watchdog timer verifies: • Correct sequence of the algorithm (step sequence) • Execution of the algorithm within the safe time period as defined by STBRR[WDT] As soon as the watchdog timer is enabled the algorithm execution must be detected within the safe time period. The watchdog timer is reset each time the algorithm restarts. Set this field only in Scan mode. 0b - Disabled |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | 1b - Enabled                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 29-28 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 27-16 THRH | High Threshold Value for Algorithm S Step0 Specifies the high threshold value for Algorithm S Step0. If the analog watchdog is enabled, STSR1[ERR_ x ] is set to 1 if STDR1[TCDATA] > THRH. Program the value 2912d (or B60h) to this register. The formula for calculating the higher threshold is (Bandgap_Voltage_Maximum)*4095/(Reference_Voltage_Minimum). The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). The setting may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. NOTE |
| 15-12 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 11-0 THRL  | Low Threshold Value for Algorithm S Step0 Specifies the low threshold value for Algorithm S Step0. If the analog watchdog is enabled, STSR1[ERR_ x ] is set to 1 if STDR1[TCDATA] < THRL. Program the value 2367d (or 93Fh) to this register. The formula for calculating the lower threshold is (Bandgap_Voltage_Minimum)*4095/(Reference_Voltage_Maximum). The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). This value may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. NOTE     |

## 58.6.53 Self-Test Analog Watchdog 1A (STAW1AR)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW1AR    | 384h     |

## Function

Contains self-test analog watchdog 1A fields.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W    | AWDE | 0    | 0    |      |      |      |      |      |      | THRH |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0 0  | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      | THRL |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |

## Fields

| Field      | Function                                                                                                                                             |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 AWDE    | Analog Watchdog Enable Enables analog watchdog related to Algorithm S (step1). 0b - Disabled 1b - Enabled                                            |
| 30-28 -    | Reserved                                                                                                                                             |
| 27-16 THRH | High Threshold Value for Algorithm S Step1 Specifies the high threshold value (integer part) for Algorithm S (step1) test channel (unsigned coding). |
| 15-12 -    | Reserved                                                                                                                                             |
| 11-0 THRL  | Low Threshold Value for Algorithm S Step1 Specifies the low threshold value (integer part) for Algorithm S (step1) test channel (unsigned coding).   |

## 58.6.54 Self-Test Analog Watchdog 1B (STAW1BR)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW1BR    | 388h     |

## Function

Contains fields for self-test analog watchdog 1B.

Analog-to-Digital Converter (SAR\_ADC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 0    | 1    | 1    | 0    | 0    | 1    | 1    | 0    | 0    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 1    | 1    | 0    | 0    | 0    | 0    | 1    | 1    | 0    |

## Fields

| Field      | Function                                                                                                                                                |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-28 -    | Reserved                                                                                                                                                |
| 27-16 THRH | High Threshold Value for Algorithm S Step1 Specifies the high threshold value (fractional part) for Algorithm S (step1) test channel (unsigned coding). |
| 15-12 -    | Reserved                                                                                                                                                |
| 11-0 THRL  | Low Threshold Value for Algorithm S Step1 Specifies the low threshold value (fractional part) for Algorithm S (step1) test channel (unsigned coding).   |

## 58.6.55 Self-Test Analog Watchdog 2 (STAW2R)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW2R     | 38Ch     |

## Function

Contains fields for self-test analog watchdog 2.

<!-- image -->

Analog-to-Digital Converter (SAR\_ADC)

<!-- image -->

## 1. 12-bit instance

## Fields

| Field     | Function                                                                                                                                                                |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 AWDE   | Analog Watchdog Enable Enables analog watchdog related to Algorithm S (step2). 0b - Disabled 1b - Enabled                                                               |
| 30-12 -   | Reserved                                                                                                                                                                |
| 11-0 THRL | Threshold level low Specifies the low threshold value for channel n (unsigned coding). If the analog watchdog is enabled, STSR1[ERR_S2] is set if STDR1[TCDATA] < THRL. |

## 58.6.56 Self-Test Analog Watchdog 3 (STAW3R)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW3R     | 390h     |

## Function

Contains fields for self-test analog watchdog 3.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function   |
|---------|------------|
| 31-0    | Reserved   |
| -       |            |

## 58.6.57 Self-Test Analog Watchdog 4 (STAW4R)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW4R     | 394h     |

## Function

Contains fields for self-test analog watchdog 4.

<!-- image -->

Analog-to-Digital Converter (SAR\_ADC)

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 AWDE    | Analog Watchdog Enable Enables the analog watchdog monitoring function (related to Algorithm C) for all ADC capacitive self-test steps. 0b - Disabled 1b - Enabled                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 30 WDTE    | Watchdog Timer Enable Enables the watchdog timer monitoring function (related to Algorithm C) for all ADC capacitive self- test steps. The watchdog timer verifies: • Correct sequence of the algorithm (step sequence) • Execution of the algorithm within the safe time period as defined by STBRR[WDT] As soon as the watchdog timer is enabled, execution must be detected within the safe time period. The watchdog timer is reset each time the algorithm restarts. This field should be set only in scan mode. 0b - Disabled                                                                                                                                                    |
| 29-28 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 27-16 THRH | High Threshold Value for Step0 of Algorithm C Specifies the high threshold value for Step0 of Algorithm C. This value is read by the ADC as two's-complement, but should be written positive. If the watchdog is enabled (STAW4R[AWDE] = 1) and STDR1[TCDATA] > STAW4R[THRH], then STSR1[ERR_C] is set. The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). The setting may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. NOTE |
| 15-12 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 11-0 THRL  | Low Threshold Value for Step0 of Algorithm C Specifies the low threshold value for Step0 of Algorithm C. This value is read by the ADC as two's-complement, and it should be the inverse of STAW4R[THRH]. If the watchdog is enabled (STAW4R[AWDE] = 1) and STDR1[TCDATA] < STAW4R[THRL], then STSR1[ERR_C] is set.                                                                                                                                                                                                                                                                                                                                                                    |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | The settings in this register are applicable only to step0 of the ADC's capacitive self-test. Refer to the STAW5R register for settings applicable to other capacitive self-test steps. The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). The setting may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. |

## 58.6.58 Self-Test Analog Watchdog 5 (STAW5R)

## Offset

| Register   | Offset   |
|------------|----------|
| STAW5R     | 398h     |

## Function

Contains fields for self-test analog watchdog 5.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRH |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 1    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      | THRL |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 0    | 1    | 1    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                |
|---------|-------------------------------------------------------------------------|
| 31-28   | Reserved                                                                |
| 27-16   | High Threshold Value for Step N of Algorithm C                          |
| THRH    | Specifies the high threshold value Step N of Algorithm (N = 1 to CS-1). |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | This value is read by the ADC as two's-complement, but should be written positive. If the watchdog is enabled (STAW4R[AWDE] = 1) and (STDR1[TCDATA] (step-N)-STDR1[TCDATA] (step-0)) > STAW5R[THRH], then STSR1[ERR_C] is set. The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). The setting may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. NOTE                                                                                                                       |
| 15-12 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 11-0 THRL | Low Threshold Value for Step0 of Algorithm C Specifies the low threshold value for Step0 of Algorithm C. This value is read by the ADCas two's-complement, and it should be the inverse of STAW5R[THRH]. If the watchdog is enabled (STAW4R[AWDE = 1]) and (STDR1[TCDATA] (step-N)-STDR1[TCDATA] (step-0)) < STAW5R[THRL], then STSR1[ERR_C] is set. The recommended watchdog threshold values are set according to expected and tested results in a noise-controlled environment (for example, introduction of noise from outside of the device minimized). The setting may need to be adjusted to prevent a given threshold value from falsely reporting fault detections in applications operating in noisier environments. NOTE |

## 58.6.59 Calibration Status (CALSTAT)

## Offset

| Register   | Offset   |
|------------|----------|
| CALSTAT    | 39Ch     |

## Function

Indicates status of calibration steps. See Calibration for more information on calibration steps.

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R      | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT | TEST_RESULT |
| W      |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R      | 0           |             | STAT_ 14    | STAT_ 13    | STAT_ 12    | STAT_ 11    | STAT_ 10    | STAT_ 9     | STAT_ 8     | STAT_ 7     | STAT_ 6     | STAT_ 5     | STAT_ 4     | STAT_ 3     | STAT_ 2     | STAT_ 1     |
| W      |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 TEST_RESULT | TEST_RESULT Indicates test result for last failing test ($FIXED_VALUE-$RAW_SAR_DATA). Bit [31] is a sign bit, and negative numbers are in two's complement.                                                                                                                                                                                                                        |
| 15-14 -           | Reserved                                                                                                                                                                                                                                                                                                                                                                           |
| 13 STAT_14        | Status of Calibration Step 14 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Calibration step pass 1b - Calibration step fail |
| 12 STAT_13        | Status of Calibration Step 13 Indicates status of calibration step 13. This field is cleared by hardware when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. This field must be checked after end of calibration. 0b - Calculated gain within range 1b - Calculated gain out of range                                       |
| 11 STAT_12        | Status of Calibration Step 12 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test.                                                       |

Table continues on the next page...

Analog-to-Digital Converter (SAR\_ADC)

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                       |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 10 STAT_11 | Status of Calibration Step 11 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed                  |
| 9 STAT_10  | Status of Calibration Step 10 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |
| 8 STAT_9   | Status of Calibration Step 9 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed  |
| 7 STAT_8   | Status of Calibration Step 8 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed                   |
| 6 STAT_7   | Status of Calibration Step 7 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses.                                                                                                                                                   |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                                                                                      |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed                                                                                                                                                                                                              |
| 5 STAT_6 | Status of Calibration Step 6 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |
| 4 STAT_5 | Status of Calibration Step 5 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |
| 3 STAT_4 | Status of calibration step 4 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |
| 2 STAT_3 | Status of Calibration Step 3 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |
| 1 STAT_2 | Status of Calibration Step 2 Indicates status of test n (where n = 1...12).                                                                                                                                                                                                                                                                                   |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                                                                                      |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed                                                                             |
| 0 STAT_1 | Status of Calibration Step 1 Indicates status of test n (where n = 1...12). This field is cleared when MCR[CALSTART] = 1, which initiates the test. This field updates automatically as the test progresses. Bit for each test is updated dynamically during test and the test number field reflects the last failing test. 0b - Test passed 1b - Test failed |

## Chapter 59 Thermal Monitoring Unit (TMU)

## 59.1 Chip-specific TMU information

## 59.1.1 Local temperature sensor placements

There are three remote sensors. The table below provides the local temperature sensor placements.

## Table 571. Sensor placement

|   Temperature sensor ID | Placement                                       |
|-------------------------|-------------------------------------------------|
|                       0 | Between the DDR Sub-System and the internal RAM |
|                       1 | Near A53 Cluster 0                              |
|                       2 | Near LLCE/HSE_H and the Temp Diode              |

## 59.1.2 TCMCFG configuration

The Central Module Configuration Register (TCMCFG) enables you to engage the accuracy-enhancing features in TMU, such as:

- Offset cancellation mode
- Offset cancellation manual setting
- Dynamic element match averaging mode
- Digital filter depth
- RC time constant setting
- Clock divider

Use the following settings to get the most accurate temperature reading:

- OCS = 0
- OCM = 1
- DEMA = 1
- DFD = 3
- RCTC = 4
- CLKDIV = 4

The combined effect of these settings leverages the module's ability to increase the number of samples taken from each sensor and fine-tune some of the analog circuitry for optimal performance. T he RCTC and CLKDIV settings specifically control the duration of each analog conversion. These settings deliver a stable reading and quick conversion times. See the TCMCFG description for details.

## 59.1.3 Calibration table

The central module uses the calibration points to convert digitized temperature sensor signal into a temperature value in Kelvin. These points are generic for a family of products.

NXP characterizes the calibration points shown in the following table and you must not diverge from them. The CES milestone provides these calibration points after chip validation.

Table 572. Calibration points

|   TTCFGR[CAL_PNT] | TTRCR[TEMP](K)   | TSCFGR[SENSOR]              |
|-------------------|------------------|-----------------------------|
|                 0 | 0x0E9            | 0x02C + CFG_DAC_TRIM_1[4:0] |
|                 1 | 0x101            | 0x059                       |
|                 2 | 0x13A            | 0x0C6                       |
|                 3 | 0x18E            | 0x167 + CFG_DAC_TRIM_0[4:0] |

## 59.2 Overview

TMU has access to multiple remote temperature measurement sites, which are strategically located on the chip. The module monitors these sites and reports the temperature from one or more of them. You can access the data related to the current and average temperature, which the module constantly captures, for each site. The module can also signal an alarm if a programmed event occurs.

## 59.2.1 Block diagram

The PTAT BJT Core block generates a signal proportional to absolute temperature in K. It extracts V be2 - V be1 (a quantity whose behavior is PTAT) of two BJTs by injecting different currents into both and then sensing V be2 - V be1 .

<!-- image -->

## 59.2.2 Features

TMU includes the following features:

- Circuit has the capability of measuring temperatures from 233K to 433K (-40 °C to +160 °C); actual calibration table min/max temperatures may differ due to process limitations
- Configuration
- TMU software configuration loads and initializes the calibration data
- Monitoring
- Single- or multi-site monitoring
- Programmable monitoring interval

- Out-of-range indication
- High/low temperature range monitoring
- Temperature rate change monitoring
- Immediate and average temperature monitoring
- Average temperature monitoring based on programmable low-pass filtering
- Programmable monitoring of high/low temperature thresholds for triggering normal and/or critical alarms
- Programmable monitoring of the rate of rising/falling temperatures for triggering critical alarms
- Reporting
- Immediate and average temperature reporting for all monitor sites

## 59.3 Functional description

The following sections describe the functionality of the TMU in detail.

## 59.3.1 Operation

The TMU has the following modes of operation as defined by TMR[MODE]:

- TMU disabled; low-power mode
- Monitoring

## 59.3.2 Monitoring

Monitoring is the process of reading on-chip temperature sensor sites at regular intervals and taking appropriate actions, such as alarming the user when the temperature exceeds a programmed temperature threshold. The monitoring process only applies to those sites that are enabled.

During this process, TMU periodically measures all enabled temperature sensor sites for temperature, starting with site 0 and ending with site 2. In Monitor Temperature Measurement Interval (TMTMIR), you can set the interval at which TMU reads the sensors, and the setting must reflect the maximum interval time required to accurately capture temperature changes. If the measurement interval has not expired after the last active site is read, the sensor logic may enter the low-power mode. If the interval expires before the module reads the last active site, the module sets TSR[MIE] to 1 and reads the next active site immediately. If the interval has been exceeded, you may opt to reduce the number of sites monitored by TMU, or increase the interval, if possible. This is especially critical for capturing temperature rate change events accurately.

TMU records the current and average temperature for each site. It calculates the average temperature based on the low-pass filter function in the TMU mode register. If the module triggers any of the enabled threshold or rate event registers, it sets the corresponding interrupt detect field in Interrupt Detect (TIDR). You enable interrupts through Interrupt Enable (TIER).

The procedure to enable the monitoring mode is as follows:

1. Clear the interrupt detect register, Interrupt Detect (TIDR).
2. Clear the interrupt capture registers: Interrupt Immediate Site Capture (TIISCR), Interrupt Average Site Capture (TIASCR), and Interrupt Critical Site Capture (TICSCR).
3. Enable interrupt handling by writing 1 to the appropriate fields in the interrupt enable register, Interrupt Enable (TIER).
4. Write the appropriate values to the following temperature threshold registers:
- Monitor High Temperature Immediate Threshold (TMHTITR)
- Monitor Low Temperature Immediate Threshold (TMLTITR)
- Monitor High Temperature Average Threshold (TMHTATR)
- Monitor Low Temperature Average Threshold (TMLTATR)
- Monitor High Temperature Average Critical Threshold (TMHTACTR)

Thermal Monitoring Unit (TMU)

- Monitor Low Temperature Average Critical Threshold (TMLTACTR)
5. Write the appropriate values to these temperature rate change registers: Monitor Rising Temperature Rate Critical Threshold (TMRTRCTR) and Monitor Falling Temperature Rate Critical Threshold (TMFTRCTR).
6. Write the appropriate value to the monitoring interval register, Monitor Temperature Measurement Interval (TMTMIR).
7. Select the ALPF coefficient in the Mode (TMR). The ALPF coefficient is used in the average temperature calculations.
8. Enable the monitor mode by setting TMR[MODE] to 10b. You control the monitored sites by writing an appropriate value to TMSR[SITE]. You must enable at least one active site, and set the other mode control fields as needed.
9. If the monitoring interval is too short, as indicated by TSR[MIE], you may need to increase the interval or reduce the number of sites.

## 59.3.3 Reporting

The TMU can directly report the current and average temperature for a particular temperature sensor site during the monitoring mode by reading one of the site report registers. The report uses the last measurement from the monitoring process, and requires a site to be actively monitored to obtain an accurate reading. Reading a site, which last measured an invalid temperature outside the sensor range of 233 K to 398 K, will have the valid bit cleared.

If you disable monitoring, the last temperature measurement for the site(s) that the TMU previously monitored is retained by the module, and you can still read the report registers, with the knowledge that the temperature(s) reported is (are) no longer accurate. This method can be used to capture the temperatures at multiple sites in time, but does not allow for continuous monitoring.

The temperature capture registers (Monitor High Temperature Capture (TMHTCR) and Monitor Low Temperature Capture (TMLTCR)) record the history of the highest and lowest temperatures that they measure within the valid sensor range. The temperature rate change capture registers (Monitor Rising Temperature Rate Capture (TMRTRCR) and Monitor Falling Temperature Rate Capture (TMFTRCR)) record how quickly the temperature rises or falls, and you can use this information to determine programmable values for the rate change threshold registers in real applications.

You can read out-of-range indications from Status (TSR). You write 1 to clear these indications during active monitoring.

## 59.3.4 Using temperature thresholds

The main purpose of the TMU is to autonomously measure temperature at select sites and report to the core when a potentially dangerous operating temperature is about to be reached. This may be to protect a circuit from overheating and causing permanent damage or affecting reliability.

The TMU has a two-level (normal/critical) threshold and interrupt scheme. This allows the software to take preventive actions at a first temperature threshold and additional drastic measures at a second critical threshold. For high temperatures, these measures may include:

- Downgrading the performance of a function or core to reduce power consumption (preventive)
- Reducing the voltage or frequency to a function or core

When TMU detects a high temperature (through interrupt), the software could enable a low or normal threshold to detect when to restore functions to normal. Similarly, preventive actions taken for low temperatures could enable a high or normal temperature to restore functions.

For proper operation, you must set the temperatures in the high threshold registers to be higher than those you set in the low threshold registers.

The rising and falling temperature rate threshold registers (Monitor Rising Temperature Rate Critical Threshold (TMRTRCTR) and Monitor Falling Temperature Rate Critical Threshold (TMFTRCTR)) trigger critical interrupts. A quickly rising temperature because of heat sink separation or cooling fan issues may occur sooner than a critically high temperature. For example, immediate preventive measures can be taken to protect the chip. You could determine a nominal value for the rising threshold value by using the Monitor Rising Temperature Rate Capture (TMRTRCR) or from lab simulations. A quickly falling temperature is less common but you could use this to warn the chip about stress caused by drastic changes in temperature that may lead to cracking.

Thermal Monitoring Unit (TMU)

## 59.3.5 Clocking

Design uses a single clock which is divided for driving internal sub-modules. Register TCMCFG[DIV\_CLK/DFD] provides the divider for the clocks used during successive approximation and the digital filter sampling.

## 59.3.6 Interrupts

The following table provides the details of TMU interrupts.

Table 573. TMU interrupts

| Interrupt description                                        | Enable field   | Reported as   | Reported as        |
|--------------------------------------------------------------|----------------|---------------|--------------------|
|                                                              |                | Interrupt     | Critical interrupt |
| Immediate High Temperature Threshold Interrupt Enable        | IHTTIE         | Y             | -                  |
| Immediate Low Temperature Threshold Interrupt Enable         | ILTTIE         | Y             | -                  |
| Average High Temperature Threshold Interrupt Enable          | AHTTIE         | Y             | -                  |
| Average Low Temperature Threshold Interrupt Enable           | ALTTIE         | Y             | -                  |
| Average High Temperature Critical Threshold Interrupt Enable | AHTCTIE        | -             | Y                  |
| Average Low Temperature Critical Threshold Interrupt Enable  | ALTCTIE        | -             | Y                  |
| Rising Temperature Rate Critical Threshold Interrupt Enable  | RTRCTIE        | -             | Y                  |
| Falling Temperature Rate Critical Threshold Interrupt Enable | FTRCTIE        | -             | Y                  |

## 59.4 Initialization

TMU calculates temperature by reading one of the on-chip temperature sensor sites. The module calculates the temperature using a table of calibration points that you must program using the procedure outlined below.

You can manually program the sensor translation table by supplying the sensor readings for all temperature points as defined by the TMU temperature range control registers. Failure to initialize all the temperature/sensor configuration table entries correctly may lead to an undefined behavior. The TMU temperature range control registers, Temperature Range Control a (TTRCR0 TTRCR15), define the starting temperature, the ending temperature, and a number of intervening calibration points. The number of configuration points used depends on the linearity of the sensor. If a sensor reading falls between two configuration points, TMU reports the temperature based on linear interpolation between the nearest upper/lower two points in the table. If a sensor reading falls below the first calibration point, then Out-of-Range Low Temperature Measurement flag (ORL) is set in the Status (TSR). Similarly, if a sensor reading falls above the last calibration point, then Out-of-Range High Temperature Measurement (ORH) flag is set in the Status (TSR).

Following is the procedure to program the TMU calibration table:

## NOTE

Some calibration points must be adjusted with TMU trim values. The trim values are stored in fuses and can be read using a shadow register accessible via On-Chip One Time Programmable (OCOTP) controller. Trim values (CFG\_DAC\_TRIM\_x) in the shadow register are in the 2's complement format and must be converted into the unsigned integer format before they can be added to or subtracted from a calibration point. For example, if CFG\_DAC\_TRIM\_x in the shadow register is -2 (2's complement), then 2 (unsigned integer) must be subtracted from the sensor value of a calibration point. Similarly, if CFG\_DAC\_TRIM\_x in the shadow register is 3 (2's complement), then 3 (unsigned integer) must be added to the sensor value. See the Chip-specific TMU information section for more details.

1. Disable monitoring mode, TMR[MODE]=0 (default).

Thermal Monitoring Unit (TMU)

2. Configure Central Module Configuration Register (TCMCFG) according to instructions given in Chip-specific TMU information section.
3. Write the temperature configuration register with TTCFGR[CAL\_PT]=n (where n is the calibration point from the table).
4. Write to the TMU configuration register, Sensor Configuration (TSCFGR), with the sensor value for the first calibration point n.
5. Write to the TMU temperature range control registers (TTRCRn) associated with calibration point n.

You need to repeat steps 3-5 for all calibration points from the provided calibration table. You must write 1 to the DEMA and OCM fields of Central Module Configuration (TCMCFG) for the proper operation of TMU.

The values for TTCFGR and TTRCR are chip-specific. See the "Chip-specific TMU section" for details.

## 59.5 External signals

This module has no external signals.

## 59.6 TMU register descriptions

## 59.6.1 TMU memory map

TMU base address: 400A\_8000h

| Offset   | Register                                                       |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Mode (TMR)                                                     |                32 | RW       | 0000_0000h    |
| 4h       | Status (TSR)                                                   |                32 | RW       | 0000_0000h    |
| 8h       | Monitor Site (TMSR)                                            |                32 | RW       | 0000_0000h    |
| Ch       | Monitor Temperature Measurement Interval (TMTMIR)              |                32 | RW       | 0000_0000h    |
| 20h      | Interrupt Enable (TIER)                                        |                32 | RW       | 0000_0000h    |
| 24h      | Interrupt Detect (TIDR)                                        |                32 | RW       | 0000_0000h    |
| 30h      | Interrupt Immediate Site Capture (TIISCR)                      |                32 | RW       | 0000_0000h    |
| 34h      | Interrupt Average Site Capture (TIASCR)                        |                32 | RW       | 0000_0000h    |
| 38h      | Interrupt Critical Site Capture (TICSCR)                       |                32 | RW       | 0000_0000h    |
| 40h      | Monitor High Temperature Capture (TMHTCR)                      |                32 | RW       | 0000_0000h    |
| 44h      | Monitor Low Temperature Capture (TMLTCR)                       |                32 | RW       | 0000_0000h    |
| 48h      | Monitor Rising Temperature Rate Capture (TMRTRCR)              |                32 | RW       | 0000_0000h    |
| 4Ch      | Monitor Falling Temperature Rate Capture (TMFTRCR)             |                32 | RW       | 0000_0000h    |
| 50h      | Monitor High Temperature Immediate Threshold (TMHTITR)         |                32 | RW       | 0000_0000h    |
| 54h      | Monitor High Temperature Average Threshold (TMHTATR)           |                32 | RW       | 0000_0000h    |
| 58h      | Monitor High Temperature Average Critical Threshold (TMHTACTR) |                32 | RW       | 0000_0000h    |
| 60h      | Monitor Low Temperature Immediate Threshold (TMLTITR)          |                32 | RW       | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset      | Register                                                       |   Width (In bits) | Access   | Reset value   |
|-------------|----------------------------------------------------------------|-------------------|----------|---------------|
| 64h         | Monitor Low Temperature Average Threshold (TMLTATR)            |                32 | RW       | 0000_0000h    |
| 68h         | Monitor Low Temperature Average Critical Threshold (TMLTACTR)  |                32 | RW       | 0000_0000h    |
| 70h         | Monitor Rising Temperature Rate Critical Threshold (TMRTRCTR)  |                32 | RW       | 0000_0000h    |
| 74h         | Monitor Falling Temperature Rate Critical Threshold (TMFTRCTR) |                32 | RW       | 0000_0000h    |
| 80h         | Temperature Configuration (TTCFGR)                             |                32 | RW       | 0000_0000h    |
| 84h         | Sensor Configuration (TSCFGR)                                  |                32 | RW       | 0000_0000h    |
| 100h        | Report Immediate Temperature at Site (TRITSR0)                 |                32 | R        | 0000_0000h    |
| 104h        | Report Average Temperature at Site (TRATSR0)                   |                32 | R        | 0000_0000h    |
| 110h        | Report Immediate Temperature at Site (TRITSR1)                 |                32 | R        | 0000_0000h    |
| 114h        | Report Average Temperature at Site (TRATSR1)                   |                32 | R        | 0000_0000h    |
| 120h        | Report Immediate Temperature at Site (TRITSR2)                 |                32 | R        | 0000_0000h    |
| 124h        | Report Average Temperature at Site (TRATSR2)                   |                32 | R        | 0000_0000h    |
| F00h        | Central Module Configuration (TCMCFG)                          |                32 | RW       | See section   |
| F10h - F4Ch | Temperature Range Control a (TTRCR0 - TTRCR15)                 |                32 | RW       | 0000_0000h    |

## 59.6.2 Mode (TMR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMR        | 0h       |

## Function

This register allows the software to control the thermal monitoring operation. You must wait at least 500 μs before changing modes.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | MODE     | MODE     | CMD      | Reserved | Reserved | Reserved | ALPF     | ALPF     | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 MODE | Mode Before you enable the TMU for monitoring, you must first configure it; see Initialization. Failure to properly initialize the configuration table may result in undefined behavior. 00b - Idle; low-power mode 01b - Reserved 10b - Monitoring of sites as defined by TMSR[SITE] 11b - Reserved                                                                                                                                                                                                                    |
| 29 CMD     | Central Module Disable Before disabling the central module, you must first deassert the MODE field and verify that the TMU is idle. You must then enable the circuit during normal operation by writing an appropriate non-zero value in the MODE field. This field allows for statically disabling the centralized circuit and the associated digital logic to reduce power. If the central circuit is re-enabled, TMU must wait before operations can continue as defined by TCMCFG[CMET]. 0b - Enabled 1b - Disabled |
| 28-26 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 25-24 ALPF | Average Low Pass Filter Setting The average temperature is calculated using this formula: ALPF x Current_Temp + (1 - ALPF) x Average_Temp. If no previous (average) temperature is valid, then the module uses the current temperature for Average_Temp in this calculation. For proper operation, you must change this field only when monitoring is disabled. 00b - 1.0 01b - 0.5 10b - 0.25 11b - 0.125                                                                                                              |
| 23-0       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

## 59.6.3 Status (TSR)

## Offset

| Register   | Offset   |
|------------|----------|
| TSR        | 4h       |

## Function

This register reports the monitoring and calibration status during operation.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | TB       | MIE      | ORL      | ORH      |          |          |          |          |          |          |          |          |          |          |          |          |
| W      |          | W1C      | W1C      | W1C      |          |          |          |          |          |          | Reserved |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 TB   | TMU Busy In monitoring mode, this indicates that a temperature measurement is pending. 0b - TMU is idle 1b - TMU is busy                                                                                                                                                   |
| 30 MIE  | Monitoring Interval Exceeded The time required to perform measurement of all monitored sites has exceeded the monitoring interval as defined by Monitor Temperature Measurement Interval (TMTMIR). 0b - Monitoring interval not exceeded 1b - Monitoring interval exceeded |
| 29 ORL  | Out-of-Range Low Temperature Measurement A temperature sensor detected a temperature reading below the lowest calibrated temperature. 0b - No out-of-range low temperature measurement detected 1b - Out-of-range low temperature measurement detected                     |
| 28 ORH  | Out-of-Range High Temperature Measurement A temperature sensor detected a temperature reading above the highest calibrated temperature. 0b - No out-of-range high temperature measurement detected 1b - Out-of-range high temperature measurement detected                 |
| 27-0 -  | Reserved                                                                                                                                                                                                                                                                   |

Thermal Monitoring Unit (TMU)

## 59.6.4 Monitor Site (TMSR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMSR       | 8h       |

## Function

This register indicates which remote site sensor is actively being monitored by TMU when TMR[MODE]=10b.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 15-3 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2-0 SITE | Monitoring Site Select 2-0 When you set the select bit for a temperature sensor site, it is enabled and included in all monitoring functions. For proper operation, you must only change this field when monitoring is disabled. Multiple sites can be enabled at the same time. SITE[x] controls monitoring of site x, such as: • SITE[0] - controls monitoring site 0 - SITE[0]==0: Disables site 0 - SITE[0]==1: Enables site 0 • SITE[1] - controls monitoring site 1 |

Table continues on the next page...

Thermal Monitoring Unit (TMU)

Table continued from the previous page...

| Field   | Function                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | - SITE[1]==0: Disables site 1 - SITE[1]==1: Enables site 1 • SITE[2] - controls monitoring site 2 - SITE[2]==0: Disables site 2 - SITE[2]==1: Enables site 2 |

## 59.6.5 Monitor Temperature Measurement Interval (TMTMIR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMTMIR     | Ch       |

## Function

This register allows you to control at what frequency the module reads the temperature sensors. The module reads all enabled monitored sites once in this time interval. The value of the status field, TSR[MIE], is 1 if the temperature measurement takes longer than the set interval. The software must consider increasing the interval or reducing the number of active sites if the interval exceeds the temperature monitoring interval determined by the TMI field value in this register. If you disable the interval, then monitoring is continuous.

## NOTE

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 3-0 TMI | Temperature Monitoring Interval in Seconds For proper operation, you must only change this field when monitoring is disabled, that is, when TMR[MODE]=00b. For the TMU frequencies calculation, use the following formula for the field description: • 2 (23+TMI) × TMU clock period in seconds For the monitoring interval calculation, use the following formula: • 0b - 1110b: Interval(s) = 2 (23+TMI) × TMU clock period in seconds • 1111b: Continuous monitoring mode |

## 59.6.6 Interrupt Enable (TIER)

## Offset

| Register   | Offset   |
|------------|----------|
| TIER       | 20h      |

## Function

This register determines if a detected status condition causes a system interrupt. A system interrupt occurs if the value of any field in this register is 1 and the corresponding field in Interrupt Detect (TIDR) is 1. To clear the interrupt, you write a 1 to Interrupt Detect (TIDR).

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | IHTTIE   | AHTTI E  | AHTC TIE | ILTTIE   | ALTTI E  | ALTCT IE | RTRC TIE | FTRC TIE |          |          |          | Reserved | Reserved |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

Thermal Monitoring Unit (TMU)

## Fields

| Field      | Function                                                                                                                                      |
|------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| 31 IHTTIE  | Immediate High Temperature Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[IHTT] is 1         |
| 30 AHTTIE  | Average High Temperature Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[AHTT] is 1           |
| 29 AHTCTIE | Average High Temperature Critical Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[AHTCT] is 1 |
| 28 ILTTIE  | Immediate Low Temperature Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[ILTT] is 1          |
| 27 ALTTIE  | Average Low Temperature Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[ALTT] is 1            |
| 26 ALTCTIE | Average Low Temperature Critical Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[ALTCT] is 1  |
| 25 RTRCTIE | Rising Temperature Rate Critical Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[RTRCT] is 1  |
| 24 FTRCTIE | Falling Temperature Rate Critical Threshold Interrupt Enable 0b - Disabled 1b - Interrupt enabled; generates an interrupt if TIDR[FTRCT] is 1 |
| 23-0 -     | Reserved                                                                                                                                      |

## 59.6.7 Interrupt Detect (TIDR)

## Offset

| Register   | Offset   |
|------------|----------|
| TIDR       | 24h      |

## Function

This register indicates if a status condition is detected that could generate an interrupt. If enabled, you write a 1 to clear the detected condition and the interrupt.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28   | 27   | 26    | 25     | 24       | 23   | 22   | 21   | 20       | 19       | 18   | 17   | 16   |
|--------|------|------|--------|------|------|-------|--------|----------|------|------|------|----------|----------|------|------|------|
| R      | IHTT | AHTT | AHTC T | ILTT | ALTT | ALTCT | RTRC T | FTRC T   |      |      |      | Reserved | Reserved |      |      |      |
| W      | W1C  | W1C  | W1C    | W1C  | W1C  | W1C   | W1C    | W1C      |      |      |      |          |          |      |      |      |
| Reset  | 0    | 0    | 0      | 0    | 0    | 0     | 0      | 0        | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12   | 11   | 10    | 9      | 8        | 7    | 6    | 5    | 4        | 3        | 2    | 1    | 0    |
| R      |      |      |        |      |      |       |        | Reserved |      |      |      |          |          |      |      |      |
| W      |      |      |        |      |      |       |        |          |      |      |      |          |          |      |      |      |
| Reset  | 0    | 0    | 0      | 0    | 0    | 0     | 0      | 0        | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                         |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 IHTT  | Immediate High Temperature Threshold Exceeded Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites has exceeded the immediate high temperature threshold, as defined by Monitor High Temperature Immediate Threshold (TMHTITR). This includes an out-of-range measured temperature above the maximum calibrated temperature. TIISCR[SITE] captures the sites that exceed the threshold. |
| 30 AHTT  | Average High Temperature Threshold Exceeded Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites exceed the average high temperature threshold, as defined by Monitor High Temperature Average Threshold (TMHTATR). TIASCR[SITE] captures the sites that exceed the threshold.                                                                                                          |
| 29 AHTCT | Average High Temperature Critical Threshold Exceeded Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites exceed the average high temperature critical threshold, as defined by Monitor High Temperature Average Critical Threshold (TMHTACTR). TICSCR[SITE] captures the sites that exceed the threshold.                                                                              |
| 28 ILTT  | Immediate Low Temperature Threshold Write 1 to clear.                                                                                                                                                                                                                                                                                                                                                            |

Table continues on the next page...

Thermal Monitoring Unit (TMU)

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                                                                    |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - No threshold exceeded 1b - One or more monitored sites has passed the immediate low temperature threshold, as defined by Monitor Low Temperature Immediate Threshold (TMLTITR). This includes an out-of- range measured temperature below the minimum calibrated temperature. TIISCR[SITE] captures the sites that pass the threshold. |
| 27 ALTT  | Average Low Temperature Threshold Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites pass the average low temperature threshold, as defined by Monitor Low Temperature Average Threshold (TMLTATR). TIASCR[SITE] captures the sites that pass the threshold.                                                     |
| 26 ALTCT | Average Low Temperature Critical Threshold Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites pass the average low temperature threshold, as defined by Monitor Low Temperature Average Critical Threshold (TMLTACTR). TICSCR[SITE] captures the sites that pass the threshold.                                  |
| 25 RTRCT | Rising Temperature Rate Critical Threshold Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites pass the rising temperature rate critical threshold, as defined by Monitor Rising Temperature Rate Critical Threshold (TMRTRCTR). TICSCR[SITE] captures the sites that exceed the threshold.                       |
| 24 FTRCT | Falling Temperature Rate Critical Threshold Write 1 to clear. 0b - No threshold exceeded 1b - One or more monitored sites exceed the falling temperature rate critical threshold, as defined by Monitor Falling Temperature Rate Critical Threshold (TMFTRCTR). TICSCR[SITE] captures the sites that exceed the threshold.                  |
| 23-0 -   | Reserved                                                                                                                                                                                                                                                                                                                                    |

## 59.6.8 Interrupt Immediate Site Capture (TIISCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TIISCR     | 30h      |

## Function

This register indicates which remote sensor sites are associated with the detection of an interrupt event related to current reported temperatures.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                         |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                         |
| 15-3 -   | Reserved                                                                                                                                                                                                                                                         |
| 2-0 SITE | Temperature Sensor Site Temperature sensor site associated with the setting of TIDR[IHTT] and TIDR[ILTT]. This field has the same bit representation as TMSR[SITE]. The software must clear this field after handling the detected interrupt event IHTT or ILTT. |

## 59.6.9 Interrupt Average Site Capture (TIASCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TIASCR     | 34h      |

## Function

This register indicates which remote sensor sites are associated with the detection of an interrupt event related to average reported temperatures.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                         |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                         |
| 15-3 -   | Reserved                                                                                                                                                                                                                                                         |
| 2-0 SITE | Temperature Sensor Site Temperature sensor site associated with the setting of TIDR[AHTT] and TIDR[ALTT]. This field has the same bit representation as TMSR[SITE]. The software must clear this field after handling the detected interrupt event AHTT or ALTT. |

## 59.6.10 Interrupt Critical Site Capture (TICSCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TICSCR     | 38h      |

## Function

This register indicates which remote sensor sites are associated with the detection of a critical interrupt event.

Thermal Monitoring Unit (TMU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|----------|----------|------|------|------|------|------|------|------|------|
| R W    |      |      |      |      |      |      |          | Reserved |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    |      |      |      |      |      |      | Reserved |          |      |      |      |      |      | SITE | SITE | SITE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                |
| 15-3 -   | Reserved                                                                                                                                                                                                                                                                                                                |
| 2-0 SITE | Temperature Sensor Site Temperature sensor site associated with the setting of TIDR[FTRCT], TIDR[RTRCT], TIDR[AHTCT], and TIDR[ALTCT]. This field has the same bit representation as TMSR[SITE]. The software must clear this field after handling the detected critical interrupt event FTRCT, RTRCT, AHTCT, or ALTCT. |

## 59.6.11 Monitor High Temperature Capture (TMHTCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMHTCR     | 40h      |

## Function

This register captures and records the highest temperature for any one enabled monitored site within the temperature sensor range.

Thermal Monitoring Unit (TMU)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25   | 24   | 23       | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|------|------|----------|------|------|------|------|------|------|------|
| R      | V        |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| W      | W1C      |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0 0      | 0        |          | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9    | 8    | 7        | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |          |          |          |          |          |          | TP5  | TEMP | TEMP     | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |      |      |          |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                       |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Reading Re-enabling TMU automatically clears this field and starts a new search. 0b - Temperature reading is not valid due to no measured temperature within the calibrated sensor range for an enabled monitored site 1b - Temperature reading is valid |
| 30-10 -  | Reserved                                                                                                                                                                                                                                                       |
| 9 TP5    | Highest Temperature Recorded in Kelvin by Any Enabled Monitored Site Valid when V=1. When this field is 1, you must add 0.5 K to the temperature that TEMPreports. For example, if TEMPis 300 K and TP5=1, then the final temperature is 300.5 K.              |
| 8-0 TEMP | Highest Temperature Recorded in Kelvin by Any Enabled Monitored Site Valid when V=1. Highest recordable temperature will not exceed maximum calibrated temperature. NOTE                                                                                       |

## 59.6.12 Monitor Low Temperature Capture (TMLTCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMLTCR     | 44h      |

Thermal Monitoring Unit (TMU)

## Function

This register captures and records the lowest temperature reached for any one enabled monitored site within the temperature sensor range.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25   | 24   | 23       | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|------|------|----------|------|------|------|------|------|------|------|
| R      | V        |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| W      | W1C      |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9    | 8    | 7        | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |          |          |          |          |          |          | TP5  | TEMP | TEMP     | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |      |      |          |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                            |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Reading Re-enabling TMU automatically clears this field and starts a new search. 0b - Temperature reading is not valid because of no measured temperature within the sensor calibration range for an enabled monitored site 1b - Temperature reading is valid |
| 30-10 -  | Reserved                                                                                                                                                                                                                                                            |
| 9 TP5    | Lowest Temperature in Kelvin that Any Enabled Monitored Site Records Valid when V=1. When this field is 1, you must add 0.5 K to the temperature that TEMPreports. For example, if TEMPis 300 K and TP5=1, then the final temperature is 300.5 K.                   |
| 8-0 TEMP | Lowest Temperature in Kelvin that Any Enabled Monitored Site Records Valid when V=1. Lowest recordable temperature will not exceed minimum calibrated temperature. NOTE                                                                                             |

Thermal Monitoring Unit (TMU)

## 59.6.13 Monitor Rising Temperature Rate Capture (TMRTRCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMRTRCR    | 48h      |

## Function

This register captures and records the highest temperature rising rate change between two successive measurements from the same monitored site based on the monitoring interval setting.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Reading Re-enabling TMU automatically clears this field and starts a new search. 0b - Temperature reading is not valid because of no two successive measured temperatures within the sensor calibration range for an enabled monitored site 1b - Temperature reading is valid |
| 30-8 -   | Reserved                                                                                                                                                                                                                                                                            |
| 7-0 TEMP | Highest Rising Temperature Rate Change in Kelvin that Any Enabled Monitored Site Records Valid when V=1. Rate change is between 0 K to 200 K.                                                                                                                                       |

## 59.6.14 Monitor Falling Temperature Rate Capture (TMFTRCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMFTRCR    | 4Ch      |

## Function

This register captures and records the highest temperature falling rate change between two successive measurements from the same monitored site based on the monitoring interval setting.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Reading Re-enabling TMU automatically clears this field and starts a new search. 0b - Temperature reading is not valid because of no two successive measured temperatures within the sensor calibration range for an enabled monitored site 1b - Temperature reading is valid |
| 30-8 -   | Reserved                                                                                                                                                                                                                                                                            |
| 7-0 TEMP | Highest Falling Temperature Rate Change in Kelvin that Any Enabled Monitored Site Records Valid when V=1. Rate change is a positive number between 0 K to 200 K.                                                                                                                    |

## 59.6.15 Monitor High Temperature Immediate Threshold (TMHTITR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMHTITR    | 50h      |

## Function

This register determines the current high-temperature threshold for generating the TIDR[IHTT] event.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                      |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                                                                         |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                                                                      |
| 8-0 TEMP | High Temperature Immediate Threshold Value Determines the current high-temperature threshold for any enabled monitored site. If this threshold is exceeded, the module sets the value of TIDR[IHTT] to 1 if the value of the corresponding EN field is 1. Highest recordable temperature will not exceed maximum calibrated temperature. NOTE |

## 59.6.16 Monitor High Temperature Average Threshold (TMHTATR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMHTATR    | 54h      |

## Function

This register determines the average high temperature threshold for generating the TIDR[AHTT] event. The low-pass filter setting, TMR[ALPF], determines the function for calculating the average temperature.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                    |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                                                                       |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                                                                    |
| 8-0 TEMP | High Temperature Average Threshold Value Determines the current high-temperature threshold for any enabled monitored site. If this threshold is exceeded, the module sets the value of TIDR[AHTT] to 1 if the value of the corresponding EN field is 1. Highest recordable temperature will not exceed maximum calibrated temperature. NOTE |

Thermal Monitoring Unit (TMU)

## 59.6.17 Monitor High Temperature Average Critical Threshold (TMHTACTR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMHTACTR   | 58h      |

## Function

This register determines the average critical high temperature threshold for generating the TIDR[AHTCT] event. The low-pass filter setting, TMR[ALPF], determines the function for calculating the average temperature.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                       |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                          |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                       |
| 8-0 TEMP | High Temperature Average Critical Threshold Value Determines the average critical high temperature threshold, for any enabled monitored site, that if exceeded will cause TIDR[AHTCT] to be set when EN=1. Highest recordable temperature will not exceed maximum calibrated temperature. NOTE |

## 59.6.18 Monitor Low Temperature Immediate Threshold (TMLTITR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMLTITR    | 60h      |

## Function

This register determines the current low temperature threshold for generating the TIDR[ILTT] event.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                              |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                                 |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                              |
| 8-0 TEMP | Low Temperature Immediate Threshold Value Determines the current low temperature threshold for any enabled monitored site. If the temperature is below the threshold it will cause TIDR[ILTT] to be set when EN=1. Lowest recordable temperature will not exceed minimum calibrated temperature. NOTE |

## 59.6.19 Monitor Low Temperature Average Threshold (TMLTATR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMLTATR    | 64h      |

## Function

This register determines the average low temperature threshold for generating the TIDR[ALTT] event. The low-pass filter setting, TMR[ALPF], determines the function for calculating the average temperature.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                          |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                             |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                          |
| 8-0 TEMP | Low Temperature Average Threshold Value Determines the average low temperature threshold for any enabled monitor site. If the temperature is below the threshold it will cause TIDR[ALTT] to be set when EN=1. Lowest recordable temperature will not exceed minimum calibrated temperature. NOTE |

## 59.6.20 Monitor Low Temperature Average Critical Threshold (TMLTACTR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMLTACTR   | 68h      |

## Function

This register determines the average critical low temperature threshold for generating the TIDR[ALTCT] event. The low-pass filter setting, TMR[ALPF], determines the function for calculating the average temperature.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                   |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                                                                                                                      |
| 30-9 -   | Reserved                                                                                                                                                                                                                                                                                   |
| 8-0 TEMP | Low Temperature Average Critical Threshold Value Determines the average critical high temperature threshold, for any enabled monitored site, that if passed will cause TIDR[ALTCT] to be set when EN=1. Lowest recordable temperature will not exceed minimum calibrated temperature. NOTE |

## 59.6.21 Monitor Rising Temperature Rate Critical Threshold (TMRTRCTR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMRTRCTR   | 70h      |

## Function

This register is used to detect a fast-rising temperature by calculating the difference between two valid successive measurements per site, based on the monitoring interval setting. This could indicate a critical event such as heat sink separation or cooling fan malfunction.

## Diagram

<!-- image -->

| Bits   | 31   | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | EN   | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0    | 0        | 0        | 0 0      |          | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15   | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R W    |      |          |          | Reserved |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0    | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field    | Function                                                                                                                                                                                 |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable Threshold 0b - Disabled 1b - Threshold enabled                                                                                                                                    |
| 30-8 -   | Reserved                                                                                                                                                                                 |
| 7-0 TEMP | Temperature Difference Between Two Measurements From the Same Site This is a number between 0 K and 200 K. If this threshold is exceeded, the module sets the value of TIDR[RTRCT] to 1. |

## 59.6.22 Monitor Falling Temperature Rate Critical Threshold (TMFTRCTR)

## Offset

| Register   | Offset   |
|------------|----------|
| TMFTRCTR   | 74h      |

## Function

This register is used to detect a fast-falling temperature by calculating the difference between two valid successive measurements per site, based on the monitoring interval setting. Use case may include detecting stress to the chip because of excessive cooling, or cold-boot attacks on volatile memory.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                            |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EN    | Enable threshold 0b - Disabled 1b - Threshold Enabled                                                                                                                                               |
| 30-8 -   | Reserved                                                                                                                                                                                            |
| 7-0 TEMP | Temperature Difference Between Two Measurements From the Same Site This is a (positive) number between 0 K and 200 K. If this threshold is exceeded, the module sets the value of TIDR[FTRCT] to 1. |

## 59.6.23 Temperature Configuration (TTCFGR)

## Offset

| Register   | Offset   |
|------------|----------|
| TTCFGR     | 80h      |

## Function

This register, in conjunction with Sensor Configuration (TSCFGR), is used to initialize the internal sensor translation table used during monitoring. The register pair defines an indirect access to the table.

Thermal Monitoring Unit (TMU)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19     | 18     | 17     | 16     |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|--------|--------|--------|--------|
| R W    |          |          |          |          |          |          |          | Reserved |          |          |          |          |        |        |        |        |
| Reset  | 0        | 0        | 0        | 0 0      |          | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0      | 0      | 0      | 0      |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3      | 2      | 1      | 0      |
| R W    | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | CAL_PT | CAL_PT | CAL_PT | CAL_PT |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0      | 0      | 0      | 0      |

## Fields

| Field      | Function                                                                                                                                   | Function                                                                                                                                   |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 -     | Reserved                                                                                                                                   | Reserved                                                                                                                                   |
| 3-0 CAL_PT | Calibration Point CAL_PT 0 is the lowest calibrated temperature. Each calibration point is related to the TTRCRn registers as shown below. | Calibration Point CAL_PT 0 is the lowest calibrated temperature. Each calibration point is related to the TTRCRn registers as shown below. |
|            | CAL_PT                                                                                                                                     | Pointer to TTRCRn                                                                                                                          |
|            | 0                                                                                                                                          | TTRCR0                                                                                                                                     |
|            | 1                                                                                                                                          | TTRCR1                                                                                                                                     |
|            | 2                                                                                                                                          | TTRCR2                                                                                                                                     |
|            | 3                                                                                                                                          | TTRCR3                                                                                                                                     |
|            | 4                                                                                                                                          | TTRCR4                                                                                                                                     |
|            | 5                                                                                                                                          | TTRCR5                                                                                                                                     |
|            | 6                                                                                                                                          | TTRCR6                                                                                                                                     |
|            | 7                                                                                                                                          | TTRCR7                                                                                                                                     |
|            | 8                                                                                                                                          | TTRCR8                                                                                                                                     |
|            | 9                                                                                                                                          | TTRCR9                                                                                                                                     |
|            | 10                                                                                                                                         | TTRCR10                                                                                                                                    |
|            | 11                                                                                                                                         | TTRCR11                                                                                                                                    |
|            | 12                                                                                                                                         | TTRCR12                                                                                                                                    |
|            | 13                                                                                                                                         | TTRCR13                                                                                                                                    |
|            | 14                                                                                                                                         | TTRCR14                                                                                                                                    |
|            | 15                                                                                                                                         | TTRCR15                                                                                                                                    |

Thermal Monitoring Unit (TMU)

## 59.6.24 Sensor Configuration (TSCFGR)

## Offset

| Register   | Offset   |
|------------|----------|
| TSCFGR     | 84h      |

## Function

This register, in conjunction with Temperature Configuration (TTCFGR), is used to initialize the internal sensor translation table used during monitoring. The register pair defines indirect access to the table. Reading Sensor Configuration (TSCFGR) returns the data from the translation table as defined in Temperature Configuration (TTCFGR).

## Diagram

<!-- image -->

| Bits   | 31              | 30              | 29              | 28              | 27              | 26              | 25              | 24              | 23              | 22              | 21              | 20              | 19              | 18              | 17              | 16              |
|--------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| R W    |                 |                 |                 |                 |                 |                 |                 | Reserved        |                 |                 |                 |                 |                 |                 |                 |                 |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |
| Bits   | 15              | 14              | 13              | 12              | 11              | 10              | 9               | 8               | 7               | 6               | 5               | 4               | 3               | 2               | 1               | 0               |
| R W    | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR | Reserved SENSOR |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |

## Fields

| Field   | Function     |
|---------|--------------|
| 31-9    | Reserved     |
| 8-0     | Sensor Value |
| SENSOR  |              |

## 59.6.25 Report Immediate Temperature at Site (TRITSR0 - TRITSR2)

## Offset

| Register   | Offset   |
|------------|----------|
| TRITSR0    | 100h     |
| TRITSR1    | 110h     |
| TRITSR2    | 120h     |

## Function

This register returns the last measured temperature at the site, which must be a part of the list of enabled monitored sites as defined by TMSR[SITE].

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25   | 24   | 23       | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|------|------|----------|------|------|------|------|------|------|------|
| R      | V        |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| W      |          |          |          |          |          |          |      |      | Reserved |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9    | 8    | 7        | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |          |          |          |          |          |          | TP5  | TEMP | TEMP     | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP | TEMP |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |      |      |          |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                    |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Measured Temperature 0b - Not valid; temperature is out of sensor calibration range or the first measurement is still pending 1b - Valid                                                                              |
| 30-10 -  | Reserved                                                                                                                                                                                                                    |
| 9 TP5    | Last Temperature Reading in Kelvin at the Site Valid when V=1. When this field is 1, you must add 0.5 K to the temperature that TEMPreports. For example, if TEMPis 300 K and TP5=1, then the final temperature is 300.5 K. |
| 8-0 TEMP | Last Temperature Reading in Kelvin at the Site Valid when V=1.                                                                                                                                                              |

## 59.6.26 Report Average Temperature at Site (TRATSR0 - TRATSR2)

## Offset

| Register   | Offset   |
|------------|----------|
| TRATSR0    | 104h     |
| TRATSR1    | 114h     |
| TRATSR2    | 124h     |

Thermal Monitoring Unit (TMU)

## Function

This register returns the average measured temperature at the site, which must be a part of the list of enabled monitored sites as defined by TMSR[SITE].

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                           |
|----------|------------------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Valid Measured Temperature 0b - Not valid; temperature is out of sensor range or the first measurement is still pending 1b - Valid |
| 30-9 -   | Reserved                                                                                                                           |
| 8-0 TEMP | Average Temperature Reading in Kelvin at the Site Valid when V=1.                                                                  |

## 59.6.27 Central Module Configuration (TCMCFG)

## Offset

| Register   | Offset   |
|------------|----------|
| TCMCFG     | F00h     |

## Function

This register controls the Successive Approximation Register (SAR) algorithm and clock settings. For proper operation, updates to the register must only occur when monitoring is disabled.

Writing to this register triggers an automatic clock speed change based on the new CLK\_DIV and DFD settings. After writing to this register you must poll SAR\_RDY to determine when it is safe to continue the monitoring operation or configuration procedure.

Thermal Monitoring Unit (TMU)

## Diagram

<!-- image -->

1. The DAC\_OFFSET value comes from SoC configuration and the values depend on the DAC calibration (See the chip specific information).

## Fields

| Field   | Function                                                                                                                                                                                                               |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DPM  | Dynamic Power Management See the chip-specific TMU information for configuration.                                                                                                                                      |
| 30 OCM  | Offset Cancellation Mode See the chip-specific TMU information for configuration. This field must be set to 1 for the normal TMUmonitor operation. For details on initialization, see Initialization. NOTE             |
| 29 OCS  | Offset Cancellation Manual Setting See the chip-specific TMU information for configuration.                                                                                                                            |
| 28 DEMA | Dynamic Element Match Averaging Mode See the chip-specific TMU information for configuration. This field must be set to 1 for the normal TMUmonitor operation. For details on initialization, see Initialization. NOTE |
| 27 -    | Reserved                                                                                                                                                                                                               |
| 26-24   | RC Time Constant Setting                                                                                                                                                                                               |

Table continues on the next page...

## NOTE

The values for OCS, OCM, DEMA, DFDRCTC, and CLK\_DIV are chip-specific. See the "Chip-specific TMU section" for the required settings.

Thermal Monitoring Unit (TMU)

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                                                                                                                                                                                           |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RCTC           | See the chip-specific TMU information for configuration.                                                                                                                                                                                                                                                                                                                           |
| 23-17 -        | Reserved                                                                                                                                                                                                                                                                                                                                                                           |
| 16 SAR_RDY     | SAR Ready Indicates that the SARmoduleis ready to receive user commands. During normal functional mode, this field must be set for calibration or monitoring to work properly. During a clock switch, which occurs as a result of writing to this register, the SAR module may be temporarily unavailable. 0b - SAR not ready to receive command 1b - SAR ready to receive command |
| 15-12 CLK_DIV  | Clock Divider See the chip-specific TMU information for configuration.                                                                                                                                                                                                                                                                                                             |
| 11-10 DFD      | Digital Filter Depth See the chip-specific TMU information for configuration.                                                                                                                                                                                                                                                                                                      |
| 9-8 CMET       | Central Module Enable Time See the chip-specific TMU information for configuration.                                                                                                                                                                                                                                                                                                |
| 7 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                           |
| 6-0 DAC_OFFSET | DAC Offset See the chip-specific TMU information for configuration.                                                                                                                                                                                                                                                                                                                |

## 59.6.28 Temperature Range Control a (TTRCR0 - TTRCR15)

## Offset

For a = 0 to 15:

| Register   | Offset          |
|------------|-----------------|
| TTRCRa     | F10h + (a × 4h) |

## Function

These registers allow you to define the calibration points used to cover the temperature sensor range. TTRCR0 defines the start of the temperature range which, along with TTRCR1, must always be valid to account for at least two calibration points. Provide additional calibration points to account for any non-linear behavior in the sensor as a function of temperature. A perfectly linear sensor reading requires only two calibration points to find the temperature based on linear interpolation. You must enable the calibration points sequentially, starting with TTRCR0 through TTRCR15.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                               |
|----------|------------------------------------------------------------------------------------------------------------------------|
| 31 V     | Calibration Point is Valid 0b - Not valid 1b - Valid                                                                   |
| 30-9 -   | Reserved                                                                                                               |
| 8-0 TEMP | Temperature in Kelvin for the Calibration Point In the case of TTRCR0, this is the starting temperature for the range. |

## 59.7 Glossary

Op amp

Operational amplifier

PTAT

Proportional to absolute temperature

## NOTE

The circuit has been calibrated for measuring temperatures for a range defined in the provided configuration table. Without prior circuit knowledge, it is not recommended to go beyond this range when programming up the calibration points. The margin of error outside these limits cannot be guaranteed.

Thermal Monitoring Unit (TMU)

## Chapter 60 Security

## 60.1 Introduction

The Hardware Security Engine (HSE\_H) is a subsystem that implements the security functions for the device. It provides cryptographic services to host CPUs and the network accelerators, targeting current security specifications. For example, Secure Hardware Extension (SHE), Hardware Security Module (HSM), and E-safety Vehicle Intrusion Protected Application (EVITA) Full. The HSE\_H subsystem is responsible for establishing the root of trust on the device during the boot process and includes the following features:

- Secure boot of customer code using asymmetric or symmetric keys
- Highly featured symmetric and asymmetric accelerators
- Support for the following cryptographic functions in hardware:
- AES (supports 128-bit, 192-bit and 256-bit keys)
- SHA-1 and SHA-2
- ECC
- RSA (up to 4096).
- Arm Cortex-M7 CPU
- True Random Number Generator (TRNG)
- Pseudo Random Number Generator (PRNG)
- Physical protection
- Firmware Over-the-Air (FOTA) support.

## Following is a simplified block diagram of the HSE\_H:

<!-- image -->

This device features selected countermeasures to increase resistance against fault injection and side-channel attacks targeting platform security features including secure boot, secure debug, lifecycle and HSE services.

## NOTE

1. Factory-supplied firmware controls HSE\_H function. See the documents in the following table for details. [7]
2. No confidentiality is supported for customer application code in devices subject to export controls.

Refer to the following supplemental manuals and incorporate their content into the overall user hardware- and software development:

## Table 574. HSE documents

| Document identifier   | Document Title                   | Description                                                           |
|-----------------------|----------------------------------|-----------------------------------------------------------------------|
| HSEFWRM               | HSE Firmware Reference Manual    | Describes installation and configuration details of the HSE firmware. |
| HSESIRM               | HSE Service API Reference Manual | Security firmware services API reference                              |

## 60.2 Secure software updates

To avoid costly and time consuming service bay updates, over the air (OTA) update is supported for situations where the vehicle MCU software must be refreshed. Updates may be needed to fix known problems or to provide additional features to the vehicle. The Security subsystem supports secure OTA updates for software that is executed on the device, such as HSE code, application code, operating systems and drivers, but not the Boot Loader in ROM.

## 60.3 Secure vehicle network and messaging

Communication between ECUs within a vehicle is necessary for safe and proper operation. Messages between ECUs must be guaranteed authentic and free of error. Attacks on the network can be through a direct connection to the network wires or indirectly through an alternative communication port. The Security subsystem supports both secret key (symmetric) and public key (asymmetric) authentication protocols. Because of the large number of network nodes, data rates and message sizes, a symmetric key protocol is the prevalent authentication choice.

## 60.4 Secure boot

Executable images stored in the external Flash can be authenticated by the HSE at startup time before use. A variety of authentication methods is supported, such as RSA-PSS, ECDSA or CMAC. The secure boot configuration splits between the IVT and the HSE configuration itself. For more information, refer to Boot chapter and the HSE Firmware Reference Manual.

## 60.5 Additional recommendation for PMIC setup or configuration

In order to ensure the specified safe and security functionality of the chip, the user software must enable the LVD/HVD circuits included in an external Power Management IC (PMIC), and ensure the LVD/HVD levels are set within the defined operating conditions of the chip. The external PMIC releases the Power on Reset (POR) of the chip only after ensuring that all voltages are in their operational range.

## 60.6 Security subsystem registers

## 60.6.1 Security subsystem register descriptions

The security subsystem registers are detailed in this section.

[7] The distribution of each document listed is restricted. Contact your NXP Marketing or Sales representative for further information.

## NOTE

1. Only word accesses are supported for these registers.
2. Any access made to address offsets Ch-1Bh will not generate a transfer error.

## 60.6.1.1 SEC memory map

Security\_CC base address: 4007\_C900h

| Offset    | Register                               |   Width (In bits) | Access   | Reset value   |
|-----------|----------------------------------------|-------------------|----------|---------------|
| 8h        | External Debugger Status (EXT_DBGSTAT) |                32 | R        | See section   |
| 1Ch       | HSE GPR 0 (HSE_GPR0)                   |                32 | RW       | 0000_0000h    |
| 20h       | HSE GPR n (HSE_GPR1)                   |                32 | RW       | 0000_0000h    |
| 24h       | HSE GPR n (HSE_GPR2)                   |                32 | RW       | 0000_0000h    |
| 28h - 48h | HSE GPR n (HSE_GPR3 - HSE_GPR11)       |                32 | RW       | 0000_0000h    |

## 60.6.1.2 External Debugger Status (EXT\_DBGSTAT)

## Offset

| Register    | Offset   |
|-------------|----------|
| EXT_DBGSTAT | 8h       |

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                               |
| 0 EDB   | External debugger indication Indicates whether an external debugger is connected. This field is set once in a POR cycle when an external debugger is connected for the first time, disconnecting or reconnecting the debugger during the same POR cycle does not have any impact on this field. The field is only cleared at POR. 0b - External debugger is not connected. 1b - External debugger (JTAG) is connected. |

## 60.6.1.3 HSE GPR 0 (HSE\_GPR0)

## Offset

| Register   | Offset   |
|------------|----------|
| HSE_GPR0   | 1Ch      |

## Function

This is a general purpose register that is reset on every reset.

## NOTE

Access to this register is Read/Write for the HSE\_H software and Read Only for the application software. eDMA can not write to this register using masterID of other masters, when "Master ID Replication" feature is enabled for eDMA.

<!-- image -->

## Fields

| Field   | Function             |
|---------|----------------------|
| 31-7    | General purpose data |
| DATA1   |                      |
| 6       | Reserved             |
| -       |                      |
| 5-0     | General purpose data |
| DATA0   |                      |

## 60.6.1.4 HSE GPR n (HSE\_GPR1)

## Offset

| Register   | Offset   |
|------------|----------|
| HSE_GPR1   | 20h      |

## Function

This is a general purpose register that is reset on every reset.

| Bits   | 31    | 30   | 29    | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19 18   | 17   | 16   |
|--------|-------|------|-------|------|------|------|------|------|------|------|------|------|---------|------|------|
| R      |       |      |       |      |      |      |      | DATA |      |      |      |      |         |      |      |
| Reset  | 0     | 0    | 0     | 0    | 0 0  |      | 0    | 0 0  | 0    | 0    | 0    | 0    | 0       | 0    | 0    |
| Bits   | 15    | 14   | 13 12 | 11   | 10   | 9    |      | 8 7  | 6    | 5    | 4    | 3    | 2       | 1    | 0    |
| R W    |       |      |       |      |      |      |      | DATA |      |      |      |      |         |      |      |
| Reset  | 0 0 0 | 0    | 0     | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0       | 0    | 0    |

<!-- image -->

## Fields

| Field   | Function             |
|---------|----------------------|
| 31-0    | General purpose data |
| DATA    |                      |

## 60.6.1.5 HSE GPR n (HSE\_GPR2)

## Offset

| Register   | Offset   |
|------------|----------|
| HSE_GPR2   | 24h      |

## Function

This is a general purpose register that is reset on every reset.

<!-- image -->

## Fields

| Field   | Function             |
|---------|----------------------|
| 31-0    | General purpose data |
| DATA    |                      |

## 60.6.1.6 HSE GPR n (HSE\_GPR3 - HSE\_GPR11)

## Offset

For a = 3 to 11:

| Register   | Offset         |
|------------|----------------|
| HSE_GPRa   | 1Ch + (a × 4h) |

## Function

This is a general purpose register that is reset on destructive reset and POR.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function             |
|---------|----------------------|
| 31-0    | General purpose data |
| DATA    |                      |

## NOTE

Access to this register is Read/Write for the HSE\_H software and Read Only for the application software. eDMA can not write to this register using masterID of other masters, when "Master ID Replication" feature is enabled for eDMA.

## Chapter 61 Field Analysis Mechanisms

## 61.1 Introduction

With the introduction of the HSE and the implementation of the NXP Trust Center, additional mechanisms came into effect. They are relevant for the programming of a device component as well as for potential field failure analysis. This chapter elaborates these mechanisms. See the HSE Firmware Reference Manual for further information.

## 61.2 Prerequisites

NXP strongly recommends during customer manufacturing to provision an ADKP (Application Debug Key or Password) on every component. It is further suggested to install a device-specific ADKP. NXP provides a convenient method to provision individual ADKPs while using a master ADKP (referred to as ADKPm) which can be kept the same for a large number or all of the devices.

You can install an ADKP only by using the HSE firmware service.

## 61.3 Infrastructural preparedness

## 61.3.1 Key storage

You must securely store all the installed ADKPs (or just the master ADKP's) for potential future failure analysis.

## 61.3.2 ADKP calculation and provisioning

ADKP calculation, and its secure transmission, helps you prepare and provide data for the following possibilities:

- Field failure analysis situations that require the HSE debug interface to be opened temporarily for analysis
- Customer quality complaints (CQCs) demanding temporary advancement of the chip's life cycle to the pre-failure analysis (Pre-FA) stage

Once the lifecycle has been moved to OEM\_PROD or later, it is not possible for NXP to enter debug mode or PRE\_FA mode on a device without customer consent. For failure analysis, you must provide an ADKP to NXP through secure methods such as encrypted emails. If a master key is used, ADKP is the AES-encrypted result of a component's unique ID (UID) with the ADKPm.

ADKP = AES\_ECB (SHA256(UID), SHA256 (ADKPm))

Both, the ADKP calculation as well as the secure transmission of the ADKP presumes that the user is prepared for these tasks and provides the respective data if needed.

If there is no ADKP, or if it is not possible to enter PRE\_FA mode for some other reason, there is also the possibility for authorized NXP employees to advance the chip lifecycle to FA. This act disables access to all encrypted device data stored via the HSE (such as keys and encrypted customer code) but allows NXP to analyze the device.

## 61.4 Field failure analysis

Only NXP employees are authorized to operate the HSE debug interface. Contact your local NXP representative for any failure analysis requirements involving HSE.

## 61.5 CQC life cycle and retention

The following scenarios determine CQC retention in NXP:

- CQC devices which are brought into PRE\_FA stage must reside within NXP facilities during the time of the analysis. Since PRE\_FA mode is only temporary, the device may be returned to the customer if needed.

•

•

## CAUTION

If a CQC device is returned to NXP for failure analysis in the OEM or IN FIELD lifecycle and serial boot mode is disabled (through fuse setting in the BOOT\_CFG2 fuse word) or the debug port is disabled (through HSE attribute setting), NXP will not be able to utilize PRE\_FA mode on its production testers. As a result, only parametric analysis will be available or NXP has the option to advance the device lifecycle to FA where full testing options are available.

## CAUTION

CQC devices for which the life cycle is advanced permanently to the FA stage must be retained in NXP. They can not be returned to the customers.

Field Analysis Mechanisms

## Chapter 62 Messaging Unit (MU)

## 62.1 Chip-specific MU information

## 62.1.1 Instances

This chip includes these MU module instances:

- MU0
- MU1
- MU2
- MU3

## NOTE

The HSE\_H firmware manages MU. See the HSE\_H Firmware Reference Manual for details.

## 62.1.2 Register sets

## Table 575. Register sets

| Register set   | Mapped to                    | Accessible only by             | Purpose            |
|----------------|------------------------------|--------------------------------|--------------------|
| MUA            | HSE_H internal address space | HSE_H Cortex-M7 processor core | Only for reference |
| MUB            | Host address space           | Application processor core     | Host interface     |

## 62.2 Overview

The Messaging Unit module (MU) enables two processors on a chip to communicate and coordinate by passing messages (for example, data, status, and control) through the MU interface. MU also provides the ability for one processor to signal the other processor using interrupts.

Because MU can manage the messaging between processors using different clocks, MU must synchronize the accesses from one side to the other. MU accomplishes synchronization using two sets of matching registers: Processor A-facing and Processor B-facing.

## 62.2.1 Block diagram

<!-- image -->

## 62.2.2 Features

## MU includes:

- Memory-mapped registers
- MU is connected as a peripheral under the peripheral bus on the Processor A-side and Processor B-side.
- Synchronized message transfers between cores
- To send data or messages from one side to the other, MUA provides 16 transmit registers and 16 receive registers. MUB provides 16 transmit registers and 16 receive registers.
- Transmit Empty and Receive Full flags facilitate the transfer of data or messages between cores on both sides of MU.
- Transmit and receive flags are updated via a synchronization mechanism. There is an inherent latency between updating the flag on one side and reflecting its status on other side. See Event update timing.
- MU has a 32-bit flag data register, which can be used to send flag data between the two MU sides.
- Interprocessor interrupts
- MU has 64 interrupt sources on each side (Processor A-side, Processor B-side) for signaling the other processor. The interrupts can be used for notification of receive and transmit events and for general-purpose signaling between processors. There are 32 general-purpose interrupt requests available and 32 receive and transmit interrupt sources.
- Processor A can initiate a Non-Maskable Interrupt to Processor B
- Processor B can initiate a Non-Maskable Interrupt to Processor A
- Reset
- Each processor can issue a reset to the entire MU module, using CR[MUR] in each processor.
- CR[MUR] is a self-clearing field.

## 62.3 Register definition

MU provides transmit and receive data registers (xTR0-n, xRR0-n) for communication between Processor A and Processor B. It also provides control registers (xCR) for operations such as interrupts and resets, and status registers (xSR) for checking the status of the other MU-side. Figure 571 shows the schematic for the MU registers.

<!-- image -->

The detailed MU register definition can be found below.

## 62.3.1 MU register descriptions

This section contains the detailed register descriptions for the MUA registers.

## NOTE

A module transfer error to Processor A or Processor B is generated when:

- A read/write access is made to an illegal location.
- A write is made to a read-only register on the Processor A side or Processor B side of MU.

## 62.3.1.1 MU memory map

MU0.MUA base address: 2325\_8000h

MU1.MUA base address: 2325\_9000h

MU2.MUA base address: 2325\_A000h

MU3.MUA base address: 2325\_B000h

Messaging Unit (MU)

Messaging Unit (MU)

| Offset      | Register                                         |   Width (In bits) | Access   | Reset value   |
|-------------|--------------------------------------------------|-------------------|----------|---------------|
| 0h          | Version ID (VER)                                 |                32 | R        | 0300_000Fh    |
| 4h          | Parameter Register (PAR)                         |                32 | R        | 2020_1010h    |
| 8h          | Control Register (CR)                            |                32 | RW       | 0000_0000h    |
| Ch          | Status Register (SR)                             |                32 | RW       | 0000_0000h    |
| 10h         | Core Control Register 0 (CCR0)                   |                32 | RW       | 0000_0000h    |
| 18h         | Core Sticky Status Register 0 (CSSR0)            |                32 | RW       | See section   |
| 100h        | Flag Control Register (FCR)                      |                32 | RW       | 0000_0000h    |
| 104h        | Flag Status Register (FSR)                       |                32 | R        | 0000_0000h    |
| 110h        | General-purpose Interrupt Enable Register (GIER) |                32 | RW       | 0000_0000h    |
| 114h        | General-purpose Control Register (GCR)           |                32 | RW       | 0000_0000h    |
| 118h        | General-purpose Status Register (GSR)            |                32 | RW       | 0000_0000h    |
| 120h        | Transmit Control Register (TCR)                  |                32 | RW       | 0000_0000h    |
| 124h        | Transmit Status Register (TSR)                   |                32 | R        | 0000_FFFFh    |
| 128h        | Receive Control Register (RCR)                   |                32 | RW       | 0000_0000h    |
| 12Ch        | Receive Status Register (RSR)                    |                32 | R        | 0000_0000h    |
| 200h - 23Ch | Transmit Register (TR0 - TR15)                   |                32 | W        | 0000_0000h    |
| 280h - 2BCh | Receive Register (RR0 - RR15)                    |                32 | R        | 0000_0000h    |

## 62.3.1.2 Version ID (VER)

## Offset

| Register   | Offset   |
|------------|----------|
| VER        | 0h       |

## Function

Determines the version ID and feature set number of MUA.

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 1       | 1       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 1       | 1       | 1       | 1       |

## Fields

| Field        | Function                                                                                                                                          |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 MAJOR  | Major Version Number                                                                                                                              |
| 23-16 MINOR  | Minor Version Number                                                                                                                              |
| 15-0 FEATURE | Feature Set Number The following features are implemented: • Standard features • RAIP/RAIE register fields • Expanded number of TRn/RRn registers |

## 62.3.1.3 Parameter Register (PAR)

## Offset

| Register   | Offset   |
|------------|----------|
| PAR        | 4h       |

## Function

Defines the number of flags, transmit registers, receive registers, and general-purpose interrupt requests available for MU.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31         | 30         | 29         | 28         | 27         | 26         | 25         | 24         | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|------------|------------|------------|------------|------------|------------|------------|------------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM |
| W      |            |            |            |            |            |            |            |            |         |         |         |         |         |         |         |         |
| Reset  | 0          | 0          | 1          | 0          | 0          | 0          | 0          | 0          | 0       | 0       | 1       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15         | 14         | 13         | 12         | 11         | 10         | 9          | 8          | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  |
| W      |            |            |            |            |            |            |            |            |         |         |         |         |         |         |         |         |
| Reset  | 0          | 0          | 0          | 1          | 0          | 0          | 0          | 0          | 0       | 0       | 0       | 1       | 0       | 0       | 0       | 0       |

## Fields

| Field            | Function                                                                                                             |
|------------------|----------------------------------------------------------------------------------------------------------------------|
| 31-24 FLAG_WIDTH | Flag Width Specifies the number of flag bits (32) in the Flag Control Register (FCR) and Flag Status Register (FSR). |
| 23-16 GIR_NUM    | General-purpose Interrupt Request Number Specifies the number of general-purpose interrupt requests available (32).  |
| 15-8 RR_NUM      | Receive Register Number Specifies the number of receive registers (16).                                              |
| 7-0 TR_NUM       | Transmit Register Number Specifies the number of transmit registers (16).                                            |

## 62.3.1.4 Control Register (CR)

## Offset

| Register   | Offset   |
|------------|----------|
| CR         | 8h       |

## Function

Controls the MU reset and reset interrupt enable.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17    | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1     | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | MURIE | MUR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | MURIE | MUR  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-2 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1 MURIE | MUA Reset Interrupt Enable Enables Processor A-side MU reset interrupt request due to MU reset issued by MUB. If 1, MU reset interrupt request is issued to Processor A when MUA_SR[MURIP] = 1. If 0, the value of MURIP is ignored and no MU reset interrupt request is issued. Only a system reset can reset this field. CR[MUR] cannot reset this field. 0b - Disable 1b - Enable                                                                                                                                                                                                                                                                          |
| 0 MUR   | MU Reset Resets the MU module. Writing 1 to this field resets the MUA side and MUB side. All internal states are cleared. It forces all control and status registers to return to their default values (except in MUA/B_CCR0 registers, MURIE in MUA/B_CR registers, MURIP and MURS in MUA/B_SR registers ). Before writing 1 to MUR,youshouldinterrupt Processor B, because writing 1 to MURmayaffecttheongoing Processor B program. After writing 1 to MUR, monitor the value of MUA_SR[MURS] to know when the reset sequence on the Processor B-side has ended. MUR is always read as 0. MUR is cleared during the MU reset sequence. 0b - Idle 1b - Reset |

Messaging Unit (MU)

## 62.3.1.5 Status Register (SR)

## Offset

| Register   | Offset   |
|------------|----------|
| SR         | Ch       |

## Function

Shows the status of MU resets and the status of pending events and requests.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17    | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1     | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | RFP  | TEP  | GIRP | FUP  | EP   | MURIP | MURS |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C   |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 7 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 6 RFP   | MUA Receive Full Pending Flag Indicates whether a Receive Full message is pending. This field becomes 1 when MUB writes to a TRn register to send data to MUA. After RFP is set, RSR[RFn] is checked to determine whether the data in the RRn register is ready for MUA to read it. This field becomes 0 when all MUA RRn registers are read, or when MU is reset. 0b - Not pending. MUB is not writing to a TRn register. 1b - Pending. MUB is writing to a TRn register. |
| 5 TEP   | MUA Transmit Empty Pending Indicates whether a Transmit Empty message is pending.                                                                                                                                                                                                                                                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field becomes 1 when any TCR[TIEn] field is 1 and MUB reads the corresponding RRn register. After TEP is set, TSR[TEn] is checked to determine whether the data in the TRn register is ready for MUA to write it. This field becomes 0 when all MUA TRn registers are written that have TCR[TIEn] = 1 (transfer interrupt enabled), or when MU is reset. 0b - Not pending. MUB is reading no RRn register. 1b - Pending. MUB is reading an RRn register.                                                                                                                                                                                                                                                                                                                                                        |
| 4 GIRP  | MUA General-purpose Interrupt Pending Indicates that a general-purpose interrupt request has been sent from MUB. This field becomes 1 when a general-purpose interrupt request is sent from the MUBside to the MUAside. GSR[GIPn] identifies which general-purpose interrupt request is received. This field becomes 0 when all MUA_GSR[GIPn] fields are cleared, or when MU is reset. 0b - No request sent 1b - Request sent                                                                                                                                                                                                                                                                                                                                                                                        |
| 3 FUP   | MUA Flags Update Pending Indicates whether a Flags Update request is pending. A Flags Update request is generated when there is a change to the Fn[31:0] bits of the MUA_FCR register. This field becomes 1 when the MUA side sends a Flags Update request to the MUB side. This field becomes 0 when this Flags Update request is internally acknowledged (the flag is updated) from the MUB side, or during MU reset. No flag update changes are allowed while this field is 1. While FUP = 1, a write to the Fn[31:0] bits of the MUA_FCR register does not generate a Flags Update event. The Fn[31:0] bits do not change. If SR[EP] = 1 (event pending), writing to the FCR register does not immediately set FUP. 0b - No pending update flags (initiated by MUA) 1b - Pending update flags (initiated by MUA) |
| 2 EP    | MUA Side Event Pending Indicates a pending side event, when the MUA side sends an event update request to the MUB side. An event is any hardware message that is reflected in the status register on the MUB side (for example, "transmit register 0 written"). During normal operations, the update mechanism for this field works automatically. Hardware clears this field automatically when the event update acknowledgment is received, or when MU resets. To ensure that events have been posted to MUB, verify that this field is 0. If it is 1, wait and continue to poll this field. 0b - Not pending 1b - Pending                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 MURIP | MU Reset Interrupt Pending MURIP is set after Processor B initiated a MU reset by setting MUB_CR[MUR]. If CR[MURIE] enables the interrupt, the Processor A MU reset interrupt request is issued when Processor B sets MUB_CR[MUR]. Writing 1 to clear MURIP, which also clears MU reset interrupt request. Only system reset can reset MURIP. MU reset cannot reset this field. 0b - Processor B did not issue MU reset. 1b - Processor B issued MU reset. |
| 0 MURS  | MUA and MUB Reset State Indicates the reset state of MUA and MUB. This field becomes 1 during any system reset or any MU reset from MUA-side or MUB-side. This field becomes 0 when the reset sequence on both MUA and MUB sides ends. After issuing any of the reset events mentioned above, verify that this field is 0 before starting any access. 0b - MUA and MUB are out of reset state. 1b - MUA or MUB is in reset state.                          |

## 62.3.1.6 Core Control Register 0 (CCR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CCR0       | 10h      |

## Function

Enables MUA to control the processor on the MUB side.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 6-5 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 4 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 3 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 0 NMI   | MUB Non-maskable Interrupt Request Indicates whether a non-maskable interrupt has been issued to Processor B by Processor A. When this field becomes 1, it initiates a non-maskable interrupt to Processor B. NMI becomes 0 after 1 is written to MUB_CSSR0[NMIC] to clear that field. After this field becomes 0,MUA can initiate another non-maskable interrupt to MUB. This field is cleared when MU resets. 0b - Non-maskable interrupt issued 1b - Non-maskable interrupt not issued |

## 62.3.1.7 Core Sticky Status Register 0 (CSSR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CSSR0      | 18h      |

## Function

Shows the status of interrupts pending (W1C).

The reset value is chip-specific.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | NMIC |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | u    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                                                                                                                                                                             |
| 7 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 6 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 5 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 4 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 3 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 2 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 1 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 0 NMIC  | Processor A Non-Maskable-Interrupt Clear Used by the MUA-side Non-Maskable Interrupt service routine to clear the non-maskable interrupt request from the MUB side. Writing 1 to this field signals MUBtoclear MUB_CCR0[NMI], de-asserting the NMIrequest and enabling the NMI field to trigger another NMI request. |

Table continues on the next page...

Messaging Unit (MU)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                    |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field is always read as 0, so it cannot be polled. NMIC can only be used as part of the NMI service routine, in which 1 must only be written to NMIC once. This field is cleared when MU resets. 0b - Default 1b - Clear MUB_CCR0[NMI] |

## 62.3.1.8 Flag Control Register (FCR)

## Offset

| Register   | Offset   |
|------------|----------|
| FCR        | 100h     |

## Function

Configures MUB\_FSR[Fn] fields.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W    | F31  | F30  | F29  | F28  | F27  | F26  | F25  | F24  | F23  | F22  | F21  | F20  | F19  | F18  | F17  | F16  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | F15  | F14  | F13  | F12  | F11  | F10  | F9   | F8   | F7   | F6   | F5   | F4   | F3   | F2   | F1   | F0   |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 Fn | MUA to MUB Flag n n = 0 to 31 Fn configures the corresponding MUB_FSR[Fn] Fn fields become 0 when MU resets. 0b - Clear MUB_FSR[Fn]. 1b - Set MUB_FSR[Fn]. |

## 62.3.1.9 Flag Status Register (FSR)

## Offset

| Register   | Offset   |
|------------|----------|
| FSR        | 104h     |

## Function

Contains flags configured by the values written to the Fn fields of the MUB\_FCR register.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | F31  | F30  | F29  | F28  | F27  | F26  | F25  | F24  | F23  | F22  | F21  | F20  | F19  | F18  | F17  | F16  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | F15  | F14  | F13  | F12  | F11  | F10  | F9   | F8   | F7   | F6   | F5   | F4   | F3   | F2   | F1   | F0   |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                             |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 Fn | MUB to MUA-Side Flag n n = 0 to 31 Fn is the MUA-side flag configured by the values written to Fn in the MUB_FCR register. When Fn in the MUB_FCRregister is written, the write event updates Fn in the MUA_FSRregister, after the event update latency. 0b - MUB_FCR[Fn] = 0. 1b - MUB_FCR[Fn] = 1. |

## 62.3.1.10 General-purpose Interrupt Enable Register (GIER)

## Offset

| Register   | Offset   |
|------------|----------|
| GIER       | 110h     |

## Function

Contains the MUA general-purpose interrupt enable fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R W    | GIE31 | GIE30 | GIE29 | GIE28 | GIE27 | GIE26 | GIE25 | GIE24 | GIE23 | GIE22 | GIE21 | GIE20 | GIE19 | GIE18 | GIE17 | GIE16 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R W    | GIE15 | GIE14 | GIE13 | GIE12 | GIE11 | GIE10 | GIE9  | GIE8  | GIE7  | GIE6  | GIE5  | GIE4  | GIE3  | GIE2  | GIE1  | GIE0  |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                           |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIEn | MUA General-purpose Interrupt Enable n Enables general-purpose interrupt. There are 32 general-purpose When GIEn = 1, a general-purpose interrupt n request is issued to Processor If GIEn = 0, the general-purpose interrupt request pending does not GIEn becomes 0 when MU resets. 0b - Disable |

## 62.3.1.11 General-purpose Control Register (GCR)

## Offset

| Register   | Offset   |
|------------|----------|
| GCR        | 114h     |

## Function

Contains the MUA general-purpose interrupt request fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R W    | GIR31 | GIR30 | GIR29 | GIR28 | GIR27 | GIR26 | GIR25 | GIR24 | GIR23 | GIR22 | GIR21 | GIR20 | GIR19 | GIR18 | GIR17 | GIR16 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R W    | GIR15 | GIR14 | GIR13 | GIR12 | GIR11 | GIR10 | GIR9  | GIR8  | GIR7  | GIR6  | GIR5  | GIR4  | GIR3  | GIR2  | GIR1  | GIR0  |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIRn | MUA General-purpose Interrupt Request n Indicates whether general-purpose interrupts are requested to MUB. There are 32 general-purpose interrupts (n = 0 to 31). Writing 1 to GIRn sets MUB_GSR[GIPn]. If MUB_GIER[GIEn] = 1, a general-purpose interrupt request is triggered on Processor B. GIRn is cleared when MUB_GSR[GIPn] is cleared. This clearing informs MUA that the interrupt was accepted (cleared by the software). To ensure proper operations, you must verify that GIRn is 0 (no pending interrupt) before writing 1 to it. This field is cleared when MU resets. 0b - Not requested 1b - Requested |

## 62.3.1.12 General-purpose Status Register (GSR)

## Offset

| Register   | Offset   |
|------------|----------|
| GSR        | 118h     |

## Function

Contains the status of the MUA general-purpose interrupt pending requests.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | GIP31 | GIP30 | GIP29 | GIP28 | GIP27 | GIP26 | GIP25 | GIP24 | GIP23 | GIP22 | GIP21 | GIP20 | GIP19 | GIP18 | GIP17 | GIP16 |
| W      | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | GIP15 | GIP14 | GIP13 | GIP12 | GIP11 | GIP10 | GIP9  | GIP8  | GIP7  | GIP6  | GIP5  | GIP4  | GIP3  | GIP2  | GIP1  | GIP0  |
| W      | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIPn | MUA General-purpose Interrupt Request Pending n Indicates whether a general-purpose interrupt request is pending. There are 32 general-purpose interrupts (n = 0 to 31). GIPn informs MUA that MUB_GCR[GIRn] was set from 0 to 1. If MUA_GIER[GIEn] = 1, a general-purpose interrupt request is issued to Processor A. GIPn is cleared when MU resets. After GIPn is cleared, if MUA_GIER[GIEn] = 1, the general-purpose interrupt request is cleared on the MUA side. 0b - Not pending 1b - Pending |

## 62.3.1.13 Transmit Control Register (TCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TCR        | 120h     |

## Function

Contains the MUA transmit interrupt enable fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|-------|-------|-------|-------|-------|------|------|------|------|------|------|------|------|------|------|
| R      | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |       |       |       |       |       |       |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | TIE15 | TIE14 | TIE13 | TIE12 | TIE11 | TIE10 | TIE9 | TIE8 | TIE7 | TIE6 | TIE5 | TIE4 | TIE3 | TIE2 | TIE1 | TIE0 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                       |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                                                                                       |
| 15-0 TIEn | MUA Transmit Interrupt Enable n Enables MUA Transmit Interrupt n. There are 16 Transmit Interrupts (n = 0 to 15). If 1, an MUA Transmit Interrupt n request is issued when MUA_TSR[TEn] is set. If 0, the value of TEn is ignored, and no MUA Transmit Interrupt n request is issued. 0b - Disable 1b - Enable |

## 62.3.1.14 Transmit Status Register (TSR)

## Offset

| Register   | Offset   |
|------------|----------|
| TSR        | 124h     |

## Function

Indicates whether the MUA transmit registers are empty.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | TE15 | TE14 | TE13 | TE12 | TE11 | TE10 | TE9  | TE8  | TE7  | TE6  | TE5  | TE4  | TE3  | TE2  | TE1  | TE0  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 15-0 TEn | MUA Transmit Register n Empty Indicates whether MUA Transmit Register n is empty. There are 16 Transmit Registers (n = 0 to 15). This field is set after the MUB_RRnregister is read on the MUBside. Setting TEn to 1 informs the MUAside that the MUA_TRn register is ready to be written on the MUA side. If MUA_TCR[TIEn] = 1, a Transmit n interrupt is issued on the MUA side. This field is cleared after the MUA_TRn register is written on the MUA side. After this field is cleared, if MUA_TCR[TIEn] = 1, the Transmit n interrupt request is cleared on the MUA side. This field is set when MU resets. 0b - Not empty 1b - Empty |

## 62.3.1.15 Receive Control Register (RCR)

## Offset

| Register   | Offset   |
|------------|----------|
| RCR        | 128h     |

## Function

Contains the MUA receive interrupt enables.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|-------|-------|-------|-------|-------|------|------|------|------|------|------|------|------|------|------|
| R      | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |       |       |       |       |       |       |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | RIE15 | RIE14 | RIE13 | RIE12 | RIE11 | RIE10 | RIE9 | RIE8 | RIE7 | RIE6 | RIE5 | RIE4 | RIE3 | RIE2 | RIE1 | RIE0 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                  |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                                                                                  |
| 15-0 RIEn | MUA Receive Interrupt Enable n Enables MUA Receive Interrupt n. There are 16 Receive Interrupts (n = 0 to 15). If 1, an MUA Receive Interrupt n request is issued when MUA_RSR[RFn] is set. If 0, the value of RFn is ignored, and no MUA Receive Interrupt n request is issued. 0b - Disable 1b - Enable |

## 62.3.1.16 Receive Status Register (RSR)

## Offset

| Register   | Offset   |
|------------|----------|
| RSR        | 12Ch     |

## Function

Indicates whether the MUA receive registers are full.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | RF15 | RF14 | RF13 | RF12 | RF11 | RF10 | RF9  | RF8  | RF7  | RF6  | RF5  | RF4  | RF3  | RF2  | RF1  | RF0  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 15-0 RFn | MUA Receive Register n Full Indicates whether Receive Register n is full. There are 16 Receive Registers (n = 0 to 15). This field becomes 1 when the MUB_TRn register is written on the MUB side. Setting this field to 1 informs the MUAside that new data in the MUA_RRn register is ready for MUAto read it. If MUA_RCR[RIEn] = 1, a Receive n interrupt is issued on the MUA side. This field becomes 0 when the MUA_RRn register is read, or when MU is reset. After this field becomes 0, if MUA_RCR[RIEn] = 1, the Receive n interrupt request is cleared on the MUA side. 0b - Not full 1b - MUA_RRn register has received data from MUB TRn register and is ready for MUA to read it. |

## 62.3.1.17 Transmit Register (TR0 - TR15)

## Offset

For n = 0 to 15:

| Register   | Offset          |
|------------|-----------------|
| TRn        | 200h + (n × 4h) |

## Function

Contains MUA transmit data.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| W      | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| W      | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field        | Function                                                                                                                                                                                                                                      |
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 TR_DATA | MUA Transmit Data Contains MUA transmit data. Data written to this register is reflected in the MUB_RRn register. The TRnandRRnregisters are not double-buffered. Writing to the TRnregister overrides the data readable in the RRn register. |

## 62.3.1.18 Receive Register (RR0 - RR15)

## Offset

For n = 0 to 15:

| Register   | Offset          |
|------------|-----------------|
| RRn        | 280h + (n × 4h) |

## Function

Contains MUA receive data.

Messaging Unit (MU)

## Diagram

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | MUA Receive Data                                                                                                                                                                                                                                                                                                                                                                                                                     |
| RR_DATA | Reflects the data written to MUB Transmit Register (TRn). Reading this register clears MUA_RSR[RFn] on the receiver side, and sets MUB_TSR[TEn] on the transmitter side. RRn register can be read only when MUB_RSR[RFn] = 1. Reading before MUB_RSR[RFn] = 1 may result in reading incorrect data. You must poll MUB_RSR[RFn] to confirm it is set before reading RRn. Writing to this register generates an error response to MUA. |

## 62.3.2 MU register descriptions

This section contains the detailed register descriptions for the MUB registers.

## NOTE

A module transfer error to Processor A or Processor B is generated when:

- A read/write access is made to an illegal location.
- A write is made to a read-only register on the Processor A side or Processor B side of MU.

## 62.3.2.1 MU memory map

MU0.MUB base address: 4021\_0000h

MU1.MUB base address: 4021\_1000h

MU2.MUB base address: 4021\_2000h

MU3.MUB base address: 4021\_3000h

| Offset   | Register         |   Width (In bits) | Access   | Reset value   |
|----------|------------------|-------------------|----------|---------------|
| 0h       | Version ID (VER) |                32 | R        | 0300_000Fh    |

Table continues on the next page...

Messaging Unit (MU)

## Table continued from the previous page...

| Offset      | Register                                         |   Width (In bits) | Access   | Reset value   |
|-------------|--------------------------------------------------|-------------------|----------|---------------|
| 4h          | Parameter Register (PAR)                         |                32 | R        | 2020_1010h    |
| 8h          | Control Register (CR)                            |                32 | RW       | 0000_0000h    |
| Ch          | Status Register (SR)                             |                32 | RW       | 0000_0000h    |
| 10h         | Core Control Register 0 (CCR0)                   |                32 | RW       | 0000_0000h    |
| 18h         | Core Sticky Status Register 0 (CSSR0)            |                32 | RW       | See section   |
| 100h        | Flag Control Register (FCR)                      |                32 | RW       | 0000_0000h    |
| 104h        | Flag Status Register (FSR)                       |                32 | R        | 0000_0000h    |
| 110h        | General-purpose Interrupt Enable Register (GIER) |                32 | RW       | 0000_0000h    |
| 114h        | General-purpose Control Register (GCR)           |                32 | RW       | 0000_0000h    |
| 118h        | General-purpose Status Register (GSR)            |                32 | RW       | 0000_0000h    |
| 120h        | Transmit Control Register (TCR)                  |                32 | RW       | 0000_0000h    |
| 124h        | Transmit Status Register (TSR)                   |                32 | R        | 0000_FFFFh    |
| 128h        | Receive Control Register (RCR)                   |                32 | RW       | 0000_0000h    |
| 12Ch        | Receive Status Register (RSR)                    |                32 | R        | 0000_0000h    |
| 200h - 23Ch | Transmit Register (TR0 - TR15)                   |                32 | W        | 0000_0000h    |
| 280h - 2BCh | Receive Register (RR0 - RR15)                    |                32 | R        | 0000_0000h    |

## 62.3.2.2 Version ID (VER)

## Offset

| Register   | Offset   |
|------------|----------|
| VER        | 0h       |

## Function

Determines the version ID and feature set number of MUB.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MAJOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   | MINOR   |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 1       | 1       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE | FEATURE |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 1       | 1       | 1       | 1       |

## Fields

| Field        | Function                                                                                                                                          |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 MAJOR  | Major Version Number                                                                                                                              |
| 23-16 MINOR  | Minor Version Number                                                                                                                              |
| 15-0 FEATURE | Feature Set Number The following features are implemented: • Standard features • RAIP/RAIE register fields • Expanded number of TRn/RRn registers |

## 62.3.2.3 Parameter Register (PAR)

## Offset

| Register   | Offset   |
|------------|----------|
| PAR        | 4h       |

## Function

Defines the number of flags, transmit registers, receive registers, and general-purpose interrupt requests available for MU.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31         | 30         | 29         | 28         | 27         | 26         | 25         | 24         | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|------------|------------|------------|------------|------------|------------|------------|------------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | FLAG_WIDTH | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM | GIR_NUM |
| W      |            |            |            |            |            |            |            |            |         |         |         |         |         |         |         |         |
| Reset  | 0          | 0          | 1          | 0          | 0          | 0          | 0          | 0          | 0       | 0       | 1       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15         | 14         | 13         | 12         | 11         | 10         | 9          | 8          | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | RR_NUM     | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  | TR_NUM  |
| W      |            |            |            |            |            |            |            |            |         |         |         |         |         |         |         |         |
| Reset  | 0          | 0          | 0          | 1          | 0          | 0          | 0          | 0          | 0       | 0       | 0       | 1       | 0       | 0       | 0       | 0       |

## Fields

| Field            | Function                                                                                                             |
|------------------|----------------------------------------------------------------------------------------------------------------------|
| 31-24 FLAG_WIDTH | Flag Width Specifies the number of flag bits (32) in the Flag Control Register (FCR) and Flag Status Register (FSR). |
| 23-16 GIR_NUM    | General-purpose Interrupt Request Number Specifies the number of general-purpose interrupt requests available (32).  |
| 15-8 RR_NUM      | Receive Register Number Specifies the number of receive registers (16).                                              |
| 7-0 TR_NUM       | Transmit Register Number Specifies the number of transmit registers (16).                                            |

## 62.3.2.4 Control Register (CR)

## Offset

| Register   | Offset   |
|------------|----------|
| CR         | 8h       |

## Function

Controls the MU reset and reset interrupt enable.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17    | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1     | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | MURIE | MUR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | MURIE | MUR  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-2 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 1 MURIE | MUB Reset Interrupt Enable Enables Processor B-side MU reset interrupt request due to MU reset issued by MUA. If 1, MU reset interrupt request is issued to Processor B when MUB_SR[MURIP] = 1. If 0, the value of MURIP is ignored and no MU reset interrupt request is issued. Only a system reset can reset this field. CR[MUR] cannot reset this field. 0b - Disable 1b - Enable                                                                                                                                                                                                                                                                          |
| 0 MUR   | MU Reset Resets the MU module. Writing 1 to this field resets the MUB side and MUA side. All internal states are cleared. It forces all control and status registers to return to their default values (except in MUB/A_CCR0 registers, MURIE in MUB/A_CR registers, MURIP and MURS in MUB/A_SR registers ). Before writing 1 to MUR,youshouldinterrupt Processor A, because writing 1 to MURmayaffecttheongoing Processor A program. After writing 1 to MUR, monitor the value of MUB_SR[MURS] to know when the reset sequence on the Processor A-side has ended. MUR is always read as 0. MUR is cleared during the MU reset sequence. 0b - Idle 1b - Reset |

Messaging Unit (MU)

## 62.3.2.5 Status Register (SR)

## Offset

| Register   | Offset   |
|------------|----------|
| SR         | Ch       |

## Function

Shows the status of MU resets and the status of pending events and requests.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17    | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1     | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | RFP  | TEP  | GIRP | FUP  | EP   | MURIP | MURS |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C   |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 7 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 6 RFP   | MUB Receive Full Pending Flag Indicates whether a Receive Full message is pending. This field becomes 1 when MUA writes to a TRn register to send data to MUB. After RFP is set, RSR[RFn] is checked to determine whether the data in the RRn register is ready for MUB to read it. This field becomes 0 when all MUB RRn registers are read, or when MU is reset. 0b - Not pending. MUA is not writing to a TRn register. 1b - Pending. MUA is writing to a TRn register. |
| 5 TEP   | MUB Transmit Empty Pending Indicates whether a Transmit Empty message is pending.                                                                                                                                                                                                                                                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field becomes 1 when any TCR[TIEn] field is 1 and MUA reads the corresponding RRn register. After TEP is set, TSR[TEn] is checked to determine whether the data in the TRn register is ready for MUB to write it. This field becomes 0 when all MUB TRn registers are written that have TCR[TIEn] = 1 (transfer interrupt enabled), or when MU is reset. 0b - Not pending. MUA is reading no RRn register. 1b - Pending. MUA is reading an RRn register.                                                                                                                                                                                                                                                                                                                                                        |
| 4 GIRP  | MUB General-purpose Interrupt Pending Indicates that a general-purpose interrupt request has been sent from MUA. This field becomes 1 when a general-purpose interrupt request is sent from the MUAside to the MUBside. GSR[GIPn] identifies which general-purpose interrupt request is received. This field becomes 0 when all MUB_GSR[GIPn] fields are cleared, or when MU is reset. 0b - No request sent 1b - Request sent                                                                                                                                                                                                                                                                                                                                                                                        |
| 3 FUP   | MUB Flags Update Pending Indicates whether a Flags Update request is pending. A Flags Update request is generated when there is a change to the Fn[31:0] bits of the MUB_FCR register. This field becomes 1 when the MUB side sends a Flags Update request to the MUA side. This field becomes 0 when this Flags Update request is internally acknowledged (the flag is updated) from the MUA side, or during MU reset. No flag update changes are allowed while this field is 1. While FUP = 1, a write to the Fn[31:0] bits of the MUB_FCR register does not generate a Flags Update event. The Fn[31:0] bits do not change. If SR[EP] = 1 (event pending), writing to the FCR register does not immediately set FUP. 0b - No pending update flags (initiated by MUB) 1b - Pending update flags (initiated by MUB) |
| 2 EP    | MUB Side Event Pending Indicates a pending side event, when the MUB side sends an event update request to the MUA side. An event is any hardware message that is reflected in the status register on the MUA side (for example, "transmit register 0 written"). During normal operations, the update mechanism for this field works automatically. Hardware clears this field automatically when the event update acknowledgment is received, or when MU resets. To ensure that events have been posted to MUA, verify that this field is 0. If it is 1, wait and continue to poll this field. 0b - Not pending 1b - Pending                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 MURIP | MU Reset Interrupt Pending MURIP is set after Processor A initiated a MU reset by setting MUB_CR[MUR]. If CR[MURIE] enables the interrupt, the Processor B MU reset interrupt request is issued when Processor A sets MUA_CR[MUR]. Writing 1 to clear MURIP, which also clears MU reset interrupt request. Only system reset can reset MURIP. MU reset cannot reset this field. 0b - Processor A did not issue MU reset. 1b - Processor A issued MU reset. |
| 0 MURS  | MUA and MUB Reset State Indicates the reset state of MUA and MUB. This field becomes 1 during any system reset or any MU reset from MUA-side or MUB-side. This field becomes 0 when the reset sequence on both MUA and MUB sides ends. After issuing any of the reset events mentioned above, verify that this field is 0 before starting any access. 0b - MUA and MUB are out of reset state. 1b - MUA or MUB is in reset state.                          |

## 62.3.2.6 Core Control Register 0 (CCR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CCR0       | 10h      |

## Function

Enables MUB to control the processor on the MUA side.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 6-5 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 4 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 3 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 1 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 0 NMI   | MUA Non-maskable Interrupt Request Indicates whether a non-maskable interrupt has been issued to Processor A by Processor B. When this field becomes 1, it initiates a non-maskable interrupt to Processor A. NMI becomes 0 after 1 is written to MUA_CSSR0[NMIC] to clear that field. After this field becomes 0,MUB can initiate another non-maskable interrupt to MUA. This field is cleared when MU resets. 0b - Non-maskable interrupt issued 1b - Non-maskable interrupt not issued |

## 62.3.2.7 Core Sticky Status Register 0 (CSSR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CSSR0      | 18h      |

## Function

Shows the status of interrupts pending (W1C).

The reset value is chip-specific.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | NMIC |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | u    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -  | Reserved                                                                                                                                                                                                                                                                                                             |
| 7 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 6 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 5 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 4 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 3 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 2 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 1 -     | Reserved                                                                                                                                                                                                                                                                                                             |
| 0 NMIC  | Processor B Non-Maskable-Interrupt Clear Used by the MUB-side Non-Maskable Interrupt service routine to clear the non-maskable interrupt request from the MUA side. Writing 1 to this field signals MUAtoclear MUA_CCR0[NMI], de-asserting the NMIrequest and enabling the NMI field to trigger another NMI request. |

Table continues on the next page...

Messaging Unit (MU)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                    |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field is always read as 0, so it cannot be polled. NMIC can only be used as part of the NMI service routine, in which 1 must only be written to NMIC once. This field is cleared when MU resets. 0b - Default 1b - Clear MUA_CCR0[NMI] |

## 62.3.2.8 Flag Control Register (FCR)

## Offset

| Register   | Offset   |
|------------|----------|
| FCR        | 100h     |

## Function

Configures MUA\_FSR[Fn] fields.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W    | F31  | F30  | F29  | F28  | F27  | F26  | F25  | F24  | F23  | F22  | F21  | F20  | F19  | F18  | F17  | F16  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | F15  | F14  | F13  | F12  | F11  | F10  | F9   | F8   | F7   | F6   | F5   | F4   | F3   | F2   | F1   | F0   |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 Fn | MUB to MUA Flag n n = 0 to 31 Fn configures the corresponding MUA_FSR[Fn] Fn fields become 0 when MU resets. 0b - Clear MUA_FSR[Fn]. 1b - Set MUA_FSR[Fn]. |

## 62.3.2.9 Flag Status Register (FSR)

## Offset

| Register   | Offset   |
|------------|----------|
| FSR        | 104h     |

## Function

Contains flags configured by the values written to the Fn fields of the MUA\_FCR register.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | F31  | F30  | F29  | F28  | F27  | F26  | F25  | F24  | F23  | F22  | F21  | F20  | F19  | F18  | F17  | F16  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | F15  | F14  | F13  | F12  | F11  | F10  | F9   | F8   | F7   | F6   | F5   | F4   | F3   | F2   | F1   | F0   |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                             |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 Fn | MUA to MUB-Side Flag n n = 0 to 31 Fn is the MUB-side flag configured by the values written to Fn in the MUA_FCR register. When Fn in the MUA_FCRregister is written, the write event updates Fn in the MUB_FSRregister, after the event update latency. 0b - MUA_FCR[Fn] = 0. 1b - MUA_FCR[Fn] = 1. |

## 62.3.2.10 General-purpose Interrupt Enable Register (GIER)

## Offset

| Register   | Offset   |
|------------|----------|
| GIER       | 110h     |

## Function

Contains the MUB general-purpose interrupt enable fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R W    | GIE31 | GIE30 | GIE29 | GIE28 | GIE27 | GIE26 | GIE25 | GIE24 | GIE23 | GIE22 | GIE21 | GIE20 | GIE19 | GIE18 | GIE17 | GIE16 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R W    | GIE15 | GIE14 | GIE13 | GIE12 | GIE11 | GIE10 | GIE9  | GIE8  | GIE7  | GIE6  | GIE5  | GIE4  | GIE3  | GIE2  | GIE1  | GIE0  |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                           |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIEn | MUB General-purpose Interrupt Enable n Enables general-purpose interrupt. There are 32 general-purpose When GIEn = 1, a general-purpose interrupt n request If GIEn = 0, the general-purpose interrupt request pending GIEn becomes 0 when MU resets. 0b - Disable |

## 62.3.2.11 General-purpose Control Register (GCR)

## Offset

| Register   | Offset   |
|------------|----------|
| GCR        | 114h     |

## Function

Contains the MUB general-purpose interrupt request fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R W    | GIR31 | GIR30 | GIR29 | GIR28 | GIR27 | GIR26 | GIR25 | GIR24 | GIR23 | GIR22 | GIR21 | GIR20 | GIR19 | GIR18 | GIR17 | GIR16 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R W    | GIR15 | GIR14 | GIR13 | GIR12 | GIR11 | GIR10 | GIR9  | GIR8  | GIR7  | GIR6  | GIR5  | GIR4  | GIR3  | GIR2  | GIR1  | GIR0  |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIRn | MUB General-purpose Interrupt Request n Indicates whether general-purpose interrupts are requested to MUA. There are 32 general-purpose interrupts (n = 0 to 31). Writing 1 to GIRn sets MUA_GSR[GIPn]. If MUA_GIER[GIEn] = 1, a general-purpose interrupt request is triggered on Processor A. GIRn is cleared when MUA_GSR[GIPn] is cleared. This clearing informs MUB that the interrupt was accepted (cleared by the software). To ensure proper operations, you must verify that GIRn is 0 (no pending interrupt) before writing 1 to it. This field is cleared when MU resets. 0b - Not requested 1b - Requested |

## 62.3.2.12 General-purpose Status Register (GSR)

## Offset

| Register   | Offset   |
|------------|----------|
| GSR        | 118h     |

## Function

Contains the status of the MUB general-purpose interrupt pending requests.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | GIP31 | GIP30 | GIP29 | GIP28 | GIP27 | GIP26 | GIP25 | GIP24 | GIP23 | GIP22 | GIP21 | GIP20 | GIP19 | GIP18 | GIP17 | GIP16 |
| W      | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | GIP15 | GIP14 | GIP13 | GIP12 | GIP11 | GIP10 | GIP9  | GIP8  | GIP7  | GIP6  | GIP5  | GIP4  | GIP3  | GIP2  | GIP1  | GIP0  |
| W      | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   | W1C   |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 GIPn | MUB General-purpose Interrupt Request Pending n Indicates whether a general-purpose interrupt request is pending. There are 32 general-purpose interrupts (n = 0 to 31). GIPn informs MUB that MUA_GCR[GIRn] was set from 0 to 1. If MUB_GIER[GIEn] = 1, a general-purpose interrupt request is issued to Processor B. GIPn is cleared when MU resets. After GIPn is cleared, if MUB_GIER[GIEn] = 1, the general-purpose interrupt request is cleared on the MUB side. 0b - Not pending 1b - Pending |

## 62.3.2.13 Transmit Control Register (TCR)

## Offset

| Register   | Offset   |
|------------|----------|
| TCR        | 120h     |

## Function

Contains the MUB transmit interrupt enable fields.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|-------|-------|-------|-------|-------|------|------|------|------|------|------|------|------|------|------|
| R      | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |       |       |       |       |       |       |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | TIE15 | TIE14 | TIE13 | TIE12 | TIE11 | TIE10 | TIE9 | TIE8 | TIE7 | TIE6 | TIE5 | TIE4 | TIE3 | TIE2 | TIE1 | TIE0 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                       |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                                                                                       |
| 15-0 TIEn | MUB Transmit Interrupt Enable n Enables MUB Transmit Interrupt n. There are 16 Transmit Interrupts (n = 0 to 15). If 1, an MUB Transmit Interrupt n request is issued when MUB_TSR[TEn] is set. If 0, the value of TEn is ignored, and no MUB Transmit Interrupt n request is issued. 0b - Disable 1b - Enable |

## 62.3.2.14 Transmit Status Register (TSR)

## Offset

| Register   | Offset   |
|------------|----------|
| TSR        | 124h     |

## Function

Indicates whether the MUB transmit registers are empty.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | TE15 | TE14 | TE13 | TE12 | TE11 | TE10 | TE9  | TE8  | TE7  | TE6  | TE5  | TE4  | TE3  | TE2  | TE1  | TE0  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 15-0 TEn | MUB Transmit Register n Empty Indicates whether MUB Transmit Register n is empty. There are 16 Transmit Registers (n = 0 to 15). This field is set after the MUA_RRnregister is read on the MUAside. Setting TEn to 1 informs the MUBside that the MUB_TRn register is ready to be written on the MUB side. If MUB_TCR[TIEn] = 1, a Transmit n interrupt is issued on the MUB side. This field is cleared after the MUB_TRn register is written on the MUB side. After this field is cleared, if MUB_TCR[TIEn] = 1, the Transmit n interrupt request is cleared on the MUB side. This field is set when MU resets. 0b - Not empty 1b - Empty |

## 62.3.2.15 Receive Control Register (RCR)

## Offset

| Register   | Offset   |
|------------|----------|
| RCR        | 128h     |

## Function

Contains the MUB receive interrupt enables.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|-------|-------|-------|-------|-------|------|------|------|------|------|------|------|------|------|------|
| R      | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |       |       |       |       |       |       |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | RIE15 | RIE14 | RIE13 | RIE12 | RIE11 | RIE10 | RIE9 | RIE8 | RIE7 | RIE6 | RIE5 | RIE4 | RIE3 | RIE2 | RIE1 | RIE0 |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                  |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                                                                                  |
| 15-0 RIEn | MUB Receive Interrupt Enable n Enables MUB Receive Interrupt n. There are 16 Receive Interrupts (n = 0 to 15). If 1, an MUB Receive Interrupt n request is issued when MUB_RSR[RFn] is set. If 0, the value of RFn is ignored, and no MUB Receive Interrupt n request is issued. 0b - Disable 1b - Enable |

## 62.3.2.16 Receive Status Register (RSR)

## Offset

| Register   | Offset   |
|------------|----------|
| RSR        | 12Ch     |

## Function

Indicates whether the MUB receive registers are full.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | RF15 | RF14 | RF13 | RF12 | RF11 | RF10 | RF9  | RF8  | RF7  | RF6  | RF5  | RF4  | RF3  | RF2  | RF1  | RF0  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 15-0 RFn | MUB Receive Register n Full Indicates whether Receive Register n is full. There are 16 Receive Registers (n = 0 to 15). This field becomes 1 when the MUA_TRn register is written on the MUA side. Setting this field to 1 informs the MUBside that new data in the MUB_RRn register is ready for MUBto read it. If MUB_RCR[RIEn] = 1, a Receive n interrupt is issued on the MUB side. This field becomes 0 when the MUB_RRn register is read, or when MU is reset. After this field becomes 0, if MUB_RCR[RIEn] = 1, the Receive n interrupt request is cleared on the MUB side. 0b - Not full 1b - MUB_RRn register has received data from MUA TRn register and is ready for MUB to read it. |

## 62.3.2.17 Transmit Register (TR0 - TR15)

## Offset

For n = 0 to 15:

| Register   | Offset          |
|------------|-----------------|
| TRn        | 200h + (n × 4h) |

## Function

Contains MUB transmit data.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| W      | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| W      | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA | TR_DATA |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field        | Function                                                                    |
|--------------|-----------------------------------------------------------------------------|
| 31-0 TR_DATA | MUB Transmit Data Contains MUB transmit data. Data written to this register |

## 62.3.2.18 Receive Register (RR0 - RR15)

## Offset

For n = 0 to 15:

| Register   | Offset          |
|------------|-----------------|
| RRn        | 280h + (n × 4h) |

## Function

Contains MUB receive data.

Messaging Unit (MU)

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA | RR_DATA |
| W      |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |         |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | MUB Receive Data                                                                                                                                                                                                                                                                                                                                                                                                                     |
| RR_DATA | Reflects the data written to MUA Transmit Register (TRn). Reading this register clears MUB_RSR[RFn] on the receiver side, and sets MUA_TSR[TEn] on the transmitter side. RRn register can be read only when MUA_RSR[RFn] = 1. Reading before MUA_RSR[RFn] = 1 may result in reading incorrect data. You must poll MUA_RSR[RFn] to confirm it is set before reading RRn. Writing to this register generates an error response to MUB. |

## 62.4 Functional description

MU enables two cores (Processor A and Processor B) to communicate with each other:

- By passing message/data information to each other.
- By enabling one core to wake the other core using interrupts.

The messaging, control, and status registers of the two cores are mapped to Processor A memory and Processor B memory as a regular peripheral. The peripheral data bus is 32 bits wide inside the MU module.

Messaging logic is used with external memory. Various messaging methods can be used to implement a messaging protocol. For example, a message could mean:

- "A message of N words has been written starting at offset X in the memory."
- or "The previous data block that was sent has been read."

The ability to keep messaging logic independent of the memory array is not restricted to a predefined hardware protocol. The software required to manage the messaging is short and straightforward.

Most of the messaging mechanisms are symmetric. They are duplicated and are available on both the Processor A side and the Processor B side. The messaging mechanisms are:

- 16 32-bit transmit registers, which are each reflected in 16 read-only receive registers on the side of the other processor. These registers can be used to transfer 32-bit word messages or the frame information of messages written to the shared memory. For example, they can transfer number of words, initial address, and message type code.
- Writing to a transmitter-side transmit register clears a Transmitter Empty flag in the transmitter-side Status Register, and sets a Receiver Full flag in the receiver-side Status Register. The setting of the flag on the receiver side can trigger an interrupt at the receiver side (maskable receive interrupt).

Messaging Unit (MU)

Messaging Unit (MU)

- Reading a receiver-side receive register clears the Receiver Full flag in the receiver-side Status Register, and sets the Transmitter Empty flag in the transmitter-side Status Register. The setting of the Transmitter Empty flag can trigger an interrupt on the transmitter side (maskable transmit interrupt).
- 32 general-purpose interrupt request flags are reflected in the General-purpose Status Register (GSR) on the receiver side.
- 32-bit flag data is transmitted from the Flag Control Register (FCR) to the Flag Status Register (FSR) on the side receiving the flag data. The Flag Update Pending field (SR[FUP]) sets when the flag data is transmitted and clears when the receiving side acknowledges the flag data (flag is updated).

Writing to a transmit register signals to the receiver side that data is ready for retrieval.

- Writing to the transmit register again without verifying that the data was retrieved is prohibited. The transmitter side has no way of knowing the exact time that the receiver attempts to retrieve the data.
- Before attempting to write to the transmit register again, the transmitter side should wait for a Transmitter Empty interrupt, or should poll TSR[TEn].

Reading a receive register signals to the transmitter side that data can be written to that register.

- Reading the receive register again without verifying that the data was written is prohibited. The receiver side has no way of knowing the exact time that the transmitter attempts to write the data.
- Before attempting to read the receive register again, the receiver side should wait for a Receiver Full interrupt, or should poll RSR[RFn].

## 62.4.1 Event update timing

The messaging side of each processor has a hardware mechanism to send event update requests to the other processor. An event occurs when any information change should be reflected at the status register of the receiving processor. The event update latency is the delay between the event being ready at one processor and the resulting update at the Status Register of the other processor.

- The minimum event latency is (1 clock cycle of the sending side) + (2.5 clock cycles of the receiving side). This minimum case happens when no event is pending when the new event occurs.
- The maximum event latency is (6 clock cycles of the sending side) + (6.5 clock cycles of the receiving side). The maximum case happens when the event occurs just after a previous event is sent to the other side.

The event update latency varies depending on the time at which the subsequent event is triggered.

## 62.4.2 Interrupts

MU controls interrupt requests that one processor makes to the other processor. This section describes all the interrupts that the module generates.

Below interrupt sources can be generated individually from MU to the processors.

- 16 receive interrupts (asserted when the Receive Full flags are set and enabled in the Receive Control Register (RCR)) for each receive register
- 16 transmit interrupts (asserted when the Transmit Empty flags are set and enabled in the Transmit Control Register (TCR)) for each transmit register
- 32 general-purpose interrupts (asserted when the GIP fields are set and enabled in the General-purpose Interrupt Enable Register (GIER))
- One non-maskable interrupt (asserted when the NMI flag is set in the Core Control Register 0 (CCR0))
- MU software reset (asserted when MUR field is written and enabled with MURIE field )

All interrupts except NMI are maskable in the processor control registers: TCR, RCR, GIER, and CR. MU does not assume any internal priority of these interrupts. Multiple interrupts (for example, Receive 0 and Receive 1 interrupts or any transmit or general-purpose interrupts) can be asserted at one time. The interrupt controller should resolve the priority of these interrupts at the chip level.

Triggering any enabled interrupt wakes the processor before servicing the interrupt.

The software (as part of the interrupt handler) must clear the general-purpose interrupt pending fields (GSR[GIPn]) to de-assert the request to the interrupt controller.

The software should also clear the non-maskable interrupt by writing CSSR0[NIMC] (as a part of the interrupt handler) to de-assert the non-maskable interrupt request.

When a processor writes to the general-purpose interrupt field (GCR[GIRn]), the write event is synchronized to the other processor to set the general-purpose interrupt request pending field (GSR[GIPn]). When GSR[GIPn] is set and the general-purpose interrupt is enabled on the receiving side (GIER[GIEn] is 1), the transmitting-side general-purpose interrupt is issued to the receiving processor. The receiving processor clears this interrupt by writing a 1 to GSR[GIPn]. The interrupt is de-asserted as soon as GSR[GIPn] is written. The write event of GSR[GIPn] is synchronized to the other processor. The synchronized signal clears the GIRn bit.

Before setting GCR[GIRn], it must be verified that GCR[GIRn] is cleared, which means that a general interrupt is not pending. Generally, setting GCR[GIRn] while the field is 1 is ignored, but in some cases it may issue a second interrupt.

## 62.4.3 Resets

MU has the reset sources listed below. Each reset has a different function from the MU module or system perspective.

## 62.4.3.1 Asynchronous system reset

When the asynchronous system reset on any MU side is asserted, SR[MURS] becomes 1 until the asynchronous system reset sequence on both MUA and MUB sides ends. Verify that SR[MURS] is cleared before starting any access to MU.

The asynchronous system reset on one MU side resets the other MU side. The reset forces all control and status registers to return to their default values and clears all internal states. Exceptions to this behavior are shown in Table 576.

Table 576. Exceptions to Asynchronous System Reset

| Exceptions - MUA-side asynchronous system reset   | Exceptions - MUB-side asynchronous system reset   |
|---------------------------------------------------|---------------------------------------------------|
| MUB_CR[MURIE]                                     | MUA_CR[MURIE]                                     |
| MUB_SR[MURIP]                                     | MUA_SR[MURIP]                                     |
| MUB_SR[MURS]                                      | MUA_SR[MURS]                                      |

## 62.4.3.2 MU software reset

- Writing 1 to CR[MUR] causes most control and status registers to return to their default values and clears all internal states.
- The instruction immediately following assertion of CR[MUR] should not write to MU registers. The reset sequence may overwrite such a write, and the register retains the reset value. The value of SR[MURS] must be monitored to know when the reset sequence on both processors has ended. After the reset sequence on both processors has ended, a write to MU registers can be attempted.

## NOTE

CR[MUR] assertion is a delicate operation because it asynchronously affects the registers on the other side. CR[MUR] assertion may cause unpredictable behavior if, for example, the other processor is concurrently testing an MU register field (TSR[TEn] in the other processor). Before asserting CR[MUR], it must be verified that the other processor is not engaged in an MU signaling activity.

## 62.5 External signals

There are no MU signals directly available externally.

Messaging Unit (MU)

## 62.6 Application information

MU facilitates messages between processors. The following are some messaging examples:

- Passing short messages: transmit registers can pass short messages from 1 to 16 words in length for Processor A and from 1 to 16 words for Processor B. For example, for a four-word message, only one register must have its corresponding interrupt enabled on the receiver side. The first three words of the message are written to the registers whose interrupts are masked. The fourth word is written to the last register, triggering an interrupt on the receiver side.
- Passing frame information: transmit registers can be used to pass frame information for long messages written to the shared system memory. Such frame information normally includes a start address and number of words. It can include a message type code.
- Passing event notices and requests: events and requests that do not include data words can be signaled between processors using general-purpose interrupts. For example, one such event is acknowledging that a long message was read from the shared system memory.
- Passing fixed-length data: formatted data with a fixed length can be written in predetermined locations in the shared memory. A processor can use general-purpose interrupts to signal to the other processor that the data is ready.
- Passing announcements: a processor can use the 32 flags to announce its current program state or other billboard messages to the other processor.

## 62.6.1 Messaging protocols using interrupts

The example below describes a four-word messaging sequence sent between the processors.

The registers are written sequentially for n = 0, 1, 2, 3. For n = 0, 1, and 2, the interrupts are disabled, therefore no interrupt goes to the processor (although interrupt conditions occur). For n = 3, the interrupt is enabled, and the last Receive Interrupt request is generated.

1. Write sequence
- The transmitting processor writes the message information sequentially to its Transmit Registers 0, 1, 2.
- When the write to Transmit Register 3 occurs, the RSR[RF3] flag is set after synchronization. It immediately triggers the Receive Full 3 interrupt on the receiving processor.
2. Read sequence
- The Receiving Processor receives the Receive Full 3 interrupt and starts reading the message transferred from the receive registers.
- After Receive Register 3 is read, the interrupt RSR[RF3] flag is cleared.

Table 577 and Figure 572 describe the messaging model using transmit and receive registers and the interrupt messaging protocol.

Table 577. Interrupt Messaging Protocol (Generalized)

|   Step | Action                                                   | Description                                                                                                                                                                                                          |
|--------|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      1 | Processor A writes data.                                 | A data write to the TRn register by Processor A is reflected in the Processor B RRn register.                                                                                                                        |
|      2 | Clear Transmitter Empty flag and set Receiver Full flag. | The data write to the TRn register: • Clears the Transmitter Empty flag (TSR[TEn]) in the Processor A transmit status register. • Sets the Receiver Full flag (RSR[RFn]) in the Processor B receive status register. |

Table continues on the next page...

Messaging Unit (MU)

Table 577. Interrupt Messaging Protocol (Generalized) (continued)

|   Step | Action                                                   | Description                                                                                                                                                                     |
|--------|----------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      3 | Generate Receive Interrupt request.                      | Setting the Receiver Full flag (RSR[RFn]) generates a Receive Interrupt request to Processor B.                                                                                 |
|      4 | Processor B reads data.                                  | After receiving the Receive Interrupt request, Processor B performs a data read of the RRn register.                                                                            |
|      5 | Clear Receiver Full flag and set Transmitter Empty flag. | Reading the data out of the RRn register: • Clears the Receiver Full flag (RSR[RFn]). • Sets the Transmitter Empty flag (TSR[TEn]) in the Processor A transmit status register. |
|      6 | Generate Transmit Interrupt request.                     | Setting the Transmitter Empty flag (TSR[TEn]) generates a Transmit Interrupt request to Processor A.                                                                            |

<!-- image -->

Software can use the messaging hardware to implement messaging protocols for a wide array of message types. Full support is provided for both interrupt and polling management schemes.

## 62.6.2 Messaging protocols using event interrupts

Events and requests that do not include data words can be signaled between processors using general-purpose interrupts.

Formatted data with a fixed length can be written in predetermined locations in the shared memory. A processor can use a general-purpose interrupt to signal to the other processor that the data is ready.

A processor can use the 32 flags to announce to the other processor its current program state, or to announce similar messages.

Table 578 and Figure 573 describe the event steps when the processor triggers a general-purpose interrupt.

Table 578. General-purpose Interrupt Messaging Protocol (Generalized)

|   Step | Action                                                         | Description                                                                                                                                                        |
|--------|----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      1 | Processor A sets General-purpose Interrupt request flag.       | Processor A sets its associated General-purpose Interrupt request flag (GCR[GIRn] = 1).                                                                            |
|      2 | General-purpose Interrupt Request Pending status flag is set.  | The General-purpose Interrupt Request Pending status flag (GSR[GIPn]) is set.                                                                                      |
|      3 | General-purpose Interrupt request to Processor B is generated. | Setting the GSR[GIPn] flag generates the General-purpose Interrupt request to Processor B. Interrupt Request Enable flag, GIER[GIEn], must be set for Processor B. |
|      4 | Processor B reads status register.                             | Processor B reads the GSR[GIPn] flag.                                                                                                                              |
|      5 | Processor B services the interrupt.                            | -                                                                                                                                                                  |
|      6 | Processor B sets GSR[GIPn] flag to clear the interrupt.        | Processor B writes 1 to the corresponding GSR[GIPn] flag to clear the interrupt.                                                                                   |
|      7 | GCR[GIRn] flag is cleared.                                     | Setting the GSR[GIPn] flag clears the Processor A General- purpose Interrupt request flag (GCR[GIRn]).                                                             |

Figure 573. Messaging Model Using a General-purpose Interrupt

<!-- image -->

## 62.6.3 Exclusive access to shared memory

MU can signal one processor about its current access to shared memory, to prevent the other processor overwriting data during the exclusive memory access period.

The following tables describe the signaling protocol that Processor A uses to inform Processor B about its current access (write) to shared memory. This example assumes that these fields and registers (GCR[GIRn ] field, RRn register, TRn register) are reserved to support exclusive access to the shared memory protocol.

Messaging Unit (MU)

Table 579. How Processor A Performs an Exclusive Access to Shared Memory

|   Step | Action                                                                               | Description                                                                                                                                                  |
|--------|--------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      1 | Processor A sends GIRn request to Processor B using Processor A control register.    | When Processor A wants to perform an exclusive access to the shared memory, Processor A sends a GIRn request to Processor B.                                 |
|      2 | Processor A sends an exclusive- access request using a transmit data register (TRn). | Processor A sends an exclusive-access request (command, location, and length of target access) to Processor B using a selected transmit data register (TR0). |
|      3 | Processor A waits for a dedicated interrupt from Processor B.                        | Processor A waits for a dedicated interrupt (as an acknowledgment) triggered by Processor Bbefore proceeding.                                                |
|      4 | Processor A accesses shared memory.                                                  | After receiving a dedicated interrupt from Processor B, Processor A proceeds.                                                                                |

## Table 580. How Processor B Scans for Transaction Information

|   Step | Action                                                                | Description                                                                                         |
|--------|-----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
|      1 | Processor B receives an interrupt from a receive data register (RRn). | -                                                                                                   |
|      2 | Processor B reads the receive data register (RRn).                    | -                                                                                                   |
|      3 | Processor B scans the receive data register contents                  | Processor B scans for transaction information (whether Processor A has requested exclusive access). |

Table 581. How Processor B Accepts Exclusive Access by Processor A

|   Step | Action                                          | Description                                                                                                                                                                                                           |
|--------|-------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      1 | Processor B triggers a dedicated interrupt.     | Processor B acknowledges Processor A request by triggering a dedicated interrupt (ack) to Processor A.                                                                                                                |
|      2 | Processor B sends a code message to Processor A | Along with the acknowledge interrupt, Processor B sends a code message to Processor A through the selected transmit register (TRn). The message informs Processor A that it can exclusively access the shared memory. |

## Table 582. How Processor B Rejects Exclusive Access by Processor A

|   Step | Action                                                        | Description                                                                                                  |
|--------|---------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
|      1 | Processor B ignores Processor A request for exclusive access. | If Processor B does not provide permission to Processor A, Processor B ignores the exclusive-access request. |

## 62.6.4 Packet data transfers

Table 583 describes an example packet transfer sequence between Processor B and Processor A subsystems:

Messaging Unit (MU)

Table 583. Packet Data Transfer Sequence

|   Step | Action                                                                 | Description                                                                                                                                                                                                                                      |
|--------|------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      1 | Processor B requests DMA.                                              | Processor B sends a DMArequest to initiate the packet data transfer.                                                                                                                                                                             |
|      2 | DMA data transfer                                                      | DMA acknowledges.                                                                                                                                                                                                                                |
|      3 | DMA data transfer                                                      | DMA starts transferring data from the specified Processor B memory location to the specified shared memory.                                                                                                                                      |
|      4 | DMA data transfer                                                      | DMA interrupts Processor B to signal that the packet transfer has finished.                                                                                                                                                                      |
|      5 | Processor B informs Processor A that data is in shared memory.         | Using a B-side transmit register, Processor B sends a packet information message to Processor A about the arrival of new packet data stored in shared memory. The message contains the command, location, and length of packet data information. |
|      6 | Processor A receives interrupt.                                        | Processor A receives an interrupt (assuming its corresponding Processor A MU-side receive interrupt is enabled). The pending processing task becomes active and processes packet data from memory.                                               |
|      7 | Processor A reads data, writes data.                                   | Processor A reads or processes packet data from shared memory.                                                                                                                                                                                   |
|      8 | Processor A reads data, writes data.                                   | Processor A writes the result from packet processing to a separate buffer.                                                                                                                                                                       |
|      9 | Processor A informs Processor B that the transfer is finished.         | After the processing of the packet data finishes, Processor A informs Processor B (using the MU Processor A-side transmit register, ATRn).                                                                                                       |
|     10 | Processor A sends an interrupt to Processor B (request for more data). | Processor B receives the next interrupt from Processor A, in which Processor A requests more packet data.                                                                                                                                        |

## 62.6.5 Freeing a processor from deadlock

During normal operations, one processor may conclude that the other processor is not working or is deadlocked. Using the Status Register (SR), the processor can use the following methods to identify and correct the problem.

Table 584. How to Free Processor A/B from Deadlock

| Processor Mode   | Technique                                   | Description                                                                                                                                                                                             |
|------------------|---------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -                | Processor issues an interrupt.              | The other processor can interrupt the processor by issuing one of the 64 (general purpose, receive, and transmit) interrupts.                                                                           |
| Normal           | Processor issues a non- maskable interrupt. | If a processor is in Normal mode, the other processor can issue a non-maskable interrupt (NMI). The NMI routine can be configured to execute a diagnostic routine that is predefined for such an event. |

Table continues on the next page...

Table 584. How to Free Processor A/B from Deadlock (continued)

| Processor Mode   | Technique                          | Description                                                                                          |
|------------------|------------------------------------|------------------------------------------------------------------------------------------------------|
| -                | Processor issues a hardware reset. | If the above is not helpful, the processor can issue a hardware reset strobe to the other processor. |

Messaging Unit (MU)

## Chapter 63 On-Chip One Time Programmable (OCOTP) Controller

## 63.1 Chip-specific OCOTP information

## 63.1.1 Double-bit ECC (DED) error for HSE\_H

If OCOTP detects a double-bit ECC (DED) error for HSE\_H or the SYS fuse box during boot phase, a destructive reset will be issued to RGM. This is a feature of the BootROM. See the 'Boot flow' section in the Boot chapter of this document for more information.

## 63.2 Overview

The OCOTP controller is the primary interface with the on-chip fuses. You can use these fuses for several purposes, including:

- Unique chip identifiers
- Mask revision numbers
- Cryptographic keys
- Boot configurations
- Various control signals requiring permanent non-volatility

In this document, the terms "eFuse" and "OTP" (one-time programmable) are interchangeable. OCOTP refers to the hardware block itself.

## 63.2.1 Block diagram

The figure below shows the OCOTP system-level diagram.

<!-- image -->

## 63.2.2 Features

The OCOTP controller provides the following features:

- Shadow cache of eFuse loaded at reset prior to system boot
- Ability to read and override fuse values in shadow cache (does not affect fuse element)
- Ability to read fuses directly (ignoring shadow cache)
- Ability to write (program) fuses by the software
- Using eFuses to enable or disable program protection and read protection
- Using eFuses to enable or disable the overriding and read protection of shadow registers
- CRC (Polynomial CRC-32/MPEG-2) test for read-lock fuse content
- ECC protection for each fuse

## 63.3 Functional description

## 63.3.1 Operation

The OCOTP provides the following functions:

- Programming and reading of 32-bit eFuse word via the register interface
- ECC-corrected read of shadow registers
- Override of shadow register's value without programming of eFuses
- Calculation of CRC (Polynomial CRC-32/MPEG-2) on eFuse words
- 32-bit read and write accesses to eFuse and shadow registers

An eFuse word comprises 32 bits. Each bit in an eFuse is 0 by default.

The OCOTP reads all 32 bits of an eFuse at a time.

The OCOTP programs an eFuse one bit at a time. After the OCOTP programs an eFuse bit to 1, that bit permanently acquires a value of 1.

The OCOTP includes several groups of registers with slightly-different names, but identical functions. For brevity, the rest of this chapter uses the suffix \_x to notate these groups. So, for example, CTRL\_x refers to CTRL\_SYS .

## 63.3.1.1 Shadow register reload

The OCOTP shadows the value of all eFuse words. Therefore, eFuse information is available through memory-mapped shadow registers. If you subsequently program the fuses, you must reload the shadow registers to keep them coherent with the eFuses.

The following operations reload the shadow registers:

- After the MC\_RGM triggers a destructive reset

## 63.3.1.2 Fuse values

After the chip de-asserts its reset, the OCOTP reads and stores all eFuse values in its shadow registers.

You can read eFuse values through shadow registers or by initiating a read sequence on the fuse location, if not read-protected.

All shadow register read accesses are single-error correction and double-error detection (SECDED) protected, if ECC check is enabled.

You can write or override the shadow register values depending on the protection that the corresponding fuse locks enable for those values.

## 63.3.1.3 Fuse protection and overrides

Typically the first few words of the eFuses define the eFuse word locks. These locks define the protection of the eFuses they are associated with.

The OCOTP allows you to restrict access to eFuse words and shadow registers. You do this by programming the corresponding eFuse's lock bit, if applicable. See the attached chip fuse-map spreadsheet for details.

The type of locks and their effect on the associated fuse word are defined in the following table.

## NOTE

eFuse word can have any number of these locks, and can also have no locks as mentioned in the chip fuse map.

## NOTE

eFuse/shadow protection is chip-specific implementation dependent. See the chip fuse map for the lock bits specific to this chip.

Table 585. eFuse/shadow lock bit function

| Function              | Access   | eFuse-word                      | Shadow register                                                  |
|-----------------------|----------|---------------------------------|------------------------------------------------------------------|
| Read Protect (RP)     | Read     | Prohibited sets STATUS_x[ERROR] | Prohibited Reads back 0xBADABADA                                 |
| Read Protect (RP)     | Write    | Allowed                         | Allowed                                                          |
| Write Protect (WP)    | Read     | Allowed                         | Allowed                                                          |
| Write Protect (WP)    | Write    | Prohibited sets STATUS_x[ERROR] | Allowed                                                          |
| Override Protect (OP) | Read     | Allowed                         | Allowed                                                          |
| Override Protect (OP) | Write    | Allowed                         | Prohibited Will generate transaction error on the peripheral bus |

## 63.3.1.4 eFuse and shadow register read

All shadow registers are always readable except when read-protected. The read-protect lock corresponding to an eFuse word also applies read protection to the corresponding shadow register. Any attempt to read from a read-protected eFuse word returns 0xBADABADA. Before initiating any new access to fuse word or shadow register, you must write a 0 to STATUS\_x[ERROR].

The shadow registers are memory-mapped. See Shadow (SHADOWS0 - SHADOWS102) for details.

To read a fuse word directly and correctly from the fusebox, complete the following steps:

1. Check that STATUS\_x[BUSY] and STATUS\_x[ERROR] are 0. You must do this because the OCOTP does not support overlapping access requests. It must complete any pending write, or read request before you can request a new read access.
2. Write the eFuse address to ADDR\_x[ADDR].
3. In a single write: * Set CTRL\_SYS[AUTH\_KEY] = 12h * Set CTRL\_SYS[RD\_WR] = 0001b or 1001b"
4. Wait for the read request to finish. If the request finishes successfully, the OCOTP writes a 0 to STATUS\_x[BUSY]. If the request was for a read-protected eFuse word or other master region, the OCOTP writes a 1 to STATUS\_x[ERROR] and does not write anything to STATUS\_x[BUSY].
5. Read RDATA\_x[DATA] to get the eFuse word value.

On-Chip One Time Programmable (OCOTP) Controller

## 63.3.1.5 eFuse and shadow register writes

Your software can override shadow register bits unless the bits are protected against overrides.

The shadow registers are memory-mapped. See Shadow (SHADOWS0 - SHADOWS102) for details.

## NOTE

You cannot write to the ECC shadow registers.

Here are recommended best practices for you to perform before you program the eFuses:

1. Program the shadow register with the intended eFuse value.
2. Examine how step 1 affected the chip's functionality. If the functionality is as expected, then proceed to the next step.
3. Program the eFuse with the value from step 1. Follow the instructions under "Perform these steps to program the fuse word correctly."
4. Program the eFuses lock so that eFuses are protected from spurious writes. If there are other eFuse words with the same lock, then program the fuse lock after the last word. Follow the instructions under "Perform these steps to program the fuse word correctly."
5. Calculate the ECC using the equation in Fuse ECC. Program the calculated ECC in the ECC eFuse. Follow the instructions under "Perform these steps to program the fuse word correctly."
6. Program the ECC eFuse enable as 1. Follow the instructions under "Perform these steps to program the fuse word correctly."

## CAUTION

You cannot change the ECC eFuses after performing step 6.

Perform these steps to program the fuse word correctly:

1. Check that STATUS\_x[BUSY] and STATUS\_x[ERROR] are 0. You must do this because the OCOTP does not support overlapping access requests. It must complete any pending write,or read request before you can request a new read access.
2. Write the requested fuse address to ADDR\_x[ADDR].
3. Write the data to WRDATA\_x[DATA].
4. In a single write operation:
- Write the following value to CTRL\_x[RD\_WR], depending on your need:
- 0010b
- Write the authorization code to CTRL\_x[AUTH\_KEY]. You must perform this step to avoid rogue code performing erroneous writes to eFuses.

After you complete these steps, the OCOTP checks whether your request is to a protected or locked region. If it is, the OCOTP does not perform any eFuse access and writes a 1 to STATUS\_x[ERROR]. Your software must then clear this error before submitting any new write request. If the OCOTP determines that it can fulfill your request, it does the following:

1. The OCOTP initiates the write sequence.
2. The OCOTP writes a 1 to STATUS\_x[BUSY].
3. The OCOTP programs the eFuse as described in Operation. During the programming, the OCOTP shifts WRDATA\_x[DATA] to the right with zero fill. This shifting is required to program the eFuse serially.
4. During the write operation, the OCOTP prohibits you from modifying WRDATA\_x[DATA] and ADDR\_x[ADDR].
5. After the operation completes, the OCOTP writes a 0 to STATUS\_x[BUSY].

## NOTE

If the ECC also has a lock, you must first program the ECC and only then program the lock register. The ECC must be calculated with the assumption that the lock bit has a value of 1.

## CAUTION

eFuse write can occur anytime the chip operates within specified operating conditions. However, if eFuse write occurs when the chip's operating conditions are outside of specifications (for example, when losing power), or if something interrupted the eFuse write (for example, a transaction or a chip reset), the update to the eFuse is not guaranteed. The best-practice recommendation is for your software to read the eFuse value after any eFuse write operation to verify the update has occurred as expected.

## 63.3.2 Mode of operations

## 63.3.2.1 Stop mode of OCOTP controlled through input signal

STOP signal is an input to OCOTP module. When OCOTP receives this stop request, it gives the acknowledgment if all its IPS interfaces are idle and no fusebox access is ongoing.

Any access on fusebox through IPS interfaces would De-assert the ACK of this STOP request.

## 63.3.3 Clocking

Please refer the interface document d\_ip\_ocotp\_16ffc\_syn\_intf.xlsm for details. The expectation is to run the OCOTP on a lower frequency comparable to the Fuse access time

## 63.3.4 Interrupts

This module has no interrupts

## 63.3.5 Behavior during reset

The OCOTP is always active, post destructive reset. The shadow registers automatically load the appropriate OTP contents after the chip de-asserts its reset. During this loading time, the OCOTP keeps STATUS\_x[BUSY]=1.

Fuses can support a finite number of reload cycles. Max accumulative numbers of read MUST be less than 2 million reads per each bit.

## 63.3.6 CRC (Polynomial CRC-32/MPEG-2) test

You can use the CRC test feature to validate read-protected eFuse content, though it's not restricted to only read-protected eFuses. A few eFuses are dedicated to store the CRC value of pre-defined eFuse section. See the chip fuse map for details.

When a master executes CRC tests by writing a 1 to CTRL\_x[CRC\_TEST], the OCOTP:

- Automatically calculates the CRC value of the user-defined fuse region
- Compares it to the value in the specified CRC eFuse word

Here is the procedure of the CRC test flow:

1. Program the CRC value calculated by software code into one of the CRC fuse words.
2. Program the CRC test region's start address in CRC\_RGN\_x[STRT\_ADDR].
3. Program the CRC test region's end address in CRC\_RGN\_x[END\_ADDR].
4. Program the eFuse address of pre-programmed CRC value in CRC\_ADDR\_x[ADDR]. The OCOTP uses this address to compare the calculated CRC for the region defined in steps 2 and 3.
5. Write a 1 to CTRL\_x[CRC\_TEST] to start the CRC check.

On-Chip One Time Programmable (OCOTP) Controller

Figure 575. Equation for ECC

## Table 586. G[i] values

|   i | G[i]       |
|-----|------------|
|   0 | C148_40FFh |
|   1 | 2124_FF90h |
|   2 | 6CFF_0808h |
|   3 | FF01_A444h |
|   4 | 16F0_92A6h |
|   5 | 101F_7161h |
|   6 | 8A82_0F1Bh |

To write ECC in eFuses, follow the programming steps in eFuse and shadow register writes.

See the chip fuse map for the mapping of ECC eFuses to functional eFuses.

Figure 576 shows the circuit of the ECC calculation in OCOTP.

<!-- image -->

## 63.4 Memory maps/register definitions

The OCOTP register address space is assigned as per the following table:

On-Chip One Time Programmable (OCOTP) Controller

6. Check that STATUS\_x[BUSY] and STATUS\_x[ERROR] are 0. You must do this because the OCOTP sets STATUS\_x[BUSY] = 1 until the OCOTP calculates and compares CRC for the eFuses.
7. Check the STATUS\_x[CRC\_FAIL] value. if STATUS\_x[CRC\_FAIL]=0 then the CRC test passed. STATUS\_x[CRC\_FAIL] must be read in an independent read after the STATUS\_x[BUSY] is 0.

## 63.3.7 Fuse ECC

Some of the eFuses are protected with SECDED ECC. See the chip fuse map for details. The OCOTP applies ECC protection to the shadow registers value.

The OCOTP implements 7-bit ECC for every 32-bit ECC-protected eFuse word.

The eight bit after every 7-bit ECC is the ECC efuse enable.

See Figure 575 for the ECC equation and Table 586 for the terms used in that equation. In Figure 575, the ^ denotes an XOR operation.

Table 587. OCOTP memory space assignment

| Memory map (Offset)   | Access region                                                                           |
|-----------------------|-----------------------------------------------------------------------------------------|
| 0h-FFh                | Access to OCOTP registers (0h-FFh)                                                      |
| 100h-1FFh             | Reserved 1                                                                              |
| 200h-3FCh             | Access to OCOTP shadow registers for 4K eFuses 2                                        |
| 400h-7FCh             | Access to these addresses generates a slave error except for the indicated addresses. 3 |

1. Accesses to these offsets do not return a transfer error:
- 100h-114h
3. Accesses to these offsets do not return a transfer error:
2. See the attached chip fuse-map spreadsheet for details.
- 400h-40Ch
- 500h-57Ch
- 600h-67Ch

## 63.4.1 OCOTP register descriptions

## 63.4.1.1 OCOTP memory map

OCOTP base address: 400A\_4000h

| Offset    | Register                                                             |   Width (In bits) | Access   | Reset value   |
|-----------|----------------------------------------------------------------------|-------------------|----------|---------------|
| 0h        | System master's control (CTRL_SYS)                                   |                32 | RW       | 0000_0000h    |
| 4h        | System master's eFuse address for read or write operation (ADDR_SYS) |                32 | RW       | 0000_0000h    |
| 8h        | System master's eFuse write data (WRDATA_SYS)                        |                32 | RW       | 0000_0000h    |
| Ch        | System master's eFuse read data (RDATA_SYS)                          |                32 | R        | 0000_0000h    |
| 30h       | FBXC control (CTRL_FBX)                                              |                32 | RW       | 0000_0000h    |
| 34h       | eFuse region for CRC validation (CRC_RGN_SYS)                        |                32 | RW       | 0000_0000h    |
| 38h       | Pre-calculated CRC eFuse address for comparison (CRC_ADDR_SYS)       |                32 | RW       | 0000_0000h    |
| 3Ch       | CRC calculated from the eFuses (CRC_VALUE_SYS)                       |                32 | R        | 0000_0000h    |
| 40h - 44h | General purpose (GPR0 - GPR1)                                        |                32 | RW       | 0000_0000h    |
| 50h       | System master's access status (STATUS_SYS)                           |                32 | RW       | 0000_0000h    |
| 5Ch       | OCOTP design version (VERSION)                                       |                32 | R        | 0000_0000h    |
| 70h       | ECC status for single-bit ECC error (SEC0)                           |                32 | R        | 0000_0000h    |
| 74h       | ECC status for single-bit ECC error (SEC1)                           |                32 | R        | 0000_0000h    |
| 78h       | ECC status for single-bit ECC error (SEC2)                           |                32 | R        | 0000_0000h    |

Table continues on the next page...

## Diagram

<!-- image -->

## Table continued from the previous page...

| Offset      | Register                                   |   Width (In bits) | Access   | Reset value   |
|-------------|--------------------------------------------|-------------------|----------|---------------|
| 7Ch         | ECC status for single-bit ECC error (SEC3) |                32 | R        | 0000_0000h    |
| B0h         | ECC status for double-bit ECC error (DED0) |                32 | R        | 0000_0000h    |
| B4h         | ECC status for double-bit ECC error (DED1) |                32 | R        | 0000_0000h    |
| B8h         | ECC status for double-bit ECC error (DED2) |                32 | R        | 0000_0000h    |
| BCh         | ECC status for double-bit ECC error (DED3) |                32 | R        | 0000_0000h    |
| F0h         | ECC error injector (ERR_INJCTR)            |                32 | RW       | 0000_0000h    |
| 200h - 398h | Shadow (SHADOWS0 - SHADOWS102)             |                32 | RW       | 0000_0000h    |
| 39Ch - 3FCh | Shadow (SHADOWS103 - SHADOWS127)           |                32 | R        | 0000_0000h    |

## 63.4.1.2 System master's control (CTRL\_SYS)

## Offset

| Register   | Offset   |
|------------|----------|
| CTRL_SYS   | 0h       |

## Function

This register provides the necessary software interface for performing read and write operations to the eFuse. All the functions mentioned are mutually exclusive. You must perform only one operation at a time.

Register should only be written when BUSY is low. All writes on these registers will be ignored by HW when BUSY is high.

This register is auto-cleared after FBX operation completion.

NOTE

System master's control (CTRL\_SYS) will get automatically cleared after command completion.

## Fields

| Field          | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 AUTH_KEY | Key to unlock read and write operation Must be written with CTRL_SYS[RD_WR]. The authorization key is 12h. You must write to this field only when STATUS_SYS[BUSY]=0 NOTE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 15-7 -         | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 6 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 5-2 RD_WR      | eFuse read and write control for the system master Read and write control for system master-controlled eFuses. See eFuse and shadow register read and eFuse and shadow register writes for more information. You must write to this field only when STATUS_SYS[BUSY]=0 NOTE Writing eFuses will update the fuse value only. Shadow register or fuse buses propagated by OCOTP inside SOC will still hold the previous value. To get the new value of fuses, destructive reset should be applied. NOTE 0000b,0011b,0100b,0101b,0111b,1000b,1011b,1100b,1101b,1111b - Invalid combination, no action 0001b - Read eFuse 0010b - Write eFuse 0110b - Reserved 1001b - Reserved 1010b - Reserved 1110b - Reserved |
| 1 CRC_TEST     | CRC (Polynomial CRC-32/MPEG-2) test for system master Write a 1 to this field to calculate the CRC value according to the start address (CRC_RGN_SYS[START_ADDR]) and end address (CRC_RGN_SYS[END_ADDR]). Compare with CRC eFuse word according to CRC_ADDR_SYS[ADDR] to generate the STATUS_SYS[CRC_FAIL] flag. The OCOTP requires at least one cycle to update the status flags. 1b - CRC test enable for eFuses                                                                                                                                                                                                                                                                                           |
| 0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

On-Chip One Time Programmable (OCOTP) Controller

## 63.4.1.3 System master's eFuse address for read or write operation (ADDR\_SYS)

## Offset

| Register   | Offset   |
|------------|----------|
| ADDR_SYS   | 4h       |

## Function

eFuse Address to be used in conjunction with CTRL\_SYS.

Register should only be written when BUSY is low. All writes on these registers will be ignored by HW when BUSY is high. This register is auto-cleared after FBX operation completion.

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16   | Reserved                                                                                                                                                          |
| 15-0    | eFuse read or write address                                                                                                                                       |
| ADDR    | If the eFuse address lies outside the master's region then the OCOTP generates a peripheral bus error. You must write to this field only when STATUS_SYS[BUSY]=0. |

## 63.4.1.4 System master's eFuse write data (WRDATA\_SYS)

## Offset

| Register   | Offset   |
|------------|----------|
| WRDATA_SYS | 8h       |

## Function

On-Chip One Time Programmable (OCOTP) Controller

This register contains the write data to eFuse, to be used in conjunction with CTRL\_SYS. You must write to this register only when STATUS\_SYS[BUSY]=0.

Register should only be written when BUSY is low. All writes on these registers will be ignored by HW when BUSY is high.

## NOTE

System master's eFuse write data (WRDATA\_SYS) will not be cleared after command completion.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                             |
|---------|--------------------------------------|
| 31-0    | eFuse data for eFuse write operation |
| DATA    |                                      |

## 63.4.1.5 System master's eFuse read data (RDATA\_SYS)

## Offset

| Register   | Offset   |
|------------|----------|
| RDATA_SYS  | Ch       |

## Function

This register contains the data that the OCOTP read from the eFuse for the address specified in ADDR\_SYS[ADDR].

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA | DATA |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                 |
|---------|--------------------------------------------------------------------------|
| 31-0    | Read data                                                                |
| DATA    | The read data from the eFuse for the address specified in ADDR_SYS[ADDR] |

## 63.4.1.6 FBXC control (CTRL\_FBX)

## Offset

| Register   | Offset   |
|------------|----------|
| CTRL_FBX   | 30h      |

## Function

This register is accessible to all the masters and controls the FBXC directly. To avoid unintended operation, only one master must access this register.

## Diagram

<!-- image -->

On-Chip One Time Programmable (OCOTP) Controller

## Fields

| Field            | Function                                                                                                                                                                                   |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-19 -          | Reserved                                                                                                                                                                                   |
| 18 IPG_STOP_AC K | Low-power mode acknowledgment OCOTP acknowledges that no transaction is underway for eFuse, and OCOTP can be put into low- power mode. OCOTP then writes a 0 to CTRL_FBX[IPG_STOP].        |
| 17 IPG_STOP      | Low Power entry Indicates that the Fusebox will be put in Low power mode.                                                                                                                  |
| 16 -             | Reserved                                                                                                                                                                                   |
| 15-9 -           | Reserved                                                                                                                                                                                   |
| 8 SEC_MODE       | Indicates that the FBXC is in Secure mode. If a write error occurs in this mode, OCOTP flags the error as an irreparable error, even if repairs are available. 1b - FBXC is in secure mode |
| 7-1 -            | Reserved                                                                                                                                                                                   |
| 0 -              | Reserved                                                                                                                                                                                   |

## 63.4.1.7 eFuse region for CRC validation (CRC\_RGN\_SYS)

## Offset

| Register    | Offset   |
|-------------|----------|
| CRC_RGN_SYS | 34h      |

## Function

Program the CRC (Polynomial CRC-32/MPEG-2) test region's start and end address in this register. A master must address only its own region. Otherwise, OCOTP generates a peripheral bus error. You must write to this register only when STATUS\_SYS[BUSY]=0.

On-Chip One Time Programmable (OCOTP) Controller

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24         | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------------|------|------|------|------|------|------|------|------|
| R W    |      |      |      |      |      |      |      | END_ADDR   |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0          | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8          | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      | START_ADDR |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0          | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field           | Function                                |
|-----------------|-----------------------------------------|
| 31-16           | End eFuse address for CRC calculation   |
| 15-0 START_ADDR | Start eFuse address for CRC calculation |

## 63.4.1.8 Pre-calculated CRC eFuse address for comparison (CRC\_ADDR\_SYS)

## Offset

| Register     | Offset   |
|--------------|----------|
| CRC_ADDR_SYS | 38h      |

## Function

Pre-calculated CRC value's (Polynomial CRC-32/MPEG-2) eFuse address used for comparing with OCOTP computed CRC value. Used in conjunction with CTRL\_SYS[CRC\_TEST]. You must write to this register only when STATUS\_SYS[BUSY]=0.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

On-Chip One Time Programmable (OCOTP) Controller

## Fields

| Field   | Function                                          |
|---------|---------------------------------------------------|
| 31-16   | Reserved                                          |
| 15-0    | CRC eFuse address used for comparison in CRC test |
| ADDR    |                                                   |

## 63.4.1.9 CRC calculated from the eFuses (CRC\_VALUE\_SYS)

## Offset

| Register      | Offset   |
|---------------|----------|
| CRC_VALUE_SYS | 3Ch      |

## Function

CRC value (Polynomial CRC-32/MPEG-2) computed by the OCOTP.

<!-- image -->

| Diagram Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|----------------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R              | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  |
| W              |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset          | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits           | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R              | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  | CRC  |
| W              |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset          | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 31-0    | CRC value                                                                                                          |
| CRC     | The final 32-bit CRC signature calculated for eFuses within the CRC_RGN_SYS[START_ADDR] and CRC_RGN_SYS[END_ADDR]. |

On-Chip One Time Programmable (OCOTP) Controller

## 63.4.1.10 General purpose (GPR0 - GPR1)

## Offset

| Register   | Offset   |
|------------|----------|
| GPR0       | 40h      |
| GPR1       | 44h      |

## Function

General-purpose registers that you can use to store information for your application.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                         |
|---------|----------------------------------------------------------------------------------|
| 31-0    | General-purpose field that you can use to store information for your application |
| GPR     |                                                                                  |

## 63.4.1.11 System master's access status (STATUS\_SYS)

## Offset

| Register   | Offset   |
|------------|----------|
| STATUS_SYS | 50h      |

## Function

This register provides you with OCOTP and eFuse status. The OCOTP updates this register two OCOTP clock cycles after you write to CTRL\_SYS.

On-Chip One Time Programmable (OCOTP) Controller

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18     | 17        | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|--------|-----------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0         | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |        |           |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0         | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2      | 1         | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | ERRO R | CRC_ FAIL | BUSY |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C    | W1C       |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0         | 0    |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-3 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 2 ERROR    | Error status flag The OCOTP writes a 1 to this field whenever the OCOTP detects an illegal access. This occurs under the following circumstances: • You wrote an incorrect key to CTRL_SYS[AUTH_KEY] • You attempted to write to write-protected eFuse words • You attempted to read from read-protected eFuse words • The FBXC signaled a peripheral bus error during an access • The FBXC signaled a repair error after the OCOTP tried to program a fuse word • You attempted an access when the OCOTP already signaled a peripheral bus error You must clear this error by writing a 1 to this field before attempting any further access. |
| 1 CRC_FAIL | CRC compare status Indicates that the OCOTP-computed CRC value did not match the CRC eFuse word at CRC_FUSE_ADDR_SYS[ADDR]. You must read CRC_FAIL only when STATUS_SYS[BUSY]=0.                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 0 BUSY     | OCOTP busy indication The OCOTP writes a 1 to this field when any of the following eFuse accesses are in progress: • Write to eFuse • Read from eFuse • CRC test You must not initiate any eFuse access when this field is 1. The OCOTP writes a 0 to this field after the OCOTP completes access.                                                                                                                                                                                                                                                                                                                                             |

On-Chip One Time Programmable (OCOTP) Controller

## 63.4.1.12 OCOTP design version (VERSION)

## Offset

| Register   | Offset   |
|------------|----------|
| VERSION    | 5Ch      |

## Function

Indicates the OCOTP design version. This version consists of three parts:

- Major
- Minor
- Step

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | MAJOR | MAJOR | MAJOR | MAJOR | MAJOR | MAJOR | MAJOR | MAJOR | MINOR | MINOR | MINOR | MINOR | MINOR | MINOR | MINOR | MINOR |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  | STEP  |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field   | Function                             |
|---------|--------------------------------------|
| 31-24   | The major part of the design version |
| MAJOR   |                                      |
| 23-16   | The minor part of the design version |
| MINOR   |                                      |
| 15-0    | The step part of the design version  |
| STEP    |                                      |

On-Chip One Time Programmable (OCOTP) Controller

## 63.4.1.13 ECC status for single-bit ECC error (SEC0)

## Offset

| Register   | Offset   |
|------------|----------|
| SEC0       | 70h      |

## Function

Indicates that a single-bit ECC error occurred in the respective eFuse word and shadow register (n-1).

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | SEC32 | SEC31 | SEC30 | SEC29 | SEC28 | SEC27 | SEC26 | SEC25 | SEC24 | SEC23 | SEC22 | SEC21 | SEC20 | SEC19 | SEC18 | SEC17 |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | SEC16 | SEC15 | SEC14 | SEC13 | SEC12 | SEC11 | SEC10 | SEC9  | SEC8  | SEC7  | SEC6  | SEC5  | SEC4  | SEC3  | SEC2  | SEC1  |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31 SEC32 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 30 SEC31 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 29 SEC30 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 28 SEC29 | SEC error status Defines SEC error for the eFuse word n-1.                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 27 SEC28 | 1b - Single-bit ECC error detected SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected |
| 26 SEC27 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 25 SEC26 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 24 SEC25 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 23 SEC24 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 22 SEC23 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 21 SEC22 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 20       | SEC error status                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| SEC21    | Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected                  |
| 19 SEC20 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 18 SEC19 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 17 SEC18 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 16 SEC17 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 15 SEC16 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 14 SEC15 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 13 SEC14 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 12 SEC13 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 11 SEC12 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 10 SEC11 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 9 SEC10  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 8 SEC9   | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 7 SEC8   | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 6 SEC7   | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 5 SEC6   | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
|         | 1b - Single-bit ECC error detected                                                                                                  |
| 4 SEC5  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 3 SEC4  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 2 SEC3  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 1 SEC2  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 0 SEC1  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

## 63.4.1.14 ECC status for single-bit ECC error (SEC1)

## Offset

| Register   | Offset   |
|------------|----------|
| SEC1       | 74h      |

## Function

Indicates that a single-bit ECC error occurred in the respective eFuse word and shadow register (n-1).

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | SEC64 | SEC63 | SEC62 | SEC61 | SEC60 | SEC59 | SEC58 | SEC57 | SEC56 | SEC55 | SEC54 | SEC53 | SEC52 | SEC51 | SEC50 | SEC49 |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | SEC48 | SEC47 | SEC46 | SEC45 | SEC44 | SEC43 | SEC42 | SEC41 | SEC40 | SEC39 | SEC38 | SEC37 | SEC36 | SEC35 | SEC34 | SEC33 |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31 SEC64 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 30 SEC63 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 29 SEC62 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 28 SEC61 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 27 SEC60 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 26 SEC59 | SEC error status Defines SEC error for the eFuse word n-1.                                                                          |

Table continues on the next page...

On-Chip One Time Programmable (OCOTP) Controller

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 25 SEC58 | 1b - Single-bit ECC error detected SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected |
| 24 SEC57 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 23 SEC56 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 22 SEC55 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 21 SEC54 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 20 SEC53 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 19 SEC52 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 18       | SEC error status                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| SEC51    | Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected                  |
| 17 SEC50 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 16 SEC49 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 15 SEC48 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 14 SEC47 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 13 SEC46 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 12 SEC45 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 11 SEC44 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 10 SEC43 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 9 SEC42  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 8 SEC41  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 7 SEC40  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 6 SEC39  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 5 SEC38  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 4 SEC37  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 3 SEC36  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
|         | 1b - Single-bit ECC error detected                                                                                                  |
| 2 SEC35 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 1 SEC34 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 0 SEC33 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

## 63.4.1.15 ECC status for single-bit ECC error (SEC2)

## Offset

| Register   | Offset   |
|------------|----------|
| SEC2       | 78h      |

## Function

Indicates that a single-bit ECC error occurred in the respective eFuse word and shadow register (n-1).

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | SEC96 | SEC95 | SEC94 | SEC93 | SEC92 | SEC91 | SEC90 | SEC89 | SEC88 | SEC87 | SEC86 | SEC85 | SEC84 | SEC83 | SEC82 | SEC81 |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | SEC80 | SEC79 | SEC78 | SEC77 | SEC76 | SEC75 | SEC74 | SEC73 | SEC72 | SEC71 | SEC70 | SEC69 | SEC68 | SEC67 | SEC66 | SEC65 |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31 SEC96 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 30 SEC95 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 29 SEC94 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 28 SEC93 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 27 SEC92 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 26 SEC91 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 25 SEC90 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 24 SEC89 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 23 SEC88 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 22 SEC87 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 21 SEC86 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 20 SEC85 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 19 SEC84 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 18 SEC83 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 17 SEC82 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 16 SEC81 | SEC error status Defines SEC error for the eFuse word n-1.                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 15 SEC80 | 1b - Single-bit ECC error detected SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected |
| 14 SEC79 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 13 SEC78 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 12 SEC77 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 11 SEC76 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 10 SEC75 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 9 SEC74  | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 8        | SEC error status                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
| SEC73   | Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected                  |
| 7 SEC72 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 6 SEC71 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 5 SEC70 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 4 SEC69 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 3 SEC68 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 2 SEC67 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |
| 1 SEC66 | SEC error status Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 0       | SEC error status                                                                                                   |
| SEC65   | Defines SEC error for the eFuse word n-1. 0b - No single-bit ECC error detected 1b - Single-bit ECC error detected |

## 63.4.1.16 ECC status for single-bit ECC error (SEC3)

## Offset

| Register   | Offset   |
|------------|----------|
| SEC3       | 7Ch      |

## Function

Indicates that a single-bit ECC error occurred in the respective eFuse word and shadow register (n-1).

## Diagram

<!-- image -->

## Fields

| Field   | Function                                  |
|---------|-------------------------------------------|
| 31-4    | Reserved                                  |
| -       |                                           |
| 3       | SEC error status                          |
| SEC100  | Defines SEC error for the eFuse word n-1. |
| 2       | SEC error status                          |
| SEC99   | Defines SEC error for the eFuse word n-1. |

Table continues on the next page...

On-Chip One Time Programmable (OCOTP) Controller

Table continued from the previous page...

| Field   | Function                                  |
|---------|-------------------------------------------|
| 1       | SEC error status                          |
| SEC98   | Defines SEC error for the eFuse word n-1. |
| 0       | SEC error status                          |
| SEC97   | Defines SEC error for the eFuse word n-1. |

## 63.4.1.17 ECC status for double-bit ECC error (DED0)

## Offset

| Register   | Offset   |
|------------|----------|
| DED0       | B0h      |

## Function

Indicates a double ECC error in the respective eFuse word (n-1).

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | DED3 2 | DED3 1 | DED3 0 | DED2 9 | DED2 8 | DED2 7 | DED2 6 | DED2 5 | DED2 4 | DED2 3 | DED2 2 | DED2 1 | DED2 0 | DED1 9 | DED1 8 | DED1 7 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | DED1 6 | DED1 5 | DED1 4 | DED1 3 | DED1 2 | DED1 1 | DED1 0 | DED9   | DED8   | DED7   | DED6   | DED5   | DED4   | DED3   | DED2   | DED1   |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 31      | DED error status                                                                                                   |
| DED32   | Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 30      | DED error status                                                                                                   |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| DED31    | Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected                  |
| 29 DED30 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 28 DED29 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 27 DED28 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 26 DED27 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 25 DED26 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 24 DED25 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 23 DED24 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 22 DED23 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 21 DED22 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 20 DED21 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 19 DED20 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 18 DED19 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 17 DED18 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 16 DED17 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 15 DED16 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 14 DED15 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 13 DED14 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 12 DED13 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 11 DED12 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 10 DED11 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 9 DED10  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 8 DED9   | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 7 DED8   | DED error status Defines DED error for the eFuse word n-1.                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
| 6 DED7  | 1b - Double-bit ECC error detected DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected |
| 5 DED6  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 4 DED5  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 3 DED4  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 2 DED3  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 1 DED2  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 0 DED1  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

## 63.4.1.18 ECC status for double-bit ECC error (DED1)

## Offset

| Register   | Offset   |
|------------|----------|
| DED1       | B4h      |

## Function

Indicates a double ECC error in the respective eFuse word (n-1).

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | DED6 4 | DED6 3 | DED6 2 | DED6 1 | DED6 0 | DED5 9 | DED5 8 | DED5 7 | DED5 6 | DED5 5 | DED5 4 | DED5 3 | DED5 2 | DED5 1 | DED5 0 | DED4 9 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | DED4 8 | DED4 7 | DED4 6 | DED4 5 | DED4 4 | DED4 3 | DED4 2 | DED4 1 | DED4 0 | DED3 9 | DED3 8 | DED3 7 | DED3 6 | DED3 5 | DED3 4 | DED3 3 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31 DED64 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 30 DED63 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 29 DED62 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 28       | DED error status                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| DED61    | Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected                  |
| 27 DED60 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 26 DED59 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 25 DED58 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 24 DED57 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 23 DED56 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 22 DED55 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 21 DED54 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 20 DED53 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 19 DED52 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 18 DED51 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 17 DED50 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 16 DED49 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 15 DED48 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 14 DED47 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 13 DED46 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 12 DED45 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 11 DED44 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 10 DED43 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 9 DED42  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 8 DED41  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 7 DED40  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 6 DED39  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 5 DED38  | DED error status Defines DED error for the eFuse word n-1.                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected                                                            |
| 4 DED37 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 3 DED36 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 2 DED35 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 1 DED34 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 0 DED33 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

## 63.4.1.19 ECC status for double-bit ECC error (DED2)

## Offset

| Register   | Offset   |
|------------|----------|
| DED2       | B8h      |

## Function

Indicates a double ECC error in the respective eFuse word (n-1).

## Diagram

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | DED9 6 | DED9 5 | DED9 4 | DED9 3 | DED9 2 | DED9 1 | DED9 0 | DED8 9 | DED8 8 | DED8 7 | DED8 6 | DED8 5 | DED8 4 | DED8 3 | DED8 2 | DED8 1 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | DED8 0 | DED7 9 | DED7 8 | DED7 7 | DED7 6 | DED7 5 | DED7 4 | DED7 3 | DED7 2 | DED7 1 | DED7 0 | DED6 9 | DED6 8 | DED6 7 | DED6 6 | DED6 5 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31 DED96 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 30 DED95 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 29 DED94 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 28 DED93 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 27 DED92 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 26       | DED error status                                                                                                                    |

Table continues on the next page...

On-Chip One Time Programmable (OCOTP) Controller

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| DED91    | Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected                  |
| 25 DED90 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 24 DED89 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 23 DED88 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 22 DED87 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 21 DED86 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 20 DED85 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 19 DED84 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 18 DED83 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 17 DED82 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 16 DED81 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 15 DED80 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 14 DED79 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 13 DED78 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 12 DED77 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 11 DED76 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 10 DED75 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 9 DED74  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 8 DED73  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 7 DED72  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 6 DED71  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 5 DED70  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 4 DED69  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 3 DED68  | DED error status Defines DED error for the eFuse word n-1.                                                                          |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected                                                            |
| 2 DED67 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 1 DED66 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 0 DED65 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

## 63.4.1.20 ECC status for double-bit ECC error (DED3)

## Offset

| Register   | Offset   |
|------------|----------|
| DED3       | BCh      |

## Function

Indicates a double ECC error in the respective eFuse word (n-1).

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 -   | Reserved                                                                                                                            |
| 3 DED100 | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 2 DED99  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 1 DED98  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |
| 0 DED97  | DED error status Defines DED error for the eFuse word n-1. 0b - No double-bit ECC error detected 1b - Double-bit ECC error detected |

## 63.4.1.21 ECC error injector (ERR\_INJCTR)

## Offset

| Register   | Offset   |
|------------|----------|
| ERR_INJCTR | F0h      |

## Function

Injects an ECC error at a bit in the shadow register that you specify.

On-Chip One Time Programmable (OCOTP) Controller

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    | Reserved | Reserved | Reserved | Reserved | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |
| Reset  | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 15-12 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 11-0 ADDR | The address of the bit in the shadow register where you want to inject the single-bit ECCerror.TheOCOTP inverts that bit. ADDR has the following structure: • ADDR[11:5]= SHADOWS-0 address is selected for error injection • ADDR[11:5] = 1 = SHADOWS-1 address is selected for error injection • ADDR[11:5] = 127 = SHADOWS-127 address is selected for error injection • ADDR[4:0] = 0 = Invert the 0th bit of shadow register at ADDR[11:5] location • ADDR[4:0] = 1 = Invert the 1st bit of shadow register at ADDR[11:5] location • ADDR[4:0] = 31 = Invert the 31st bit of shadow register at ADDR[11:5] location ECC error is not introduced when you attempt to inject error on a shadow register that has override protection. OCOTP generates SEC/DED based on the inverted value and on the ECC calculation for ECC- enabled fuse-words. |

## 63.4.1.22 Shadow (SHADOWS0 - SHADOWS102)

## Offset

For a = 0 to 102:

| Register   | Offset          |
|------------|-----------------|
| SHADOWSa   | 200h + (a × 4h) |

On-Chip One Time Programmable (OCOTP) Controller

## Function

The accesses to shadow register is governed by the access lock as defined in the chip fuse map.

If you write 0000\_0000h to this region, the OCOTP disallows it and generates a peripheral bus error. This safeguards against unintended writes.

## Diagram

<!-- image -->

## Fields

| Field   | Function                         |
|---------|----------------------------------|
| 31-0    | OTP data                         |
| EFUSES  | OTP data for the shadow register |

## 63.4.1.23 Shadow (SHADOWS103 - SHADOWS127)

## Offset

For a = 103 to 127:

| Register   | Offset          |
|------------|-----------------|
| SHADOWSa   | 200h + (a × 4h) |

## Function

The accesses to shadow register is governed by the access lock as defined in the chip fuse map.

If you write 0000\_0000h to this region, the OCOTP disallows it and generates a peripheral bus error. This safeguards against unintended writes.

## NOTE

You cannot write to the ECC shadow registers (Shadow (SHADOWS103 - SHADOWS127)).

On-Chip One Time Programmable (OCOTP) Controller

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES | EFUSES |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field   | Function                             |
|---------|--------------------------------------|
| 31-0    | OTP data                             |
| EFUSES  | OTP data for the ECC shadow register |

On-Chip One Time Programmable (OCOTP) Controller

## Chapter 64 Fusebox Controller (FBXC)

## 64.1 Introduction

The FBXC (fusebox controller) is designed to serve all the applications that require electrically programmable fuses (eFuses). FBXC can be accessed by any master.

## 64.1.1 Overview

The FBXC gasket supports the peripheral interface and fusebox-specific control signals. The data sheet describes the third-party eFuse macros. The fusebox solution is illustrated in the following block diagram.

<!-- image -->

## 64.1.2 Features

This FBXC gasket includes the following features:

- Synchronous access to one-time electrically programmable fuses (eFuses) with a 32-bit-wide databus
- Synchronous access to all hard macro input/output ports
- Control signals to the eFuse block can be driven by the platform VDD-level control signals
- Read / write control signals to the eFuse block that control all the analog eFuse block timing requirements

- Complete control or view of the eFuse block by control/status registers

Fusebox Controller (FBXC)

## Chapter 65 Safety

## 65.1 Introduction

This chip family is developed according to ISO 26262 and has an integrated safety concept targeting safety-related systems requiring high-safety integrity levels. The following documents support integration of this chip into safety-related systems:

- Reference Manual - Describes chip functionality
- Data Sheet - Describes chip operating conditions
- Safety Manual - Describes safety concept, possible safety mechanisms, and measures to reduce dependent failures
- Failure Modes Effects and Diagnostic Analysis (FMEDA) - Inductive analysis enabling customization of system-level safety mechanisms, including the resulting safety metrics for the given ISO standard
- FMEDA Report - Describes the FMEDA methodology and safety mechanisms supported in the FMEDA, including source of failure rates, failure modes, and assumptions made during the analysis
- The Dynamic FMEDA and FMEDA reports are available on request.

This device is a SafeAssure solution. For further information, see www.nxp.com/safeassure.

## Chapter 66 Error Reporting Module (ERM)

## 66.1 Chip-specific ERM information

## 66.1.1 Instances and supported channels

Table 588. Instances and supported channels

| Instance   | Reports memory errors associated with                                           |   Number of memory channels supported |
|------------|---------------------------------------------------------------------------------|---------------------------------------|
| ERM_PER    | • FlexRay peripherals • FlexCAN peripherals • QuadSPI RX and TX • SRAMC         |                                    10 |
| ERM_eDMA_0 | eDMA_0                                                                          |                                     1 |
| ERM_eDMA_1 | eDMA_1                                                                          |                                     1 |
| ERM_CPU_0  | • Cortex-M7 core 0 DTCM • Data tag RAM • D-cache data RAM • Instruction tag RAM |                                     6 |
| ERM_CPU_1  |                                                                                 |                                     6 |
| ERM_CPU_2  | • I-cache data RAM                                                              |                                     6 |

## 66.1.2 Memory error event sources and captured information

Each ERM instance channel n reports sources of potential memory error events. For each instance channel, the following table shows:

- The corresponding memory type
- Event information that is captured

## Table 589. Memory error event sources and captured information

| Instance   | Channel #   | Source of error event   | Single-bit errors included?   | Multi-bit errors included?   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   |
|------------|-------------|-------------------------|-------------------------------|------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|
|            |             |                         |                               |                              | Error address captured in EAR n ?    | Start address (in hex)               | End address (in hex)                 | Address alignment                    | Syndrome info captured in SYN n ?    |
| ERM_PE R   | 0           | FlexRay_0 LRAM          | No                            | Yes                          | Yes                                  | 402F_88 00                           | 402F_88 AC                           | Absolute                             | No                                   |
|            | 1           | FlexRay_0 DRAM          | Yes                           | Yes                          | Yes                                  | 402F_80 00                           | 402F_80 7F                           | Absolute                             | No                                   |
|            | 2           | FlexCAN_0               | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_210 C                           | 32-bit                               | No                                   |

Table continues on the next page...

Table 589. Memory error event sources and captured information (continued)

| Instance    | Channel #   | Source of error event              | Single-bit errors included?   | Multi-bit errors included?   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details         | Memory error event address details   |
|-------------|-------------|------------------------------------|-------------------------------|------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------------|--------------------------------------|
| Instance    | Channel #   | Source of error event              | Single-bit errors included?   | Multi-bit errors included?   | Error address captured in EAR n ?    | Start address (in hex)               | End address (in hex)                 | Address alignment                          | Syndrome info captured in SYN n ?    |
|             | 3           | FlexCAN_1                          | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_210 C                           | 32-bit                                     | No                                   |
|             | 4           | FlexCAN_2                          | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_210 C                           | 32-bit                                     | No                                   |
|             | 5           | FlexCAN_3                          | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_210 C                           | 32-bit                                     | No                                   |
|             | 6           | QuadSPI RX                         | Yes                           | No                           | No                                   | -                                    | -                                    | -                                          | No                                   |
|             | 7           | QuadSPI TX                         | Yes                           | No                           | No                                   | -                                    | -                                    | -                                          | No                                   |
|             | 8           | SRAMC_0 1                          | Yes                           | No                           | Yes                                  | 0000_000 0                           | -                                    | 64-bit; see SRAMC.P RAMECCA for details. 2 | Yes                                  |
|             | 9           | SRAMC_1 1                          | Yes                           | No                           | Yes                                  | 0000_000 0                           | -                                    | 64-bit; see SRAMC.P RAMECCA for details. 2 | Yes                                  |
| ERM_eD MA_0 | 0           | eDMA_0                             | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_03 F8                           | 64-bit                                     | Yes                                  |
| ERM_eD MA_1 | 0           | eDMA_1                             | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_03 F8                           | 64-bit                                     | Yes                                  |
| ERM_CP U_0  | 0           | Cortex-M7 core 0 DTCM_0            | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF F8                           | 32-bit                                     | Yes                                  |
| ERM_CP U_0  | 1           | Cortex-M7 core 0 DTCM_1            | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF FC                           | 32-bit                                     | Yes                                  |
| ERM_CP U_0  | 2           | Cortex-M7 core 0 D- cache data RAM | Yes                           | No                           | No                                   | -                                    | -                                    | -                                          | No                                   |
| ERM_CP U_0  | 3           | Cortex-M7 core 0 data tag RAM      | Yes                           | No                           | No                                   | -                                    | -                                    | -                                          | No                                   |
| ERM_CP U_0  | 4           | Cortex-M7 core 0 I- cache data RAM | Yes                           | No                           | No                                   | -                                    | -                                    | -                                          | No                                   |

Table continues on the next page...

Error Reporting Module (ERM)

Table 589. Memory error event sources and captured information (continued)

| Instance   | Channel   | Source of                            | Single-bit errors included?   | Multi-bit errors included?   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   |
|------------|-----------|--------------------------------------|-------------------------------|------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|
|            | #         | error event                          |                               |                              | Error address captured in EAR n ?    | Start address (in hex)               | End address (in hex)                 | Address alignment                    | Syndrome info captured in SYN n ?    |
|            | 5         | Cortex-M7 core 0 instruction tag RAM | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_1 | 0         | Cortex-M7 core 1 DTCM_0              | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF F8                           | 32-bit                               | Yes                                  |
| ERM_CP U_1 | 1         | Cortex-M7 core 1 DTCM_1              | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF FC                           | 32-bit                               | Yes                                  |
| ERM_CP U_1 | 2         | Cortex-M7 core 1 D- cache data RAM   | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_1 | 3         | Cortex-M7 core 1 data tag RAM        | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_1 | 4         | Cortex-M7 core 1 I- cache data RAM   | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_1 | 5         | Cortex-M7 core 1 instruction tag RAM | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_2 | 0         | Cortex-M7 core 2 DTCM_0              | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF F8                           | 32-bit                               | Yes                                  |
| ERM_CP U_2 | 1         | Cortex-M7 core 2 DTCM_1              | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | 0000_FF FC                           | 32-bit                               | Yes                                  |
| ERM_CP U_2 | 2         | Cortex-M7 core 2 D- cache data RAM   | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_CP U_2 | 3         | Cortex-M7 core 2 data tag RAM        | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |

Table continues on the next page...

Error Reporting Module (ERM)

Table 589. Memory error event sources and captured information (continued)

| Instance         | Channel #   | Source of error event                | Single-bit errors included?   | Multi-bit errors included?   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   | Memory error event address details   |
|------------------|-------------|--------------------------------------|-------------------------------|------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|--------------------------------------|
| Instance         | Channel #   | Source of error event                | Single-bit errors included?   | Multi-bit errors included?   | Error address captured in EAR n ?    | Start address (in hex)               | End address (in hex)                 | Address alignment                    | Syndrome info captured in SYN n ?    |
|                  | 4           | Cortex-M7 core 2 I- cache data RAM   | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
|                  | 5           | Cortex-M7 core 2 instruction tag RAM | Yes                           | No                           | No                                   | -                                    | -                                    | -                                    | No                                   |
| ERM_LL CE        | 0           | DATA RAM_A                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 1           | DATA RAM_B                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 2           | RESERVED                             | -                             | -                            | -                                    | -                                    | -                                    | -                                    | -                                    |
| ERM_LL CE        | 3           | Core 3 RAM                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 4           | Core 2 RAM                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 5           | Core 1 RAM                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 6           | Core 0 RAM                           | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_LL CE        | 7           | RXLUT0 RAM0                          | Yes                           | Yes                          | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |
| ERM_ST DBY_SR AM | 0           | Standby SRAM                         | Yes                           | No                           | Yes                                  | 0000_000 0                           | -                                    | Absolute                             | Yes                                  |

1. The error status must be cleared before the ERM status is cleared from SRAMC. Otherwise, the error status remains asserted.

2. The contents of ERM.EAR are similar to those of SRAMC.PRAMECCA. They represent bank and controller IDs.

For information on noncorrectable error interrupts of each ERM instance, see the fault map file attached to this document. The interrupt controller does not control these interrupts.

## 66.1.3 Over-reported single-bit ECC errors for QuadSPI accesses

ECC errors are generated based on the number of words available in the TX buffer. Because QuadSPI writes data to the flash memory, it prefetches the data (up to 8 words) from the TX buffer.

Error Reporting Module (ERM)

## 66.2 ERM\_PFE, ERM\_LLCE, and ERM\_Standby\_RAM instances

## 66.2.1 Instances and numbers of channels

The number of supported channels varies by ERM instance. The following table lists and describes the ERM instances and identifies the number of channels for each instance.

Table 590. ERM instances and numbers of channels

| Instance       | Reports errors for   |   Number of channels |
|----------------|----------------------|----------------------|
| ERM_PFE0       | Internal memories    |                   11 |
| ERM_PFE1       | Internal memories    |                   13 |
| ERM_PFE2       | Internal memories    |                   17 |
| ERM_PFE3       | Internal memories    |                   17 |
| ERM_PFE4       | Internal memories    |                   17 |
| ERM_PFE5       | Internal memories    |                   17 |
| ERM_PFE6       | Internal memories    |                   17 |
| ERM_PFE7       | Internal memories    |                   17 |
| ERM_PFE8       | Internal memories    |                   17 |
| ERM_PFE9       | Internal memories    |                   17 |
| ERM_PFE10      | Internal memories    |                   13 |
| ERM_PFE11      | Internal memories    |                   24 |
| ERM_PFE12      | Internal memories    |                   17 |
| ERM_PFE13      | Internal memories    |                   18 |
| ERM_PFE14      | Internal memories    |                   13 |
| ERM_PFE15      | Internal memories    |                   13 |
| ERM_LLCE       | Internal memories    |                    9 |
| ERM_STDBY_SRAM | Internal memories    |                    1 |

## 66.2.2 Memory error event sources and captured information

Each ERM instance's channel n corresponds to a source of potential memory error events. For each instance channel, the following table shows:

- The corresponding memory
- For the corresponding memory's error events, whether the ERM captures single-bit errors, multi-bit errors, the error event's address, event syndrome information, or a combination of this information.

## NOTE

For ERM to work properly, follow the sequence below:

1. Initialize all memories inside PFE after power on.
2. Inject a software reset.

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information

|          | Instance   |                       | Single-bit   | Multi-bit errors   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|------------|-----------------------|--------------|--------------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | channel n  | Memory n event source | errors       |                    | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
| ERM_PFE0 | 0          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 1          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 7          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 8          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 9          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
|          | 10         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 0          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 1          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE1 | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Table 591. ERM instance channel event sources and captured information (continued)

|          | Instance   |                       | Single-bit   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|----------|------------|-----------------------|--------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance | channel n  | Memory n event source | errors       |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|          | 7          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 8          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 9          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 10         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 11         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 12         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE2 | 0          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 1          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 7          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 8          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 9          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 10         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|          | 11         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          | Instance   |                       |                   | Multi-bit   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|------------|-----------------------|-------------------|-------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | channel n  | Memory n event source | Single-bit errors | errors      | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
|          | 12         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 13         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 14         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 15         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 16         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE3 | 0          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 1          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 2          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 3          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 4          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 5          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 6          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 7          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 8          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 9          | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 10         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 11         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 12         | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          |                    |                       |                   | Multi-bit   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|--------------------|-----------------------|-------------------|-------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | Instance channel n | Memory n event source | Single-bit errors | errors      | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
|          | 13                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 14                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 15                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 16                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE4 | 0                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 1                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 2                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 3                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 4                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 5                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 6                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 7                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 8                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 9                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 10                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 11                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 12                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 13                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          |                    |                       |                   | Multi-bit   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|--------------------|-----------------------|-------------------|-------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | Instance channel n | Memory n event source | Single-bit errors | errors      | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
|          | 14                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 15                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 16                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE5 | 0                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 1                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 2                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 3                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 4                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 5                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 6                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 7                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 8                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 9                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 10                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 11                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 12                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 13                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 14                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          |                    |                       |                   | Multi-bit   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|--------------------|-----------------------|-------------------|-------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | Instance channel n | Memory n event source | Single-bit errors | errors      | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
|          | 15                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 16                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE6 | 0                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 1                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 2                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 3                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 4                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 5                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 6                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 7                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 8                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 9                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 10                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 11                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 12                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 13                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 14                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
|          | 15                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          |                    |                       |                   | Multi-bit   | Address details        | Address details     | Address details   | Event syndrome (bit position) (SYN n )   |
|----------|--------------------|-----------------------|-------------------|-------------|------------------------|---------------------|-------------------|------------------------------------------|
| Instance | Instance channel n | Memory n event source | Single-bit errors | errors      | Event address (EAR n ) | Start address (hex) | Address alignment |                                          |
|          | 16                 | pe4_dram_lpe 13       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 0                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 1                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 2                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 3                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 4                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 5                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 6                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 7                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 8                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 9                  | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 10                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 11                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 12                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 13                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 14                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 15                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |
| ERM_PFE7 | 16                 | Internal memory       | Yes               | Yes         | Yes                    | -                   | Absolute          | Yes                                      |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|          | Instance   |                       | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|----------|------------|-----------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance | channel n  | Memory n event source |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
| ERM_PFE8 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 2          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 3          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 4          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 5          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 6          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 7          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 8          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 9          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 10         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 11         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 12         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 13         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 14         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 15         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE8 | 16         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE9 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 2          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 7          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 13         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 14         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 15         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 16         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE10 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|--------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source | errors       |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 7          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE11 | 0          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 1          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 7          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 13         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 14         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 15         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 16         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 17         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 18         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 19         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 20         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 21         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 22         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 23         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE12 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 2          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 7          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | hif1_dma_dxr 3_drx_rd | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 13         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 14         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 15         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 16         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE13 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 2          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 7          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 13         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 14         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 15         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 16         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 17         | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE14 | 0          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 1          | Internal memory       | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Error Reporting Module (ERM)

Table 591. ERM instance channel event sources and captured information (continued)

|           | Instance   |                       | Single-bit   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------|------------|-----------------------|--------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance  | channel n  | Memory n event source | errors       |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
|           | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 7          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 8          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 9          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 10         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 11         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 12         | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_PFE15 | 0          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 1          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 2          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 3          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 4          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 5          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|           | 6          | Internal memory       | Yes          | Yes                | Yes                    | -                   | Absolute          | Yes                             |

Table continues on the next page...

Table 591. ERM instance channel event sources and captured information (continued)

|                 | Instance channel   | Memory n event source   | Single-bit errors   | Multi-bit errors   | Address details        | Address details     | Address details   | Event (bit position) (SYN n )   |
|-----------------|--------------------|-------------------------|---------------------|--------------------|------------------------|---------------------|-------------------|---------------------------------|
| Instance        | n                  |                         |                     |                    | Event address (EAR n ) | Start address (hex) | Address alignment | syndrome                        |
| ERM_LLCE        | 7                  | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_LLCE        | 8                  | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_LLCE        | 9                  | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_LLCE        | 10                 | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_LLCE        | 11                 | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
| ERM_LLCE        | 12                 | Internal memory         | Yes                 | Yes                | Yes                    | -                   | Absolute          | Yes                             |
|                 | 0                  | Data RAM_A              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 1                  | Data RAM_B              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 2                  | Reserved                | NA                  | NA                 | NA                     | NA                  | NA                | NA                              |
|                 | 3                  | Core 3 RAM              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 4                  | Core 2 RAM              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 5                  | Core 1 RAM              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 6                  | Core 0 RAM              | Yes                 | Yes                | Yes                    | 0x0                 | Absolute          | Yes                             |
|                 | 7                  | Reserved                | NA                  | NA                 | NA                     | NA                  | NA                | NA                              |
|                 | 8                  | Reserved                | NA                  | NA                 | NA                     | NA                  | NA                | NA                              |
| ERM_Standby_RAM | 0                  | Standby SRAM (SRAMC)    | Yes                 | No                 | Yes                    | 0x0                 | Absolute          | Yes                             |

## 66.3 Overview

The Error Reporting Module (ERM) provides information and optional interrupt notification on memory error events associated with ECC and parity. The ERM collects error events on memory accesses for memory arrays, such as flash memory, system RAM, or peripheral RAMs. ERM supports various channels for memory sources where each ERM channel is associated with a different memory module. See the chip-specific ERM information for details about supported memory sources and specific memory channel assignments. If memory supports ECC then ERM syndrome and error address information is captured along with error event. ERM does not receive this information in case of cache or memory with parity along with error event.

## 66.3.1 Features

The ERM includes these features:

- Optional interrupt notification on captured error events
- Capturing of address and syndrome information on single-bit correction and non-correctable ECC events

Error Reporting Module (ERM)

- Support for error event capturing for memory sources, with individual reporting fields and interrupt configuration per memory channel
- Recording the count value of the number of corrected error events

## 66.3.2 Block diagram

<!-- image -->

## 66.4 ERM\_CPU0 register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.
- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

## 66.4.1 ERM\_CPU0 memory map

ERM\_CPU0 base address: 4031\_8000h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 104h     | ERM Memory 0 Syndrome Register (SYN0)                         |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 114h     | ERM Memory 1 Syndrome Register (SYN1)                         |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5) |                32 | RW       | 0000_0000h    |

## 66.4.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23        | 22     | 21   | 20   | 19   | 18     | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|-----------|--------|------|------|------|--------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       | 0    |      | 0         | ENCIE  | 0    |      | 0    | ENCIE  |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |           | 2      |      |      |      | 3      |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0         | 0      | 0    | 0    | 0    | 0      | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7         | 6      | 5    | 4    | 3    | 2      | 1    | 0    |
| R      | 0    | ENCIE | 0    |      | 0     | ENCIE | 0    |      | Reserv ed | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      |           | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0         | 0      | 0    | 0    | 0    | 0      | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE0 | ENCIE0 Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled. 1b - Interrupt notification of Memory 1 non-correctable error events is enabled. |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification                                                                                                                                                                    |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled.                                                               |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15 -      | Reserved                                                                                                                                                                                                                         |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10 ENCIE5 | ENCIE5 Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled. |
| 9-8 -     | Reserved                                                                                                                                                                                                                         |
| 7 -       | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 6 -     | Reserved   |
| 5-4 -   | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |
| 1-0 -   | Reserved   |

## 66.4.3 ERM Status Register 0 (SR0)

## Offset

| Register   | Offset   |
|------------|----------|
| SR0        | 10h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC0 | NCE0 | 0    | SBC1 | NCE1 |      |      |      | SBC2 | NCE2 | 0    |      | SBC3 | NCE3 | 0    |      |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SBC4 | NCE4 | 0    |      | SBC5 | NCE5 |      | 0    |      | 0    |      |      |      |      | 0    |      |
| W      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 SBC0 | SBC0 Memory 0 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 0 detected. 1b - Single-bit correction event on Memory 0 detected.                                                                                            |
| 30 NCE0 | NCE0 Memory 0 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE0] is enabled. 0b - No non-correctable error event on Memory 0 detected. 1b - Non-correctable error event on Memory 0 detected. |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                           |
| 27 SBC1 | SBC1 Memory 1 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 1 detected. 1b - Single-bit correction event on Memory 1 detected.                                                                                            |
| 26 NCE1 | NCE1 Memory 1 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE1] is enabled. 0b - No non-correctable error event on Memory 1 detected. 1b - Non-correctable error event on Memory 1 detected. |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                           |
| 23 SBC2 | SBC2 Memory 2 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 2 detected. 1b - Single-bit correction event on Memory 2 detected.                                                                                            |
| 22      | NCE2                                                                                                                                                                                                                                                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCE2    | Memory 2 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE2] is enabled. 0b - No non-correctable error event on Memory 2 detected. 1b - Non-correctable error event on Memory 2 detected.      |
| 21-20 - | Reserved                                                                                                                                                                                                                                                                           |
| 19 SBC3 | SBC3 Memory 3 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 3 detected. 1b - Single-bit correction event on Memory 3 detected.                                                                                            |
| 18 NCE3 | NCE3 Memory 3 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE3] is enabled. 0b - No non-correctable error event on Memory 3 detected. 1b - Non-correctable error event on Memory 3 detected. |
| 17-16 - | Reserved                                                                                                                                                                                                                                                                           |
| 15 SBC4 | SBC4 Memory 4 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 4 detected. 1b - Single-bit correction event on Memory 4 detected.                                                                                            |
| 14 NCE4 | NCE4 Memory 4 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE4] is enabled. 0b - No non-correctable error event on Memory 4 detected. 1b - Non-correctable error event on Memory 4 detected. |
| 13-12   | Reserved                                                                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                                                                    |
| 11 SBC5 | SBC5 Memory 5 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 5 detected. 1b - Single-bit correction event on Memory 5 detected.                                                                                            |
| 10 NCE5 | NCE5 Memory 5 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE5] is enabled. 0b - No non-correctable error event on Memory 5 detected. 1b - Non-correctable error event on Memory 5 detected. |
| 9-8 -   | Reserved                                                                                                                                                                                                                                                                           |
| 7-4 -   | Reserved                                                                                                                                                                                                                                                                           |
| 3-0 -   | Reserved                                                                                                                                                                                                                                                                           |

## 66.4.4 ERM Memory a Error Address Register (EAR0 - EAR1)

## Offset

| Register   | Offset   |
|------------|----------|
| EAR0       | 100h     |
| EAR1       | 110h     |

## Function

Each ERM Memory n Error Address Register is a 32-bit register for capturing the address of the last ECC event in Memoryn, wheren denotes the memory channel. Any attempted write to EARn is ignored.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------|
| 31-0    | EAR                                                                                                                  |
| EAR     | Memory n Error Address -This field contains the faulting system address of the last recorded ECC event on Memory n . |

## 66.4.5 ERM Memory a Syndrome Register (SYN0 - SYN1)

## Offset

| Register   | Offset   |
|------------|----------|
| SYN0       | 104h     |
| SYN1       | 114h     |

## Function

The ERM Memory n Syndrome Register is a 32-bit register for capturing the calculated syndrome of the last ECC event on Memoryn, wheren denotes the memory channel. Any attempted write to SYNn is ignored. The syndrome value identifies the pertinent bit position on a correctable, single-bit data inversion or a non-correctable, single-bit address inversion. The syndrome value does not provide any additional diagnostic information on non-correctable, multi-bit inversions.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field          | Function                                                                                                                 |
|----------------|--------------------------------------------------------------------------------------------------------------------------|
| 31-24 SYNDROME | SYNDROME                                                                                                                 |
| 23-0           | Memory n Syndrome -This field contains the ECCsyndrome associated with the last recorded ECCevent on Memory n . Reserved |

## 66.4.6 ERM Memory a Correctable Error Count Register (CORR\_ERR\_CNT0 - CORR\_ERR\_CNT5)

## Offset

| Register      | Offset   |
|---------------|----------|
| CORR_ERR_CNT0 | 108h     |
| CORR_ERR_CNT1 | 118h     |
| CORR_ERR_CNT2 | 128h     |
| CORR_ERR_CNT3 | 138h     |
| CORR_ERR_CNT4 | 148h     |
| CORR_ERR_CNT5 | 158h     |

## Function

Each 32-bit ERM Memory n Correctable Error Count Register records the count value of the number of correctable ECC error events for Memoryn, wheren denotes the memory channel.

## NOTE

Non-correctable errors are considered a serious fault, so the ERM does not provide any mechanism to count non-correctable errors. Only correctable errors are counted.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 7-0 COUNT | Memory n Correctable Error Count For each correctable error event, the ERMincrements this field's error count value until the counter reaches its maximum value FFh. COUNTvalue will stop when it reaches maximum value FFh and will not wrap even if additional errors occur. Read this field to determine the correctable error count value so far. Write all zeros to this field to reset the counter. Writing a non-zero value has no effect. |

## 66.5 ERM\_CPU1 register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.
- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

Error Reporting Module (ERM)

## 66.5.1 ERM\_CPU1 memory map

ERM\_CPU1 base address: 4031\_8400h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 104h     | ERM Memory 0 Syndrome Register (SYN0)                         |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 114h     | ERM Memory 1 Syndrome Register (SYN1)                         |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5) |                32 | RW       | 0000_0000h    |

## 66.5.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23     | 22     | 21   | 20   | 19   | 18     | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|--------|--------|------|------|------|--------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       |      |      | 0      | ENCIE  | 0    |      | 0    | ENCIE  |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |        | 2      |      |      |      | 3      |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0      | 0      | 0    | 0    | 0    | 0      | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7      | 6      | 5    | 4    | 3    | 2      | 1    | 0    |
| R      | 0    | ENCIE | 0    | 0    | 0     | ENCIE |      | 0    | Reserv | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      | ed     | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0      | 0      | 0    | 0    | 0    | 0      | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE0 | ENCIE0 Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled. 1b - Interrupt notification of Memory 1 non-correctable error events is enabled. |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification                                                                                                                                                                    |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled.                                                               |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15 -      | Reserved                                                                                                                                                                                                                         |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10 ENCIE5 | ENCIE5 Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled. |
| 9-8 -     | Reserved                                                                                                                                                                                                                         |
| 7 -       | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 6 -     | Reserved   |
| 5-4 -   | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |
| 1-0 -   | Reserved   |

## 66.5.3 ERM Status Register 0 (SR0)

## Offset

| Register   | Offset   |
|------------|----------|
| SR0        | 10h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC0 | NCE0 | 0    | SBC1 | NCE1 |      |      |      | SBC2 | NCE2 | 0    |      | SBC3 | NCE3 | 0    |      |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SBC4 | NCE4 | 0    |      | SBC5 | NCE5 |      | 0    |      | 0    |      |      |      |      | 0    |      |
| W      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 SBC0 | SBC0 Memory 0 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 0 detected. 1b - Single-bit correction event on Memory 0 detected.                                                                                            |
| 30 NCE0 | NCE0 Memory 0 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE0] is enabled. 0b - No non-correctable error event on Memory 0 detected. 1b - Non-correctable error event on Memory 0 detected. |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                           |
| 27 SBC1 | SBC1 Memory 1 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 1 detected. 1b - Single-bit correction event on Memory 1 detected.                                                                                            |
| 26 NCE1 | NCE1 Memory 1 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE1] is enabled. 0b - No non-correctable error event on Memory 1 detected. 1b - Non-correctable error event on Memory 1 detected. |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                           |
| 23 SBC2 | SBC2 Memory 2 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 2 detected. 1b - Single-bit correction event on Memory 2 detected.                                                                                            |
| 22      | NCE2                                                                                                                                                                                                                                                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCE2    | Memory 2 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE2] is enabled. 0b - No non-correctable error event on Memory 2 detected. 1b - Non-correctable error event on Memory 2 detected.      |
| 21-20 - | Reserved                                                                                                                                                                                                                                                                           |
| 19 SBC3 | SBC3 Memory 3 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 3 detected. 1b - Single-bit correction event on Memory 3 detected.                                                                                            |
| 18 NCE3 | NCE3 Memory 3 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE3] is enabled. 0b - No non-correctable error event on Memory 3 detected. 1b - Non-correctable error event on Memory 3 detected. |
| 17-16 - | Reserved                                                                                                                                                                                                                                                                           |
| 15 SBC4 | SBC4 Memory 4 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 4 detected. 1b - Single-bit correction event on Memory 4 detected.                                                                                            |
| 14 NCE4 | NCE4 Memory 4 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE4] is enabled. 0b - No non-correctable error event on Memory 4 detected. 1b - Non-correctable error event on Memory 4 detected. |
| 13-12   | Reserved                                                                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                                                                    |
| 11 SBC5 | SBC5 Memory 5 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 5 detected. 1b - Single-bit correction event on Memory 5 detected.                                                                                            |
| 10 NCE5 | NCE5 Memory 5 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE5] is enabled. 0b - No non-correctable error event on Memory 5 detected. 1b - Non-correctable error event on Memory 5 detected. |
| 9-8 -   | Reserved                                                                                                                                                                                                                                                                           |
| 7-4 -   | Reserved                                                                                                                                                                                                                                                                           |
| 3-0 -   | Reserved                                                                                                                                                                                                                                                                           |

## 66.5.4 ERM Memory a Error Address Register (EAR0 - EAR1)

## Offset

| Register   | Offset   |
|------------|----------|
| EAR0       | 100h     |
| EAR1       | 110h     |

## Function

Each ERM Memory n Error Address Register is a 32-bit register for capturing the address of the last ECC event in Memoryn, wheren denotes the memory channel. Any attempted write to EARn is ignored.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------|
| 31-0    | EAR                                                                                                                  |
| EAR     | Memory n Error Address -This field contains the faulting system address of the last recorded ECC event on Memory n . |

## 66.5.5 ERM Memory a Syndrome Register (SYN0 - SYN1)

## Offset

| Register   | Offset   |
|------------|----------|
| SYN0       | 104h     |
| SYN1       | 114h     |

## Function

The ERM Memory n Syndrome Register is a 32-bit register for capturing the calculated syndrome of the last ECC event on Memoryn, wheren denotes the memory channel. Any attempted write to SYNn is ignored. The syndrome value identifies the pertinent bit position on a correctable, single-bit data inversion or a non-correctable, single-bit address inversion. The syndrome value does not provide any additional diagnostic information on non-correctable, multi-bit inversions.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field          | Function                                                                                                                 |
|----------------|--------------------------------------------------------------------------------------------------------------------------|
| 31-24 SYNDROME | SYNDROME                                                                                                                 |
| 23-0           | Memory n Syndrome -This field contains the ECCsyndrome associated with the last recorded ECCevent on Memory n . Reserved |

## 66.5.6 ERM Memory a Correctable Error Count Register (CORR\_ERR\_CNT0 - CORR\_ERR\_CNT5)

## Offset

| Register      | Offset   |
|---------------|----------|
| CORR_ERR_CNT0 | 108h     |
| CORR_ERR_CNT1 | 118h     |
| CORR_ERR_CNT2 | 128h     |
| CORR_ERR_CNT3 | 138h     |
| CORR_ERR_CNT4 | 148h     |
| CORR_ERR_CNT5 | 158h     |

## Function

Each 32-bit ERM Memory n Correctable Error Count Register records the count value of the number of correctable ECC error events for Memoryn, wheren denotes the memory channel.

## NOTE

Non-correctable errors are considered a serious fault, so the ERM does not provide any mechanism to count non-correctable errors. Only correctable errors are counted.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 7-0 COUNT | Memory n Correctable Error Count For each correctable error event, the ERMincrements this field's error count value until the counter reaches its maximum value FFh. COUNTvalue will stop when it reaches maximum value FFh and will not wrap even if additional errors occur. Read this field to determine the correctable error count value so far. Write all zeros to this field to reset the counter. Writing a non-zero value has no effect. |

## 66.6 ERM\_CPU2 register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.
- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

Error Reporting Module (ERM)

## 66.6.1 ERM\_CPU2 memory map

ERM\_CPU2 base address: 4031\_8800h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 104h     | ERM Memory 0 Syndrome Register (SYN0)                         |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 114h     | ERM Memory 1 Syndrome Register (SYN1)                         |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5) |                32 | RW       | 0000_0000h    |

## 66.6.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23        | 22     | 21   | 20   | 19   | 18     | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|-----------|--------|------|------|------|--------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       | 0    |      | 0         | ENCIE  | 0    |      | 0    | ENCIE  |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |           | 2      |      |      |      | 3      |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0         | 0      | 0    | 0    | 0    | 0      | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7         | 6      | 5    | 4    | 3    | 2      | 1    | 0    |
| R      | 0    | ENCIE | 0    |      | 0     | ENCIE | 0    |      | Reserv ed | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      |           | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0         | 0      | 0    | 0    | 0    | 0      | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE0 | ENCIE0 Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled. 1b - Interrupt notification of Memory 1 non-correctable error events is enabled. |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification                                                                                                                                                                    |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled.                                                               |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15 -      | Reserved                                                                                                                                                                                                                         |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10 ENCIE5 | ENCIE5 Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled. |
| 9-8 -     | Reserved                                                                                                                                                                                                                         |
| 7 -       | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 6 -     | Reserved   |
| 5-4 -   | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |
| 1-0 -   | Reserved   |

## 66.6.3 ERM Status Register 0 (SR0)

## Offset

| Register   | Offset   |
|------------|----------|
| SR0        | 10h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC0 | NCE0 | 0    | SBC1 | NCE1 |      |      |      | SBC2 | NCE2 | 0    |      | SBC3 | NCE3 | 0    |      |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SBC4 | NCE4 | 0    |      | SBC5 | NCE5 |      | 0    |      | 0    |      |      |      |      | 0    |      |
| W      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 SBC0 | SBC0 Memory 0 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 0 detected. 1b - Single-bit correction event on Memory 0 detected.                                                                                            |
| 30 NCE0 | NCE0 Memory 0 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE0] is enabled. 0b - No non-correctable error event on Memory 0 detected. 1b - Non-correctable error event on Memory 0 detected. |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                           |
| 27 SBC1 | SBC1 Memory 1 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 1 detected. 1b - Single-bit correction event on Memory 1 detected.                                                                                            |
| 26 NCE1 | NCE1 Memory 1 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE1] is enabled. 0b - No non-correctable error event on Memory 1 detected. 1b - Non-correctable error event on Memory 1 detected. |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                           |
| 23 SBC2 | SBC2 Memory 2 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 2 detected. 1b - Single-bit correction event on Memory 2 detected.                                                                                            |
| 22      | NCE2                                                                                                                                                                                                                                                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCE2    | Memory 2 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE2] is enabled. 0b - No non-correctable error event on Memory 2 detected. 1b - Non-correctable error event on Memory 2 detected.      |
| 21-20 - | Reserved                                                                                                                                                                                                                                                                           |
| 19 SBC3 | SBC3 Memory 3 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 3 detected. 1b - Single-bit correction event on Memory 3 detected.                                                                                            |
| 18 NCE3 | NCE3 Memory 3 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE3] is enabled. 0b - No non-correctable error event on Memory 3 detected. 1b - Non-correctable error event on Memory 3 detected. |
| 17-16 - | Reserved                                                                                                                                                                                                                                                                           |
| 15 SBC4 | SBC4 Memory 4 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 4 detected. 1b - Single-bit correction event on Memory 4 detected.                                                                                            |
| 14 NCE4 | NCE4 Memory 4 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE4] is enabled. 0b - No non-correctable error event on Memory 4 detected. 1b - Non-correctable error event on Memory 4 detected. |
| 13-12   | Reserved                                                                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                                                                    |
| 11 SBC5 | SBC5 Memory 5 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 5 detected. 1b - Single-bit correction event on Memory 5 detected.                                                                                            |
| 10 NCE5 | NCE5 Memory 5 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE5] is enabled. 0b - No non-correctable error event on Memory 5 detected. 1b - Non-correctable error event on Memory 5 detected. |
| 9-8 -   | Reserved                                                                                                                                                                                                                                                                           |
| 7-4 -   | Reserved                                                                                                                                                                                                                                                                           |
| 3-0 -   | Reserved                                                                                                                                                                                                                                                                           |

## 66.6.4 ERM Memory a Error Address Register (EAR0 - EAR1)

## Offset

| Register   | Offset   |
|------------|----------|
| EAR0       | 100h     |
| EAR1       | 110h     |

## Function

Each ERM Memory n Error Address Register is a 32-bit register for capturing the address of the last ECC event in Memoryn, wheren denotes the memory channel. Any attempted write to EARn is ignored.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------|
| 31-0    | EAR                                                                                                                  |
| EAR     | Memory n Error Address -This field contains the faulting system address of the last recorded ECC event on Memory n . |

## 66.6.5 ERM Memory a Syndrome Register (SYN0 - SYN1)

## Offset

| Register   | Offset   |
|------------|----------|
| SYN0       | 104h     |
| SYN1       | 114h     |

## Function

The ERM Memory n Syndrome Register is a 32-bit register for capturing the calculated syndrome of the last ECC event on Memoryn, wheren denotes the memory channel. Any attempted write to SYNn is ignored. The syndrome value identifies the pertinent bit position on a correctable, single-bit data inversion or a non-correctable, single-bit address inversion. The syndrome value does not provide any additional diagnostic information on non-correctable, multi-bit inversions.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field          | Function                                                                                                                 |
|----------------|--------------------------------------------------------------------------------------------------------------------------|
| 31-24 SYNDROME | SYNDROME                                                                                                                 |
| 23-0           | Memory n Syndrome -This field contains the ECCsyndrome associated with the last recorded ECCevent on Memory n . Reserved |

## 66.6.6 ERM Memory a Correctable Error Count Register (CORR\_ERR\_CNT0 - CORR\_ERR\_CNT5)

## Offset

| Register      | Offset   |
|---------------|----------|
| CORR_ERR_CNT0 | 108h     |
| CORR_ERR_CNT1 | 118h     |
| CORR_ERR_CNT2 | 128h     |
| CORR_ERR_CNT3 | 138h     |
| CORR_ERR_CNT4 | 148h     |
| CORR_ERR_CNT5 | 158h     |

## Function

Each 32-bit ERM Memory n Correctable Error Count Register records the count value of the number of correctable ECC error events for Memoryn, wheren denotes the memory channel.

## NOTE

Non-correctable errors are considered a serious fault, so the ERM does not provide any mechanism to count non-correctable errors. Only correctable errors are counted.

Error Reporting Module (ERM)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 7-0 COUNT | Memory n Correctable Error Count For each correctable error event, the ERMincrements this field's error count value until the counter reaches its maximum value FFh. COUNTvalue will stop when it reaches maximum value FFh and will not wrap even if additional errors occur. Read this field to determine the correctable error count value so far. Write all zeros to this field to reset the counter. Writing a non-zero value has no effect. |

## 66.7 ERM\_PER register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.
- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

Error Reporting Module (ERM)

## 66.7.1 ERM\_PER memory map

ERM\_PER base address: 4031\_4000h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 4h       | ERM Configuration Register 1 (CR1)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 14h      | ERM Status Register 1 (SR1)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 120h     | ERM Memory 2 Error Address Register (EAR2)                    |                32 | R        | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 130h     | ERM Memory 3 Error Address Register (EAR3)                    |                32 | R        | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 140h     | ERM Memory 4 Error Address Register (EAR4)                    |                32 | R        | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 150h     | ERM Memory 5 Error Address Register (EAR5)                    |                32 | R        | 0000_0000h    |
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5) |                32 | RW       | 0000_0000h    |
| 168h     | ERM Memory 6 Correctable Error Count Register (CORR_ERR_CNT6) |                32 | RW       | 0000_0000h    |
| 178h     | ERM Memory 7 Correctable Error Count Register (CORR_ERR_CNT7) |                32 | RW       | 0000_0000h    |
| 180h     | ERM Memory 8 Error Address Register (EAR8)                    |                32 | R        | 0000_0000h    |
| 184h     | ERM Memory 8 Syndrome Register (SYN8)                         |                32 | R        | 0000_0000h    |
| 188h     | ERM Memory 8 Correctable Error Count Register (CORR_ERR_CNT8) |                32 | RW       | 0000_0000h    |
| 190h     | ERM Memory 9 Error Address Register (EAR9)                    |                32 | R        | 0000_0000h    |
| 194h     | ERM Memory 9 Syndrome Register (SYN9)                         |                32 | R        | 0000_0000h    |
| 198h     | ERM Memory 9 Correctable Error Count Register (CORR_ERR_CNT9) |                32 | RW       | 0000_0000h    |

Error Reporting Module (ERM)

## 66.7.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23     | 22    | 21   | 20   | 19   | 18    | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|--------|-------|------|------|------|-------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       |      |      | 0      | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |        | 2     |      |      |      | 3     |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7      | 6     | 5    | 4    | 3    | 2     | 1    | 0    |
| R      | 0    | ENCIE | 0    | 0    | 0     | ENCIE |      | 0    | Reserv | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      | ed     | 6     |      |      |      | 7     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE0 | ENCIE0 Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled.                                                                                  |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 1b - Interrupt notification of Memory 1 non-correctable error events is enabled.                                                                                                                                                 |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled. |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15 -      | Reserved                                                                                                                                                                                                                         |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10        | ENCIE5                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                         |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ENCIE5   | Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled.        |
| 9-8 -    | Reserved                                                                                                                                                                                                                         |
| 7 -      | Reserved                                                                                                                                                                                                                         |
| 6 ENCIE6 | ENCIE6 Enable Memory 6 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 6 non-correctable error events is disabled. 1b - Interrupt notification of Memory 6 non-correctable error events is enabled. |
| 5-4 -    | Reserved                                                                                                                                                                                                                         |
| 3 -      | Reserved                                                                                                                                                                                                                         |
| 2 ENCIE7 | ENCIE7 Enable Memory 7 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 7 non-correctable error events is disabled. 1b - Interrupt notification of Memory 7 non-correctable error events is enabled. |
| 1-0 -    | Reserved                                                                                                                                                                                                                         |

## 66.7.3 ERM Configuration Register 1 (CR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CR1        | 4h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30     | 29   | 28   | 27    | 26     | 25   | 24   | 23   | 22     | 21   | 20   | 19   | 18     | 17   | 16   |
|--------|------|--------|------|------|-------|--------|------|------|------|--------|------|------|------|--------|------|------|
| R      | 0    | ENCIE  | 0    | 0    | ENCIE |        |      |      | 0    | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | 8      |      |      |       | 9      |      |      |      | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0      | 0 0  |      | 0     | 0      | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0      | 0    | 0    |
| Bits   | 15   | 14     | 13   | 12   | 11    | 10     | 9    | 8    | 7    | 6      | 5    | 4    | 3    | 2      | 1    | 0    |
| R      | 0    | Reserv | 0    | 0    | 0     | Reserv |      | 0    | 0    | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | ed     |      |      |       | ed     |      |      |      | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0      | 0    | 0    | 0     | 0      | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0      | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE8 | ENCIE8 Enable Memory 8 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 8 non-correctable error events is disabled. 1b - Interrupt notification of Memory 8 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE9 | ENCIE9 Enable Memory 9 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 9 non-correctable error events is disabled. 1b - Interrupt notification of Memory 9 non-correctable error events is enabled. |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 -      | Reserved                                                                                                                                                                                                                         |
| 21-20     | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| -       |            |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17-16 - | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13-12 - | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9-8 -   | Reserved   |
| 7 -     | Reserved   |
| 6 -     | Reserved   |
| 5-4 -   | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 1-0     | Reserved   |

## 66.7.4 ERM Status Register 0 (SR0)

## Offset

| Register   | Offset   |
|------------|----------|
| SR0        | 10h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC0 | NCE0 | 0    | SBC1 | NCE1 |      |      |      | SBC2 | NCE2 | 0    |      | SBC3 | NCE3 |      | 0    |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0 0  | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SBC4 | NCE4 | 0    |      | SBC5 | NCE5 |      | 0    | SBC6 | NCE6 | 0    |      | SBC7 | NCE7 | 0    |      |
| W      | W1C  | W1C  |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31      | SBC0                                                                                                                                                                               |
| SBC0    | Memory 0 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 0 detected. 1b - Single-bit correction event on Memory 0 detected. |
| 30      | NCE0                                                                                                                                                                               |
| NCE0    | Memory 0 Non-Correctable Error Event                                                                                                                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE0] is enabled. 0b - No non-correctable error event on Memory 0 detected. 1b - Non-correctable error event on Memory 0 detected.                                           |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                           |
| 27 SBC1 | SBC1 Memory 1 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 1 detected. 1b - Single-bit correction event on Memory 1 detected.                                                                                            |
| 26 NCE1 | NCE1 Memory 1 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE1] is enabled. 0b - No non-correctable error event on Memory 1 detected. 1b - Non-correctable error event on Memory 1 detected. |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                           |
| 23 SBC2 | SBC2 Memory 2 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 2 detected. 1b - Single-bit correction event on Memory 2 detected.                                                                                            |
| 22 NCE2 | NCE2 Memory 2 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE2] is enabled. 0b - No non-correctable error event on Memory 2 detected. 1b - Non-correctable error event on Memory 2 detected. |
| 21-20 - | Reserved                                                                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 19 SBC3 | SBC3 Memory 3 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 3 detected. 1b - Single-bit correction event on Memory 3 detected.                                                                                            |
| 18 NCE3 | NCE3 Memory 3 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE3] is enabled. 0b - No non-correctable error event on Memory 3 detected. 1b - Non-correctable error event on Memory 3 detected. |
| 17-16 - | Reserved                                                                                                                                                                                                                                                                           |
| 15 SBC4 | SBC4 Memory 4 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 4 detected. 1b - Single-bit correction event on Memory 4 detected.                                                                                            |
| 14 NCE4 | NCE4 Memory 4 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE4] is enabled. 0b - No non-correctable error event on Memory 4 detected. 1b - Non-correctable error event on Memory 4 detected. |
| 13-12 - | Reserved                                                                                                                                                                                                                                                                           |
| 11 SBC5 | SBC5 Memory 5 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 5 detected. 1b - Single-bit correction event on Memory 5 detected.                                                                                            |
| 10      | NCE5                                                                                                                                                                                                                                                                               |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCE5    | Memory 5 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE5] is enabled. 0b - No non-correctable error event on Memory 5 detected. 1b - Non-correctable error event on Memory 5 detected.      |
| 9-8 -   | Reserved                                                                                                                                                                                                                                                                           |
| 7 SBC6  | SBC6 Memory 6 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 6 detected. 1b - Single-bit correction event on Memory 6 detected.                                                                                            |
| 6 NCE6  | NCE6 Memory 6 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE6] is enabled. 0b - No non-correctable error event on Memory 6 detected. 1b - Non-correctable error event on Memory 6 detected. |
| 5-4 -   | Reserved                                                                                                                                                                                                                                                                           |
| 3 SBC7  | SBC7 Memory 7 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 7 detected. 1b - Single-bit correction event on Memory 7 detected.                                                                                            |
| 2 NCE7  | NCE7 Memory 7 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE7] is enabled. 0b - No non-correctable error event on Memory 7 detected. 1b - Non-correctable error event on Memory 7 detected. |
| 1-0     | Reserved                                                                                                                                                                                                                                                                           |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| -       |            |

## 66.7.5 ERM Status Register 1 (SR1)

## Offset

| Register   | Offset   |
|------------|----------|
| SR1        | 14h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC8 | NCE8 | 0    | SBC9 | NCE9 |      |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0 0  | 0    | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31      | SBC8 Memory 8 Single-Bit Correction Event Write 1 to clear this field.                                                                                             |
| SBC8    | 0b - No single-bit correction event on Memory 8 detected. 1b - Single-bit correction event on Memory 8 detected.                                                   |
| 30 NCE8 | NCE8 Memory 8 Non-Correctable Error Event Write 1 to clear this field. This write also clears the corresponding interrupt notification, if CR1[ENCIE8] is enabled. |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - No non-correctable error event on Memory 8 detected. 1b - Non-correctable error event on Memory 8 detected.                                                                                                                                                                    |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                            |
| 27 SBC9 | SBC9 Memory 9 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 9 detected. 1b - Single-bit correction event on Memory 9 detected.                                                                                             |
| 26 NCE9 | NCE9 Memory 9 Non-Correctable Error Event Write 1 to clear this field. This write also clears the corresponding interrupt notification, if CR1[ENCIE9] is enabled. 0b - No non-correctable error event on Memory 9 detected. 1b - Non-correctable error event on Memory 9 detected. |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                            |
| 23-20 - | Reserved                                                                                                                                                                                                                                                                            |
| 19-16 - | Reserved                                                                                                                                                                                                                                                                            |
| 15-12 - | Reserved                                                                                                                                                                                                                                                                            |
| 11-8 -  | Reserved                                                                                                                                                                                                                                                                            |
| 7-4 -   | Reserved                                                                                                                                                                                                                                                                            |
| 3-0 -   | Reserved                                                                                                                                                                                                                                                                            |

## 66.7.6 ERM Memory a Error Address Register (EAR0 - EAR9)

## Offset

| Register   | Offset   |
|------------|----------|
| EAR0       | 100h     |
| EAR1       | 110h     |
| EAR2       | 120h     |
| EAR3       | 130h     |
| EAR4       | 140h     |
| EAR5       | 150h     |
| EAR8       | 180h     |
| EAR9       | 190h     |

## Function

Each ERM Memory n Error Address Register is a 32-bit register for capturing the address of the last ECC event in Memoryn, wheren denotes the memory channel. Any attempted write to EARn is ignored.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------|
| 31-0    | EAR                                                                                                                  |
| EAR     | Memory n Error Address -This field contains the faulting system address of the last recorded ECC event on Memory n . |

Error Reporting Module (ERM)

Error Reporting Module (ERM)

## 66.7.7 ERM Memory a Correctable Error Count Register (CORR\_ERR\_CNT0 - CORR\_ERR\_CNT9)

## Offset

| Register      | Offset   |
|---------------|----------|
| CORR_ERR_CNT0 | 108h     |
| CORR_ERR_CNT1 | 118h     |
| CORR_ERR_CNT2 | 128h     |
| CORR_ERR_CNT3 | 138h     |
| CORR_ERR_CNT4 | 148h     |
| CORR_ERR_CNT5 | 158h     |
| CORR_ERR_CNT6 | 168h     |
| CORR_ERR_CNT7 | 178h     |
| CORR_ERR_CNT8 | 188h     |
| CORR_ERR_CNT9 | 198h     |

## Function

Each 32-bit ERM Memory n Correctable Error Count Register records the count value of the number of correctable ECC error events for Memoryn, wheren denotes the memory channel.

## NOTE

Non-correctable errors are considered a serious fault, so the ERM does not provide any mechanism to count non-correctable errors. Only correctable errors are counted.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-8    | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 7-0     | Memory n Correctable Error Count                                                                                                                                                                                                                                                                                                                                                                                 |
| COUNT   | For each correctable error event, the ERMincrements this field's error count value until the counter reaches its maximum value FFh. COUNTvalue will stop when it reaches maximum value FFh and will not wrap even if additional errors occur. Read this field to determine the correctable error count value so far. Write all zeros to this field to reset the counter. Writing a non-zero value has no effect. |

## 66.7.8 ERM Memory a Syndrome Register (SYN8 - SYN9)

## Offset

| Register   | Offset   |
|------------|----------|
| SYN8       | 184h     |
| SYN9       | 194h     |

## Function

The ERM Memory n Syndrome Register is a 32-bit register for capturing the calculated syndrome of the last ECC event on Memoryn, wheren denotes the memory channel. Any attempted write to SYNn is ignored. The syndrome value identifies the pertinent bit position on a correctable, single-bit data inversion or a non-correctable, single-bit address inversion. The syndrome value does not provide any additional diagnostic information on non-correctable, multi-bit inversions.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function   |
|---------|------------|
| 31-24   | SYNDROME   |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                        |
|----------|-----------------------------------------------------------------------------------------------------------------|
| SYNDROME | Memory n Syndrome -This field contains the ECCsyndrome associated with the last recorded ECCevent on Memory n . |
| 23-0 -   | Reserved                                                                                                        |

## 66.8 ERM\_PFE0 register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.
- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

## 66.8.1 ERM\_PFE0 memory map

ERM\_PFE0 base address: 4403\_4000h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 4h       | ERM Configuration Register 1 (CR1)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 14h      | ERM Status Register 1 (SR1)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 104h     | ERM Memory 0 Syndrome Register (SYN0)                         |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 114h     | ERM Memory 1 Syndrome Register (SYN1)                         |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 120h     | ERM Memory 2 Error Address Register (EAR2)                    |                32 | R        | 0000_0000h    |
| 124h     | ERM Memory 2 Syndrome Register (SYN2)                         |                32 | R        | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 130h     | ERM Memory 3 Error Address Register (EAR3)                    |                32 | R        | 0000_0000h    |
| 134h     | ERM Memory 3 Syndrome Register (SYN3)                         |                32 | R        | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 140h     | ERM Memory 4 Error Address Register (EAR4)                    |                32 | R        | 0000_0000h    |
| 144h     | ERM Memory 4 Syndrome Register (SYN4)                         |                32 | R        | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 150h     | ERM Memory 5 Error Address Register (EAR5)                    |                32 | R        | 0000_0000h    |
| 154h     | ERM Memory 5 Syndrome Register (SYN5)                         |                32 | R        | 0000_0000h    |
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5) |                32 | RW       | 0000_0000h    |
| 160h     | ERM Memory 6 Error Address Register (EAR6)                    |                32 | R        | 0000_0000h    |
| 164h     | ERM Memory 6 Syndrome Register (SYN6)                         |                32 | R        | 0000_0000h    |
| 168h     | ERM Memory 6 Correctable Error Count Register (CORR_ERR_CNT6) |                32 | RW       | 0000_0000h    |
| 170h     | ERM Memory 7 Error Address Register (EAR7)                    |                32 | R        | 0000_0000h    |
| 174h     | ERM Memory 7 Syndrome Register (SYN7)                         |                32 | R        | 0000_0000h    |
| 178h     | ERM Memory 7 Correctable Error Count Register (CORR_ERR_CNT7) |                32 | RW       | 0000_0000h    |
| 180h     | ERM Memory 8 Error Address Register (EAR8)                    |                32 | R        | 0000_0000h    |
| 184h     | ERM Memory 8 Syndrome Register (SYN8)                         |                32 | R        | 0000_0000h    |
| 188h     | ERM Memory 8 Correctable Error Count Register (CORR_ERR_CNT8) |                32 | RW       | 0000_0000h    |
| 190h     | ERM Memory 9 Error Address Register (EAR9)                    |                32 | R        | 0000_0000h    |

Table continues on the next page...

Error Reporting Module (ERM)

Table continued from the previous page...

| Offset   | Register                                                        |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------------------------------------|-------------------|----------|---------------|
| 194h     | ERM Memory 9 Syndrome Register (SYN9)                           |                32 | R        | 0000_0000h    |
| 198h     | ERM Memory 9 Correctable Error Count Register (CORR_ERR_CNT9)   |                32 | RW       | 0000_0000h    |
| 1A0h     | ERM Memory 10 Error Address Register (EAR10)                    |                32 | R        | 0000_0000h    |
| 1A4h     | ERM Memory 10 Syndrome Register (SYN10)                         |                32 | R        | 0000_0000h    |
| 1A8h     | ERM Memory 10 Correctable Error Count Register (CORR_ERR_CNT10) |                32 | RW       | 0000_0000h    |

## 66.8.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23     | 22    | 21   | 20   | 19   | 18    | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|--------|-------|------|------|------|-------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       | 0    |      | 0      | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |        | 2     |      |      |      | 3     |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7      | 6     | 5    | 4    | 3    | 2     | 1    | 0    |
| R      | 0    | ENCIE | 0    |      | 0     | ENCIE |      | 0    | Reserv | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      | ed     | 6     |      |      |      | 7     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |

## Fields

|   Field | Function   |
|---------|------------|
|      31 | Reserved   |
|      30 | ENCIE0     |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ENCIE0    | Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled.        |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled. 1b - Interrupt notification of Memory 1 non-correctable error events is enabled. |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled. |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15        | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -         |                                                                                                                                                                                                                                  |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10 ENCIE5 | ENCIE5 Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled. |
| 9-8 -     | Reserved                                                                                                                                                                                                                         |
| 7 -       | Reserved                                                                                                                                                                                                                         |
| 6 ENCIE6  | ENCIE6 Enable Memory 6 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 6 non-correctable error events is disabled. 1b - Interrupt notification of Memory 6 non-correctable error events is enabled. |
| 5-4 -     | Reserved                                                                                                                                                                                                                         |
| 3 -       | Reserved                                                                                                                                                                                                                         |
| 2 ENCIE7  | ENCIE7 Enable Memory 7 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 7 non-correctable error events is disabled. 1b - Interrupt notification of Memory 7 non-correctable error events is enabled. |
| 1-0       | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| -       |            |

## 66.8.3 ERM Configuration Register 1 (CR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CR1        | 4h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30     | 29   | 28   | 27    | 26     | 25   | 24   | 23   | 22     | 21   | 20   | 19   | 18     | 17   | 16   |
|--------|------|--------|------|------|-------|--------|------|------|------|--------|------|------|------|--------|------|------|
| R      | 0    | ENCIE  | 0    | 0    | ENCIE |        |      |      | 0    | ENCIE  | 0    |      | 0    | Reserv |      | 0    |
| W      |      | 8      |      |      |       | 9      |      |      |      | 10     |      |      |      | ed     |      |      |
| Reset  | 0    | 0      | 0 0  |      | 0     | 0      | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0      | 0    | 0    |
| Bits   | 15   | 14     | 13   | 12   | 11    | 10     | 9    | 8    | 7    | 6      | 5    | 4    | 3    | 2      | 1    | 0    |
| R      | 0    | Reserv | 0    | 0    | 0     | Reserv |      | 0    | 0    | Reserv | 0    |      | 0    | Reserv |      | 0    |
| W      |      | ed     |      |      |       | ed     |      |      |      | ed     |      |      |      | ed     |      |      |
| Reset  | 0    | 0      | 0    | 0    | 0     | 0      | 0    | 0    | 0    | 0      | 0    | 0    | 0    | 0      | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31        | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE8 | ENCIE8 Enable Memory 8 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 8 non-correctable error events is disabled. 1b - Interrupt notification of Memory 8 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27        | Reserved                                                                                                                                                                                                                         |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                             |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                                                                                                      |
| 26 ENCIE9  | ENCIE9 Enable Memory 9 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 9 non-correctable error events is disabled. 1b - Interrupt notification of Memory 9 non-correctable error events is enabled.     |
| 25-24 -    | Reserved                                                                                                                                                                                                                             |
| 23 -       | Reserved                                                                                                                                                                                                                             |
| 22 ENCIE10 | ENCIE10 Enable Memory 10 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 10 non-correctable error events is disabled. 1b - Interrupt notification of Memory 10 non-correctable error events is enabled. |
| 21-20 -    | Reserved                                                                                                                                                                                                                             |
| 19 -       | Reserved                                                                                                                                                                                                                             |
| 18 -       | Reserved                                                                                                                                                                                                                             |
| 17-16 -    | Reserved                                                                                                                                                                                                                             |
| 15 -       | Reserved                                                                                                                                                                                                                             |
| 14 -       | Reserved                                                                                                                                                                                                                             |
| 13-12 -    | Reserved                                                                                                                                                                                                                             |
| 11 -       | Reserved                                                                                                                                                                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 10 -    | Reserved   |
| 9-8 -   | Reserved   |
| 7 -     | Reserved   |
| 6 -     | Reserved   |
| 5-4 -   | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |
| 1-0 -   | Reserved   |

## 66.8.4 ERM Status Register 0 (SR0)

## Offset

| Register   | Offset   |
|------------|----------|
| SR0        | 10h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SBC0 | NCE0 | 0    | SBC1 | NCE1 |      |      |      | SBC2 | NCE2 | 0    |      | SBC3 | NCE3 | 0    |      |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0 0  | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SBC4 | NCE4 | 0    |      | SBC5 | NCE5 |      | 0    | SBC6 | NCE6 | 0    |      | SBC7 | NCE7 |      | 0    |
| W      | W1C  | W1C  |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      | W1C  | W1C  |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 SBC0 | SBC0 Memory 0 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 0 detected. 1b - Single-bit correction event on Memory 0 detected.                                                                                            |
| 30 NCE0 | NCE0 Memory 0 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE0] is enabled. 0b - No non-correctable error event on Memory 0 detected. 1b - Non-correctable error event on Memory 0 detected. |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                           |
| 27 SBC1 | SBC1 Memory 1 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 1 detected. 1b - Single-bit correction event on Memory 1 detected.                                                                                            |
| 26 NCE1 | NCE1 Memory 1 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE1] is enabled.                                                                                                                  |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0b - No non-correctable error event on Memory 1 detected. 1b - Non-correctable error event on Memory 1 detected.                                                                                                                                                                   |
| 25-24 - | Reserved                                                                                                                                                                                                                                                                           |
| 23 SBC2 | SBC2 Memory 2 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 2 detected. 1b - Single-bit correction event on Memory 2 detected.                                                                                            |
| 22 NCE2 | NCE2 Memory 2 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE2] is enabled. 0b - No non-correctable error event on Memory 2 detected. 1b - Non-correctable error event on Memory 2 detected. |
| 21-20 - | Reserved                                                                                                                                                                                                                                                                           |
| 19 SBC3 | SBC3 Memory 3 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 3 detected. 1b - Single-bit correction event on Memory 3 detected.                                                                                            |
| 18 NCE3 | NCE3 Memory 3 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE3] is enabled. 0b - No non-correctable error event on Memory 3 detected. 1b - Non-correctable error event on Memory 3 detected. |
| 17-16 - | Reserved                                                                                                                                                                                                                                                                           |
| 15      | SBC4 Memory 4 Single-Bit Correction Event                                                                                                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SBC4    | Write 1 to clear this field. 0b - No single-bit correction event on Memory 4 detected. 1b - Single-bit correction event on Memory 4 detected.                                                                                                                                      |
| 14 NCE4 | NCE4 Memory 4 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE4] is enabled. 0b - No non-correctable error event on Memory 4 detected. 1b - Non-correctable error event on Memory 4 detected. |
| 13-12 - | Reserved                                                                                                                                                                                                                                                                           |
| 11 SBC5 | SBC5 Memory 5 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 5 detected. 1b - Single-bit correction event on Memory 5 detected.                                                                                            |
| 10 NCE5 | NCE5 Memory 5 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE5] is enabled. 0b - No non-correctable error event on Memory 5 detected. 1b - Non-correctable error event on Memory 5 detected. |
| 9-8 -   | Reserved                                                                                                                                                                                                                                                                           |
| 7 SBC6  | SBC6 Memory 6 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 6 detected. 1b - Single-bit correction event on Memory 6 detected.                                                                                            |
| 6 NCE6  | NCE6 Memory 6 Non-Correctable Error Event                                                                                                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                           |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE6] is enabled. 0b - No non-correctable error event on Memory 6 detected. 1b - Non-correctable error event on Memory 6 detected.                                           |
| 5-4 -   | Reserved                                                                                                                                                                                                                                                                           |
| 3 SBC7  | SBC7 Memory 7 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 7 detected. 1b - Single-bit correction event on Memory 7 detected.                                                                                            |
| 2 NCE7  | NCE7 Memory 7 Non-Correctable Error Event Write 1 to clear this field.This write also clears the corresponding interrupt notification, if CR0[ENCIE7] is enabled. 0b - No non-correctable error event on Memory 7 detected. 1b - Non-correctable error event on Memory 7 detected. |
| 1-0 -   | Reserved                                                                                                                                                                                                                                                                           |

## 66.8.5 ERM Status Register 1 (SR1)

## Offset

| Register   | Offset   |
|------------|----------|
| SR1        | 14h      |

## Function

This 32-bit status register reports error events for available channels.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23    | 22    | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|-------|-------|------|------|------|------|------|------|
| R      | SBC8 | NCE8 | 0    | SBC9 | NCE9 |      |      |      | SBC10 | NCE10 | 0    |      | 0    | 0    | 0    | 0    |
| W      | W1C  | W1C  |      | W1C  | W1C  |      |      |      | W1C   | W1C   |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0 0  | 0    | 0    |      | 0    | 0    | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7     | 6     | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |       |       |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 SBC8 | SBC8 Memory 8 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 8 detected. 1b - Single-bit correction event on Memory 8 detected.                                                                                             |
| 30 NCE8 | NCE8 Memory 8 Non-Correctable Error Event Write 1 to clear this field. This write also clears the corresponding interrupt notification, if CR1[ENCIE8] is enabled. 0b - No non-correctable error event on Memory 8 detected. 1b - Non-correctable error event on Memory 8 detected. |
| 29-28 - | Reserved                                                                                                                                                                                                                                                                            |
| 27 SBC9 | SBC9 Memory 9 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 9 detected. 1b - Single-bit correction event on Memory 9 detected.                                                                                             |
| 26 NCE9 | NCE9 Memory 9 Non-Correctable Error Event Write 1 to clear this field. This write also clears the corresponding interrupt notification, if CR1[ENCIE9] is enabled.                                                                                                                  |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                 |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - No non-correctable error event on Memory 9 detected. 1b - Non-correctable error event on Memory 9 detected.                                                                                                                                                                         |
| 25-24 -  | Reserved                                                                                                                                                                                                                                                                                 |
| 23 SBC10 | SBC10 Memory 10 Single-Bit Correction Event Write 1 to clear this field. 0b - No single-bit correction event on Memory 10 detected. 1b - Single-bit correction event on Memory 10 detected.                                                                                              |
| 22 NCE10 | NCE10 Memory 10 Non-Correctable Error Event Write 1 to clear this field. This write also clears the corresponding interrupt notification, if CR1[ENCIE10] is enabled. 0b - No non-correctable error event on Memory 10 detected. 1b - Non-correctable error event on Memory 10 detected. |
| 21-20 -  | Reserved                                                                                                                                                                                                                                                                                 |
| 19-16 -  | Reserved                                                                                                                                                                                                                                                                                 |
| 15-12 -  | Reserved                                                                                                                                                                                                                                                                                 |
| 11-8 -   | Reserved                                                                                                                                                                                                                                                                                 |
| 7-4 -    | Reserved                                                                                                                                                                                                                                                                                 |
| 3-0 -    | Reserved                                                                                                                                                                                                                                                                                 |

## 66.8.6 ERM Memory a Error Address Register (EAR0 - EAR10)

## Offset

For a = 0 to 10:

| Register   | Offset           |
|------------|------------------|
| EARa       | 100h + (a × 10h) |

## Function

Each ERM Memory n Error Address Register is a 32-bit register for capturing the address of the last ECC event in Memoryn, wheren denotes the memory channel. Any attempted write to EARn is ignored.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  | EAR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                             |
|---------|----------------------------------------------------------------------------------------------------------------------|
| 31-0    | EAR                                                                                                                  |
| EAR     | Memory n Error Address -This field contains the faulting system address of the last recorded ECC event on Memory n . |

## 66.8.7 ERM Memory a Syndrome Register (SYN0 - SYN10)

## Offset

For a = 0 to 10:

| Register   | Offset           |
|------------|------------------|
| SYNa       | 104h + (a × 10h) |

## Function

The ERM Memory n Syndrome Register is a 32-bit register for capturing the calculated syndrome of the last ECC event on Memoryn, wheren denotes the memory channel. Any attempted write to SYNn is ignored. The syndrome value identifies the pertinent bit position on a correctable, single-bit data inversion or a non-correctable, single-bit address inversion. The syndrome value does not provide any additional diagnostic information on non-correctable, multi-bit inversions.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | SYNDROME | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |          |          |          |          |          |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                        |
|----------|-----------------------------------------------------------------------------------------------------------------|
| 31-24    | SYNDROME                                                                                                        |
| SYNDROME | Memory n Syndrome -This field contains the ECCsyndrome associated with the last recorded ECCevent on Memory n . |
| 23-0 -   | Reserved                                                                                                        |

## 66.8.8 ERM Memory a Correctable Error Count Register (CORR\_ERR\_CNT0 - CORR\_ERR\_CNT10)

## Offset

| Register       | Offset   |
|----------------|----------|
| CORR_ERR_CNT0  | 108h     |
| CORR_ERR_CNT1  | 118h     |
| CORR_ERR_CNT2  | 128h     |
| CORR_ERR_CNT3  | 138h     |
| CORR_ERR_CNT4  | 148h     |
| CORR_ERR_CNT5  | 158h     |
| CORR_ERR_CNT6  | 168h     |
| CORR_ERR_CNT7  | 178h     |
| CORR_ERR_CNT8  | 188h     |
| CORR_ERR_CNT9  | 198h     |
| CORR_ERR_CNT10 | 1A8h     |

Error Reporting Module (ERM)

## Function

Each 32-bit ERM Memory n Correctable Error Count Register records the count value of the number of correctable ECC error events for Memoryn, wheren denotes the memory channel.

## NOTE

Non-correctable errors are considered a serious fault, so the ERM does not provide any mechanism to count non-correctable errors. Only correctable errors are counted.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                         |
| 7-0     | Memory n Correctable Error Count                                                                                                                                                                                                                                                                                                                                                                                 |
| COUNT   | For each correctable error event, the ERMincrements this field's error count value until the counter reaches its maximum value FFh. COUNTvalue will stop when it reaches maximum value FFh and will not wrap even if additional errors occur. Read this field to determine the correctable error count value so far. Write all zeros to this field to reset the counter. Writing a non-zero value has no effect. |

## 66.9 ERM\_PFE1 register descriptions

You can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes

Based on the design implementation, the following XFR error behavior is evident at the IPS interface.

- Within the ERM memory map, an XFR error is evident at reserved addresses from location 20h to FFh.

Error Reporting Module (ERM)

Error Reporting Module (ERM)

- No XFR error is evident at reserved addresses in memory spaces allocated to each channel. For example: For channel 0, for read/write accesses to reserved address 10Ch, the XFR error is 0.
- For accesses to locations beyond the addresses allocated for the final channel, the XFR error is 1.

## NOTE

- See the chip-specific ERM information at the beginning of this chapter for details on Memory channel mapping.
- To access the channel registers, corresponding memory channel clock must be enabled.

## 66.9.1 ERM\_PFE1 memory map

ERM\_PFE1 base address: 4403\_5000h

| Offset   | Register                                                      |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | ERM Configuration Register 0 (CR0)                            |                32 | RW       | 0000_0000h    |
| 4h       | ERM Configuration Register 1 (CR1)                            |                32 | RW       | 0000_0000h    |
| 10h      | ERM Status Register 0 (SR0)                                   |                32 | RW       | 0000_0000h    |
| 14h      | ERM Status Register 1 (SR1)                                   |                32 | RW       | 0000_0000h    |
| 100h     | ERM Memory 0 Error Address Register (EAR0)                    |                32 | R        | 0000_0000h    |
| 104h     | ERM Memory 0 Syndrome Register (SYN0)                         |                32 | R        | 0000_0000h    |
| 108h     | ERM Memory 0 Correctable Error Count Register (CORR_ERR_CNT0) |                32 | RW       | 0000_0000h    |
| 110h     | ERM Memory 1 Error Address Register (EAR1)                    |                32 | R        | 0000_0000h    |
| 114h     | ERM Memory 1 Syndrome Register (SYN1)                         |                32 | R        | 0000_0000h    |
| 118h     | ERM Memory 1 Correctable Error Count Register (CORR_ERR_CNT1) |                32 | RW       | 0000_0000h    |
| 120h     | ERM Memory 2 Error Address Register (EAR2)                    |                32 | R        | 0000_0000h    |
| 124h     | ERM Memory 2 Syndrome Register (SYN2)                         |                32 | R        | 0000_0000h    |
| 128h     | ERM Memory 2 Correctable Error Count Register (CORR_ERR_CNT2) |                32 | RW       | 0000_0000h    |
| 130h     | ERM Memory 3 Error Address Register (EAR3)                    |                32 | R        | 0000_0000h    |
| 134h     | ERM Memory 3 Syndrome Register (SYN3)                         |                32 | R        | 0000_0000h    |
| 138h     | ERM Memory 3 Correctable Error Count Register (CORR_ERR_CNT3) |                32 | RW       | 0000_0000h    |
| 140h     | ERM Memory 4 Error Address Register (EAR4)                    |                32 | R        | 0000_0000h    |
| 144h     | ERM Memory 4 Syndrome Register (SYN4)                         |                32 | R        | 0000_0000h    |
| 148h     | ERM Memory 4 Correctable Error Count Register (CORR_ERR_CNT4) |                32 | RW       | 0000_0000h    |
| 150h     | ERM Memory 5 Error Address Register (EAR5)                    |                32 | R        | 0000_0000h    |
| 154h     | ERM Memory 5 Syndrome Register (SYN5)                         |                32 | R        | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                                        |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------------------------------------|-------------------|----------|---------------|
| 158h     | ERM Memory 5 Correctable Error Count Register (CORR_ERR_CNT5)   |                32 | RW       | 0000_0000h    |
| 160h     | ERM Memory 6 Error Address Register (EAR6)                      |                32 | R        | 0000_0000h    |
| 164h     | ERM Memory 6 Syndrome Register (SYN6)                           |                32 | R        | 0000_0000h    |
| 168h     | ERM Memory 6 Correctable Error Count Register (CORR_ERR_CNT6)   |                32 | RW       | 0000_0000h    |
| 170h     | ERM Memory 7 Error Address Register (EAR7)                      |                32 | R        | 0000_0000h    |
| 174h     | ERM Memory 7 Syndrome Register (SYN7)                           |                32 | R        | 0000_0000h    |
| 178h     | ERM Memory 7 Correctable Error Count Register (CORR_ERR_CNT7)   |                32 | RW       | 0000_0000h    |
| 180h     | ERM Memory 8 Error Address Register (EAR8)                      |                32 | R        | 0000_0000h    |
| 184h     | ERM Memory 8 Syndrome Register (SYN8)                           |                32 | R        | 0000_0000h    |
| 188h     | ERM Memory 8 Correctable Error Count Register (CORR_ERR_CNT8)   |                32 | RW       | 0000_0000h    |
| 190h     | ERM Memory 9 Error Address Register (EAR9)                      |                32 | R        | 0000_0000h    |
| 194h     | ERM Memory 9 Syndrome Register (SYN9)                           |                32 | R        | 0000_0000h    |
| 198h     | ERM Memory 9 Correctable Error Count Register (CORR_ERR_CNT9)   |                32 | RW       | 0000_0000h    |
| 1A0h     | ERM Memory 10 Error Address Register (EAR10)                    |                32 | R        | 0000_0000h    |
| 1A4h     | ERM Memory 10 Syndrome Register (SYN10)                         |                32 | R        | 0000_0000h    |
| 1A8h     | ERM Memory 10 Correctable Error Count Register (CORR_ERR_CNT10) |                32 | RW       | 0000_0000h    |
| 1B0h     | ERM Memory 11 Error Address Register (EAR11)                    |                32 | R        | 0000_0000h    |
| 1B4h     | ERM Memory 11 Syndrome Register (SYN11)                         |                32 | R        | 0000_0000h    |
| 1B8h     | ERM Memory 11 Correctable Error Count Register (CORR_ERR_CNT11) |                32 | RW       | 0000_0000h    |
| 1C0h     | ERM Memory 12 Error Address Register (EAR12)                    |                32 | R        | 0000_0000h    |
| 1C4h     | ERM Memory 12 Syndrome Register (SYN12)                         |                32 | R        | 0000_0000h    |
| 1C8h     | ERM Memory 12 Correctable Error Count Register (CORR_ERR_CNT12) |                32 | RW       | 0000_0000h    |

Error Reporting Module (ERM)

## 66.9.2 ERM Configuration Register 0 (CR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CR0        | 0h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27    | 26    | 25   | 24   | 23     | 22    | 21   | 20   | 19   | 18    | 17   | 16   |
|--------|------|-------|------|------|-------|-------|------|------|--------|-------|------|------|------|-------|------|------|
| R      | 0    | ENCIE | 0    | 0    | ENCIE |       |      |      | 0      | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 0     |      |      |       | 1     |      |      |        | 2     |      |      |      | 3     |      |      |
| Reset  | 0    | 0     | 0 0  |      | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |
| Bits   | 15   | 14    | 13   | 12   | 11    | 10    | 9    | 8    | 7      | 6     | 5    | 4    | 3    | 2     | 1    | 0    |
| R      | 0    | ENCIE | 0    | 0    | 0     | ENCIE |      | 0    | Reserv | ENCIE | 0    |      | 0    | ENCIE |      | 0    |
| W      |      | 4     |      |      |       | 5     |      |      | ed     | 6     |      |      |      | 7     |      |      |
| Reset  | 0    | 0     | 0    | 0    | 0     | 0     | 0    | 0    | 0      | 0     | 0    | 0    | 0    | 0     | 0    | 0    |

## Fields

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -      | Reserved                                                                                                                                                                                                                         |
| 30 ENCIE0 | ENCIE0 Enable Memory 0 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 0 non-correctable error events is disabled. 1b - Interrupt notification of Memory 0 non-correctable error events is enabled. |
| 29-28 -   | Reserved                                                                                                                                                                                                                         |
| 27 -      | Reserved                                                                                                                                                                                                                         |
| 26 ENCIE1 | ENCIE1 Enable Memory 1 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 1 non-correctable error events is disabled.                                                                                  |

Table continues on the next page...

Error Reporting Module (ERM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 1b - Interrupt notification of Memory 1 non-correctable error events is enabled.                                                                                                                                                 |
| 25-24 -   | Reserved                                                                                                                                                                                                                         |
| 23 -      | Reserved                                                                                                                                                                                                                         |
| 22 ENCIE2 | ENCIE2 Enable Memory 2 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 2 non-correctable error events is disabled. 1b - Interrupt notification of Memory 2 non-correctable error events is enabled. |
| 21-20 -   | Reserved                                                                                                                                                                                                                         |
| 19 -      | Reserved                                                                                                                                                                                                                         |
| 18 ENCIE3 | ENCIE3 Enable Memory 3 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 3 non-correctable error events is disabled. 1b - Interrupt notification of Memory 3 non-correctable error events is enabled. |
| 17-16 -   | Reserved                                                                                                                                                                                                                         |
| 15 -      | Reserved                                                                                                                                                                                                                         |
| 14 ENCIE4 | ENCIE4 Enable Memory 4 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 4 non-correctable error events is disabled. 1b - Interrupt notification of Memory 4 non-correctable error events is enabled. |
| 13-12 -   | Reserved                                                                                                                                                                                                                         |
| 11 -      | Reserved                                                                                                                                                                                                                         |
| 10        | ENCIE5                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                         |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ENCIE5   | Enable Memory 5 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 5 non-correctable error events is disabled. 1b - Interrupt notification of Memory 5 non-correctable error events is enabled.        |
| 9-8 -    | Reserved                                                                                                                                                                                                                         |
| 7 -      | Reserved                                                                                                                                                                                                                         |
| 6 ENCIE6 | ENCIE6 Enable Memory 6 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 6 non-correctable error events is disabled. 1b - Interrupt notification of Memory 6 non-correctable error events is enabled. |
| 5-4 -    | Reserved                                                                                                                                                                                                                         |
| 3 -      | Reserved                                                                                                                                                                                                                         |
| 2 ENCIE7 | ENCIE7 Enable Memory 7 Non-Correctable Interrupt Notification 0b - Interrupt notification of Memory 7 non-correctable error events is disabled. 1b - Interrupt notification of Memory 7 non-correctable error events is enabled. |
| 1-0 -    | Reserved                                                                                                                                                                                                                         |

## 66.9.3 ERM Configuration Register 1 (CR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CR1        | 4h       |

## Function

This 32-bit control register configures the interrupt notification capability for available channels.