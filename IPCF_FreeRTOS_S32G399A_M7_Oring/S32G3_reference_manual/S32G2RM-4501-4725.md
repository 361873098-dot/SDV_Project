Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 0b - Error injection is disabled on Error Injection Channel 14 1b - Error injection is enabled on Error Injection Channel 14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 16 EICH15EN | Error Injection Channel 15 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 15 1b - Error injection is enabled on Error Injection Channel 15 |
| 15 EICH16EN | Error Injection Channel 16 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 16 1b - Error injection is enabled on Error Injection Channel 16 |
| 14 EICH17EN | Error Injection Channel 17 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 17 1b - Error injection is enabled on Error Injection Channel 17 |
| 13 EICH18EN | Error Injection Channel 18 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 18 1b - Error injection is enabled on Error Injection Channel 18                                                                                                                                                                                                         |
| 12 EICH19EN | Error Injection Channel 19 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 19 1b - Error injection is enabled on Error Injection Channel 19 |
| 11 EICH20EN | Error Injection Channel 20 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 20 1b - Error injection is enabled on Error Injection Channel 20 |
| 10 EICH21EN | Error Injection Channel 21 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 21 1b - Error injection is enabled on Error Injection Channel 21 |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 9 EICH22EN | Error Injection Channel 22 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 22 1b - Error injection is enabled on Error Injection Channel 22 |
| 8 EICH23EN | Error Injection Channel 23 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 23                                                               |
| 7 EICH24EN | Error Injection Channel 24 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 24 1b - Error injection is enabled on Error Injection Channel 24 |
| 6 EICH25EN | Error Injection Channel 25 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel.                                                                                                                              |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | 0b - Error injection is disabled on Error Injection Channel 25 1b - Error injection is enabled on Error Injection Channel 25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 5 EICH26EN | Error Injection Channel 26 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 26 1b - Error injection is enabled on Error Injection Channel 26 |
| 4 EICH27EN | Error Injection Channel 27 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 27 1b - Error injection is enabled on Error Injection Channel 27 |
| 3 EICH28EN | Error Injection Channel 28 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 28 1b - Error injection is enabled on Error Injection Channel 28 |
| 2 EICH29EN | Error Injection Channel 29 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 29 1b - Error injection is enabled on Error Injection Channel 29                                                                                                                                                                                                         |
| 1 EICH30EN | Error Injection Channel 30 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 30 1b - Error injection is enabled on Error Injection Channel 30 |
| 0 EICH31EN | Error Injection Channel 31 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 31 1b - Error injection is enabled on Error Injection Channel 31 |

## 74.16.4 Error Injection Channel Descriptor n, Word1 (EICHD0\_WORD1 - EICHD1\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD0_WORD1 | 104h     |
| EICHD1_WORD1 | 144h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted

Error Injection Module (EIM)

or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W       |      |      |      |      |      |      |      |               |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 15-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.5 Error Injection Channel Descriptor n, Word1 (EICHD2\_WORD1 - EICHD3\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD2_WORD1 | 184h     |
| EICHD3_WORD1 | 1C4h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

## Diagram

<!-- image -->

| Bits   | 31              | 30              | 29              | 28              | 27              | 26              | 25              | 24              | 23              | 22              | 21              | 20              | 19              | 18              | 17              | 16              |
|--------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| R      | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |
| W      |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |
| Bits   | 15              | 14              | 13              | 12              | 11              | 10              | 9               | 8               | 7               | 6               | 5               | 4               | 3               | 2               | 1               | 0               |
| R      | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK | 0 B0_3DATA_MASK |
| W      |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |

## Fields

| Field              | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 7-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.6 Error Injection Channel Descriptor 4, Word1 (EICHD4\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD4_WORD1 | 204h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W       |      |      |      |      |      |      |      |               |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0 0  | 0    | 0    | 0    | 0    | 0    | 0    |               | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 15-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.7 Error Injection Channel Descriptor n, Word1 (EICHD5\_WORD1 - EICHD6\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD5_WORD1 | 244h     |
| EICHD6_WORD1 | 284h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31            | 30            | 29            | 28            | 27            | 26            | 25            | 24            | 23            | 22            | 21            | 20            | 19            | 18            | 17            | 16            |
|--------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|
| R      | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |
| W      |               |               |               |               |               |               |               |               |               |               |               |               |               |               |               |               |
| Reset  | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |
| Bits   | 15            | 14            | 13            | 12            | 11            | 10            | 9             | 8             | 7             | 6             | 5             | 4             | 3             | 2             | 1             | 0             |
| R      | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |
| W      | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK | B0_3DATA_MASK |
| Reset  | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |

## Fields

| Field              | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 7-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.8 Error Injection Channel Descriptor 7, Word1 (EICHD7\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD7_WORD1 | 2C4h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W       |      |      |      |      |      |      |      |               |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0 0  | 0    |      | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 15-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.9 Error Injection Channel Descriptor n, Word0 (EICHD8\_WORD0 - EICHD13\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD8_WORD0  | 300h     |
| EICHD9_WORD0  | 340h     |
| EICHD10_WORD0 | 380h     |
| EICHD11_WORD0 | 3C0h     |
| EICHD12_WORD0 | 400h     |
| EICHD13_WORD0 | 440h     |

Error Injection Module (EIM)

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.10 Error Injection Channel Descriptor n, Word1 (EICHD8\_WORD1 - EICHD27\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD8_WORD1 | 304h     |

Table continues on the next page...

Error Injection Module (EIM)

Table continued from the previous page...

| Register      | Offset   |
|---------------|----------|
| EICHD9_WORD1  | 344h     |
| EICHD10_WORD1 | 384h     |
| EICHD11_WORD1 | 3C4h     |
| EICHD12_WORD1 | 404h     |
| EICHD13_WORD1 | 444h     |
| EICHD14_WORD1 | 484h     |
| EICHD15_WORD1 | 4C4h     |
| EICHD16_WORD1 | 504h     |
| EICHD17_WORD1 | 544h     |
| EICHD18_WORD1 | 584h     |
| EICHD19_WORD1 | 5C4h     |
| EICHD20_WORD1 | 604h     |
| EICHD21_WORD1 | 644h     |
| EICHD22_WORD1 | 684h     |
| EICHD23_WORD1 | 6C4h     |
| EICHD24_WORD1 | 704h     |
| EICHD25_WORD1 | 744h     |
| EICHD26_WORD1 | 784h     |
| EICHD27_WORD1 | 7C4h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

74.16.11 Error Injection Channel Descriptor n, Word2 (EICHD8\_WORD2 - EICHD28\_WORD2)

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD8_WORD2  | 308h     |
| EICHD9_WORD2  | 348h     |
| EICHD10_WORD2 | 388h     |
| EICHD11_WORD2 | 3C8h     |
| EICHD12_WORD2 | 408h     |
| EICHD13_WORD2 | 448h     |
| EICHD15_WORD2 | 4C8h     |
| EICHD17_WORD2 | 548h     |
| EICHD19_WORD2 | 5C8h     |
| EICHD21_WORD2 | 648h     |
| EICHD23_WORD2 | 6C8h     |
| EICHD25_WORD2 | 748h     |
| EICHD26_WORD2 | 788h     |
| EICHD27_WORD2 | 7C8h     |
| EICHD28_WORD2 | 808h     |

## Function

The third word of the Error Injection Channel Descriptor, when present, defines a right-justified mask field. The bits in B4\_7DATA\_MASK correspond to bytes 4-7 of the read data bus. Each bit specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      | B4_7DATA_MASK |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B4_7DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B4_7DATA_MA SK | Data Mask Bytes 4-7 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. For each channel: For the specific DATA_MASK bits to which B4_7DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 4-7 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 4-7 on the read data bus is inverted. |

## 74.16.12 Error Injection Channel Descriptor 14, Word0 (EICHD14\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD14_WORD0 | 480h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.13 Error Injection Channel Descriptor 15, Word0 (EICHD15\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD15_WORD0 | 4C0h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.14 Error Injection Channel Descriptor 16, Word0 (EICHD16\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD16_WORD0 | 500h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.15 Error Injection Channel Descriptor 17, Word0 (EICHD17\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD17_WORD0 | 540h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.16 Error Injection Channel Descriptor 18, Word0 (EICHD18\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD18_WORD0 | 580h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.17 Error Injection Channel Descriptor 19, Word0 (EICHD19\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD19_WORD0 | 5C0h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.18 Error Injection Channel Descriptor 20, Word0 (EICHD20\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD20_WORD0 | 600h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.19 Error Injection Channel Descriptor 21, Word0 (EICHD21\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD21_WORD0 | 640h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.20 Error Injection Channel Descriptor 22, Word0 (EICHD22\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD22_WORD0 | 680h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.21 Error Injection Channel Descriptor 23, Word0 (EICHD23\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD23_WORD0 | 6C0h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.22 Error Injection Channel Descriptor 24, Word0 (EICHD24\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD24_WORD0 | 700h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.23 Error Injection Channel Descriptor 25, Word0 (EICHD25\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD25_WORD0 | 740h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|
| R W    |             |             |             |             |             |             |             | CHKBIT_MASK |             |             |             |             |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3    | 2    | 1    | 0    |
| R      |             |             |             |             |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    |

## Fields

| Field            | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[27:0] (28 bits wide), CHKBIT_MASK[27] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 3-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## 74.16.24 Error Injection Channel Descriptor 25, Word3 (EICHD25\_WORD3)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD25_WORD3 | 74Ch     |

## Function

The fourth word of the Error Injection Channel Descriptor, when present, defines a right-justified mask field. The bits in B8\_11DATA\_MASK correspond to bytes 8-11 of the read data bus. Each bit specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31             | 30             | 29             | 28             | 27             | 26             | 25             | 24             | 23             | 22             | 21             | 20             | 19             | 18             | 17             | 16             |
|--------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|----------------|
| R      |                |                |                |                |                |                |                | B8_11DATA_MASK |                |                |                |                |                |                |                |                |
| Reset  | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              |
| Bits   | 15             | 14             | 13             | 12             | 11             | 10             | 9              | 8              | 7              | 6              | 5              | 4              | 3              | 2              | 1              | 0              |
| R      |                |                |                |                |                |                |                |                |                |                |                |                |                |                |                |                |
| W      | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK | B8_11DATA_MASK |
| Reset  | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              | 0              |

## Fields

| Field                | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B8_11DATA_M ASK | Data Mask Bytes 8-11 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. For the specific DATA_MASK bits to which B8_11DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 8-11 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 8-11 on the read data bus is inverted. |

## 74.16.25 Error Injection Channel Descriptor 25, Word4 (EICHD25\_WORD4)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD25_WORD4 | 750h     |

## Function

The fifth word of the Error Injection Channel Descriptor, when present, defines a right-justified mask field. The bits in B12\_15DATA\_MASK correspond to bytes 12-15 of the read data bus. Each bit specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31              | 30              | 29              | 28              | 27              | 26              | 25              | 24              | 23              | 22              | 21              | 20              | 19              | 18              | 17              | 16              |
|--------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| R      |                 |                 |                 |                 |                 |                 |                 | B12_15DATA_MASK |                 |                 |                 |                 |                 |                 |                 |                 |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |
| Bits   | 15              | 14              | 13              | 12              | 11              | 10              | 9               | 8               | 7               | 6               | 5               | 4               | 3               | 2               | 1               | 0               |
| R      |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |                 |
| W      | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK | B12_15DATA_MASK |
| Reset  | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               | 0               |

## Fields

| Field                 | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B12_15DATA_ MASK | Data Mask Bytes 12-15 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. For the specific DATA_MASK bits to which B12_15DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 12-15 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 12-15 on the read data bus is inverted. |

## 74.16.26 Error Injection Channel Descriptor 26, Word0 (EICHD26\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD26_WORD0 | 780h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25          | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|-------------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |             |      |      |      |      |      |      |      | 0    |      |
| W      |      |      |      |      |      |      | CHKBIT_MASK |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9           | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |             |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-18 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[13:0] (14 bits wide), CHKBIT_MASK[13] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 17-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## 74.16.27 Error Injection Channel Descriptor 27, Word0 (EICHD27\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD27_WORD0 | 7C0h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[7:0] (8 bits wide), CHKBIT_MASK[7] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 23-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## 74.16.28 Error Injection Channel Descriptor 28, Word0 (EICHD28\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD28_WORD0 | 800h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31            | 30            | 29            | 28            | 27            | 26            | 25            | 24            | 23            | 22            | 21            | 20            | 19            | 18            | 17            | 16            |
|--------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|---------------|
| R      |               |               |               |               |               |               |               |               |               |               |               |               |               |               |               |               |
|        | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W | CHKBIT_MASK W |
| Reset  | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |
| Bits   | 15            | 14            | 13            | 12            | 11            | 10            | 9             | 8             | 7             | 6             | 5             | 4             | 3             | 2             | 1             | 0             |
| R      |               |               |               |               |               |               |               |               |               |               |               |               |               |               | 0             | 0             |
| W      | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   | CHKBIT_MASK   |               |               |
| Reset  | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             | 0             |

## Fields

| Field            | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-2 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[29:0] (30 bits wide), CHKBIT_MASK[29] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 1-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## 74.16.29 Error Injection Channel Descriptor n, Word1 (EICHD28\_WORD1 - EICHD29\_WORD1)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD28_WORD1 | 804h     |
| EICHD29_WORD1 | 844h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W       |      |      |      |      |      |      |      |               |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0 0  | 0    | 0    | 0    | 0    | 0    | 0    |               | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 15-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.16.30 Error Injection Channel Descriptor 29, Word0 (EICHD29\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD29_WORD0 | 840h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23          | 22          | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|------|------|------|------|------|------|
| R      |             |             |             |             |             |             |             |             |             |             |      |      |      |      |      |      |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7           | 6           | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |             |             |             |             |             |             |             |             |             |             |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-22 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[9:0] (10 bits wide), CHKBIT_MASK[9] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 21-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## 74.16.31 Error Injection Channel Descriptor n, Word0 (EICHD30\_WORD0 - EICHD31\_WORD0)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD30_WORD0 | 880h     |
| EICHD31_WORD0 | 8C0h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27   | 26   | 25   | 24          | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------------|-------------|-------------|-------------|------|------|------|-------------|------|------|------|------|------|------|------|------|
| R      |             |             |             |             |      |      |      | CHKBIT_MASK |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15          | 14          | 13          | 12          | 11   | 10   | 9    | 8           | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |             |             |             |             | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK | CHKBIT_MASK |      |      |      |             |      |      |      |      |      |      |      |      |
| Reset  | 0           | 0           | 0           | 0           | 0    | 0    | 0    | 0           | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-12 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[19:0] (20 bits wide), CHKBIT_MASK[19] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 11-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

## 74.16.32 Error Injection Channel Descriptor n, Word1 (EICHD30\_WORD1 - EICHD31\_WORD1)

## Offset

| Register      | Offset   |
|---------------|----------|
| EICHD30_WORD1 | 884h     |
| EICHD31_WORD1 | 8C4h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.17 EIM\_PFE6 register descriptions

The EIM provides a programming model mapped to an on-platform peripheral slot.

## Programming model access

All system bus masters can access the programming model:

- Only in supervisor mode
- Using only 32-bit (word) accesses

Any of the following attempted references to the programming model generates an error termination:

- In user mode
- Using non-32-bit access sizes
- To undefined (reserved) addresses

Attempted updates to the programming model while the EIM is in the midst of an operation result in non-deterministic behavior.

## Error injection channel descriptor: function and structure

Each error injection channel descriptor:

- Specifies a mask that defines which bits of the read data and/or checkbit bus from target RAM are inverted on a read access.
- Consists of a 128-bit (16-byte) structure, composed of four 32-bit words, in the EIM programming model. Unused words are not documented.

Error Injection Module (EIM)

- Word0 (EICHDn\_WORD0), if present, defines the checkbit mask.
- Word1-3 (EICHDn\_WORD1-3), if present, define the data mask. Word2 and Word3 are present only when required by the total width of the channel's data mask. See Error injection channel descriptor: DATA\_MASK details.

The multiple channel descriptors are organized sequentially.

## Error injection channel descriptor: DATA\_MASK details

For each channel: The following table shows the total width of DATA\_MASK and the distribution of its bits across the WORD registers.

Table 644. Error injection channel descriptor: DATA\_MASK details

| Channel   | DATA_MASK total width (bits)   | Specific bits of DATA_MASK in   | Specific bits of DATA_MASK in   | Specific bits of DATA_MASK in   |
|-----------|--------------------------------|---------------------------------|---------------------------------|---------------------------------|
| Channel   | DATA_MASK total width (bits)   | WORD1                           | WORD2                           | WORD3                           |
| 0         | 32                             | 31-0                            | -                               | -                               |
| 1         | 32                             | 31-0                            | -                               | -                               |

## 74.17.1 EIM\_PFE6 memory map

EIM\_PFE6 base address: 4405\_A000h

| Offset   | Register                                                   |   Width (In bits) | Access   | Reset value   |
|----------|------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Error Injection Module Configuration Register (EIMCR)      |                32 | RW       | 0000_0000h    |
| 4h       | Error Injection Channel Enable register (EICHEN)           |                32 | RW       | 0000_0000h    |
| 100h     | Error Injection Channel Descriptor 0, Word0 (EICHD0_WORD0) |                32 | RW       | 0000_0000h    |
| 104h     | Error Injection Channel Descriptor 0, Word1 (EICHD0_WORD1) |                32 | RW       | 0000_0000h    |
| 140h     | Error Injection Channel Descriptor 1, Word0 (EICHD1_WORD0) |                32 | RW       | 0000_0000h    |
| 144h     | Error Injection Channel Descriptor 1, Word1 (EICHD1_WORD1) |                32 | RW       | 0000_0000h    |

## 74.17.2 Error Injection Module Configuration Register (EIMCR)

## Offset

| Register   | Offset   |
|------------|----------|
| EIMCR      | 0h       |

## Function

The EIM Configuration Register is used to globally enable/disable the error injection function.

Error Injection Module (EIM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | GEIEN |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | GEIEN |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |

## Fields

| Field   | Function                                                                                                                                                                             |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -  | Reserved                                                                                                                                                                             |
| 0 GEIEN | Global Error Injection Enable This bit globally enables or disables the error injection function of the EIM. This field is initialized by hardware reset. 0b - Disabled 1b - Enabled |

## 74.17.3 Error Injection Channel Enable register (EICHEN)

## Offset

| Register   | Offset   |
|------------|----------|
| EICHEN     | 4h       |

## Function

Each field of the Error Injection Channel Enable register (EICHEN) is used to enable or disable the corresponding error injection channel.

NOTE

To enable an error injection channel, the Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted.

Error Injection Module (EIM)

## Diagram

| Bits   | 31    | 30    | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|-------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | EICH0 | EICH1 | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | EN    | EN    |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14    | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |       |       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 EICH0EN | Error Injection Channel 0 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 0 1b - Error injection is enabled on Error Injection Channel 0 |
| 30 EICH1EN | Error Injection Channel 1 Enable This field enables the corresponding error injection channel. The Global Error Injection Enable (EIMCR[GEIEN]) field must also be asserted to enable error injection. After error injection is enabled, all subsequent read accesses incur one or more bit inversions as defined in the corresponding EICHD n _WORD registers. Error injection remains in effect until the error injection channel is manually disabled via software. Any write to the corresponding EICHD n _WORD registers clears the corresponding EICHEN[EICH n EN] field, disabling the error injection channel. 0b - Error injection is disabled on Error Injection Channel 1 1b - Error injection is enabled on Error Injection Channel 1 |
| 29 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 28 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

Table continues on the next page...

Error Injection Module (EIM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13      | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| -       |            |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7 -     | Reserved   |
| 6 -     | Reserved   |
| 5 -     | Reserved   |
| 4 -     | Reserved   |
| 3 -     | Reserved   |
| 2 -     | Reserved   |
| 1 -     | Reserved   |
| 0 -     | Reserved   |

Error Injection Module (EIM)

## 74.17.4 Error Injection Channel Descriptor n, Word0 (EICHD0\_WORD0 - EICHD1\_WORD0)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD0_WORD0 | 100h     |
| EICHD1_WORD0 | 140h     |

## Function

The first word of the Error Injection Channel Descriptor defines a left-justified mask field: CHKBIT\_MASK. Each bit of CHKBIT\_MASK specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified on read accesses. Successful write to this field clears the corresponding error injection channel valid bit, EICHEN[EICHnEN].

## Diagram

<!-- image -->

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 CHKBIT_MASK | Checkbit Mask This field defines a bit-mapped mask that specifies whether the corresponding bit of the checkbit bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For any unique details about the mapping of CHKBIT_MASK's bits to a channel's target RAM, see the chip-specific EIM information. Because CHKBIT_MASK is left-justified, the highest bit in the bit range is always in the position of the most significant bit. For CHKBIT_MASK[6:0] (7 bits wide), CHKBIT_MASK[6] is in the position of the most significant bit. NOTE 0b - The corresponding bit of the checkbit bus remains unmodified. 1b - The corresponding bit of the checkbit bus is inverted. |
| 24-0 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

Error Injection Module (EIM)

## 74.17.5 Error Injection Channel Descriptor n, Word1 (EICHD0\_WORD1 - EICHD1\_WORD1)

## Offset

| Register     | Offset   |
|--------------|----------|
| EICHD0_WORD1 | 104h     |
| EICHD1_WORD1 | 144h     |

## Function

The second word of the Error Injection Channel Descriptor defines a right-justified mask field. The bits in B0\_3DATA\_MASK correspond to bytes 0-3 of the target bus. Each bit specifies whether the corresponding bit of the target bus should be inverted or remain unmodified on read accesses. A successful write to this field clears the corresponding error injection channel valid field, EICHEN[EICHnEN].

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24            | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|---------------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8             | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | B0_3DATA_MASK |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0             | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 B0_3DATA_MA SK | Data Mask Bytes 0-3 This field defines a bit-mapped mask that specifies whether the corresponding bit of the read data bus from the target RAM should be inverted or remain unmodified. Writes to unimplemented bits are ignored. For the specific DATA_MASK bits to which B0_3DATA_MASK corresponds, See Error injection channel descriptor: DATA_MASK details. NOTE 0b - The corresponding bit of bytes 0-3 on the read data bus remains unmodified. 1b - The corresponding bit of bytes 0-3 on the read data bus is inverted. |

## 74.18 Functional description

The EIM provides protection against accidental enabling and reconfiguration of the error injection function by enforcing a two-stage enablement mechanism. To properly enable the error injection mechanism for a channel:

- Write 1 to the EICHEN[EICHnEN] field, where n denotes the channel number.

- Write 1 to EIMCR[GEIEN].

## NOTE

When the use case for a channel requires writing any EICHDn\_WORD register, write the EICHDn\_WORD register before executing the two-stage enablement mechanism. A successful write to any EICHDn\_WORD register clears the corresponding EICHEN[EICHnEN] field.

The EIM supports 31 error injection channels. See the chip-specific EIM information for channel assignment details. Each channel:

- Can be assigned to a single memory array interface by intercepting the assigned memory read data bus and checkbit bus, and injects errors by inverting the value transmitted for selected bits on each bus line.
- Can be assigned to a redundant comparison unit by intercepting the signals being compared, and injecting errors by inverting the value transmitted for selected bits on each bus line.

On a memory read access, the applicable EICHDn\_WORD registers define which bits of the read data and/or checkbit bus to invert.

Figure 603 depicts the interception and override of a 64-bit read data bus and an 8-bit checkbit data bus for an example memory array.

## Error injection scenarios

The EIM supports these cases of error injection:

- To generate a single-bit error, invert only 1 bit of the CHKBIT\_MASK or DATA\_MASK in the EICHDn\_WORD registers.
- To generate a multi-bit error, invert only 2 bits of the CHKBIT\_MASK or DATA\_MASK in the EICHDn\_WORD registers.

## NOTE

An attempt to invert more than 2 bits in one operation might result in undefined behavior.

To enable error injection:

1. Set the EICHDn\_WORDm[CHKBIT\_MASK] and EICHDn\_WORDm[Ba\_bDATA\_MASK] fields for each channel that will be driving an injection.
2. Program the EICHEN register to enable the channels that will be injecting errors.
3. Set the EIMCR[GEIEN] field to globally allow all enabled channels to actively inject errors.

To disable error injection, either disable the EIMCR[GEIEN] field or disable the individual channel enable fields of the EICHEN register.

## 74.19 Initialization

This module does not require initialization.

## 74.21 Glossary

SEC-DED

Single error correct - dual error detect

ECC

Error correction code

Error Injection Module (EIM)

## Chapter 75 Cyclic Redundancy Check (CRC) Unit

## 75.1 Overview

The Cyclic Redundancy Check (CRC) computing unit is dedicated to the computation of CRC, off-loading the CPU. Each context has a separate CRC computation engine to allow the concurrent computation of the CRC of multiple data streams. The CRC computation is performed at speed without wait-state (WS) insertion. Bit-swap and bit-inversion operations can be applied to the final CRC signature. Each context can be configured with one of the four hard-wired polynomials, normally used for most of the standard communication protocols. The data stream supports multiple data width (byte/halfword/word) formats.

## 75.1.1 Block diagram

See the following figure for an overview of the CRC module. See Features for number of contexts in this module.

<!-- image -->

## 75.1.2 Features

- Peripheral bus interface
- Three contexts for the concurrent CRC computation are supported
- Separate CRC engine for each context
- Zero wait states during the CRC computation (pipeline scheme)
- These hard-wired polynomials:
- CRC-8 VDA CAN
- CRC-16- ITU-T (for telecommunication standardization sector of the international telecommunications union) (CCITT)
- CRC-32 ITU-T V.42 (see note below)
- CRC-8-H2F AUTOSAR polynomial
- Support for byte, halfword, or word width of the input data stream

## NOTE

Although the CRC-32 ITU-T V.42 polynomial is used for CRC generation, the generation algorithm MISR differs from the one used by the IEEE 802.3 standard.

## 75.2 Functional description

The CRC module supports the CRC computation for each context. Each context has its own complete set of registers, including the CRC engine. The data flow of each context can be interleaved. The data stream can be structured as a sequence of bytes, halfwords, or words. The input data sequence is provided that can consist a mix of data formats (byte, halfword and word), which allows writing to the input data register (CRC\_INP).

Cyclic Redundancy Check (CRC) Unit

The data stream is generally executed by n concurrent DMA data transfers (mem2mem), where n is less or equal to the number of contexts.

The standard generator polynomials are provided in Figure 605, Figure 606, and Figure 607 for the CRC computation of each context. Two separate registers are available: CRC\_INP for writing data and CRC\_CSTAT for retrieving the (accumulated up to now) CRC.

<!-- image -->

The initial seed value of the CRC can be programmed by initializing the CRC\_CSTAT register. A diagram illustrating serial data loading of the CRC engine is shown in Figure 609 for CRC-CCITT. Note that, conceptually, the least-significant or "right-most" bit shown in Input Register is fed first into the engine. The actual implementation executes the CRC computation in a single clock cycle (parallel data loading). A pipeline scheme has been adopted to decouple the Peripheral bus interface (IPS) from the CRC engine to allow the computation of the CRC at speed (zero wait states).

If the CRC signature is used for encapsulation in the data frame of a communication protocol (for example, Serial peripheral interface (SPI), and so on.), a bit swap (high bit for low bit or low bit for high bit) and/or bit inversion of the final CRC signature can be applied to CRC\_OUTP before transmitting the CRC.

## 75.2.1 Peripheral bus interface

The peripheral bus interface is a slave bus used for configuration and data streaming (CRC computation) purposes via CPU or DMA. The following bus operations (contiguous byte enables) are supported:

- Word (32 bits) data write/read operations to any registers
- Low and high halfword (16 bits, data[31:16] or data[15:0]) data write/read operations to any registers
- Byte (8 bits, data[31:24], data[23:16], data[15:8], or data[7:0]) data write/read operations to any registers
- Any other operation (free byte enables or other operations) must be avoided

The CRC module generates a transfer error in the following cases:

- Any write/read access to the register addresses not mapped to the peripheral but included in the address space of the peripheral
- Any write/read operation different from byte/halfword/word (free byte enables or other operations) on each register

## NOTE

Write access to the register addresses not mapped to the peripheral but included in the address space of the peripheral may result in unpredictable functionality. The CRC module should be reconfigured if a transfer error occurs.

The registers of the CRC module are read/write accessible in each access mode:

- User
- Supervisor

The following summarizes bus operation performance:

- Zero wait states (single bus cycle) for each write/read operation to the CRC\_CFG and CRC\_INP registers
- Zero wait states (single bus cycle) for each write operation to the CRC\_ CSTAT register
- Double wait states (3 bus cycles) for each read operation to the CRC\_ CSTAT or CRC\_OUTP registers immediately following (next clock cycle) a write operation to the CRC\_CSTAT, CRC\_INP, or CRC\_CFG registers belonging to the same context; in all the other cases, no wait states are inserted

## 75.2.2 Operation sections

Use of the CRC module is summarized in the flow chart provided in Figure 610 .

Cyclic Redundancy Check (CRC) Unit

Cyclic Redundancy Check (CRC) Unit

Figure 610. CRC computation flow

<!-- image -->

## 75.2.3 Clocking

This module has no clocking considerations.

## 75.2.4 Interrupts

This module has no interrupts.

## 75.3 External signals

This module has no external signals.

## 75.4 Initialization

## 75.4.1 Programming example

The number of contexts depends on the application. The overall number of contexts for the CRC peripheral depends on the number of peripherals that concurrently require intervention by the CRC module. Two main use cases are considered:

- Calculation of the CRC of the configuration registers during the process safety time

Cyclic Redundancy Check (CRC) Unit

- Calculation of the CRC on the incoming/outcoming frames for the communication protocols (not protected with CRC by definition of the protocol itself) used as a safety-relevant peripheral

The signature of the configuration registers is computed correctly only if these registers do not contain any status bit.

Assuming that the DMA engine has n channels (greater than or equal to the number of contexts) configurable for these types of data transfer-mem2mem, periph2mem, and mem2periph-the following sequence, as shown in Figure 611, is applied to manage the transmission data flow:

1. DMA/CRC module configuration (context x, channel x) by CPU.
2. Payload transfer from the MEM to the CRC module (CRC\_INP register) after MSB-to-LSB change (input mirroring) to calculate the CRC signature (phase1) by DMA (mem2mem data transfer, channel x).
3. CRC signature copy from the CRC module (CRC\_OUTP register) to the MEM (phase 2) by CPU.
4. Data block (payload + CRC) transfer from the MEM to the PERIPH module (for example, SPI Tx FIFO) (phase 3) by DMA (mem2periph data transfer, channel x).

Cyclic Redundancy Check (CRC) Unit

Figure 611. DMA-CRC transmission sequence

<!-- image -->

## 75.4.2 Register programming

- INV and/or SWAP (affecting the output only) can be applied to CRC-8, CRC-16, and CRC-32. Both can be applied together.
- SWAP\_BITWISE (affecting the input only) can be applied for all polynomials if required by an application.
- SWAP\_BYTEWISE (affecting the input only) can be applied for CRC-16 and CRC-32 polynomials only.
- SWAP\_BITWISE has priority over SWAP\_BYTEWISE when both are applied together. In this case, only SWAP\_BITWISE executes and SWAP\_BYTEWISE is ignored.

Cyclic Redundancy Check (CRC) Unit

- When generating CRC-32 for the ITU-T V.42 standard, the user needs to set SWAP\_BYTEWISE together with INV and SWAP.
- When generating CRC-16, the user needs to set the SWAP\_BITWISE bit.

## NOTE

The below results and examples are for littleEndian format.

## 75.4.2.1 Configuration register values

The configuration register values that must be set for all the hard wired polynomials are as below:

Table 645. Configuration Register values

| Bit Field      | [31:6]    | 5              | 4             | 3    | 2    | 1    | 0   | Hex Value   |
|----------------|-----------|----------------|---------------|------|------|------|-----|-------------|
|                | RESERVE D | SWAP_BY TEWISE | SWAP_BIT WISE | POLY | POLY | SWAP | INV |             |
| CRC - 16 CCITT | 0         | 0              | 1             | 0    | 0    | 0    | 0   | 0x10        |
| CRC - 32       | 0         | 1              | 0             | 0    | 1    | 1    | 1   | 0x27        |
| CRC - 8        | 0         | 0              | 1             | 1    | 0    | 0    | 1   | 0x19        |
| CRC - 8 H2F    | 0         | 0              | 1             | 1    | 1    | 0    | 1   | 0x1D        |

## 75.4.2.2 Current status register initial values

The initial values for the Current Status Register that must be set for all the hard wired polynomials are as below:

Table 646. Current Status Register initial values

| Polynomials Name    | Initial Values CSTAT   |
|---------------------|------------------------|
| CRC - 16 CCITT      | 0x0000_FFFF            |
| CRC - 8             | 0x0000_00FF            |
| CRC - 32 ITU-T V.42 | 0xFFFF_FFFF            |
| CRC - 8 H2F         | 0x0000_00FF            |

## 75.4.2.3 Examples of input data and expected output data

Some examples of input data and expected output data are as below:

Table 647. Examples of input data and expected output data

| Polynomial     | Initial value (CSTAT)   | Input data   | Output data   |
|----------------|-------------------------|--------------|---------------|
| CRC - 16 CCITT | 0x0000_FFFF             | 0xA1B2C3D4   | 0x4063        |
| CRC - 16 CCITT | 0x0000_FFFF             | 0xDEAD_BEEF  | 0x4097        |
| CRC - 16 CCITT | 0x0000_FFFF             | 0xABCD_1234  | 0x7C9         |
| CRC - 32       | 0xFFFF_FFFF             | 0xA1B2C3D4   | 0x73201942    |
| CRC - 32       | 0xFFFF_FFFF             | 0xDEAD_BEEF  | 0x7C9CA35A    |

Table continues on the next page...

Table 647. Examples of input data and expected output data (continued)

| Polynomial   | Initial value (CSTAT)   | Input data   | Output data   |
|--------------|-------------------------|--------------|---------------|
| CRC - 32     | 0xFFFF_FFFF             | 0xABCD_1234  | 0x7B19C06D    |
| CRC - 8      | 0x0000_00FF             | 0xA1B2C3D4   | 0x2B          |
| CRC - 8      | 0x0000_00FF             | 0xDEAD_BEEF  | 0xB3          |
| CRC - 8      | 0x0000_00FF             | 0xABCD_1234  | 0x37          |
| CRC - 8 H2F  | 0x0000_00FF             | 0xA1B2C3D4   | 0xC4          |
| CRC - 8 H2F  | 0x0000_00FF             | 0xDEAD_BEEF  | 0xEB          |
| CRC - 8 H2F  | 0x0000_00FF             | 0xABCD_1234  | 0x37          |

## 75.5 CRC register descriptions

## 75.5.1 CRC memory map

CRC\_0 base address: 4019\_0000h

| Offset   | Register                         |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------|-------------------|----------|---------------|
| 0h       | Configuration Register (CFG1)    |                32 | RW       | 0000_0000h    |
| 4h       | Input Register (INP1)            |                32 | RW       | 0000_0000h    |
| 8h       | Current Status Register (CSTAT1) |                32 | RW       | FFFF_FFFFh    |
| Ch       | Output Register (OUTP1)          |                32 | R        | FFFF_FFFFh    |
| 10h      | Configuration Register (CFG2)    |                32 | RW       | 0000_0004h    |
| 14h      | Input Register (INP2)            |                32 | RW       | 0000_0000h    |
| 18h      | Current Status Register (CSTAT2) |                32 | RW       | FFFF_FFFFh    |
| 1Ch      | Output Register (OUTP2)          |                32 | R        | FFFF_FFFFh    |
| 20h      | Configuration Register (CFG3)    |                32 | RW       | 0000_0000h    |
| 24h      | Input Register (INP3)            |                32 | RW       | 0000_0000h    |
| 28h      | Current Status Register (CSTAT3) |                32 | RW       | FFFF_FFFFh    |
| 2Ch      | Output Register (OUTP3)          |                32 | R        | FFFF_FFFFh    |

## 75.5.2 Configuration Register (CFG1 - CFG3)

## Offset

| Register   | Offset   |
|------------|----------|
| CFG1       | 0h       |

Table continues on the next page...

Table continued from the previous page...

| Register   | Offset   |
|------------|----------|
| CFG2       | 10h      |
| CFG3       | 20h      |

## Function

<!-- image -->

## Register reset values

| Register   | Reset value   |
|------------|---------------|
| CFG1       | 0000_0000h    |
| CFG2       | 0000_0004h    |
| CFG3       | 0000_0000h    |

## Fields

| Field            | Function                                                                                         |
|------------------|--------------------------------------------------------------------------------------------------|
| 31-24            | Reserved                                                                                         |
| 23-6 -           | Reserved                                                                                         |
| 5 SWAP_BYTEW ISE | Swap CRC_INP byte-wise INV and SWAP bits are set to one for CRC-32 polynomial calculations. NOTE |

Table continues on the next page...

Cyclic Redundancy Check (CRC) Unit

## Table continued from the previous page...

| Field           | Function                                                                                                                                                                                                                                                                                |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 | 0b - Do not swap 1b - Perform byte-wise swap on CRC_INP input data internally for CRC-16 and CRC-32 polynomial calculations                                                                                                                                                             |
| 4 SWAP_BITWIS E | Swap CRC_INP bit-wise 0b - Do not swap 1b - Perform bit-wise swap on CRC_INP input data internally for CRC-8 and CRC-16 and CRC-32 polynomial calculations                                                                                                                              |
| 3-2 POLYG       | Polynomial selection This field can be written only during the configuration phase. 00b - CRC-CCITT polynomial 01b - CRC-32 polynomial 10b - CRC-8 polynomial 11b - CRC-8-H2F AUTOSAR polynomial                                                                                        |
| 1 SWAP          | Swap selection This bit can be written only during the configuration phase. The swap operation provides a bit-by-bit swapping of the content. 0b - No swap selection applied on the CRC_OUTP content 1b - Swap selection (MSB to LSB, LSB to MSB) applied to the CRC_OUTP content       |
| 0 INV           | Inversion selection This bit can be written only during the configuration phase. The inversion operation is a complement (or negation) of the content. 0b - No inversion selection applied on the CRC_OUTP content 1b - Inversion selection (bit x bit) applied on the CRC_OUTP content |

## 75.5.3 Input Register (INP1 - INP3)

## Offset

| Register   | Offset   |
|------------|----------|
| INP1       | 4h       |
| INP2       | 14h      |
| INP3       | 24h      |

## Function

Access: User read/write.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | Input data for the CRC computation                                                                                                                                                                                         |
| INP     | This register can be written with word-, halfword- (high or low), or byte-wide writes in any sequence. Only the bits written are fed to the CRC engine. In case of halfword write operation, the bytes must be contiguous. |

## 75.5.4 Current Status Register (CSTAT1 - CSTAT3)

## Offset

| Register   | Offset   |
|------------|----------|
| CSTAT1     | 8h       |
| CSTAT2     | 18h      |
| CSTAT3     | 28h      |

## Function

Access: User read/write.

## NOTE

High-level code must be written in a way to realize byte-, halfword-, and word-wide writes on the assembler code level. Any endianness problem faced can be corrected by appropriate configuration of CRC\_CFG[SWAP\_BYTEWISE] and CRC\_CFG[SWAP\_BITWISE].

Cyclic Redundancy Check (CRC) Unit

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24    | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|-------|------|------|------|------|------|------|------|------|
| R W     |      |      |      |      |      |      |      | CSTAT |      |      |      |      |      |      |      |      |
| Reset   | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1     | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8     | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      | CSTAT |      |      |      |      |      |      |      |      |
| W Reset | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1     | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | CRC signature status                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| CSTAT   | This register includes the current status of the CRC signature. No bit swap and inversion are applied to this register. In the case of the CRC-CCITT polynomial, only the 16 least-significant bits are significant. The 16 most-significant bits are set to zero during the computation. In the case of the CRC-8 polynomial, only the 8 least-significant bits are significant. The 24 most-significant bits are set to zero during the computation. The CSTAT register can be written at byte, halfword, or word. This register can be written only during the configuration phase. |

## 75.5.5 Output Register (OUTP1 - OUTP3)

## Offset

| Register   | Offset   |
|------------|----------|
| OUTP1      | Ch       |
| OUTP2      | 1Ch      |
| OUTP3      | 2Ch      |

## Function

Access: User read-only.

Cyclic Redundancy Check (CRC) Unit

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP | OUTP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                              |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | Final CRC signature                                                                                                                                                                                                                                                                                                                                                                                                                   |
| OUTP    | This register includes the final signature corresponding to the CRC_CSTAT register value eventually swapped and inverted. In the case of the CRC-CCITT polynomial, only the 16 least-significant bits are significant. The 16 MSB bits are set to 0 during the computation. In the case of the CRC-8 polynomial, only the 8 least-significant bits are significant. The 24 most-significant bits are set to 0 during the computation. |

Cyclic Redundancy Check (CRC) Unit

## Chapter 76 Debug

## 76.1 Introduction

This chapter describes the debug and trace features of this chip. The debug and trace architecture is based on Arm   CoreSight  architecture. See the Arm CoreSight architecture specification (available in References) for details.

The Arm Cortex M7 and Cortex A53 core-clusters support the debug and trace features described in their Technical Reference Manual (TRM) (available in References). In addition, the debug architecture includes NoC debug and trace modules. These debug components are accessible via the Arm DAP controller-based architecture. The DAP controller works in parallel with the system JTAG Controller (JTAGC). The DAP controller and the JTAGC share the JTAG port and JTAG instruction set.

The debug structure consists of up to three sections. There is a "system" component and Accelerator components. The "system" components are similar on different MCUs in the same family and include the primary cores debug interfaces, the chip level debug interfaces and chip level trace interfaces. The Accelerator components include the debug and trace circuits necessary for any application specific accelerators required for the different application spaces that the MCU supports. These vary from MCU to MCU and could include only trace components.

## 76.2 Block diagram

The figure below shows the DAP architecture of the Cortex-A53 based MCU.

Debug

<!-- image -->

## 76.2.1 S32G accelerator subsystem debug block diagram

The accelerator subsystem of each MCU contains additional debug logic as shown in the following figure. This additional circuitry connects into the full system debug architecture.

Debug

Figure 613. S32G accelerator debug block diagram

<!-- image -->

## 76.3 Features

The debug and trace features are as follows:

- Debug control
- Via IEEE 1149.1 compliant JTAG interface
- Test control
- Via IEEE 1149.1 compliant JTAG interface
- Trace interfaces
- Aurora-based 10-pin Trace port interface
- Four (8-pin) LVDS trace ports output
- 2-pin LVDS reference clock input (AURORA\_EXT\_CLK)
- Capability to trace to internal system RAM via Arm ETR interface
- Debug security
- JTAG/DAP interface that controls all debug features and is gated by the HSE using the HSE JDC (JTAG Data Communication) module
- Security modes as described in the security chapter
- Debugging and run control
- Stop, start, break/watchpoints
- Each Cortex A53 supports full six hardware breakpoints and four watchpoints
- Each Cortex M7 supports eight instruction comparators and a watchpoint unit supporting four watchpoints
- Trace
- Trace data routed through funnels and replicators and output via one of following output streams:

- Four lanes LVDS at 2.5 GHz to 5 GHz High Speed Serial Trace Port (HSSTP)
- ETR to route data to system memory-this module connects to a port on NoC and allows writing data to system RAM or external DRAM
- Trace source
- Cortex A53
- ETM providing instruction trace
- ITM, time-stamping and diagnostic information

## NOTE

A53 ITM does not support global timestamp but a 21 bit local timestamp.

- 16 KB + 16 KB local ETF RAM (8 KB for each A53 core)
- Cortex M7
- ETM-M7 providing instruction and data trace
- ITM providing DWT, time-stamping, and diagnostic information
- 8 KB local ETF RAM per M7 core
- Trace output through the TPIU to the Aurora Trace Port, with 8 KB local ETF RAM per M7 core
- NoC
- Provides visibility of data transactions triggered by CPUs that do not support data trace and non-CPU masters
- Provides trace capability of accesses to DDR memory
- Cross-triggering
- Controls run-control of cores based on other cores (for example, breakpoint reached on Cortex-M7 can optionally halt execution of Cortex-A53 and vice versa)
- Matrix includes connections to
- All Cortex A53 CPUs
- All Cortex M7 CPUs
- NoC trace sources
- Ability to view and modify all memory-mapped areas that are not otherwise blocked
- System bus debug access port
- Performance monitoring of cores
- PMU implemented on each Cortex A53 core
- Safety
- Supports monitoring of debug signals to avoid common mode faults
- Allows checking of erroneous activation of debugging (especially if intrusive, for example a CPU entering debug state)
- Timestamps
- Generates timestamp bus for distribution to the trace sources
- 48-bit binary timestamp bus
- Clocked by XBAR\_CLK

Debug

## 76.4 Debug

## 76.4.1 Test and Debug Access Port (TAP) connectivity

This device has two JTAG controllers sharing the common JTAG port of the device, Arm DAP's JTAG-DP and System JTAG Controller JTAGC. Both JTAG-DP and JTAGC have an IR length of eight and are connected to the JTAG port in an overlay scheme. The System JTAG Controller, JTAGC, also supports the device's test interface.

## 76.4.2 Debug Access Port (DAP) TAP

The Debug Access Port (DAP) is a standard Arm component. DAP provides multiple master driving ports, all accessible and controlled through a single external interface port, to provide system-wide debug.

DAP Instruction Register (DAP IR) overlays with the system JTAG controller IR (JTAGC IR). DAP instructions are listed in the following table. DAP uses five instructions, but because BYPASS is identical to the JTAGC BYPASS, it is not shown.

Table 648. Arm DAP IR codes

| Code       | DAP IR   |
|------------|----------|
| 1111_1000b | ABORT    |
| 1111_1010b | DPACC    |
| 1111_1011b | APACC    |
| 1111_1110b | IDCODE   |

DAP offers AXI, AHB, and APB master interfaces to access system buses. It also exports the internal DAP bus to extend the access ports. For more information on DAP TAP, see the Arm Debug Interface Architecture Specification (available in References) for details.

AXI AP provides the debugger access to all memory and registers in the system memory map. The XRDC controls system access. The APB\_AP allows access to all CoreSight components except Cortex-M7 components.

A core can access the debug components of another core through a DAPMUX to the bus interconnect.

The exported DAP bus hosts AHB\_AP (part of Cortex-M7) and the Miscellaneous Debug Module Access Port (MDM\_AP). The MDM\_AP hosts system level JTAG status and control registers (see MDM\_AP register descriptions) which can be used for cross-triggering, synchronized debug, and other miscellaneous control and status functions.

For accessing any APB-mapped Debug modules, APB\_AP uses an APSEL value of 1h. Table 652 and Table 653 describe the access addresses of APB-mapped Debug modules.

The value of DAP SELECT[APSEL], the SELECT register of SWJ-DP, selects the access ports in the DAP. APSEL decoding is shown in the following table.

Table 649. DAP APSEL decode

| APSEL (SELECT[31:24 ])   | APBIC base address (access from debugger)   | System memory address (access from cores)   | Selection                                                                                   | Identification register (IDR) value   |
|--------------------------|---------------------------------------------|---------------------------------------------|---------------------------------------------------------------------------------------------|---------------------------------------|
| 00h                      | 0000_0000h                                  | 51D0_0000h                                  | AXI_AP to system bus                                                                        | 4477_0004h                            |
| 01h                      | 0100_0000h                                  | 51D0_0100h                                  | APB_AP to all APB mapped Debug modules (for example Cortex-A53, watchpoints, trace funnels) | 5477_0002h                            |

Table continues on the next page...

Debug

## Table 649. DAP APSEL decode (continued)

| APSEL (SELECT[31:24 ])   | APBIC base address (access from debugger)   | System memory address (access from cores)   | Selection                               | Identification register (IDR) value   |
|--------------------------|---------------------------------------------|---------------------------------------------|-----------------------------------------|---------------------------------------|
| 02h                      | 0200_0000h                                  | 51D0_0200h                                  | Reserved                                | 8477_0001h                            |
| 03h                      | 0300_0000h                                  | 51D0_0300h                                  | AHB_AP0 to Cortex-M7_0 Debug modules    | 8477_0001h                            |
| 04h                      | 0400_0000h                                  | 51D0_0400h                                  | AHB_AP1 to Cortex-M7_1 Debug modules    | 8477_0001h                            |
| 05h                      | 0500_0000h                                  | 51D0_0500h                                  | AHB_AP2 to Cortex-M7_2 Debug modules    | 8477_0001h                            |
| 06h                      | 0600_0000h                                  | 51D0_0600h                                  | MDM_AP Miscellaneous Debug module AP    | 001C_0030h                            |
| 07h                      | 0700_0000h                                  | 51D0_0700h                                  | Reserved                                | 8477_0001h                            |
| 08h                      | 0800_0000                                   | 51D0_0800h                                  | AHB_AP for LLCE M0+ Core0 Debug modules | 001C_0030h                            |
| 09h                      | 0900_0000h                                  | 51D0_0900h                                  | AHB_AP for LLCE M0+ Core1 Debug modules | 001C_0030h                            |
| 0Ah (10d)                | 0A00_0000h                                  | 51D0_0A00h                                  | AHB_AP for LLCE M0+ Core2 Debug modules | 001C_0030h                            |
| 0Bh (11d)                | 0B00_0000h                                  | 51D0_0B00h                                  | AHB_AP for LLCE M0+ Core3 Debug modules | 001C_0030h                            |
| 0Ch-FFh                  | -                                           | -                                           | Reserved (default AP response)          | -                                     |

## NOTE

- Accessing debug resources simultaneously from the debugger and software is prohibited. It could cause to core hang and eventually mission fault.
- Peripherals and Memory regions should not be accessed via AXI\_AP during reset. If accessed, they may no longer be accessible via AXI\_AP post reset de-assertion. A destructive reset is required to access them again via AXI\_AP.

## 76.4.3 System JTAG Controller (JTAGC)

The JTAGC connects in parallel with the Arm TAP controller (JTAG DP of Arm DAP). The IR length is 8-bits. The JTAGC IR codes overlay the Arm DAP controller IR codes. The DAP uses four instructions and the remaining are used by JTAGC. The outputs of the TAPs (TDO) are multiplexed based on the IR code selected. This chip is fully JTAG-compliant and appears to the JTAG chain as a single TAP.

The following table gives the IR codes for the JTAGC. The instructions used by Arm DAP TAP are shown in Table 648.

## Table 650. JTAG instructions for JTAGC

| Code       | JTAGC IR       |
|------------|----------------|
| 0000_0000b | IDCODE         |
| 0000_0001b | CENSOR_CTRL    |
| 0000_0010b | SAMPLE-PRELOAD |
| 0000_0100b | EXTEST         |

Table continues on the next page...

Table 650. JTAG instructions for JTAGC (continued)

| Code                  | JTAGC IR                                    |
|-----------------------|---------------------------------------------|
| 0000_0101b            | HI-Z                                        |
| 0000_0110b            | Reserved                                    |
| 0000_0111b            | Reserved                                    |
| 0000_1000b            | Reserved                                    |
| 0000_1001b            | Reserved                                    |
| 0000_1010b-0000_1011b | Reserved                                    |
| 0000_1100b            | CLAMP                                       |
| 0000_1101b-0000_1111b | Reserved                                    |
| 0001_0000b            | ENABLE_SOC_DATA1                            |
| 0001_0001b-0111_1111b | Reserved                                    |
| 1000_0000b            | Reserved                                    |
| 1000_0001b            | Reserved                                    |
| 1000_0010b            | Reserved                                    |
| 1000_0011b            | Reserved                                    |
| 1000_0100b            | PCIe_0                                      |
| 1000_0101b            | Reserved                                    |
| 1000_0110b-1000_0111b | Reserved                                    |
| 1000_1000b            | DDR_0                                       |
| 1000_1001b            | Reserved                                    |
| 1000_1010b-1000_1100b | Reserved                                    |
| 1000_1101b            | Reserved                                    |
| 1000_1110b            | Reserved                                    |
| 1000_1111b            | Reserved                                    |
| 1001_0000b            | Security JDC                                |
| 1001_0001b            | System JDC                                  |
| 1001_0010b-1001_0111b | Reserved for other System Auxiliary clients |
| 1001_1000b-1001_1011b | Reserved                                    |

Table continues on the next page...

Table 650. JTAG instructions for JTAGC (continued)

| Code                  | JTAGC IR                                    |
|-----------------------|---------------------------------------------|
| 1001_1100b-1011_1111b | Reserved for other System Auxiliary clients |
| 1100_0000b            | PFE PFE_0                                   |
| 1100_0001b            | PCIe_1                                      |
| 1100_0010b-1110_1111b | Reserved                                    |
| 1111_0000b-1111_0111b | Reserved                                    |
| 1111_1000b            | ABORT (Arm)                                 |
| 1111_1001b            | Reserved                                    |
| 1111_1010b            | DPACC (Arm)                                 |
| 1111_1011b            | APACC (Arm)                                 |
| 1111_1100b            | Reserved                                    |
| 1111_1101b            | Reserved                                    |
| 1111_1110b            | IDCODE (Arm)                                |
| 1111_1111b            | BYPASS                                      |

## NOTE

Serial Wire Output (SWO) interface should be ignored while CoreSight ROM table discovery.

## 76.4.3.1 Chip JTAG ID

Each chip in the S32 family includes a unique JTAG ID. This includes changing of the JTAG ID when instantiated with different die in a System-In-a-Package (SIP). This following table shows the JTAGC ID for this chip.

## Table 651. JTAG ID

| Chip     | Part revision number (PRN)   | Design center (DC)   | Part identification number (PIN)   | Manufacturer identity code (MIC)   | IDCODE ID   | JTAG ID      |
|----------|------------------------------|----------------------|------------------------------------|------------------------------------|-------------|--------------|
| S32G275A | X 1                          | 20h (32d)            | 301h (769d)                        | Eh (14d)                           | X 1         | X830_101Dh 1 |

## 76.4.3.2 JTAG Data Communication (JDC) module

JDC allows access to two 32-bit data registers by JTAG interface and by software running on one of the CPUs in the chip. These registers exchange data between an internal CPU and an external debug tool.

## 76.5 APB memory map

The debug registers are accessed via the APB-AP bus. The table below shows all the addresses for the CoreSight APB components. In addition, all APB registers are accessible from the processing cores (assuming access permission is enabled). This table also shows the addressing for accessing the DAP components via the memory interface.

Arm CoreSight APB\_AP ROM auto-discovery method cannot be used for identifying the APB components in the system since some components, specifically the NoC does not provide the standard CoreSight component and peripheral ID register. For details, see following table.

NoC debug registers are reset by a destructive reset. However, they cannot be accessed while functional reset is asserted. In addition, trace packets cannot be accessed during functional reset.

Table 652. APB component mapping

| Debug APB component              | Debug APB component    | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |
|----------------------------------|------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|
|                                  | APB_AP ROM Table       | F8h                                         | 510000F8h                                            | 4 KB        | APBIC base            |
| Instrumentation Trace Macrocells | A53 Cluster0 Core0 ITM | 00001000h                                   | 51001000h                                            | 4 KB        | APB Master0           |
| Instrumentation Trace Macrocells | A53 Cluster0 Core1 ITM | 00002000h                                   | 51002000h                                            | 4 KB        | APB Master1           |
| Instrumentation Trace Macrocells | A53 Cluster1 Core0 ITM | 00003000h                                   | 51003000h                                            | 4 KB        | APB Master2           |
| Instrumentation Trace Macrocells | A53 Cluster1 Core1 ITM | 00004000h                                   | 51004000h                                            | 4 KB        | APB Master3           |
| Reserved                         | Reserved               | 00005000h                                   | 51005000h                                            | 4 KB        | APB Master4           |
| Reserved                         | Reserved               | 00006000h                                   | 51006000h                                            | 4 KB        | APB Master5           |
| Reserved                         | Reserved               | 00007000h                                   | 51007000h                                            | 4 KB        | APB Master6           |
| Reserved                         | Reserved               | 00008000h                                   | 51008000h                                            | 4 KB        | APB Master7           |
| Trace funnels                    | Funnel0                | 00009000h                                   | 51009000h                                            | 4 KB        | APB Master8           |
| Trace funnels                    | Funnel1                | 0000A000h                                   | 5100A000h                                            | 4 KB        | APB Master9           |
| Trace funnels                    | Funnel2                | 0000B000h                                   | 5100B000h                                            | 4 KB        | APB Master10          |
| Trace funnels                    | Funnel3                | 0000C000h                                   | 5100C000h                                            | 4 KB        | APB Master11          |
| Trace funnels                    | Funnel4                | 0000D000h                                   | 5100D000h                                            | 4 KB        | APB Master12          |
| Trace funnels                    | Funnel5                | 0000E000h                                   | 5100E000h                                            | 4 KB        | APB Master13          |
| Trace funnels                    | Funnel6                | 0000F000h                                   | 5100F000h                                            | 4 KB        | APB Master14          |
| Reserved                         | Reserved               | 00010000h                                   | 51010000h                                            | 4 KB        | APB Master15          |
| Reserved                         | Reserved               | 00011000h                                   | 51011000h                                            | 4 KB        | APB Master16          |
| Reserved                         | Reserved               | 00012000h                                   | 51012000h                                            | 4 KB        | APB Master17          |

Table continues on the next page...

Debug

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component   | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |
|-----------------------|-----------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|
|                       | Reserved              | 00013000h                                   | 51013000h                                            | 4 KB        | APB Master18          |
| Embedded Trace FIFO   | ETF0                  | 00014000h                                   | 51014000h                                            | 4 KB        | APB Master19          |
| Embedded Trace FIFO   | ETF1                  | 00015000h                                   | 51015000h                                            | 4 KB        | APB Master20          |
| Embedded Trace FIFO   | ETF2                  | 00016000h                                   | 51016000h                                            | 4 KB        | APB Master21          |
| Embedded Trace FIFO   | ETF3                  | 00017000h                                   | 51017000h                                            | 4 KB        | APB Master22          |
| Embedded Trace FIFO   | ETF4                  | 00018000h                                   | 51018000h                                            | 4 KB        | APB Master23          |
| Embedded Trace FIFO   | ETF5                  | 00019000h                                   | 51019000h                                            | 4 KB        | APB Master24          |
| Reserved              | Reserved              | 0001A000h                                   | 5101A000h                                            | 4 KB        | APB Master25          |
| Reserved              | Reserved              | 0001B000h                                   | 5101B000h                                            | 4 KB        | APB Master26          |
| Reserved              | Reserved              | 0001C000h                                   | 5101C000h                                            | 4 KB        | APB Master27          |
| Reserved              | Reserved              | 0001D000h                                   | 5101D000h                                            | 4 KB        | APB Master28          |
| Reserved              | Reserved              | 0001E000h                                   | 5101E000h                                            | 4 KB        | APB Master29          |
| Reserved              | Reserved              | 0001F000h                                   | 5101F000h                                            | 4 KB        | APB Master30          |
| Reserved              | Reserved              | 00020000h                                   | 51020000h                                            | 4 KB        | APB Master31          |
| Reserved              | Reserved              | 00021000h                                   | 51021000h                                            | 4 KB        | APB Master32          |
| Reserved              | Reserved              | 00022000h                                   | 51022000h                                            | 4 KB        | APB Master33          |
| Reserved              | Reserved              | 00023000h                                   | 51023000h                                            | 4 KB        | APB Master34          |
| Reserved              | Reserved              | 00024000h                                   | 51024000h                                            | 4 KB        | APB Master35          |
| Reserved              | Reserved              | 00025000h                                   | 51025000h                                            | 4 KB        | APB Master36          |
| Reserved              | Reserved              | 00026000h                                   | 51026000h                                            | 4 KB        | APB Master37          |
| Cross Trigger Matrix  | CTI_NoC0              | 00027000h                                   | 51027000h                                            | 4 KB        | APB Master38          |
| Cross Trigger Matrix  | CTI_NoC1              | 00028000h                                   | 51028000h                                            | 4 KB        | APB Master39          |
| Cross Trigger Matrix  | CTI_NoC2              | 00029000h                                   | 51029000h                                            | 4 KB        | APB Master40          |
| Cross Trigger Matrix  | CTI_NoC3              | 0002A000h                                   | 5102A000h                                            | 4 KB        | APB Master41          |
| Cross Trigger Matrix  | CTI_NoC4              | 0002B000h                                   | 5102B000h                                            | 4 KB        | APB Master42          |
| Cross Trigger Matrix  | CTI_NoC5              | 0002C000h                                   | 5102C000h                                            | 4 KB        | APB Master43          |
| Cross Trigger Matrix  | CTI_NoC6              | 0002D000h                                   | 5102D000h                                            | 4 KB        | APB Master44          |
| Cross Trigger Matrix  | CTI_NoC7              | 0002E000h                                   | 5102E000h                                            | 4 KB        | APB Master45          |
| Cross Trigger Matrix  | Reserved              | 0002F000h                                   | 5102F000h                                            | 4 KB        | APB Master46          |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component                  | Debug APB component                  | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |
|--------------------------------------|--------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|
| CoreSight output control             | ETR                                  | 00030000h                                   | 51030000h                                            | 4 KB        | APB Master47          |
| CoreSight output control             | Reserved                             | 00031000h                                   | 51031000h                                            | 4 KB        | APB Master48          |
| CoreSight output control             | TPIU                                 | 00032000h                                   | 51032000h                                            | 4 KB        | APB Master49          |
| CoreSight output control             | ATP                                  | 00033000h                                   | 51033000h                                            | 4 KB        | APB Master50          |
| CoreSight output control             | Reserved                             | 00034000h                                   | 51034000h                                            | 4 KB        | APB Master51          |
| Reserved                             | Reserved                             | 00035000h                                   | 51035000h                                            | 4 KB        | APB Master52          |
| Reserved                             | Reserved                             | 00036000h                                   | 51036000h                                            | 4 KB        | APB Master53          |
| Reserved                             | Reserved                             | 00037000h                                   | 51037000h                                            | 4 KB        | APB Master54          |
| Reserved                             | Reserved                             | 00038000h                                   | 51038000h                                            | 32 KB       | APB Master55          |
| Reserved                             | Reserved                             | 00039000h                                   | 51039000h                                            | 4 KB        | APB Master56          |
| Reserved                             | Reserved                             | 0003A000h                                   | 5103A000h                                            | 4 KB        | APB Master57          |
|                                      | Reserved                             | Reserved                                    | Reserved                                             | Reserved    | Reserved              |
| Off-Platform Debug                   | ROM Table                            | 00050000h                                   | 51050000h                                            | 4 KB        | APB master59          |
| Off-Platform Debug                   | CTI_ETF_ETR0                         | 00051000h                                   | 51051000h                                            | 4 KB        |                       |
| Off-Platform Debug                   | CTI_ETF_ETR1                         | 00052000h                                   | 51052000h                                            | 4 KB        |                       |
| Off-Platform Debug                   | Timestamp Debug                      | 00053000h                                   | 51053000h                                            | 4 KB        |                       |
| Off-Platform Debug                   | CTI_2                                | 0005_4000h                                  | 5105_4000h                                           | 4 KB        |                       |
| Reserved for accelerator subsystem 1 | Reserved for accelerator subsystem 1 | 00100000h                                   | 51100000h                                            | 1 MB        | APB master60          |
| A53 Cluster0                         | ROM Table                            | 00400000h                                   | 51400000h                                            | 4 MB        | APB Master61          |
| A53 Cluster0                         | Core0 Debug                          | 00410000h                                   | 51410000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core0 CTI                            | 00420000h                                   | 51420000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core0 PMU                            | 00430000h                                   | 51430000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core0 ETM                            | 00440000h                                   | 51440000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core1 Debug                          | 00510000h                                   | 51510000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core1 CTI                            | 00520000h                                   | 51520000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core1 PMU                            | 00530000h                                   | 51530000h                                            |             | APB Master61          |
| A53 Cluster0                         | Core1 ETM                            | 00540000h                                   | 51540000h                                            |             | APB Master61          |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                                         | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   | APB_AP0 slot number   |
|-----------------------|-------------------------------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
| A53 Cluster1          | ROM Table                                                   | 00800000h                                   | 51800000h                                            | 4 MB        | APB Master62          | APB Master62          |
| A53 Cluster1          | Core0 Debug                                                 | 00810000h                                   | 51810000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core0 CTI                                                   | 00820000h                                   | 51820000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core0 PMU                                                   | 00830000h                                   | 51830000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core0 ETM                                                   | 00840000h                                   | 51840000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core1 Debug                                                 | 00910000h                                   | 51910000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core1 CTI                                                   | 00920000h                                   | 51920000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core1 PMU                                                   | 00930000h                                   | 51930000h                                            | 4 MB        |                       |                       |
| A53 Cluster1          | Core1 ETM                                                   | 00940000h                                   | 51940000h                                            | 4 MB        |                       |                       |
| NoC_0 (On-Chassis)    | NoCROMTable                                                 | 00C40000h                                   | 51C40000h                                            | 1 MB        | APB Master63          | Sub APBMaster         |
| NoC_0 (On-Chassis)    | a53_cluster0_n oncoh_rsp_pack et_main_Probe                 | 00C41000h                                   | 51C41000h                                            | 1 MB        | APB Master63          | 0                     |
| NoC_0 (On-Chassis)    | a53_cluster0_n oncoh_xaction_ main_Probe                    | 00C42000h                                   | 51C42000h                                            | 1 MB        | APB Master63          | 1                     |
| NoC_0 (On-Chassis)    | a53_cluster0_n oncoh_xaction_ main_Transacti onStatProfiler | 00C42400h                                   | 51C42400h                                            | 1 MB        | APB Master63          | 1                     |
| NoC_0 (On-Chassis)    | a53_cluster1_n oncoh_req_pac ket_main_Probe                 | 00C43000h                                   | 51C43000h                                            | 1 MB        | APB Master63          | 2                     |
| NoC_0 (On-Chassis)    | a53_cluster1_n oncoh_rsp_pack et_main_Probe                 | 00C44000h                                   | 51C44000h                                            | 1 MB        | APB Master63          | 3                     |
| NoC_0 (On-Chassis)    | a53_cluster1_n oncoh_xaction_ main_Probe                    | 00C45000h                                   | 51C45000h                                            | 1 MB        | APB Master63          | 4                     |
| NoC_0 (On-Chassis)    | a53_cluster1_n oncoh_xaction_ main_Transacti onStatProfiler | 00C45400h                                   | 51C45400h                                            | 1 MB        | APB Master63          | 4                     |
| NoC_0 (On-Chassis)    | concerto_req_p acket_main_Pro be                            | 00C46000h                                   | 51C46000h                                            | 1 MB        | APB Master63          | 5                     |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                             | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |   APB_AP0 slot number |
|-----------------------|-------------------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
|                       | concerto_rsp_p acket_main_Pro be                | 00C47000h                                   | 51C47000h                                            |             |                       |                     6 |
|                       | concerto_xactio n_main_Probe                    | 00C48000h                                   | 51C48000h                                            |             |                       |                     7 |
|                       | concerto_xactio n_main_Transa ctionStatProfiler | 00C48400h                                   | 51C48400h                                            |             |                       |                     7 |
|                       | dram0_a53_req _packet_main_ Probe               | 00C49000h                                   | 51C49000h                                            |             |                       |                     8 |
|                       | dram0_a53_rsp _packet_main_ Probe               | 00C4a000h                                   | 51C4a000h                                            |             |                       |                     9 |
|                       | dram0_m7_req_ packet_main_Pr obe                | 00C4b000h                                   | 51C4b000h                                            |             |                       |                    10 |
|                       | dram0_m7_rsp_ packet_main_Pr obe                | 00C4c000h                                   | 51C4c000h                                            |             |                       |                    11 |
|                       | dram0_other_re q_packet_main_ Probe             | 00C4d000h                                   | 51C4d000h                                            |             |                       |                    12 |
|                       | dram0_other_rs p_packet_main_ Probe             | 00C4e000h                                   | 51C4e000h                                            |             |                       |                    13 |
|                       | edma0_req_pac ket_main_Probe                    | 00C4f000h                                   | 51C4f000h                                            |             |                       |                    14 |
|                       | edma0_rsp_pac ket_main_Probe                    | 00C50000h                                   | 51C50000h                                            |             |                       |                    15 |
|                       | edma0_xaction_ main_Probe                       | 00C51000h                                   | 51C51000h                                            |             |                       |                    16 |
|                       | edma0_xaction_ main_Transacti onStatProfiler    | 00C51400h                                   | 51C51400h                                            |             |                       |                    16 |
|                       | edma1_req_pac ket_main_Probe                    | 00C52000h                                   | 51C52000h                                            |             |                       |                    17 |
|                       | edma1_rsp_pac ket_main_Probe                    | 00C53000h                                   | 51C53000h                                            |             |                       |                    18 |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                          | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |   APB_AP0 slot number |
|-----------------------|----------------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
|                       | edma1_xaction_ main_Probe                    | 00C54000h                                   | 51C54000h                                            |             |                       |                    19 |
|                       | edma1_xaction_ main_Transacti onStatProfiler | 00C54400h                                   | 51C54400h                                            |             |                       |                    19 |
|                       | enet_req_packe t_main_Probe                  | 00C55000h                                   | 51C55000h                                            |             |                       |                    20 |
|                       | enet_rsp_packe t_main_Probe                  | 00C56000h                                   | 51C56000h                                            |             |                       |                    21 |
|                       | enet_xaction_m ain_Probe                     | 00C57000h                                   | 51C57000h                                            |             |                       |                    22 |
|                       | enet_xaction_m ain_Transaction StatProfiler  | 00C57400h                                   | 51C57400h                                            |             |                       |                    22 |
|                       | fray_req_packet _main_Probe                  | 00C58000h                                   | 51C58000h                                            |             |                       |                    23 |
|                       | fray_rsp_packet _main_Probe                  | 00C59000h                                   | 51C59000h                                            |             |                       |                    24 |
|                       | fray_xaction_ma in_Probe                     | 00C5a000h                                   | 51C5a000h                                            |             |                       |                    25 |
|                       | fray_xaction_ma in_TransactionS tatProfiler  | 00C5a400h                                   | 51C5a400h                                            |             |                       |                    25 |
|                       | pcie_req_packet _main_Probe                  | 00C5b000h                                   | 51C5b000h                                            |             |                       |                    26 |
|                       | pcie_rsp_packet _main_Probe                  | 00C5c000h                                   | 51C5c000h                                            |             |                       |                    27 |
|                       | pcie_xaction_m ain_Probe                     | 00C5d000h                                   | 51C5d000h                                            |             |                       |                    28 |
|                       | pcie_xaction_m ain_Transaction StatProfiler  | 00C5d400h                                   | 51C5d400h                                            |             |                       |                    28 |
|                       | a53_cluster0_n oncoh_req_pac ket_main_Probe  | 00C5e000h                                   | 51C5e000h                                            |             |                       |                    29 |
|                       | a53_cluster0_n oncoh_observer                | 00C70000h                                   | 51C70000h                                            |             |                       |                    47 |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                                 | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   | APB_AP0 slot number   |
|-----------------------|-----------------------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
|                       | _main_AtbEndP oint                                  |                                             |                                                      |             |                       |                       |
|                       | a53_cluster0_n oncoh_observer _main_STPv2C onverter | 00C70080h                                   | 51C70080h                                            |             |                       | 47                    |
|                       | a53_cluster1_n oncoh_observer _main_AtbEndP oint    | 00C71000h                                   | 51C71000h                                            |             |                       | 48                    |
|                       | a53_cluster1_n oncoh_observer _main_STPv2C onverter | 00C71080h                                   | 51C71080h                                            |             |                       | 48                    |
|                       | concerto_obser ver_main_AtbE ndPoint                | 00C72000h                                   | 51C72000h                                            |             |                       | 49                    |
|                       | concerto_obser ver_main_Error Logger_0              | 00C72080h                                   | 51C72080h                                            |             |                       | 49                    |
|                       | concerto_obser ver_main_STPv 2Converter             | 00C72100h                                   | 51C72100h                                            |             |                       | 49                    |
|                       | dram0_observer _main_AtbEndP oint                   | 00C73000h                                   | 51C73000h                                            |             |                       | 50                    |
|                       | dram0_observer _main_STPv2C onverter                | 00C73080h                                   | 51C73080h                                            |             |                       | 50                    |
|                       | edma0_observe r_main_AtbEnd Point                   | 00C74000h                                   | 51C74000h                                            |             |                       | 51                    |
|                       | edma0_observe r_main_ErrorLo gger_0                 | 00C74080h                                   | 51C74080h                                            |             |                       | 51                    |
|                       | edma0_observe r_main_ErrorLo gger_1                 | 00C74100h                                   | 51C74100h                                            |             |                       | 51                    |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                  | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |   APB_AP0 slot number |
|-----------------------|--------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
|                       | edma0_observe r_main_ErrorLo gger_2  | 00C74180h                                   | 51C74180h                                            |             |                       |                    51 |
|                       | edma0_observe r_main_STPv2C onverter | 00C74200h                                   | 51C74200h                                            |             |                       |                    51 |
|                       | edma1_observe r_main_AtbEnd Point    | 00C75000h                                   | 51C75000h                                            |             |                       |                    52 |
|                       | edma1_observe r_main_ErrorLo gger_0  | 00C75080h                                   | 51C75080h                                            |             |                       |                    52 |
|                       | edma1_observe r_main_ErrorLo gger_1  | 00C75100h                                   | 51C75100h                                            |             |                       |                    52 |
|                       | edma1_observe r_main_ErrorLo gger_2  | 00C75180h                                   | 51C75180h                                            |             |                       |                    52 |
|                       | edma1_observe r_main_STPv2C onverter | 00C75200h                                   | 51C75200h                                            |             |                       |                    52 |
|                       | enet_observer_ main_AtbEndPo int     | 00C76000h                                   | 51C76000h                                            |             |                       |                    53 |
|                       | enet_observer_ main_STPv2Co nverter  | 00C76080h                                   | 51C76080h                                            |             |                       |                    53 |
|                       | fray_observer_ main_AtbEndPo int     | 00C77000h                                   | 51C77000h                                            |             |                       |                    54 |
|                       | fray_observer_ main_ErrorLogg er_0   | 00C77080h                                   | 51C77080h                                            |             |                       |                    54 |
|                       | fray_observer_ main_STPv2Co nverter  | 00C77100h                                   | 51C77100h                                            |             |                       |                    54 |
|                       | pcie_observer_ main_AtbEndPo int     | 00C78000h                                   | 51C78000h                                            |             |                       |                    55 |

Table continues on the next page...

Table 652. APB component mapping (continued)

| Debug APB component   | Debug APB component                 | APBIC base address (access from debugger)   | System memory map base address (access from cores)   | Slot size   | APB_AP0 slot number   |   APB_AP0 slot number |
|-----------------------|-------------------------------------|---------------------------------------------|------------------------------------------------------|-------------|-----------------------|-----------------------|
|                       | pcie_observer_ main_STPv2Co nverter | 00C78080h                                   | 51C78080h                                            |             |                       |                    55 |

For debug access, subtract 5100\_0000h from the CPU system access register memory map addresses.

## 76.5.1 S32G accelerator debug APB memory map

This section describes the debug features implemented in the Accelerator portion of the MCU. The Accelerator consists of the Low Latency Communication Engine (LLCE), the PCIe\_1, and the Ethernet packet Forwarding Engine (PFE). The table below describes the address map of the additional modules.

Table 653. S32G accelerator APB component mapping

| Debug component                  | APBIC base address (access from debugger)   | System memory map base address 1   | Memory allocation   | APB_AP0 slot number   |
|----------------------------------|---------------------------------------------|------------------------------------|---------------------|-----------------------|
| Accelerator debug base ROM table | 00100000h                                   | 51100000h                          | 1 M                 |                       |
| 16KB ETF                         | 00101000h                                   | 51101000h                          | 4 K                 |                       |
| NoC CTI0                         | 00102000h                                   | 51102000h                          | 4 K                 |                       |
| NoC CTI1                         | 00103000h                                   | 51103000h                          | 4 K                 |                       |
| NoC/Misc CTI2                    | 00104000h                                   | 51104000h                          | 4 K                 |                       |
| Trace funnel                     | 00105000h                                   | 51105000h                          | 4 K                 |                       |
| LLCE HTM0                        | 00106000h                                   | 51106000h                          | 4 K                 |                       |
| LLCE HTM1                        | 00107000h                                   | 51107000h                          | 4 K                 |                       |
| LLCE CTI0                        | 00108000h                                   | 51108000h                          | 4 K                 |                       |
| Reserved                         | 00109000h                                   | 51109000h                          | 28 K                |                       |
| NoC APBIC ROM table              | 00110000h                                   | 51110000h                          | 64 K                |                       |
| PCIe1 request probe              | 00111000h                                   | 51111000h                          | 4 K                 |                       |
| PCIe1 response probe             | 00112000h                                   | 51112000h                          | 4 K                 |                       |
| PFE DDR I/F request probe        | 00113000h                                   | 51113000h                          | 4 K                 |                       |
| PFE DDR I/F response probe       | 00114000h                                   | 51114000h                          | 4 K                 |                       |
| PFE HIF0/HIF2 request probe      | 00115000h                                   | 51115000h                          | 4 K                 |                       |
| PFE HIF0/HIF2 response probe     | 00116000h                                   | 51116000h                          | 4 K                 |                       |
| PFE HIF1/HIF3/Util request probe | 00117000h                                   | 51117000h                          | 4 K                 |                       |

Table continues on the next page...

Table 653. S32G accelerator APB component mapping (continued)

| Debug component                                         | APBIC base address (access from debugger)   | System memory map base address 1   | Memory allocation   | APB_AP0 slot number   |
|---------------------------------------------------------|---------------------------------------------|------------------------------------|---------------------|-----------------------|
| PFE HIF1/HIF3/Util response probe                       | 00118000h                                   | 51118000h                          | 4 K                 |                       |
| USB request/response shared probe                       | 00119000h                                   | 51119000h                          | 4 K                 |                       |
| PCIe1 observer (services USB, PFE DDR and PCIe1 probes) | 0011A000h                                   | 5111A000h                          | 4 K                 |                       |
| PFE observer (services PFE HIF0-3 probes)               | 0011B000h                                   | 5111B000h                          | 4 K                 |                       |
| LLCE M0+ Core0 debug access port                        | -                                           | 51D0_0800h                         |                     | DAP master #8         |
| LLCE M0+ Core1 debug access port                        | -                                           | 51D0_0900h                         |                     | DAP master #9         |
| LLCE M0+ Core2 debug access port                        | -                                           | 51D0_0A00h                         |                     | DAP master #10        |
| LLCE M0+ Core3 debug access port                        | -                                           | 51D0_0B00h                         |                     | DAP master #11        |

## 76.6 Trace

## 76.6.1 Trace modules and connectivity

The trace subsystem combines trace data from all internal clients that generate trace information. The trace subsystem has a 32-bit TPIU.

The following figure shows the trace architecture.

Debug

Debug

<!-- image -->

Table 654. Trace subsystem components

| Component   | Name                            |
|-------------|---------------------------------|
| ATB         | Advanced Trace Bus              |
| ATBR        | ATB Replicator                  |
| CSTF        | CoreSight Trace Funnel          |
| Debug APB   | Debug Advanced Peripheral Bus   |
| ETF         | Embedded Trace FIFO             |
| AP          | Trace Aurora Physical Interface |
| TPIU        | Trace Port Interface Unit       |

Multiple options for trace output allow parallel tracing. The trace information can be read from the trace interface or the DAP interface. The traces can be alternatively read out from ETF at slow speeds via APB AP. Additionally, the trace can be written into system RAM via the ETR and you can read it later.

The sizes of the ETFs are shown in the following table.

## Table 655. ETF sizes

| ETF   | Size      |
|-------|-----------|
| ETF 0 | 16 Kbytes |
| ETF1  | 16 Kbytes |
| ETF2  | 16 Kbytes |
| ETF3  | 16 Kbytes |
| ETF4  | 16 Kbytes |
| ETF5  | 16 Kbytes |

The MDM\_AP Control register implements bits to over-ride the speed control from some of the trace sinks (ETR, and TPIU). The complete trace pipeline bandwidth is limited by the slowest sink component. The default settings of these bits allow for maximum bandwidth for the TPIU to trace to the Aurora Trace Port (ATP). When tracing to memory (if supported), these bits may need to be changed.

## Table 656. Trace output overrides

| Trace destination   |   SWO_Override |   ETR_Override |   TPIU_Override |
|---------------------|----------------|----------------|-----------------|
| TPIU/Aurora         |              1 |              1 |               0 |
| ETR to memory       |              1 |              0 |               1 |

The trace sources of the chip are the cores and their related modules. Trace information can be monitored in NoC for some master and slave interfaces. Trace funnels exist for all possible trace clients. For details of the various components in the trace bus connectivity, see the Arm CoreSight Components TRM (available in References) for details.

## 76.6.1.1 S32G accelerator trace modules and connectivity

Accelerator modules contain several trace sources. These include the NoC observers (discussed in the next section) and the LLCE HTM0 and HTM1 modules from LLCE. Description on the HTMs and the buses they monitor can be found in the LLCE chapter of the Reference Manual. All modules are configured via the debug APB interface using the base addresses defined in the memory map.

The following diagram shows the accelerator trace architecture.

<!-- image -->

## 76.6.2 Trace assignments

The embedded CoreSight Funnels (ETF) combine trace information from multiple clients into a single stream of trace data. The following table shows the CoreSight funnel input assignments.

Table 657. CoreSight funnel assignments

| Instance name   | Port assignment                           |
|-----------------|-------------------------------------------|
| Funnel0 (CSTF0) | s0: Cortex-A53a ETM0                      |
| Funnel0 (CSTF0) | s1: Cortex-A53a ETM1                      |
| Funnel0 (CSTF0) | s2: Cortex-A53a ITM0                      |
| Funnel0 (CSTF0) | s3: Cortex-A53a ITM1                      |
| Funnel0 (CSTF0) | s4: Cortex-A53 Cluster0/1 Coherent        |
| Funnel0 (CSTF0) | s5: NoC - Cortex-A53 Cluster0 Noncoherent |
| Funnel1 (CSTF1) | s0: Cortex-A53b ETM0                      |
| Funnel1 (CSTF1) | s1: Cortex-A53b ETM1                      |
| Funnel1 (CSTF1) | s2: Cortex-A53b ITM0                      |
| Funnel1 (CSTF1) | s3: Cortex-A53b ITM1                      |
| Funnel1 (CSTF1) | s4: NoC - Cortex-A53 Cluster1 Noncoherent |
| Funnel1 (CSTF1) | s5: Reserved                              |
| Funnel2 (CSTF2) | s0: Cortex-M7_0 ETM Data                  |
| Funnel2 (CSTF2) | s1: Cortex-M7_0 ETM Instr                 |
| Funnel2 (CSTF2) | s2: Cortex-M7_0 ITM                       |
| Funnel2 (CSTF2) | s3: Cortex-M7_1 ETM Data                  |
| Funnel2 (CSTF2) | s4: Cortex-M7_1 ETM Instr                 |
| Funnel2 (CSTF2) | s5: Cortex-M7_1 ITM                       |
| Funnel3 (CSTF3) | s0: Cortex-M7_2 ETM Data                  |
| Funnel3 (CSTF3) | s1: Cortex-M7_2 ETM Instr                 |
| Funnel3 (CSTF3) | s2: Cortex-M7_2 ITM                       |
| Funnel3 (CSTF3) | s3: Reserved                              |
| Funnel3 (CSTF3) | s4: Reserved                              |
| Funnel3 (CSTF3) | s5: Reserved                              |
| Funnel3 (CSTF3) | Reserved                                  |
| Funnel4 (CSTF4) | s0: NoC - DMA0                            |
| Funnel4 (CSTF4) | s1: NoC - DMA1                            |
| Funnel4 (CSTF4) | s2: NoC - PCIe_0                          |
| Funnel4 (CSTF4) | s3: NoC - GMAC_0                          |
| Funnel4 (CSTF4) | s4: NoC - FlexRay                         |

Table continues on the next page...

Debug

Table 657. CoreSight funnel assignments (continued)

| Instance name   | Port assignment               |
|-----------------|-------------------------------|
| Funnel5 (CSTF5) | s0: NoC - DRAM0               |
| Funnel5 (CSTF5) | s1: Reserved                  |
| Funnel6 (CSTF6) | s0: Funnel0 (ETF0)            |
| Funnel6 (CSTF6) | s1: Funnel1 (ETF1)            |
| Funnel6 (CSTF6) | s2: Funnel2 (ETF2)            |
| Funnel6 (CSTF6) | s3: Funnel3 (ETF3)            |
| Funnel6 (CSTF6) | s4: Funnel4 (ETF4)            |
| Funnel6 (CSTF6) | s5: Funnel5 (ETF5)            |
| Funnel6 (CSTF6) | s6: Accelerator trace sources |

## 76.6.2.1 S32G accelerator trace assignments

The S32G includes a single CoreSight Trace Funnel (CSTF) in the Accelerator debug circuitry. This funnel feeds an Embedded Trace FIFO (ETF) that connects to the system trace funnel. The trace clients are connected as shown in the following table.

Table 658. S32G accelerator trace funnels assignments

| Instance name   | Port assignment                          |
|-----------------|------------------------------------------|
| ACCR_CSTF       | s0: PCIe_1 NoC observer (PCIe_1 and USB) |
|                 | s1: PFE NoC observer                     |
|                 | s2: HTM32_0                              |
|                 | s3: HTM32_1                              |

## 76.7 Embedded Cross Trigger (ECT)

ECT allows for multicore run-control and trace cross-triggering, such as synchronous stop-start for all cores or trigger trace on a trigger event from another core or IP. See the CoreSight Components Technical Reference Manual (available in References) for detailed information on ECT.

ECT architecture involves CTMs and CTIs. The CTIs provide cross-triggering interface between the cores and other debug and trace modules. The channels of these CTIs are interconnected using CTMs, as shown in the following figure.

Debug

<!-- image -->

## 76.7.1 CTI assignments

The following table shows the connections of the CTI channels.

Table 659. CTI assignments

| CTI instance    |   Trigger number | Trigger in                         | Trigger out                       |
|-----------------|------------------|------------------------------------|-----------------------------------|
| CTI_Cortex-M7_0 |                7 | Cortex-M7_0 ETM event output3      | Cortex-M7_0 processor restart     |
| CTI_Cortex-M7_0 |                6 | Cortex-M7_0 ETM event output2      | Cortex-M7_0 ETM event input3      |
| CTI_Cortex-M7_0 |                5 | Cortex-M7_0 ETM event output1      | Cortex-M7_0 ETM event input2      |
| CTI_Cortex-M7_0 |                4 | Cortex-M7_0 ETM event output0      | Cortex-M7_0 ETM event input1      |
| CTI_Cortex-M7_0 |                3 | Cortex-M7_0 DWT comparator output2 | Cortex-M7_0 ETM event input0      |
| CTI_Cortex-M7_0 |                2 | Cortex-M7_0 DWT comparator output1 | Cortex-M7_0 interrupt request 1   |
| CTI_Cortex-M7_0 |                1 | Cortex-M7_0 DWT comparator output0 | Cortex-M7_0 interrupt request 0   |
| CTI_Cortex-M7_0 |                0 | Cortex-M7_0 processor halted       | Cortex-M7_0 process debug request |
| CTI_Cortex-M7_1 |                7 | Cortex-M7_1 ETM event output3      | Cortex-M7_1 processor restart     |
| CTI_Cortex-M7_1 |                6 | Cortex-M7_1 ETM event output2      | Cortex-M7_1 ETM event input3      |
| CTI_Cortex-M7_1 |                5 | Cortex-M7_1 ETM event output1      | Cortex-M7_1 ETM event input2      |
| CTI_Cortex-M7_1 |                4 | Cortex-M7_1 ETM event output0      | Cortex-M7_1 ETM event input1      |
| CTI_Cortex-M7_1 |                3 | Cortex-M7_1 DWT comparator output2 | Cortex-M7_1 ETM event input0      |
| CTI_Cortex-M7_1 |                2 | Cortex-M7_1 DWT comparator output1 | Cortex-M7_1 interrupt request 1   |
| CTI_Cortex-M7_1 |                1 | Cortex-M7_1 DWT comparator output0 | Cortex-M7_1 interrupt request 0   |
| CTI_Cortex-M7_1 |                0 | Cortex-M7_1 processor halted       | Cortex-M7_1 process debug request |

Table continues on the next page...

Table 659. CTI assignments (continued)

| CTI instance    |   Trigger number | Trigger in                              | Trigger out                            |
|-----------------|------------------|-----------------------------------------|----------------------------------------|
| CTI_Cortex-M7_2 |                7 | Cortex-M7_2 ETM event output3           | Cortex-M7_2 processor restart          |
| CTI_Cortex-M7_2 |                6 | Cortex-M7_2 ETM event output2           | Cortex-M7_2 ETM event input3           |
| CTI_Cortex-M7_2 |                5 | Cortex-M7_2 ETM event output1           | Cortex-M7_2 ETM event input2           |
| CTI_Cortex-M7_2 |                4 | Cortex-M7_2 ETM event output0           | Cortex-M7_2 ETM event input1           |
| CTI_Cortex-M7_2 |                3 | Cortex-M7_2 DWT comparator output2      | Cortex-M7_2 ETM event input0           |
| CTI_Cortex-M7_2 |                2 | Cortex-M7_2 DWT comparator output1      | Cortex-M7_2 interrupt request 1        |
| CTI_Cortex-M7_2 |                1 | Cortex-M7_2 DWT comparator output0      | Cortex-M7_2 interrupt request 0        |
| CTI_Cortex-M7_2 |                0 | Cortex-M7_2 processor halted            | Cortex-M7_2 process debug request      |
| CTI_NoC0        |                7 | ncore_probe_ctitrigout[1]               | ncore_probe_ctitrigin[1]               |
| CTI_NoC0        |                6 | ncore_probe_ctitrigout[0]               | Reserved                               |
| CTI_NoC0        |                5 | a53_cluster0_noncoh_probe_ctitrigout[1] | a53_cluster0_noncoh_probe_ctitrigin[1] |
| CTI_NoC0        |                4 | a53_cluster0_noncoh_probe_ctitrigout[0] | Reserved                               |
| CTI_NoC0        |                3 | a53_cluster1_noncoh_probe_ctitrigout[1] | a53_cluster1_noncoh_probe_ctitrigin[1] |
| CTI_NoC0        |                2 | a53_cluster1_noncoh_probe_ctitrigout[0] | Reserved                               |
| CTI_NoC0        |                1 | pcie0_probe_ctitrigout[1]               | pcie0_probe_ctitrigin[1]               |
| CTI_NoC0        |                0 | pcie0_probe_ctitrigout[0]               | Reserved                               |
| CTI_NoC1        |                7 | edma0_probe_ctitrigout[1]               | edma0_probe_ctitrigin[1]               |
| CTI_NoC1        |                6 | edma0_probe_ctitrigout[0]               | Reserved                               |
| CTI_NoC1        |                5 | edma1_probe_ctitrigout[1]               | edma1_probe_ctitrigin[1]               |
| CTI_NoC1        |                4 | edma1_probe_ctitrigout[0]               | Reserved                               |
| CTI_NoC1        |                3 | gmac0_probe_ctitrigout[1]               | gmac0_probe_ctitrigin[1]               |
| CTI_NoC1        |                2 | gmac0_probe_ctitrigout[0]               | Reserved                               |
| CTI_NoC1        |                1 | fray_probe_ctitrigout[1]                | fray_probe_ctitrigin[1]                |
| CTI_NoC1        |                0 | fray_probe_ctitrigout[0]                | Reserved                               |
| CTI_NoC2        |                7 | dram0_a53_probe_ctitrigout[1]           | dram0_a53_probe_ctitrigin[1]           |
| CTI_NoC2        |                6 | dram0_a53_probe_ctitrigout[0]           | Reserved                               |
| CTI_NoC2        |                5 | dram0_cm7_probe_ctitrigout[1]           | dram0_cm7_probe_ctitrigin[1]           |
| CTI_NoC2        |                4 | dram0_cm7_probe_ctitrigout[0]           | Reserved                               |
| CTI_NoC2        |                3 | dram0_other_probe_ctitrigout[1]         | dram0_other_probe_ctitrigin[1]         |
| CTI_NoC2        |                2 | dram0_other_probe_ctitrigout[0]         | Reserved                               |
| CTI_NoC2        |                1 | Reserved                                | Reserved                               |
| CTI_NoC2        |                0 | Reserved                                | Reserved                               |

Table continues on the next page...

Table 659. CTI assignments (continued)

| CTI instance   |   Trigger number | Trigger in                                  | Trigger out                                |
|----------------|------------------|---------------------------------------------|--------------------------------------------|
| CTI_NoC3       |                7 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                6 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                5 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                4 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                3 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                2 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                1 | Reserved                                    | Reserved                                   |
| CTI_NoC3       |                0 | Reserved                                    | Reserved                                   |
| CTI_NoC4       |                7 | ncore_rsp_probe_ctitrigout[1]               | ncore_rsp_probe_ctitrigin[1]               |
| CTI_NoC4       |                6 | ncore_rsp_probe_ctitrigout[0]               | Reserved                                   |
| CTI_NoC4       |                5 | a53_cluster0_noncoh_rsp_probe_ctitrigout[1] | a53_cluster0_noncoh_rsp_probe_ctitrigin[1] |
| CTI_NoC4       |                4 | a53_cluster0_noncoh_rsp_probe_ctitrigout[0] | Reserved                                   |
| CTI_NoC4       |                3 | a53_cluster1_noncoh_rsp_probe_ctitrigout[1] | a53_cluster1_noncoh_rsp_probe_ctitrigin[1] |
| CTI_NoC4       |                2 | a53_cluster1_noncoh_rsp_probe_ctitrigout[0] | Reserved                                   |
| CTI_NoC4       |                1 | pcie0_rsp_probe_ctitrigout[1]               | pcie0_rsp_probe_ctitrigin[1]               |
| CTI_NoC4       |                0 | pcie0_rsp_probe_ctitrigout[0]               | Reserved                                   |
| CTI_NoC5       |                7 | edma0_rsp_probe_ctitrigout[1]               | edma0_rsp_probe_ctitrigin[1]               |
| CTI_NoC5       |                6 | edma0_rsp_probe_ctitrigout[0]               | Reserved                                   |
| CTI_NoC5       |                5 | edma1_rsp_probe_ctitrigout[1]               | edma1_rsp_probe_ctitrigin[1]               |
| CTI_NoC5       |                4 | edma1_rsp_probe_ctitrigout[0]               | Reserved                                   |
| CTI_NoC5       |                3 | gmac0_rsp_probe_ctitrigout[1]               | gmac0_rsp_probe_ctitrigin[1]               |
| CTI_NoC5       |                2 | gmac0_rsp_probe_ctitrigout[0]               | Reserved                                   |
| CTI_NoC5       |                1 | fray_rsp_probe_ctitrigout[1]                | fray_rsp_probe_ctitrigin[1]                |
| CTI_NoC5       |                0 | fray_rsp_probe_ctitrigout[0]                | Reserved                                   |
| CTI_NoC6       |                7 | dram0_a53_rsp_probe_ctitrigout[1]           | dram0_a53_rsp_probe_ctitrigin[1]           |
| CTI_NoC6       |                6 | dram0_a53_rsp_probe_ctitrigout[0]           | Reserved                                   |
| CTI_NoC6       |                5 | dram0_cm7_rsp_probe_ctitrigout[1]           | dram0_cm7_rsp_probe_ctitrigin[1]           |
| CTI_NoC6       |                4 | dram0_cm7_rsp_probe_ctitrigout[0]           | Reserved                                   |
| CTI_NoC6       |                3 | dram0_other_rsp_probe_ctitrigout[1]         | dram0_other_rsp_probe_ctitrigin[1]         |
| CTI_NoC6       |                2 | dram0_other_rsp_probe_ctitrigout[0]         | Reserved                                   |
| CTI_NoC6       |                1 | Reserved                                    | Reserved                                   |
| CTI_NoC6       |                0 | Reserved                                    | Reserved                                   |

Table continues on the next page...

Table 659. CTI assignments (continued)

| CTI instance     |   Trigger number | Trigger in                        | Trigger out                 |
|------------------|------------------|-----------------------------------|-----------------------------|
| CTI_NoC7         |                7 | Reserved                          | Reserved                    |
| CTI_NoC7         |                6 | Reserved                          | Reserved                    |
| CTI_NoC7         |                5 | Reserved                          | Reserved                    |
| CTI_NoC7         |                4 | Reserved                          | Reserved                    |
| CTI_NoC7         |                3 | Reserved                          | Reserved                    |
| CTI_NoC7         |                2 | Reserved                          | Reserved                    |
| CTI_NoC7         |                1 | Reserved                          | Reserved                    |
| CTI_NoC7         |                0 | Reserved                          | Reserved                    |
| CTI_A53_Cluster0 |                7 | EXTOUT[3]                         | EXTIN[3]                    |
| CTI_A53_Cluster0 |                6 | EXTOUT[2]                         | EXTIN[2]                    |
| CTI_A53_Cluster0 |                5 | EXTOUT[1]                         | EXTIN[1]                    |
| CTI_A53_Cluster0 |                4 | EXTOUT[0]                         | EXTIN[0]                    |
| CTI_A53_Cluster0 |                3 | Reserved                          | Reserved                    |
| CTI_A53_Cluster0 |                2 | Reserved                          | CTIIRQ                      |
| CTI_A53_Cluster0 |                1 | PMUIRQ                            | DBGRESTART                  |
| CTI_A53_Cluster0 |                0 | DBGTRIGGER                        | EDBGRQ                      |
| CTI_A53_Cluster1 |                7 | EXTOUT[3]                         | EXTIN[3]                    |
| CTI_A53_Cluster1 |                6 | EXTOUT[2]                         | EXTIN[2]                    |
| CTI_A53_Cluster1 |                5 | EXTOUT[1]                         | EXTIN[1]                    |
| CTI_A53_Cluster1 |                4 | EXTOUT[0]                         | EXTIN[0]                    |
| CTI_A53_Cluster1 |                3 | Reserved                          | Reserved                    |
| CTI_A53_Cluster1 |                2 | Reserved                          | CTIIRQ                      |
| CTI_A53_Cluster1 |                1 | PMUIRQ                            | DBGRESTART                  |
| CTI_A53_Cluster1 |                0 | DBGTRIGGER                        | EDBGRQ                      |
| CTI_ETF_ETR0     |                7 | Reserved                          | Reserved                    |
| CTI_ETF_ETR0     |                6 | ETF 5 capture complete            | ETF 5 trigger in            |
| CTI_ETF_ETR0     |                5 | ETF 4 capture complete            | ETF 4 trigger in            |
| CTI_ETF_ETR0     |                4 | ETF 3 capture complete            | ETF 3 trigger in            |
| CTI_ETF_ETR0     |                3 | ETF 2 capture complete            | ETF 2 trigger in            |
| CTI_ETF_ETR0     |                2 | Cortex-A53_1 ETF capture complete | Cortex-A53 1 ETF trigger in |
| CTI_ETF_ETR0     |                1 | Cortex-A53 0 ETF capture complete | Cortex-A53 0 ETF trigger in |
| CTI_ETF_ETR0     |                0 | ETR capture complete              | ETR trigger in              |

Table continues on the next page...

Table 659. CTI assignments (continued)

| CTI instance   |   Trigger number | Trigger in                                                           | Trigger out               |
|----------------|------------------|----------------------------------------------------------------------|---------------------------|
| CTI_ETF_ETR1   |                7 | Reserved                                                             | Reserved                  |
| CTI_ETF_ETR1   |                6 | ETF5 full                                                            | ETF5 flush in             |
| CTI_ETF_ETR1   |                5 | ETF4 full                                                            | ETF4 flush in             |
| CTI_ETF_ETR1   |                4 | ETF3 full                                                            | ETF3 flush in             |
| CTI_ETF_ETR1   |                3 | ETF2 full                                                            | ETF2 flush in             |
| CTI_ETF_ETR1   |                2 | Cortex-A53_1 ETF full                                                | Cortex-A53_1 ETF flush in |
| CTI_ETF_ETR1   |                1 | Cortex-A53_0 ETF full                                                | Cortex-A53_0 ETF flush in |
| CTI_ETF_ETR1   |                0 | ETR full                                                             | Reserved                  |
| CTI_2          |                7 | Reserved                                                             | Reserved                  |
| CTI_2          |                6 | Reserved                                                             | Reserved                  |
| CTI_2          |                5 | Reserved                                                             | Reserved                  |
| CTI_2          |                4 | Reserved                                                             | Reserved                  |
| CTI_2          |                3 | Reserved                                                             | Reserved                  |
| CTI_2          |                2 | Reserved                                                             | Reserved                  |
| CTI_2          |                1 | Used for trigger of non-manageable faults from FCCU (such as reset)  | Reserved                  |
| CTI_2          |                0 | Used for trigger of manageable faults from FCCU (such as interrupts) | Reserved                  |

## 76.7.1.1 S32G accelerator subsystem CTI assignments

Additional cross-triggering inputs and outputs are connected to the accelerator subsystem. These allow cross-triggering to/from the LLCE, USB trace, PCIe\_1 trace, and the PFE trace clients. Each Probe in NoC provides up to eight Trigger Outputs (TrigOut) and provides eight Trigger Inputs (TrigIn), but only the two (Least Significant bits 1:0) are used. The others are not used or available.

Debug

<!-- image -->

The following table describes the S32G accelerator CTI assignments.

## Table 660. S32G accelerator subsystem CTI assignments

| CTI instance   |   Trigg er numb er | Trigger in                                | Trigger out                               |
|----------------|--------------------|-------------------------------------------|-------------------------------------------|
| ACCEL_CT I0    |                  7 | pfe_DDRresp_probe_mainCtiTrigOut[1]       | pfe_DDRresp_probe_mainCtiTrigIn[1]        |
| ACCEL_CT I0    |                  6 | pfe_DDRresp_probe_mainCtiTrigOut[0]       | Reserved                                  |
| ACCEL_CT I0    |                  5 | pfe_DDRreq_probe_mainCtiTrigOut[1]        | pfe_DDRreq_probe_mainCtiTrigIn[1]         |
| ACCEL_CT I0    |                  4 | pfe_DDRreq_probe_mainCtiTrigOut[0]        | Reserved                                  |
| ACCEL_CT I0    |                  3 | pcie_resp_probe_mainCtiTrigOut[1]         | pcie_resp_probe_mainCtiTrigIn[1]          |
| ACCEL_CT I0    |                  2 | pcie_resp_probe_mainCtiTrigOut[0]         | Reserved                                  |
| ACCEL_CT I0    |                  1 | pcie_req_probe_mainCtiTrigOut[1]          | pcie_req_probe_mainCtiTrigIn[1]           |
| ACCEL_CT I0    |                  0 | pcie_req_probe_mainCtiTrigOut[0]          | Reserved                                  |
| ACCEL_CT I1    |                  7 | pfe_HIF13Utilresp_probe_mainCtiTrigOut[1] | pfe_HIF13Utilresp_probe_mainCtiTrigIn[ 1] |
| ACCEL_CT I1    |                  6 | pfe_HIF13Utilresp_probe_mainCtiTrigOut[0] | Reserved                                  |
| ACCEL_CT I1    |                  5 | pfe_HIF13Utilreq_probe_mainCtiTrigOut[1]  | pfe_HIF13Utilreq_probe_mainCtiTrigIn[1 ]  |
| ACCEL_CT I1    |                  4 | pfe_HIF13Utilreq_probe_mainCtiTrigOut[0]  | Reserved                                  |
| ACCEL_CT I1    |                  3 | pfe_HIF02resp_probe_mainCtiTrigOut[1]     | pfe_HIF02resp_probe_mainCtiTrigIn[1]      |
| ACCEL_CT I1    |                  2 | pfe_HIF02resp_probe_mainCtiTrigOut[0]     | Reserved                                  |

Table continues on the next page...

Table 660. S32G accelerator subsystem CTI assignments (continued)

| CTI instance   |   Trigg er numb er | Trigger in                           | Trigger out                         |
|----------------|--------------------|--------------------------------------|-------------------------------------|
|                |                  1 | pfe_HIF02req_probe_mainCtiTrigOut[1] | pfe_HIF02req_probe_mainCtiTrigIn[1] |
|                |                  0 | pfe_HIF02req_probe_mainCtiTrigOut[0] | Reserved                            |
| ACCEL_CT I2    |                  7 | Reserved                             | Reserved                            |
| ACCEL_CT I2    |                  6 | Reserved                             | Reserved                            |
| ACCEL_CT I2    |                  5 | Reserved                             | Reserved                            |
| ACCEL_CT I2    |                  4 | Reserved                             | Reserved                            |
| ACCEL_CT I2    |                  3 | event_etf_acqcomp                    | event_etf_flushin                   |
| ACCEL_CT I2    |                  2 | event_etf_full                       | event_etf_trigin                    |
| ACCEL_CT I2    |                  1 | usb_probe_mainCtiTrigOut[1]          | usb_probe_mainCtiTrigIn[1]          |
| ACCEL_CT I2    |                  0 | usb_probe_mainCtiTrigOut[0]          | Reserved                            |
| LLCE_CTI       |                  7 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  6 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  5 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  4 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  3 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  2 | Reserved                             | Reserved                            |
| LLCE_CTI       |                  1 | HTM1_TriggerOut                      | Reserved                            |
| LLCE_CTI       |                  0 | HTM0_TriggerOut                      | Reserved                            |
| LLCE_C0_ CTI   |                  7 | Reserved                             | C0 DBGRESTART                       |
| LLCE_C0_ CTI   |                  6 | Reserved                             | Reserved                            |
| LLCE_C0_ CTI   |                  5 | Reserved                             | C0 TSTOP (MTB Trace Stop)           |
| LLCE_C0_ CTI   |                  4 | Reserved                             | C0 TSTART (MTB Trace Start)         |
| LLCE_C0_ CTI   |                  3 | Reserved                             | Reserved                            |
| LLCE_C0_ CTI   |                  2 | Reserved                             | Reserved                            |
| LLCE_C0_ CTI   |                  1 | Reserved                             | Reserved                            |
| LLCE_C0_ CTI   |                  0 | C0 Halted                            | C0 EDBGRQ                           |
| LLCE_C1_ CTI   |                  7 | Reserved                             | C1 DBGRESTART                       |
| LLCE_C1_ CTI   |                  6 | Reserved                             | Reserved                            |
| LLCE_C1_ CTI   |                  5 | Reserved                             | C1 TSTOP (MTB Trace Stop)           |
| LLCE_C1_ CTI   |                  4 | Reserved                             | C1 TSTART (MTB Trace Start)         |

Table continues on the next page...

Table 660. S32G accelerator subsystem CTI assignments (continued)

| CTI instance   |   Trigg er numb er | Trigger in   | Trigger out                 |
|----------------|--------------------|--------------|-----------------------------|
| LLCE_C2_       |                  3 | Reserved     | Reserved                    |
| LLCE_C2_       |                  2 | Reserved     | Reserved                    |
| LLCE_C2_       |                  1 | Reserved     | Reserved                    |
| LLCE_C2_       |                  0 | C1 Halted    | C1 EDBGRQ                   |
| CTI            |                  7 | Reserved     | C2 DBGRESTART               |
| CTI            |                  6 | Reserved     | Reserved                    |
| CTI            |                  5 | Reserved     | C2 TSTOP (MTB Trace Stop)   |
| CTI            |                  4 | Reserved     | C2 TSTART (MTB Trace Start) |
| CTI            |                  3 | Reserved     | Reserved                    |
| CTI            |                  2 | Reserved     | Reserved                    |
| CTI            |                  1 | Reserved     | Reserved                    |
| CTI            |                  0 | C2 Halted    | C2 EDBGRQ                   |
| LLCE_C3_ CTI   |                  7 | Reserved     | C3 DBGRESTART               |
| LLCE_C3_ CTI   |                  6 | Reserved     | Reserved                    |
| LLCE_C3_ CTI   |                  5 | Reserved     | C3 TSTOP (MTB Trace Stop)   |
| LLCE_C3_ CTI   |                  4 | Reserved     | C3 TSTART (MTB Trace Start) |
| LLCE_C3_ CTI   |                  3 | Reserved     | Reserved                    |
| LLCE_C3_ CTI   |                  2 | Reserved     | Reserved                    |
| LLCE_C3_ CTI   |                  1 | Reserved     | Reserved                    |
| LLCE_C3_ CTI   |                  0 | C3 Halted    | C3 EDBGRQ                   |

## 76.8 NoC trace

The system NoC provides all bus interconnectivity between initiators (masters) and targets (slaves). Trace features implemented in NoC allow bus transactions to be observed. NoC contains probes that monitor the buses, and these probes feed data to an observer. NoC generates STPv2 messages and transports the messages on the Arm Trace Bus as 64-bit cells. Trace packets are compliant with the AMBA3 ATB Protocol Specification 1.0.

Two kinds of probes are implemented: packet probes (requesters and responders) and transaction probes. Packet probes have these features:

- Runtime programmable selection of packet probe points
- Runtime programmable filtering for packet tracing
- Four filters available on each probe
- Recording of traffic and link statistics
- Event counting of signals external to NoC
- Eight 16-bit counters on each probe

- Counters can be cascaded for additional range
- Generation of trace or statistic packets, or both, for the observation network
- 32 bytes of buffers on each probe
- Optional timestamping of packets
- Most probes support intrusive (stalls upstream processing to avoid overflows) and spy (do not stall, discards data to avoid overflows) modes, however, some probes support only spy mode (see table below)

The following figure shows the high-level hierarchy of the NoC observers.

<!-- image -->

This figure also shows the points at which trace observers/probes can monitor the bus activities. The type of observability is shown in the following table.

Table 661. NoC observation network

| Observer                                          | Buffer size         | Probe                              |   Prob e ID | Probe point   | Probe type   | Trace modes supporte d   |
|---------------------------------------------------|---------------------|------------------------------------|-------------|---------------|--------------|--------------------------|
| A53 Cluster 0 non-coherent data access bus (Obs0) | 256 bytes 4 packets | a53_cluster0_noncoh_re q_probe     |           0 | Data Request  | Packet       | Intrusive, Spy           |
| A53 Cluster 0 non-coherent data access bus (Obs0) | 256 bytes 4 packets | a53_cluster0_noncoh_rsp _probe     |           1 | Data Response | Packet       | Intrusive, Spy           |
| A53 Cluster 0 non-coherent data access bus (Obs0) | 256 bytes 4 packets | a53_cluster0_noncoh_xa ction_probe |           2 | Transaction   | Transaction  | Spy                      |
| A53 Cluster 1 non-coherent data access bus (Obs1) | 256 bytes 4 packets | a53_cluster1_noncoh_re q_probe     |           0 | Data Request  | Packet       | Intrusive, Spy           |
| A53 Cluster 1 non-coherent data access bus (Obs1) | 256 bytes 4 packets | a53_cluster1_noncoh_rsp _probe     |           1 | Data Response | Packet       | Intrusive, Spy           |

Table continues on the next page...

Debug

Table 661. NoC observation network (continued)

| Observer                                    | Buffer size         | Probe                              | Prob e ID   | Probe point          | Probe type   | Trace modes supporte d   |
|---------------------------------------------|---------------------|------------------------------------|-------------|----------------------|--------------|--------------------------|
|                                             |                     | a53_cluster1_noncoh_xa ction_probe | 2           | Transaction          | Transaction  | Spy                      |
| Ncore (A53 coherent) data access bus (Obs2) | 256 bytes 4 packets | ncore_req_probe                    | 0           | Data Request         | Packet       | Intrusive, Spy           |
| Ncore (A53 coherent) data access bus (Obs2) | 256 bytes 4 packets | ncore_rsp_probe                    | 1           | Data Response        | Packet       | Intrusive, Spy           |
| Ncore (A53 coherent) data access bus (Obs2) | 256 bytes 4 packets | ncore_xaction_probe                | 2           | Transaction          | Transaction  | Spy                      |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_a53_req_probe                | 0           | Data Request         | Packet       | Intrusive, Spy           |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_a53_rsp_probe                | 1           | Data Response        | Packet       | Intrusive, Spy           |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_m7_req_probe                 | 2           | Data Request         | Packet       | Intrusive, Spy           |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_m7_rsp_probe                 | 3           | Data Response        | Packet       | Intrusive, Spy           |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_other_req_probe              | 4           | Data Request         | Packet       | Intrusive, Spy           |
| DRAM 0 (Obs8)                               | 256 bytes 4 packets | dram0_other_rsp_probe              | 5           | Data Response        | Packet       | Intrusive, Spy           |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | edma0_req_probe                    | 0           | Data Request         | Packet       | Intrusive, Spy           |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | edma0_rsp_probe                    | 1           | Data Response        | Packet       | Intrusive, Spy           |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | edma0_xaction_probe                | 2           | Transaction          | Transaction  | Spy                      |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | edma0_error_probe                  |             | Error Probe (logger) | Error        | Spy                      |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | Reserved                           |             | Reserved             | Reserved     | Spy                      |
| eDMA0 (Obs3)                                | 128 bytes 4 packets | llce error probe                   |             | Error Probe (logger) | Error        | Spy                      |
| eDMA1 (Obs4)                                | 128 bytes 4 packets | edma1_req_probe                    | 0           | Data Request         | Packet       | Intrusive, Spy           |
| eDMA1 (Obs4)                                | 128 bytes 4 packets | edma1_rsp_probe                    | 1           | Data Response        | Packet       | Intrusive, Spy           |
| eDMA1 (Obs4)                                | 128 bytes 4 packets | edma1_xaction_probe                | 2           | Transaction          | Transaction  | Spy                      |
| eDMA1 (Obs4)                                | 128 bytes 4 packets | edma1_error_probe                  |             | Error Probe (logger) | Error        | Spy                      |
| eDMA1 (Obs4)                                | 128 bytes 4 packets | otc_ht error probe                 |             | Error Probe (logger) | Error        | Spy                      |

Table continues on the next page...

Table 661. NoC observation network (continued)

| Observer        | Buffer size         | Probe               | Prob e ID   | Probe point          | Probe type   | Trace modes supporte d   |
|-----------------|---------------------|---------------------|-------------|----------------------|--------------|--------------------------|
|                 |                     | otc_ll error probe  |             | Error Probe (logger) | Error        | Spy                      |
| GMAC_0 (Obs5)   | 128 bytes 4 packets | gmac0_req_probe     | 0           | Data Request         | Packet       | Intrusive, Spy           |
| GMAC_0 (Obs5)   |                     | gmac0_rsp_probe     | 1           | Data Response        | Packet       | Intrusive, Spy           |
| GMAC_0 (Obs5)   |                     | gmac0_xaction_probe | 2           | Transaction          | Transaction  | Spy                      |
| Flex Ray (Obs6) | 128 bytes 4 packets | fray_req_probe      | 0           | Data Request         | Packet       | Intrusive, Spy           |
| Flex Ray (Obs6) |                     | fray_rsp_probe      | 1           | Data Response        | Packet       | Intrusive, Spy           |
| Flex Ray (Obs6) |                     | fray_xaction_probe  | 2           | Transaction          | Transaction  | Spy                      |
| PCIe_0 (Obs7)   | 128 bytes 4 packets | pcie0_req_probe     | 0           | Data Request         | Packet       | Intrusive, Spy           |
| PCIe_0 (Obs7)   |                     | pcie0_rsp_probe     | 1           | Data Response        | Packet       | Intrusive, Spy           |
| PCIe_0 (Obs7)   |                     | pcie0_xaction_probe | 2           | Transaction          | Transaction  | Spy                      |

The debug parameters for system NoC are provided in the following table.

## Table 662. Debug parameters for system NoC

| Observe r                       | Probe                              |   Probe ID | Probe type   |   # Filters | Allow filter on user   | Allow filter on enabled bytes   | Transact ion profiling   |   # Counter s | wCount ers      | Statistic s collectio n   |   # Statistic s counters |
|---------------------------------|------------------------------------|------------|--------------|-------------|------------------------|---------------------------------|--------------------------|---------------|-----------------|---------------------------|--------------------------|
| a53_clu ster0_no ncoh_ob server | a53_clu ster0_no ncoh_re q_packe t |          0 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| a53_clu ster0_no ncoh_ob server | a53_clu ster0_no ncoh_rs p_packe t |          1 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| a53_clu ster0_no ncoh_ob server | a53_clu ster0_no ncoh_xa ction     |          2 | xaction      |           0 | False                  | False                           | True                     |             4 | 8               | True                      |                        5 |

Table continues on the next page...

Table 662. Debug parameters for system NoC (continued)

| Observe r                       | Probe                              | Probe ID        | Probe type   | # Filters       | Allow filter on user   | Allow filter on enabled bytes   | Transact ion profiling   | # Counter s     | wCount ers      | Statistic s collectio n   | # Statistic s counters   |
|---------------------------------|------------------------------------|-----------------|--------------|-----------------|------------------------|---------------------------------|--------------------------|-----------------|-----------------|---------------------------|--------------------------|
| a53_clu ster1_no ncoh_ob server | a53_clu ster1_no ncoh_re q_packe t | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| a53_clu ster1_no ncoh_ob server | a53_clu ster1_no ncoh_rs p_packe t | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| a53_clu ster1_no ncoh_ob server | a53_clu ster1_no ncoh_xa ction     | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| concerto _observ er             | concerto _req_pa cket              | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| concerto _observ er             | concerto _rsp_pa cket              | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| concerto _observ er             | concerto _xaction                  | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| concerto _observ er             | Link99                             | Not applicab le | error        | Not applicab le | Not applicab le        | Not applicab le                 | Not applicab le          | Not applicab le | Not applicab le | Not applicab le           | Not applicab le          |
| enet_ob server                  | enet_req _packet                   | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| enet_ob server                  | enet_rsp _packet                   | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| enet_ob server                  | enet_xa ction                      | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| fray_obs erver                  | fray_req _packet                   | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| fray_obs erver                  | fray_rsp _packet                   | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |

Table continues on the next page...

Table 662. Debug parameters for system NoC (continued)

| Observe r       | Probe                | Probe ID        | Probe type   | # Filters       | Allow filter on user   | Allow filter on enabled bytes   | Transact ion profiling   | # Counter s     | wCount ers      | Statistic s collectio n   | # Statistic s counters   |
|-----------------|----------------------|-----------------|--------------|-----------------|------------------------|---------------------------------|--------------------------|-----------------|-----------------|---------------------------|--------------------------|
|                 | fray_xac tion        | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
|                 | Link113              | Not applicab le | error        | Not applicab le | Not applicab le        | Not applicab le                 | Not applicab le          | Not applicab le | Not applicab le | Not applicab le           | Not applicab le          |
| pcie_ob server  | pcie_req _packet     | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| pcie_ob server  | pcie_rsp _packet     | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| pcie_ob server  | pcie_xac tion        | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| edma0_ observer | edma0_r eq_pack et   | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| edma0_ observer | edma0_r sp_pack et   | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| edma0_ observer | edma0_ xaction       | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| edma0_ observer | Link107              | Not applicab le | error        | Not applicab le | Not applicab le        | Not applicab le                 | Not applicab le          | Not applicab le | Not applicab le | Not applicab le           | Not applicab le          |
| edma0_ observer | atf_dtpLi nkResp 148 | Not applicab le | error        | Not applicab le | Not applicab le        | Not applicab le                 | Not applicab le          | Not applicab le | Not applicab le | Not applicab le           | Not applicab le          |
| edma1_ observer | edma1_r eq_pack et   | 0               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| edma1_ observer | edma1_r sp_pack et   | 1               | packet       | 4               | True                   | True                            | False                    | 0               | Not applicab le | True                      | 8                        |
| edma1_ observer | edma1_ xaction       | 2               | xaction      | 0               | False                  | False                           | True                     | 4               | 8               | True                      | 5                        |
| edma1_ observer | Link108              | Not applicab le | error        | Not applicab le | Not applicab le        | Not applicab le                 | Not applicab le          | Not applicab le | Not applicab le | Not applicab le           | Not applicab le          |

Table continues on the next page...

Debug

Table 662. Debug parameters for system NoC (continued)

| Observe r            | Probe                    |   Probe ID | Probe type   |   # Filters | Allow filter on user   | Allow filter on enabled bytes   | Transact ion profiling   |   # Counter s | wCount ers      | Statistic s collectio n   |   # Statistic s counters |
|----------------------|--------------------------|------------|--------------|-------------|------------------------|---------------------------------|--------------------------|---------------|-----------------|---------------------------|--------------------------|
| dram0_a 53_obse rver | dram0_a 53_req_ packet   |          0 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| dram0_a 53_obse rver | dram0_a 53_rsp_ packet   |          1 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| dram0_a 53_obse rver | dram0_ m7_req_ packet    |          0 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| dram0_a 53_obse rver | dram0_ m7_rsp_ packet    |          1 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| dram0_a 53_obse rver | dram0_o ther_req _packet |          0 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |
| dram0_a 53_obse rver | dram0_o ther_rsp _packet |          1 | packet       |           4 | True                   | True                            | False                    |             0 | Not applicab le | True                      |                        8 |

## NOTE

Each fragmented response packet will be counted if filter is enabled. It is applicable for all filters inside NoC. This is a corner case when dealing with interleaved response from the slave and is expected behavior. For example, if ENET is reading two packets from DDR, with filter enabled, the counter value is 2 for request probe, but for response probe it is 4. If the filter is disabled, counter is incremented by 1 per response packet.

It is recommended to set the probe counter to only increment on the valid bytes in each response fragment, rather than packet count.

## 76.8.1 S32G accelerator subsystem NoC trace

The S32G accelerator subsystem NoC contains two trace observer ports that can generate CoreSight compliant trace data. Each NoC master has probe(s) associated with it to determine what information to trace. The following table shows the NoC ports and their probe/observer alignment.

Table 663. S32G accelerator subsystem NoC probes and observer mapping

| Port      | Probes            | Type   | MUX select   | Buffering        | Observers     |
|-----------|-------------------|--------|--------------|------------------|---------------|
| m_pcie_1  | pcie_req_probe    | packet |              | 128 bytes        | pcie_observer |
|           | pcie_resp_probe   | packet |              | 2 header packets |               |
| m_usb     | usb_probe         | spy    |              |                  |               |
| m_pfe_DDR | pfe_ddr_req_probe | packet |              |                  |               |
|           | pfe_dd_resp_probe | packet |              |                  |               |

Table continues on the next page...

Debug

Table 663. S32G accelerator subsystem NoC probes and observer mapping (continued)

| Port       | Probes                     | Type   |   MUX select | Buffering                  | Observers    |
|------------|----------------------------|--------|--------------|----------------------------|--------------|
| m_pfe_HIF0 | pfe_hif02_req_probe        | packet |            1 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_HIF0 | pfe_hif02_resp_probe       | packet |            1 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_HIF2 | pfe_hif02_req_probe        | packet |            0 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_HIF2 | pfe_hif02_resp_probe       | packet |            0 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_Util | pfe_hif13Util_req_prob e   | packet |            1 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_HIF1 | pfe_hif13_Util_resp_pr obe | packet |            2 | 256 bytes 2 header packets | pfe_observer |
| m_pfe_HIF3 | pfe_hif13_Util_resp_pr obe | packet |            0 | 256 bytes 2 header packets | pfe_observer |

The debug parameters for system NoC are provided in the following table.

Table 664. Debug parameters for system NoC

| Probe                     | Type    | Observ er   | Mode      |   Probe ID |   # Filter | Allow filter on user   | Allow filter on enable d bytes   | Transac tion profiling   | Statistics collection   |   # Statistics counters |
|---------------------------|---------|-------------|-----------|------------|------------|------------------------|----------------------------------|--------------------------|-------------------------|-------------------------|
| pcie_req_probe            | packets | pcie        | intrusive |          0 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pcie_resp_probe           | packets | pcie        | intrusive |          1 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_DDRreq_probe          | packets | pcie        | intrusive |          2 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_DDRresp_probe         | packets | pcie        | intrusive |          3 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_HIF02_req_probe       | packets | pfe         | intrusive |          4 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_HIF02_resp_probe      | packets | pfe         | intrusive |          5 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_HIF13Utilreq_probe    | packets | pfe         | intrusive |          6 |          2 | True                   | True                             | False                    | True                    |                       8 |
| pfe_HIFT13Utilresp_pro be | packets | pfe         | intrusive |          7 |          2 | True                   | True                             | False                    | True                    |                       8 |
| usb_probe                 | packets | pcie        | spy       |          8 |          2 | True                   | True                             | False                    | True                    |                       8 |

All probes are defined as packet probes except for the USB probe, which is defined as a spy probe. Each probe has four filters associated with them that can be used to filter when a trace packet is generated. All probes also include eight statistic counters that can be used to count various events and a 48-bit CoreSight timestamp. The debug registers to control the probes and observers are programmable via the accelerator NoC's m\_debug\_apb master port. Probes can be configured to be intrusive or non-intrusive. When intrusive mode is set to 1, no packets are dropped from trace. Back pressure will be applied on the functional data path if the trace FIFOs get full. If intrusive mode is set to 0, no back pressure is applied and it's then possible to lose trace data if the trace FIFOs get full. Details on the registers can be found in the NoC chapter.

The following diagram shows the connectivity between the probes and the observers.

Debug

Debug

<!-- image -->

## NOTE

Probe buffers may overflow when setting "payload\_en=1" and "intrusive\_mode=0". When setting intrusive\_mode to 1, buffers will not overflow, but backpressure will be applied to the data path so as not to lose trace information.

## 76.8.2 Observability

## 76.8.2.1 Concepts

The technology that allows activity within NoC interconnects to be observed and reported, provides the following services:

- Error detection, logging, and reporting
- Packet tracing
- Traffic or link statistics computation
- Transaction latency profiling
- Events or statistics reporting to the system via industry standard third-party interface, MIPI   STPv2 over the Arm   ATB Coresight   trace interface

To provide these services, NoC technology uses task-specific probes placed on probe points located in the datapath topology. Traced packets and observed events are gathered by observers that can issue interrupts and forward detailed data to the supported third-party interfaces.

## 76.8.2.1.1 Packet and transaction probes

NoC packet probes provide the following features:

- Run-time programmable selection of packet probe points for probes connected to multiple points
- Run-time programmable filtering for packet tracing
- Recording of traffic and link statistics
- Event counting of signals external to NoC
- Generation of trace or statistic packets, or both, for the observation network
- Optional time stamping of packets

NoC transaction probes provide the following features:

- Run-time programmable selection of transaction probe points
- Transaction profiling in terms of latency or number of pending transactions
- Event counting of signals external to the NoC
- Generation of statistic packets for the observation network
- Optional time stamping of packets

NoC error probes detect packets in error and forward them to the associated observer via the observation network. The error packets are recorded by error loggers in the observer. An error logger can be programmed to assert an output signal when an error packet is received. The signal can be used as a system interrupt. Observers can contain one or more loggers and associated interrupt signals, each dedicated to specific error codes or error security levels.

By default, a new error can only be logged when the previous one is cleared by proper register access. If an error probe reports new errors and the associated logger is already full, then subsequent errors are dropped. Alternatively, the error logger can be programmed to queue up error packets and only accept them once the currently logged error has been cleared.

## 76.8.2.1.2 Observers

Data collected by the certain NoC probes can be transferred to NoC observer units via the observation network.

Observers can be connected to NoCs via an ATB   interface, with MIPI STPv2 encapsulation and time stamping. Collected data can be forwarded either to an off-chip interface, or on-chip storage buffer for analysis by an on-chip debugger.

## 76.8.2.1.2.1 Time stamping probed events

The timestamp is added to the observation packet, regardless of whether the probe is configured for tracing or statistic collection.

The timestamp remains attached to the observation packet until the packet reaches the observer. This timestamp value is extracted and the difference between the current timestamp and the previous timestamp value, which was sent in the STPv2 stream, is calculated. This delta value is appended to the first STPv2 packet embedding the ATB packet.

## 76.8.2.2 Operation

## 76.8.2.2.1 Logging errors

## 76.8.2.2.1.1 Reconstructing transaction addresses

## 76.8.2.2.1.1.1 Calculating initiator - target transaction addresses

Once the initiator-target mapping associated with the logged packet has been identified, the complete transaction address, either from the perspective of the initiator or the target, can be calculated.

## 76.8.2.2.1.1.1.1 Initiator transaction address

From the perspective of the initiator, calculate InitAddr by:

```
InitAddr = Init localAddress | Addr
```

where:

Debug

NOTE

A lookup table acts as a simple gate when there are no filters.

After competing the programming sequence above, filters must be configured (see Filtering packets).

## NOTE

Use Opcode value based filtering for write/read instead of sequence ID based filtering. Also, sequence ID should be masked when filter is applied on RouteID.

## 76.8.2.2.2.2 Filtering packets

Each packet probe supports up to four packet filters.

The following list comprises the complete set of filter registers, where the value for filter n ranges from 0 to 3.

- Filters\_N\_RouteIdBase
- Filters\_N\_Status
- Filters\_N\_RouteIdMask
- Filters\_N\_Length
- Filters\_N\_AddrBase\_Low
- Filters\_N\_Urgency
- Filters\_N\_AddrBase\_High
- Filters\_N\_UserBase
- Filters\_N\_WindowSize
- Filters\_N\_UserMask
- Filters\_N\_UserBaseHigh

Debug

- Addr - Logged packet transport address Addr given in register ErrLog3 and, additionally, ErrLog4, in the case where the address exceeds 32 bits
- Init localAddress - Value from the identified initiator-target mapping in subsection "Aperture values' of the structure information file

## 76.8.2.2.1.1.1.2 Target transaction address

The transaction address from the perspective of the target, calculate TargAddr by:

TargAddr = Targ localAddress | Addr

Where the definitions of the terms are the same as used for calculating the initiator transaction address (see Initiator transaction address).

## 76.8.2.2.2 Tracing packets

## 76.8.2.2.2.1 Basic packet tracing

To trace packets, the packet probe must be programmed as follows:

1. Set field TraceEn of register MainCtl to 1 to enable forwarding of traced packets to the connected observer. Optionally set field PayloadEn of register MainCtl to 1 if the packet payload should be included in the trace
2. Set register TracePortSel to the value corresponding to the probe point of interest
3. Set field GlobalEn of register CfgCtl to 1
4. Set register FilterLut to -1 (all bits set)

- Filters\_N\_UserMaskHigh
- Filters\_N\_Opcode

## 76.8.2.2.2.2.1 Filtering on an address range

Packets which target a given address range of a specific mapping may be filtered by programming the set of filter registers.

Table 665. Packet filtering registers

| Register                     | Value                                                     |
|------------------------------|-----------------------------------------------------------|
| Filters_N_RouteIdBase        | RouteId subfields Initflow, TargFlow, and TargSubRange.   |
| Filters_N_RouteIdMask        | Set bits to 1 if RouteId fields are to be used by filter. |
| Filters_N_AddrBase_Low/ High | Address offset from initiator or target local address.    |
| Filters_N_WindowSize         | Log 2 of address range.                                   |

## 76.8.2.2.2.2.2 Selecting packets based on packet opcode

Packets can be selected based on the opcode field (Opc) in the packet header using register Filters\_N\_Opcode. In the following example, the filter is required to select all packets with Opc equal to RD and all packets belonging to a locked sequence.

Program the register fields of Filters\_N\_Opcode as shown in Table 666.

## Table 666. Packet filtering registers

| Field name   |   Setting |
|--------------|-----------|
| RdEn         |         1 |
| LockEn       |         1 |

The other register fields are set to 0. Figure 620 shows a sequence of packets with the resulting filter hits.

<!-- image -->

## 76.8.2.2.2.2.3 Excluding packet header fields from filter criteria

To ignore a specific packet header field in the filter, set its associated register with the value in shown Table 667.

Debug

Table 667. Excluding packet header field register settings

| Register name                       | Setting   |
|-------------------------------------|-----------|
| Filters_N_RouteIdMask               | 0         |
| Filters_N_WindowSize                | -1 1      |
| Filters_N_Opcode                    | Fh        |
| Filters_N_Status                    | 3h        |
| Filters_N_Length                    | Fh        |
| Filters_N_Urgency                   | 0         |
| Filters_N_UserMask (if present)     | 0         |
| Filters_N_UserMaskHigh (if present) | 0         |

## 76.8.2.2.2.2.4 Tracing all packets

If it is required to trace all packets, then the probe's filtering function must be programmed as follows:

1. Program one of the filters to accept all packet header field values. Set the filter registers to the values given in the table in the preceding section "Excluding packet header fields from filter criteria"
2. Program register FilterLut to select the output of filter programmed in the previous step

## 76.8.2.2.2.3 Tracing error packets

Error packets, that is packets with header field Status set to ERR, are not traced by default. To include error packets in the trace output, write MainCtl[ErrEn] = 1 and MainCtl[ErrEn] = 1.

## 76.8.2.2.2.4 Combining filters

A look-up table (LUT) is instantiated in the probe, which allows a hit to be generated on any logical combination of packet filters. The logic function is programmed via register FilterLut. The value programmed in the register corresponds to the truth table applied on the filter outputs.

For example, with two filters F0 and F1, sixteen possible functions can be defined, a subset of which is shown in the following table.

Table 668. Example subset of sixteen possible functions

| Filter hit   | Filter hit   | Required filter combination   | Required filter combination   | Required filter combination   | Required filter combination   | Required filter combination   | Required filter combination   |
|--------------|--------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|
| F1           | F0           | F0                            | F1                            | F1 & F0                       | F1 &#124; F0                  | F1 ^ F0                       | ~F0                           |
| 0            | 0            | 0                             | 0                             | 0                             | 0                             | 0                             | 1                             |
| 0            | 1            | 1                             | 0                             | 0                             | 1                             | 1                             | 0                             |
| 1            | 0            | 0                             | 1                             | 0                             | 1                             | 1                             | 1                             |
| 1            | 1            | 1                             | 1                             | 1                             | 1                             | 0                             | 0                             |
|              |              | Value to program in FilterLut | Value to program in FilterLut | Value to program in FilterLut | Value to program in FilterLut | Value to program in FilterLut | Value to program in FilterLut |
|              |              | Ah                            | Ch                            | 8h                            | Eh                            | 6h                            | 5h                            |

## NOTE

In this example, setting register FilterLut to Fh will generate a LUT hit for any combination of filter hits, effectively bypassing the filters.

## 76.8.2.2.2.5 Configuring and managing trace alarm events

Trace alarm events can be separately enabled, recorded, and cleared using registers TraceAlarmEn, TraceAlarmStatus, and TraceAlarmClr respectively. In each register, a dedicated bit is associated with each filter hit; the MSB is associated with the LUT hit.

The trace alarm logic can be configured to drive output signal TraceAlarm if one or more trace alarm events are recorded in register TraceAlarmStatus. Signal TraceAlarm can be used directly as an interrupt source, or can be routed through a sideband manager.

To use the trace alarm feature:

1. Enable hits from selected filters 0 to (nFilter - 1) to generate a trace alarm by setting register TraceAlarmEn bits 0 to (nFilter - 1) to 1.
- Optionally, enable LUT hits to generate a trace alarm by setting the MSB of TraceAlarmEn.
2. Set field AlarmEn to 1 in register MainCtl in order to activate signal TraceAlarm when a trace alarm occurs.

If TraceAlarm is asserted, the interrupt service routine should:

1. Identify the source or sources of the trace alarm by reading register TraceAlarmStatus.
2. Clear the source or sources of the trace alarm by setting the corresponding bits to 1 in register TraceAlarmClr. Signal TraceAlarm deasserts when all bits in TraceAlarmStatus have been cleared.

## 76.8.2.2.3 Collecting statistics

## 76.8.2.2.3.1 Counting packets over fixed period

The following programming sequence counts packets at a given probe point using statistic counter 0:

1. Set field StatEn to 1 in register MainCtl
2. Set register Counters\_0\_PortSel to the value corresponding to the probe point of interest
3. Set register Counters\_0\_Src to 6h (PKT) to count packets
4. Specify the period during which the packets should be counted by setting register StatPeriod to: log2 (interval expressed in number of probe clock cycles)
5. Set field GlobalEn of register CfgCtl to 1 to enable packet counting

Once time 2 StatPeriod  has elapsed, the number of packets counted is dumped to the observer.

## 76.8.2.2.3.2 Counting filtered packets over fixed period

The following programming sequence counts hits from packet filter 2 using statistic counter 0:

## NOTE

The important distinction between this sequence and the one in a related programming example (see Counting packets over fixed period) is that the probe port is selected using register TracePortSel rather than Counters\_0\_PortSel

1. Set field StatEn to 1 in register MainCtl
2. Set register TracePortSel to the value corresponding to the probe port of interest
3. Set register Counters\_0\_Src to 0xE (FILT2) to count packets from filter 2

Debug

4. Specify the period during which the packets should be counted by setting register StatPeriod to: log2(interval expressed in number of probe clock cycles)
5. Set field GlobalEn of register CfgCtl to 1 to enable packet counting

Once time 2 StatPeriod  has elapsed, the number of filtered packets counted is dumped to the observer.

## NOTE

Count reported in statistics packet may be 1 less than the actual events that occurred in StatPeriod window. Select large StatPeriod window to reduce probability of this error.

## 76.8.2.2.4 Transaction profiling operation

The programming sequence examples in this section constitute, for a given category of use cases, the obligatory base from which to develop sequences to handle specific needs within the category.

## 76.8.2.2.4.1 Measuring latency

The following example of a run-time programming sequence shows how a transaction probe can be used to measure transaction latency.

The measurement specification is:

- For init0, monitor delays for read transactions only
- For init1, monitor delays for read and write transactions

## 76.8.2.2.4.2 Programming the packet probe statistics subsystem

The statistics counters in the packet probe unit of the transaction probe must be programmed to count the delay events recorded by the transaction profiler unit.

1. Map the five delay event bins, associated with transactions issued by init0, from the transaction profiler unit to statistics counters in the packet probe unit by programming the following registers:
- Counters\_0\_Src = 20h =&gt; Counts the number of transactions from init0 with a delay between 0 and 1
- Counters\_1\_Src = 21h =&gt; Counts the number of transactions from init0 with a delay between 2 and 4
- Counters\_2\_Src = 22h =&gt; Counts the number of transactions from init0 with a delay between 5 and 9
- Counters\_3\_Src = 23h =&gt; Counts the number of transactions from init0 with a delay between 10 and 99
- Counters\_4\_Src = 24h =&gt; Counts the number of transactions from init0 with a delay greater than 100
2. Map the five delay event bins, associated with transactions issued by init1, from the transaction profiler unit to statistics counters in the packet probe unit by programming the following registers:
- Counters\_5\_Src = 25h =&gt; Counts the number of transactions from init1 with a delay between 0 and 1
- Counters\_6\_Src = 26h =&gt; Counts the number of transactions from init1 with a delay between 2 and 4
- Counters\_7\_Src = 27h =&gt; Counts the number of transactions from init1 with a delay between 5 and 9
- Counters\_8\_Src = 28h =&gt; Counts the number of transactions from init1 with a delay between 10 and 99
- Counters\_9\_Src = 29h =&gt; Counts the number of transactions from init1 with a delay greater than 100
3. Set register StatPeriod to log 2 (period), that is, the period during which delay events should be counted before being sent to the observer
4. Set field StatEn of register MainCtl to 1 to enable the statistics counters to count delay events

## 76.8.2.2.4.3 Enabling the transaction probe

1. Set field GlobalEn of register CfgCtl to 1 to enable the statistics counters
2. Set register En to 1 to enable the transaction profiling counters

## 76.8.2.2.4.4 Programming the init0 NIU transaction filter

1. Set register Mode to 1 to set the delay mode to latency
2. Set field RdEn of register Opcode to 1 to monitor read transactions only

## 76.8.2.2.4.5 Programming the init1 NIU transaction filter

1. Set register Mode to 1 to set the delay mode to latency
2. Set fields RdEn and WrEn of register Opcode both to 1 to monitor read and write transactions

## 76.8.2.2.5 Activating observer debug output

## 76.8.2.2.5.1 STPv2 interface

The observers generate STPv2 formatted trace packets. To enable trace output, the following registers must be programmed.

1. Specify the required period between STP synchronization sequences in register AsyncPeriod. Ensure that the value of AsyncPeriod is large enough to allow STPv2 cells, encapsulating Trace / Statistic Packets, to be inserted in between STPv2 synchronization sequences
2. Ensure that register STPv2En is set to 1 to enable the STPv2 interface
3. Set register AtbId to a value that is unique not only within the NoC but also within the debug system
4. Set register AtbEn to 1 to enable the ATB function

## 76.8.2.3 Technical reference

NoC observability technology comprises two principle components: observation probes and observer units.

The section provides detailed technical reference information for these components, along with the NoC packet format description needed to analyze error logs and packet trace information.

## 76.8.2.3.1 Observation probes

This section provides the detailed technical reference information for the NoC Observability technology collectively called observation probe units.

## 76.8.2.3.1.1 Packet probe

The NoC packet probe unit collects trace and statistics data. The unit can be used in conjunction with the NoC transaction profiler unit to create a transaction probe.

## 76.8.2.3.1.1.1 Packet probe features

The unit has the following main features:

- Support for any transport packet format and serialization
- Trace mode with programmable packet filters
- Optional packet payload tracing
- Programmable flow-control modes: Overflow Management and Intrusive

Debug

- Statistics can be collected and sent to an observer either periodically or after manual triggering
- Alarms on both trace filters and statistics counters
- Optional time stamping of probed events

## 76.8.2.3.1.2 Overflow flow-control for tracing

When not using Intrusive Mode (see register field IntrusiveMode of register MainCtl), an overflow packet is added after the stalled packet(s), which reports how many observation packets have been lost.

This Overflow packet has the following format:

- Opc = WR, Status = ERR
- Debug = (probeId, Urgency= 0, Mod=1)
- RouteId = RouteID of the packet that triggered the overflow
- Addr[8:0] = number of lost or uncompleted observation packets, minus one
- Len: 0 if no payload lost; 1 otherwise
- Lock = Addr[8:0] = Security = User = 0

In case of payload overflow, the current packet is completed according to its type; then an overflow packet is also sent:

- Write request packets are fully completed with the correct number of words, all having null Data and BE
- A single data word with null data that terminates the tracing of the read payload for that transaction completes Read response and Read continuous packets

## 76.8.2.3.1.3 Transaction filter

The NoC transaction filter unit uses programmable criteria to select request and response events.

The unit is integrated into the NIU and is connected to the NIU generic-to-transport unit. More than one transaction filter can be connected to a NoC transaction profiler unit.

## 76.8.2.3.1.4 Transaction profiler

The NoC transaction profiler unit receives events from one or more transaction filters and organizes them into histogram bins, defined by programmable thresholds.

The unit is connected to a standard Packet Probe via the unit external event input ports.

## 76.8.2.3.2 Observers

This section provides detailed technical reference information for the NoC Observability technology Observer unit.

## 76.8.2.3.2.1 Error logging

Errors that occur in packets observed by probes can be logged.

## 76.8.2.3.2.1.1 Features

- Error filtering can be based on selected error codes, user and security flags and sideband signals
- An optional fault interrupt can be asserted on an error
- Can be used in conjunction with trace probe filtering to monitor a specific port

For below masters, the writes/reads will result into FCCU fault/exception as per below table.

Debug

Table 669. FCCU fault/exception

| Masters   | Buffered writes                                                                       | Non buffered writes                                                                                          | Reads                                                                                                        | NoC error logger register                     |
|-----------|---------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
| LLCE      | FCCU fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) | NA                                                                                                           | FCCU fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | edma0_observer_main_ErrorL ogger_0_FaultEn    |
| Concerto  | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) | FCCU Fault generated (ErrorLogger_0_FaultEn[ FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | concerto_observer_main_Error Logger_0_FaultEn |
| eDMA0     | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) | FCCU Fault generated (ErrorLogger_0_FaultEn[ FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | edma0_observer_main_ErrorL ogger_0_FaultEn    |
| eDMA1     | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) | FCCU Fault generated (ErrorLogger_0_FaultEn[ FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | edma1_observer_main_ErrorL ogger_0_FaultEn    |
| FlexRay   | NA                                                                                    | FCCU Fault generated (ErrorLogger_0_FaultEn[ FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | FCCU Fault generated (ErrorLogger_0_FaultE n[FAULTEN] is 1 and FCCU fault is enabled) Exception is generated | fray_observer_main_ErrorLogg er_0_FaultEn     |
| M7 AHBP   | No exception/ Fault reporting                                                         | Exception is generated                                                                                       | Exception is generated                                                                                       | -                                             |

See the Fault map file attached to this document.

## 76.8.2.3.2.1.2 NoC error codes

The following table lists all error codes that are relevant to NoC interconnect operation.

## Table 670. NoC error codes

| Code   |   Value | Source                    | Type                           |
|--------|---------|---------------------------|--------------------------------|
| SLV    |       0 | Target                    | Target error detected by slave |
| DEC    |       1 | Initiator NIU             | Address decode error           |
| UNS    |       2 | Target NIU                | Unsupported request            |
| DISC   |       3 | Power disconnect          | Disconnected target or domain  |
| SEC    |       4 | Initiator NIU or firewall | Security violation             |

Table continues on the next page...

## Table 670. NoC error codes (continued)

| Code   |   Value | Source     | Type                                                   |
|--------|---------|------------|--------------------------------------------------------|
| HIDE   |       5 | Firewall   | Hidden security violation, reported as ok to initiator |
| TMO    |       6 | Target NIU | Timeout                                                |
| RSV    |       7 | None       | Reserved                                               |

## 76.8.2.3.2.2 STPv2 stream generation

The NoC STPv2 adapter in the observer encapsulates ATB packets and generates synchronization sequences to provide a MIPI-STPv2 compliant STP stream. Time stamps can optionally be included in the stream.

## 76.8.2.3.2.2.1 Features

- Compliant with AMBA  -3 ATB and MIPI   STPv2 specifications
- Supports ATB data widths from 8 to 64 bits
- Supports STPv2 opcodes ASYNC, VERSION, NULL, NULL\_TS, D64, D64MTS, and MERR
- Synchronization sequence generation with optional time stamp
- Encapsulation of probe time stamps
- Supports all time stamp length encodings

## NOTE

For details, see MIPI   Alliance Specification for System Trace Protocol (STP), version 2.00.01, 24 February 2010.-STPv2 specification.

## 76.8.2.3.2.2.2 Synchronization sequence generation

The synchronization sequence permits the SoC debug system to identify the STPv2 packet boundary. A time stamp can be optionally inserted in the sequence to which the SoC debug system may resynchronize itself.

The synchronization sequence is sent when one of the following events occurs:

- After a reset
- On the rising edge of input signal SyncReq
- When the number of clock cycles since the last synchronization sequence is between 2AsyncPeriod and 223 inclusive, and register AsyncPeriod is greater than 0

## NOTE

The synchronization sequences are inserted instead of ATB synchronization cells.

The STPv2 adapter can issue synchronization sequences either with or without time stamps. The examples in figures that follow are represented according to the following key.

76.8.2.3.2.2.2.1 STPv2 synchronization sequence without timestamp

Debug

<!-- image -->

Synchronization sequences are sent without a timestamp when the observer STPv2 parameter wTimeStamp is set to 0. In this case, the sequence comprises the STPv2 packets ASYNC and VERSION, as well as NULL packets for padding. Such a sequence is shown in the following figure.

<!-- image -->

## 76.8.2.3.2.2.2.2 STPv2 synchronization sequence with timestamp

If wTimeStamp is greater than zero, synchronization sequences are sent with time stamps. The sequence comprises the STPv2 packets ASYNC, VERSION, NULL, and NULL\_TS. The time stamp value, received on observer input signal TimeStamp and extended to 64 bits, is sent in the payload of NULL\_TS.

The synchronization sequence with time stamp is shown in the following figure.

<!-- image -->

In the figure:

- Regardless of the width of the time stamp, specified by wTimeStamp, the time stamp is extended to 64 bits
- All 16 nibbles of the time stamp are significant, indicated by the time stamp size nibble being set to Eh
- The protocol version is set to 3 in the payload of packet VERSION. This indicates that the time stamp is encoded using the uncompressed STPv2NAT format

## NOTE

The packet sent by the probe (having lower timestamp) can be delayed due to pipeline stages and buffering before it is seen at observer. During this time, a synchronization sequence can get generated with later timestamp (by observer) and hence in few cases, it may be seen that the Synchronization sequence has a higher timestamp but is received earlier.

## 76.8.2.3.2.2.3 Encapsulation of ATB packets

The STPv2 adapter encapsulates 64-bit ATB cells into the payload of 64-bit STPv2 data packets. The first ATB cell of an observation packet is encapsulated into a D64MTS STPv2 packet; D64 STPv2 packets are used for subsequent cells of the same observation packet. If observer parameter wTimeStamp is set to a value greater than 0, a Timestamp Size nibble and the time stamp are appended to the D64MTS packet. If wTimeStamp is 0, only the Timestamp Size nibble, set to a value of 0, is appended.

If an overflow packet is received by the observer, an MERR STPv2 packet is sent, indicating an STPv2 master error, prior to the encapsulation of the probed data into D64MTS and D64 packets.

## 76.8.2.3.2.2.3.1 Timestamp compression

When wTimeStamp is greater than 0, the number of bits sent in the Timestamp field of D64MTS packets depends on the difference between the time stamp from the current observation packet and the previous time stamp value sent in the STPv2 stream. The previous time stamp may be either itself the time stamp of the previous observation packet or the absolute time stamp sent in an STPv2 synchronization sequence.

Only nibbles which are different between the current and previous time stamps are sent, left-aligned, in the Timestamp field of the D64MTS packet. The field is preceded by a Timestamp Size nibble, which indicates the field size, in nibbles. The encoding of TimeStamp Size is defined in Section 7.2 of MIPI STP specification version 2.00.01.

The following table shows several examples of time stamp compression values.

Debug

Table 671. Timestamp compression values

| Timestamp value      | Timestamp value      | STP timestampe   | STP timestampe       |
|----------------------|----------------------|------------------|----------------------|
| Previous             | Current              | Timpstamp size   | Compressed timestamp |
| 0000_0000_1111_2222h | 0000_0000_1111_2222h | 0                | -                    |
| 0000_0000_1111_2222h | 0000_0000_1111_2234h | 2                | 34h                  |
| 0000_0000_1234_5678h | 0000_0000_1254_5601h | 6                | 545601h              |
| 0123_0000_0000_0000h | 0226_0000_0002_0030h | 16 1             | 0226_0000_0002_0030h |
| 0000_0000_0012_3459h | 0000_0000_0012_3457h | 1                | 7h 2                 |

## 76.8.2.3.2.3 Observer registers

Observer functions, such as error logging, ATB formatting, and STPv2 encapsulation, are run-time programmable via registers. For a given function, in addition to the specific registers for that function, the register set includes standard identification registers.

See APB memory map.

See "Memory maps/register definitions" in this document for reset values of registers.

## 76.8.2.3.2.3.1 Error logging registers

Registers related to error logging are summarized in the following table.

| Address offset   | Name    | Type    | Retention   |
|------------------|---------|---------|-------------|
| 0008h            | FaultEn | Control | Yes         |
| 000Ch            | ErrVld  | Status  | No          |
| 0010h            | ErrClr  | Pulse   | No          |
| 0014h            | ErrLog0 | Status  | No          |
| 0018h            | ErrLog1 | Status  | No          |
| 001Ch            | ErrLog2 | Status  | No          |
| 0020h            | ErrLog3 | Status  | No          |
| 0024h            | ErrLog4 | Status  | No          |
| 0028h            | ErrLog5 | Status  | No          |
| 002Ch            | ErrLog6 | Status  | No          |
| 004Ch            | StallEn | Control | Yes         |

76.8.2.3.2.3.1.1 FaultEn

When 1-bit register FaultEn is set to 1, error reporting signal Fault is enabled and asserted when register ErrVld is 1. When FaultEn is cleared to 0, signal Fault is driven to 0.

- Bit - (0)

Related signals:

- Fault

## 76.8.2.3.2.3.1.2 ErrVld

Register ErrVld indicates that the ErrLog registers contain valid error information.

- Bit - (0)

## 76.8.2.3.2.3.1.3 ErrLog0

Register ErrLog0 logs fields from the NoC packet transport protocol header of the logged packet.

The MSB field indicates the transport protocol version number.

The following table shows the field assignments. All other bits are reserved and read as 0.

## Table 672. ErrLog0 field assignments

| Bit range   | Field name   | Type   | Access    |
|-------------|--------------|--------|-----------|
| 0           | Lock         | Status | Read only |
| 4:1         | Opc          | Status | Read only |
| 10:8        | ErrCode      | Status | Read only |
| 27:16       | Len          | Status | Read only |
| 31          | Format       | Status | Read only |

## 76.8.2.3.2.3.1.3.1 Lock

Register field Lock contains the packet header bit Lock.

## 76.8.2.3.2.3.1.3.2 Opc

Register field Opc contains the packet header field Opc.

## 76.8.2.3.2.3.1.3.3 Len1

Register field Len1 contains the packet header field Len1.

## 76.8.2.3.2.3.1.3.4 ErrCode

Register field ErrCode contains the packet header field ErrCode.

If the packet field does not exist, the register field contains 0.

## 76.8.2.3.2.3.1.3.5 Format

Register field Format specifies the version of the NoC packet transport protocol.

## 76.8.2.3.2.3.1.4 ErrLog1

Register Errlog1 contains the least significant part of the NoC packet transport protocol packet header field RouteId of the logged error. Up to 32 bits will be stored, depending on the width of RouteId. The field is right-aligned in the register, and unused bits are read as 0.

The RouteId value can be used to identify the initiator-target mapping associated with the logged error, in order to calculate the complete address.

When decoding RouteId sub-field SeqId, bit index 0 corresponds to the value for packet header field Opc when:

Debug

- The transaction comes from an interface with a protocol, such as AHB, AXI, or AMBA, that allows response disorder based on transaction opcodes.
- The NoC supports other interface protocols that do not.

A description of the sub-fields comprising RouteId is provided in related reference documentation.

- Type - Status

## 76.8.2.3.2.3.1.5 ErrLog2

Register Errlog2 contains the most significant part of the NoC packet transport protocol packet header field RouteId of the logged error. Up to 16 MSBs of RouteId are stored, depending on the width of RouteId. The field is right-aligned in the register, and unused bits are read as 0.

The RouteId value can be used to identify the initiator-target mapping associated with the logged error, in order to calculate the complete address.

A description of the sub-fields comprising RouteId is provided in related reference documentation.

This register is only present if the width of RouteId is greater than 32 bits.

- Type - Status

## 76.8.2.3.2.3.1.6 ErrLog3

Register Errlog3 contains the least significant part of the NoC packet transport protocol packet header field Addr of the logged error. Up to 32 bits will be stored, depending on the width of Addr. The field is right-aligned in the register and unused bits are read as 0.

Because ErrLog3 only contains the transport address offset within the particular mapped region, its value must be used in conjunction with the local addresses of the initiator-target mapping, in order to reconstitute the complete transaction address. The mapping is identified using RouteId, logged in ErrLog1 and optionally ErrLog2.

## 76.8.2.3.2.3.1.7 ErrLog4

Register Errlog4 contains the most significant part of the NoC packet transport protocol packet header field Addr of the logged error. Up to 16 MSBs of Addr are stored, depending on the width of Addr. The field is right-aligned in the register and unused bits are read as 0.

Because ErrLog4 only contains the transport address offset within the particular mapped region, its value, concatenated with ErrLog3, must be used in conjunction with the local addresses of the initiator-target mapping in order to reconstitute the complete transaction address. The mapping is identified using RouteId, logged in ErrLog1, and optionally, ErrLog2.

This register is only present if the width of Addr is greater than 32 bits.

## 76.8.2.3.2.3.1.8 ErrLog5

Register Errlog5 contains the least significant part of the NoC packet transport protocol packet header field User of the logged error.

Up to 32 bits will be stored, depending on the width of User. The field is right-aligned in the register, and unused bits are read as 0.

## 76.8.2.3.2.3.1.9 ErrLog6

Register Errlog6 contains the midrange part of field User contained in the packet header of the packet transport protocol. Bit User (32) up to bit User (63) will be stored, depending on the width of User. The field is right-aligned in the register, and unused bits are read as 0.

The register is present only if the width of User is greater than 32 bits.

## 76.8.2.3.2.3.1.10 ErrLog7

Register Errlog7 contains the NoC packet transport protocol packet header field Security of the logged error. The field is right-aligned in the register and unused bits are read as 0.

## 76.8.2.3.2.3.1.11 ErrLog8

Register Errlog8 contains the most significant part of the NoC packet transport protocol packet header field User of the logged error. Bits User(64) up to User(95) are stored, depending on the width of User. The field is right-aligned in the register, and unused bits are read as 0.

The register is present only if the width of User is greater than 64 bits.

## 76.8.2.3.2.3.1.12 StallEn

Register StallEn controls the stall mode of the NoC error logger.

When set to 1, error packets (status = ERR) are stalled, that is, queued at the input to the error logger. The packets are only passed into the error logger once the currently logged error packet has been cleared by setting register ErrClr to 1.

When set to 0, only the first error packet is stored in the error logger. Subsequent error packets are lost.

## NOTE

The number of error packets which may be queued is 4.

## 76.8.2.3.2.3.2 ATB endpoints registers

Registers which are used to control the ATB endpoint are summarized in the following table.

| Address offset   | Name       | Type    | Retention   | Width        |
|------------------|------------|---------|-------------|--------------|
| 0008h            | AtbId      | Control | Yes         | 7 bits       |
| 000Ch            | AtbEn      | Control | Yes         | 1 bit        |
| 0010h            | SyncPeriod | Control | Yes         | 3 bits (4:0) |

## 76.8.2.3.2.3.2.1 AtbId

Register AtbId sets the ATB identifier of the observer. The identifier is carried on signal ATId.

Each observer within the NoC must have a unique ID value. The value is used along with probe IDs to identify probes.

## NOTE

Values 00h and 70h to 7Fh are reserved for Arm   CoreSight   debug systems.

## 76.8.2.3.2.3.2.2 AtbEn

When AtbEn = 1, register AtbEn enables ATB output.

## NOTE

Writing AtbEn = 0 is equivalent to a power disconnect on the affected socket: the current transmission of an ATB packet is completed before the ATB output is disabled.

## 76.8.2.3.2.3.2.3 SyncPeriod

Register SyncPeriod sets the period, in terms of the number of ATB cells sent, between insertion of ATB synchronization cells.

The following table summarizes the relationship between SyncPeriod and the delay between synchronization cells.

## Table 673. SyncPeriod and delay between synchronization cells

| SyncPeriod value   | Period of sync cell insertion   |
|--------------------|---------------------------------|
| 0                  | No sync cell insertion          |
| 1...2              | 8                               |
| 3...22             | 2 (SyncPeriod + 1)              |
| 23...31            | Not supported                   |

SyncPeriod is not present when setting parameter debugOutput of the observer to STPv2, since ATB synchronization cells are not generated when using the STPv2 adapter.

## 76.8.2.3.2.3.3 STPv2 encapsulation registers

Registers relative to STPv2 encapsulation are summarized in the following table.

| Address offset   | Name        | Type    | Retention   | Width         |
|------------------|-------------|---------|-------------|---------------|
| 0008h            | AsyncPeriod | Control | Yes         | 5 bits (4:0)  |
| 000Ch            | STPv2En     | Control | Yes         | 1 bit (bit 0) |

SyncPeriod is not present when setting parameter debugOutput of the observer to STPv2, since ATB synchronization cells are not generated when using the STPv2 adapter.

## 76.8.2.3.2.3.3.1 AsyncPeriod

Register AsyncPeriod defines the period, in observer clock cycles, between transmission of STPv2 synchronization sequences.

The following table summarizes the relationship between AsyncPeriod and the delay between synchronization sequences.

## Table 674. AsyncPeriod and delay between synchronization cells

| AsyncPeriod value   | Period between synchronization sequences     |
|---------------------|----------------------------------------------|
| 0                   | No sync sequence inserted due to AsyncPeriod |
| 1...22              | 2 (SyncPeriod + 1)                           |
| 23...31             | 2 23                                         |

SyncPeriod is not present when setting parameter debugOutput of the observer to STPv2, since ATB synchronization cells are not generated when using the STPv2 adapter.

## 76.8.2.3.2.3.3.2 STPV2En

When STPV2En = 1, register STPV2En enables the STPv2 output.

When STPV2En = 0, the observer debug interface is disabled: neither STPv2 packets nor synchronization sequences are sent.

By default, the reset value is 1 so that STPv2 stream generation is enabled. If it should be enabled explicitly by software, the reset value can be changed to 0 by setting its parameter rstVal (Structure: Parameters: Control Setting).

## NOTE

Writing STPv2En =0 has an equivalent effect to a power disconnect on this interface: the STPv2 encapsulation and transmission of an ATB packet will be completed before the observer debug output is disabled.

## 76.9 Debug and trace under functional reset

Cores Cortex-M7\_0, Cortex-M7\_1, Cortex-M7\_2, and Cortex-M7\_HSE under main reset domain support debug and trace over Functional reset.

Cores Cortex-A53\_A0, Cortex-A53\_A1, Cortex-A53\_B0, and Cortex-A53\_B1 which are under software resettable domain support retention of debug and trace configuration over functional reset. This is achieved only when Bit[7] (DBG\_RST\_MSK\_0a) of the DEBUG\_CONTROL register (see the SRC chapter for details) is set before giving functional reset to the chip. This bit masks debug resets of the cores from functional reset imitating Cluster cold reset with debug active as per Cortex A53 Technical Reference Manual (available in References).

Bit DBG\_RST\_MSK\_0a must only be set after enabling Cortex-A53 partition (See "Software Reset Partition Turn-On Flow Chart" in Reset chapter for details).

Under functional reset, trace from Cortex-A53 cores are not available.

NOC probes and observers support only retention of debug configurations under functional reset.

The LLCE's M0-3 cores support debug and trace over functional reset by asserting Bit[8] (DBG\_RST\_MSK\_1a) of the DEBUG\_CONTROL register. The CoreSight AHB\_APs are on the destructive reset and thus not cleared by a functional reset.

Also, the accelerator related CoreSight debug components (accelerator CTIs, ETF, etc) are on the destructive reset and thus will not be affected by a functional reset. Likewise, the accelerator NoC debug and QoS registers will have their values retained during a functional reset and can only be cleared by a software write to each register or a destructive reset event.

## NOTE

Note only debug register access is allowed while functional reset is asserted, trace is not available.

The below tables provide the information about how the debug and trace from first instruction can be achieved in this device.

Table 675. Debug at first instruction

| CM7                                                                                                            | CA53                                                                                                            | LLCE                                                                                                              | MIPS                                                                                       |
|----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| /- Connect Debugger - Set MDM_AP.CONTROL.CM7_x _EDBGREQ - Deassert Reset - Core will halt at first Instruction | /- Connect Debugger - Set MDM_AP.CONTROL.CA53_x _EDBGREQ - Deassert Reset - Core will halt at first Instruction | /- Connect Debugger - Set MDM_AP.CONTROL2. LLCE_Cx_EDBGREQ - Deassert Reset - Core will halt at first Instruction | /- Core remains halted at first Instruction until CLASS_TX_CTRL[CSR_CLA SS_EN] bit is set. |

## Table 676. Trace from first instruction

| CM7                                                                                 | CA53                                                                                                                                                                                                                                           | LLCE                                                                                                                                  | MIPS                     |
|-------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
| /- Connect Debugger - hold RESET_B pin low - configure trace configuration register | / -Set READY_FOR_DEBUG (SRC_0) Via DCDs -Configure core to be halted at first instruction -WaitforDBG_SETUP_DONE (SRC_0) from Debugger (using CHECK command in multiple DCDs, as wait for debuggers DONE signal is of unpredictable duration). | /- Connect Debugger - Set MDM_AP.CONTROL2. LLCE_Cx_EDBGREQ - Deassert Reset - Core will halt at first Instruction - Program MTB Trace | /-Does Not Support Trace |

Table continues on the next page...

Debug

Table 676. Trace from first instruction

| CM7   | CA53                                                                                                       | LLCE   | MIPS   |
|-------|------------------------------------------------------------------------------------------------------------|--------|--------|
|       | -Release the reset for A53 Core -A53 is halted at first instruction. -Debugger configures trace registers. |        |        |

## 76.10 MDM\_AP register descriptions

The debugger has access to the status and control elements implemented as registers in MDM\_AP. APSEL (6h) selects the MDM\_AP on the Debug Access Port (DAP). These registers provide additional control and status information for typical debug, cross-triggering, and run-control scenarios. The status register fields also provide a way for the debugger to get the updated status of the core without having to initiate a bus transaction across the crossbar switch, thus remaining less intrusive during a debug session.

The MDM\_AP is accessible as Debug Access Port (see Debug Access Port (DAP) TAP). The MDM\_AP registers are listed in the following table and detailed information about the registers is provided in the following sections.

Certain modules have a Debug mode (IPG DEBUG) that freezes the module when the cores enter Debug mode. If you want to detach dependency of a particular core's Debug mode on entry of modules into Debug mode, then you must write a 1 to the corresponding Cortex\_n\_IP\_DBGDIS field in MDM\_AP IP\_DBG registers. MDM\_AP IP\_DBG register pertains to Cortex\_n\_IP\_DBG registers in memory map. The following table shows the modules that depend on the core's debug state.

Table 677. Dependency of modules on the core's debug

| Module    | Affected by                             |
|-----------|-----------------------------------------|
| DSPI      | MDM_AP IP_DBG registers                 |
| eDMA      | MDM_AP IP_DBG registers                 |
| FCCU      | MDM_AP IP_DBG registers                 |
| FlexCAN   | MDM_AP IP_DBG registers                 |
| FlexTimer | MDM_AP IP_DBG registers                 |
| I2C       | MDM_AP IP_DBG registers                 |
| PIT       | MDM_AP IP_DBG registers                 |
| RTC       | MDM_AP IP_DBG registers                 |
| SBSW      | MDM_AP IP_DBG registers                 |
| STM       | MDM_AP IP_DBG registers                 |
| SWT_0     | Debug Mode status of Cortex-M7 core 0   |
| SWT_1     | Debug Mode status of Cortex-M7 core 1   |
| SWT_2     | Debug Mode status of Cortex-M7 core 2   |
| SWT_3     | Debug Mode status of Cortex-A53 A0 core |
| SWT_4     | Debug Mode status of Cortex-A53 A1 core |

Table continues on the next page...

Table 677. Dependency of modules on the core's debug (continued)

| Module   | Affected by                             |
|----------|-----------------------------------------|
| SWT_5    | Debug Mode status of Cortex-A53 B0 core |
| SWT_6    | Debug Mode status of Cortex-A53 B1 core |

## 76.10.1 MDM\_AP memory map

MDM\_AP base address: 51D0\_0600h

| Offset   | Register                                   |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------------|-------------------|----------|---------------|
| 0h       | MDM_AP status (STATUS)                     |                32 | R        | 0000_0000h    |
| 4h       | MDM_AP control (CONTROL)                   |                32 | RW       | 0040_0000h    |
| 30h      | WIR enable (WIR_EN)                        |                32 | RW       | 0000_0000h    |
| 38h      | WIR release (WIR_REL)                      |                32 | RW       | 0000_0000h    |
| 40h      | MDM_AP status 2 (STATUS2)                  |                32 | R        | 0000_0000h    |
| 70h      | Cortex-A53 A0 debug (CORTEX_A53_A0_IP_DBG) |                32 | RW       | 0000_0000h    |
| 74h      | MDM_AP control 2 (CONTROL2)                |                32 | RW       | 0000_0000h    |
| 78h      | Cortex-A53 A1 debug (CA53_A1_IP_DBG)       |                32 | RW       | 0000_0000h    |
| 80h      | Cortex-A53 B0 debug (CORTEX_A53_B0_IP_DBG) |                32 | RW       | 0000_0000h    |
| 88h      | Cortex-A53 B1 debug (CORTEX_A53_B1_IP_DBG) |                32 | RW       | 0000_0000h    |
| 90h      | Cortex M7_0 debug (CORTEX_M7_0_IP_DBG)     |                32 | RW       | 0000_0000h    |
| 98h      | Cortex M7_1 debug (CORTEX_M7_1_IP_DBG)     |                32 | RW       | 0000_0000h    |
| A0h      | Cortex M7_2 debug (CORTEX_M7_2_IP_DBG)     |                32 | RW       | 0000_0000h    |
| C0h      | DAP enable control (DAP_EN_CTRL)           |                32 | RW       | FFFF_FFFFh    |

## 76.10.2 MDM\_AP status (STATUS)

## Offset

| Register   | Offset   |
|------------|----------|
| STATUS     | 0h       |

Debug

## Diagram

<!-- image -->

| Bits   | 31        | 30          | 29          | 28          | 27   | 26       | 25   | 24          | 23          | 22          | 21          | 20          | 19        | 18          | 17          | 16          |
|--------|-----------|-------------|-------------|-------------|------|----------|------|-------------|-------------|-------------|-------------|-------------|-----------|-------------|-------------|-------------|
| R      | Reserv ed | M7_2_ DB... | M7_1_ DB... | M7_0_ DB... |      | Reserved |      |             | Reserv ed   | CM7_2 _S... | CM7_1 _S... | CM7_0 _S... | Reserv ed | CM7_2 _S... | CM7_1 _S... | CM7_0 _S... |
| W      | Reserv ed |             |             |             |      |          |      |             | Reserv ed   |             |             | CM7_0 _S... | Reserv ed |             |             |             |
| Reset  | 0         | 0           | 0           | 0           | 0    | 0        | 0    | 0           | 0           | 0           | 0           | 0           | 0         | 0           | 0           | 0           |
| Bits   | 15        | 14          | 13          | 12          | 11   | 10       | 9    | 8           | 7           | 6           | 5           | 4           | 3         | 2           | 1           | 0           |
| R W    | Reserv ed | CM7_2 _H... | CM7_1 _H... | CM7_0 _H... |      | Reserved |      | JTAG_ AC... | CDBG PWR... | CSYS PWR... | READ Y_F... |             | Reserved  | SYST EM_... | Reserved    | Reserved    |
| Reset  | 0         | 0           | 0           | 0           | 0    | 0        | 0    | 0           | 0           | 0           | 0           | 0           | 0         | 0           | 0           | 0           |

## Fields

| Field              | Function                                                                                                                                                                                                                           |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -               | Reserved                                                                                                                                                                                                                           |
| 30 M7_2_DBGRST RTD | Handshake ssignal for M7_2_DBGRSTRT. If there is no external debug request to the core, the value read after reset will be 1. 0b - Cortex-M7_2 is still in Debug mode 1b - Cortex-M7_2 has returned to Normal mode from Debug mode |
| 29 M7_1_DBGRST RTD | Handshake signal for M7_1_DBGRSTRT. If there is no external debug request to the core, the value read after reset will be 1. 0b - Cortex-M7_1 is still in Debug mode 1b - Cortex-M7_1 has returned to Normal mode from Debug mode  |
| 28 M7_0_DBGRST RTD | Handshake signal for M7_0_DBGRSTRT. If there is no external debug request to the core, the value read after reset will be 1. 0b - Cortex-M7_0 is still in Debug mode 1b - Cortex-M7_0 has returned to Normal mode from Debug mode  |
| 27-24 -            | Reserved                                                                                                                                                                                                                           |
| 23 -               | Reserved                                                                                                                                                                                                                           |
| 22 CM7_2_SLEEPI NG | Cortex-M7_2 Asserted Sleeping 0b - The processor is running or wants to leave sleep mode 1b - The processor and ETM are ready to enter a low-power state                                                                           |
| 21                 | Cortex-M7_1 Asserted Sleeping                                                                                                                                                                                                      |

Table continues on the next page...

## Table continued from the previous page...

| Field               | Function                                                                                                                                                                                           |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CM7_1_SLEEPI NG     | 0b - The processor is running or wants to leave sleep mode 1b - The processor and ETM are ready to enter a low-power state                                                                         |
| 20 CM7_0_SLEEPI NG  | Cortex-M7_0 Asserted Sleeping 0b - The processor is running or wants to leave sleep mode 1b - The processor and ETM are ready to enter a low-power state                                           |
| 19 -                | Reserved                                                                                                                                                                                           |
| 18 CM7_2_SLEEP DEEP | Cortex-M7_2 Asserted SLEEPDEEP 0b - Inactive value 1b - The processor and ETM are ready to enter a low-power state and the wake-up time is not critical. Only active when STATUS[CM7_2_SLEEPING]=1 |
| 17 CM7_1_SLEEP DEEP | Cortex-M7_1 Asserted SLEEPDEEP 0b - Inactive value 1b - The processor and ETM are ready to enter a low-power state and the wake-up time is not critical. Only active when STATUS[CM7_1_SLEEPING]=1 |
| 16 CM7_0_SLEEP DEEP | Cortex-M7_0 Asserted SLEEPDEEP 0b - Inactive value 1b - The processor and ETM are ready to enter a low-power state and the wake-up time is not critical. Only active when STATUS[CM7_0_SLEEPING]=1 |
| 15 -                | Reserved                                                                                                                                                                                           |
| 14 CM7_2_HALTE D    | Cortex-M7_2 is halted due to Debug mode entry. 0b - Normal mode 1b - Debug mode                                                                                                                    |
| 13 CM7_1_HALTE D    | Cortex-M7_1 is halted due to Debug mode entry. 0b - Normal mode 1b - Debug mode                                                                                                                    |
| 12 CM7_0_HALTE D    | Cortex-M7_0 is halted due to Debug mode entry. 0b - Normal mode 1b - Debug mode                                                                                                                    |
| 11-9 -              | Reserved                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field            | Function                                                                                                                                                                                                                                                                                                  |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 8 JTAG_ACTIVE    | Status of Reset to AUX TAPs 0b - TRST of AUX TAPs are asserted 1b - TRST of AUX TAPs are deasserted                                                                                                                                                                                                       |
| 7 CDBGPWRUP REQ  | Status of CDBGPWRUPREQ from SWJ-DP When the debugger asserts CDBGPWRUPREQ in SWJ-DP requesting access to APs, then this field becomes 1. This field can be used by internal masters to detect debugger request for attachment onto the SOC. 0b - CDBGPWRUPREQ is deasserted 1b - CDBGPWRUPREQ is asserted |
| 6 CSYSPWRUPR EQ  | Status of CSYSPWRUPREQ from SWJ-DP When the debugger asserts CSYSPWRUPREQ in SWJ-DP requesting access to APs, then this field becomes 1. 0b - CSYSRUPREQ is deasserted 1b - CSYSPWRUPREQ is asserted                                                                                                      |
| 5 READY_FOR_ DBG | Status of ready for debug field is asserted by Boot Sequence routine. 0b - Debugger to wait until the fields get asserted 1b - Debugger can go ahead to run its routine                                                                                                                                   |
| 4-3 -            | Reserved                                                                                                                                                                                                                                                                                                  |
| 2 SYSTEM_RES ET  | System Reset State 0b - System is not in reset 1b - System is in reset                                                                                                                                                                                                                                    |
| 1-0 -            | Reserved                                                                                                                                                                                                                                                                                                  |

## 76.10.3 MDM\_AP control (CONTROL)

## Offset

| Register   | Offset   |
|------------|----------|
| CONTROL    | 4h       |

## Function

A system destructive reset in this register allows the debugger to give the destructive reset to the system. The debugger also loses connection with the system with this reset. A system functional reset in this register allows the debugger to hold the system in functional reset.

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27        | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|-------------|-------------|-------------|-------------|-----------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R W    | Reserv ed   | M7_2_ DB... | M7_1_ DB... | M7_0_ DB... | Reserved  | Reserved    | Reserved    | MSK_ FCC... | MSK_ DBG... | Reserv ed   | ETR_ OVE... | TPIU_ OV... | CA53_ B1... | CA53_ B0... | CA53_ A1... | CA53_ A0... |
| Reset  | 0           | 0           | 0           | 0           | 0         | 0           | 0           | 0           | 0           | 1           | 0           | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15          | 14          | 13          | 12          | 11        | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R W    | DIS_P OR... | MSK_ LOC... | MSK_ LOC... | MSK_ LOC... | Reserv ed | CM7_2 _E... | CM7_1 _E... | CM7_0 _E... | ETR_ HAN... | ETR_ HAN... | SYSF UNC... | SYSR ESE... | DBG_ SET... | Reserved    | Reserved    | Reserved    |
| Reset  | 0           | 0           | 0           | 0           | 0         | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -              | Reserved                                                                                                                                                                                                                                                                                                                          |
| 30 M7_2_DBGRST RT | Cortex-M7 Debug Restart Input to Cortex-M7_2 Core DBGRESTRT is used to bring the processor out of debug halt state. The processor acknowledges DBGRESTRT by asserting M7_2_DBGRSTRTD. So, to finish the handshake and restart the core, this field must be cleared. 0b - Inactive value 1b - Request asserted to restart the core |
| 29 M7_1_DBGRST RT | Cortex-M7 Debug Restart Input to Cortex-M7_1 Core DBGRESTRT is used to bring the processor out of debug halt state. The processor acknowledges DBGRESTRT by asserting M7_1_DBGRSTRTD. So, to finish the handshake and restart the core, this field must be cleared. 0b - Inactive value 1b - Request asserted to restart the core |
| 28 M7_0_DBGRST RT | Cortex-M7 Debug Restart Input to Cortex-M7_0 Core DBGRESTRT is used to bring the processor out of debug halt state. The processor acknowledges DBGRESTRT by asserting M7_0_DBGRSTRTD. So, to finish the handshake and restart the core, this field must be cleared. 0b - Inactive value 1b - Request asserted to restart the core |
| 27-25 -           | Reserved                                                                                                                                                                                                                                                                                                                          |
| 24                | Mask Reset Trigger from FCCU This field is used to mask reset trigger from FCCU.                                                                                                                                                                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field                 | Function                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MSK_FCCU_R ST_TRIGGER | If this field is not set then a reset would occur on FCCU reset trigger. This masking feature enables inspection of the system to determine the source. Someparts of the system may not be operating correctly. The only course of action following inspection is to reset the chip. 0b - FCCU reset trigger is not masked 1b - FCCU reset trigger is masked |
| 23 MSK_DBG_FA ULT     | Mask Debug Faults This field is programmed via debug software while initiating self-hosted debug, it is used to mask debug faults to FCCU. 0b - Debug faults are not masked 1b - Debug faults are masked                                                                                                                                                     |
| 22 -                  | Reserved                                                                                                                                                                                                                                                                                                                                                     |
| 21                    | ETR Override                                                                                                                                                                                                                                                                                                                                                 |
| 20 TPIU_OVERRI DE     | TPIU Override When TPIU is not the selected trace sink target, override trace response. 0b - TPIU trace response is not overridden, and the trace response is generated by TPIU (default) 1b - TPIU trace response is overridden and forced asserted                                                                                                         |
| 19 CA53_B1_EDB GREQ   | EDBGREQ Input for Cortex-A53 B1 When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register2[3]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value                                                                                            |
| 18 CA53_B0_EDB GREQ   | 1b - Request asserted to keep core in Debug mode EDBGREQ Input for Cortex-A53 B0 When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register2[2]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value                                           |
| 17                    | 1b - Request asserted to keep core in Debug mode EDBGREQ Input for Cortex-A53 A1                                                                                                                                                                                                                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field                        | Function                                                                                                                                                                                                                                                                                                           |
|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CA53_A1_EDB GREQ             | When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register2[1]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value 1b - Request asserted to keep core in Debug mode                                 |
| 16 CA53_A0_EDB GREQ          | EDBGREQ Input for Cortex-A53 A0 When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register2[0]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value 1b - Request asserted to keep core in Debug mode |
| 15 DIS_POR_WD OG_MSK         | POR Watchdog Timer This field disables masking of POR_WDOG Timer that must timeout if assertion of functional reset via CONTROL[SYSFUNCRST] exceeds 30ms. 0b - Disables POR_WDOG timer (by default disabled) 1b - Enables POR_WDOG timer                                                                           |
| 14 MSK_LOCKST EP_ALARM_C M72 | Mask RCCU Alarm for Cortex M7_2 This field is used to mask RCCU alarm for Cortex M7_2. This field is intended to mask any lockstep error that could occur during Debug mode. 0b - Disables masking 1b - Enables masking                                                                                            |
| 13 MSK_LOCKST EP_ALARM_C M71 | Mask RCCU Alarm for Cortex M7_1 This field is used to mask RCCU alarm for Cortex M7_1. This field is intended to mask any lockstep error that could occur during Debug mode. 0b - Disables masking 1b - Enables masking                                                                                            |
| 12 MSK_LOCKST EP_ALARM_C M70 | Mask RCCU Alarm for Cortex M7_0 This field is used to mask RCCU alarm for Cortex M7_0. This field is intended to mask any lockstep error that could occur during Debug mode. 0b - Disables masking 1b - Enables masking                                                                                            |
| 11 -                         | Reserved                                                                                                                                                                                                                                                                                                           |
| 10                           | EDBGREQ Input for Cortex-M7_2                                                                                                                                                                                                                                                                                      |

Table continues on the next page...

## Table continued from the previous page...

| Field              | Function                                                                                                                                                                                                                                                                                                           |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CM7_2_EDBGR EQ     | When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register [14]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value 1b - Request asserted to keep core in Debug mode                                |
| 9 CM7_1_EDBGR EQ   | DEDBGREQ Input for Cortex-M7_1 When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register [13]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value 1b - Request asserted to keep core in Debug mode |
| 8 CM7_0_EDBGR EQ   | EDBGREQ Input for Cortex-M7_0 When the core goes into debug state, it acknowledges with HALTED output signal (MDM status register [12]). If the core is in Stop mode, this field is used to wake up the core and transition to Halted state. 0b - Inactive value 1b - Request asserted to keep core in Debug mode  |
| 7 ETR_HANDSH AKE_1 | ETR Handshake_1 After Functional reset de-assertion to reinitiate the pending transactions of ETR, this field must be set to 1. If the ETR_HANDSHAKE_0 field is set to 1, clear this field before asserting functional reset. 0b - Inactive value                                                                  |
| 6 ETR_HANDSH AKE_0 | ETR Handshake_0 When ETR is being used, handshake with RGM must be done before asserting Functional reset to stall the ETR transactions via NoC. Asserting this field enables the handshake mechanism. 0b - Disables ETR handshake with RGM 1b - Enables ETR handshake with RGM                                    |
| 5 SYSFUNCRST       | System Functional Reset Asserts functional reset to the chip. The debugger maintains the connection with the chip. This field must be programmed only via a debugger. 0b - Deasserts functional reset 1b - Asserts functional reset                                                                                |
| 4 SYSRESETRE Q     | System Destructive Reset Asserts destructive reset to the chip. The debugger loses the connection. When this field is reset, the entire system comes out of reset. This field must be programmed only via a debugger. 0b - Deasserts destructive reset 1b - Asserts destructive reset                              |

Table continues on the next page...

Table continued from the previous page...

| Field             | Function                                                                                                                                                                                                     |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3 DBG_SETUP_D ONE | BootROM - Debugger Handshake field, used with READY_FOR_DBG. Debugger writes to this field after its setup is over to complete the handshake with debugger. 0b - Inactive value 1b - Debug setup is complete |
| 2-0 -             | Reserved                                                                                                                                                                                                     |

## 76.10.4 WIR enable (WIR\_EN)

## Offset

| Register   | Offset   |
|------------|----------|
| WIR_EN     | 30h      |

## Function

MDM\_AP standby debug enable

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16          |
|---------|------|------|------|------|------|------|------|----------|------|------|------|------|------|------|------|-------------|
| R W     |      |      |      |      |      |      |      | Reserved |      |      |      |      |      |      |      |             |
| Reset   | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0           |
| R       |      |      |      |      |      |      |      | Reserved |      |      |      |      |      |      |      | STAN DBY... |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |

## Fields

| Field        | Function                                               |
|--------------|--------------------------------------------------------|
| 31-1         | Reserved                                               |
| 0 STANDBY_EN | Setting this field enables debug through Standby mode. |

## 76.10.5 WIR release (WIR\_REL)

## Offset

| Register   | Offset   |
|------------|----------|
| WIR_REL    | 38h      |

## Function

MDM\_AP reset release register

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                               |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1      | Reserved                                                                                                                                                               |
| 0         | Reset release                                                                                                                                                          |
| RESET_REL | When debug through Standby mode is enabled, then on Standby exit, set this field to 1 to lift the chip out of functional reset after programming the debug components. |

## 76.10.6 MDM\_AP status 2 (STATUS2)

## Offset

| Register   | Offset   |
|------------|----------|
| STATUS2    | 40h      |

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27          | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|----------|----------|----------|----------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R W    | Reserved | Reserved | Reserved | Reserved | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    | Reserved    |
| Reset  | 0        | 0        | 0        | 0        | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15       | 14       | 13       | 12       | 11          | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R      |          | Reserved |          |          | CA53_ B1... | CA53_ B0... | CA53_ A1... | CA53_ A0... | CA53_ B1... | CA53_ B0... | CA53_ A1... | CA53_ A0... | CA53_ B1... | CA53_ B0... | CA53_ A1... | CA53_ A0... |
| W      |          |          |          |          |             |             |             |             |             |             |             |             |             |             |             |             |
| Reset  | 0        | 0        | 0        | 0        | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |

## Fields

| Field          | Function                                                                                                                                                                                    |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-20 -        | Reserved                                                                                                                                                                                    |
| 19-16 -        | Reserved                                                                                                                                                                                    |
| 15-12 -        | Reserved                                                                                                                                                                                    |
| 11 CA53_B1_WFE | MC_ME Low-Power Mode Entry using Cortex-A53 B1 Wait for Event (WFE) Indicates whether core is in WFE low-power state. 0b - Core not in WFE low-power state 1b - Core in WFE low-power state |
| 10 CA53_B0_WFE | MC_ME Low-Power Mode Entry using Cortex-A53 B0 WFE Indicates whether core is in WFE low-power state. 0b - Core not in WFE low-power state 1b - Core in WFE low-power state                  |
| 9 CA53_A1_WFE  | MC_ME Low-Power Mode Entry using Cortex-A53 A1 WFE Indicates whether core is in WFE low-power state. 0b - Core not in WFE low-power state 1b - Core in WFE low-power state                  |
| 8 CA53_A0_WFE  | MC_ME Low-Power Mode Entry using Cortex-A53 A0 WFE (Wait For Event) Indicates whether core is in WFE low-power state.                                                                       |

Table continues on the next page...

Debug

## Table continued from the previous page...

| Field              | Function                                                                                                                                                                                                                                                       |
|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 7 CA53_B1_WFI      | 1b - Core in WFE low-power state MC_ME Low-Power Mode Entry using Cortex-A53 B1 WFI Indicates whether core is in WFI low-power state. If core is in WFI state, the value read after reset will be 1. 0b - Core not in WFI low-power state                      |
| 6 CA53_B0_WFI      | MC_ME Low-Power Mode Entry using Cortex-A53 B0 WFI Indicates whether core is in WFI low-power state. If core is in WFI state, the value read after reset will be 1. 0b - Core not in WFI low-power state 1b - Core in WFI low-power state                      |
| 5 CA53_A1_WFI      | MC_ME Low-Power Mode Entry using Cortex-A53 A1 WFI Indicates whether core is in WFI low-power state. If core is in WFI state, the value read after reset will be 1. 0b - Core not in WFI low-power state 1b - Core in WFI low-power state                      |
| 4 CA53_A0_WFI      | MC_ME Low-Power Mode Entry using Cortex-A53 A0 WFI (Wait For Interrupt) Indicates whether core is in WFI low-power state. If core is in WFI state, the value read after reset will be 1. 0b - Core not in WFI low-power state 1b - Core in WFI low-power state |
| 3 CA53_B1_DBG MODE | Indicates that the Cortex-A53 B1 is halted due to Debug mode entry. 0b - External debug request not acknowledged 1b - External debug request acknowledged                                                                                                      |
| 2 CA53_B0_DBG MODE | Indicates that the Cortex-A53 B0 is halted due to Debug mode entry. 0b - External debug request not acknowledged 1b - External debug request acknowledged                                                                                                      |
| 1 CA53_A1_DBG MODE | Indicates that the Cortex-A53 A1 is halted due to Debug mode entry. 0b - External debug request not acknowledged 1b - External debug request acknowledged                                                                                                      |
| 0                  | Indicates that the Cortex-A53 A0 is halted due to Debug mode entry.                                                                                                                                                                                            |

Table continues on the next page...

Table continued from the previous page...

| Field            | Function                                                                              |
|------------------|---------------------------------------------------------------------------------------|
| CA53_A0_DBG MODE | 0b - External debug request not acknowledged 1b - External debug request acknowledged |

## 76.10.7 Cortex-A53 A0 debug (CORTEX\_A53\_A0\_IP\_DBG)

## Offset

| Register              | Offset   |
|-----------------------|----------|
| CORTEX_A53_A0_IP_D BG | 70h      |

<!-- image -->

## Fields

| Field                | Function                                                                                                                                                                                                                                                                      |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -               | Reserved                                                                                                                                                                                                                                                                      |
| 0 CA53_A0_IP_D BGDIS | If Cortex-A53 A0 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-A53 A0 enters Debug mode. 1b - Modules do not enter Debug mode when Cortex-A53 A0 enters Debug mode. |

## 76.10.8 MDM\_AP control 2 (CONTROL2)

## Offset

| Register   | Offset   |
|------------|----------|
| CONTROL2   | 74h      |

## Diagram

<!-- image -->

## Fields

| Field             | Function                                                                                                                                       |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8 -            | Reserved                                                                                                                                       |
| 7 LLCE_C3_EDB GRQ | LLCE C3 EDBGRQ Drives EDBGRQ, external debug request, input of the M3 processor. When asserted, forces the processor to enter the debug state. |
| 6 LLCE_C2_EDB GRQ | LLCE C2 EDBGRQ Drives EDBGRQ, external debug request, input of the M2 processor. When asserted, forces the processor to enter the debug state. |
| 5 LLCE_C1_EDB GRQ | LLCE C1 EDBGRQ Drives EDBGRQ, external debug request, input of the M1 processor. When asserted, forces the processor to enter the debug state. |
| 4 LLCE_C0_EDB GRQ | LLCE C0 EDBGRQ Drives EDBGRQ, external debug request, input of the M0 processor. When asserted, forces the processor to enter the debug state. |
| 3-0 -             | Reserved                                                                                                                                       |

## 76.10.9 Cortex-A53 A1 debug (CA53\_A1\_IP\_DBG)

## Offset

| Register       | Offset   |
|----------------|----------|
| CA53_A1_IP_DBG | 78h      |

## Diagram

<!-- image -->

## Fields

| Field                | Function                                                                                                                                                                                                                                                                    |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -               | Reserved                                                                                                                                                                                                                                                                    |
| 0 CA53_A1_IP_D BGDIS | If Cortex-A53 A1 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-A53 A1 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-A53 A1 enters Debug mode |

## 76.10.10 Cortex-A53 B0 debug (CORTEX\_A53\_B0\_IP\_DBG)

## Offset

| Register              | Offset   |
|-----------------------|----------|
| CORTEX_A53_B0_IP_D BG | 80h      |

## Diagram

Debug

<!-- image -->

## Fields

| Field                | Function                                                                                                                                                                                                                                                                    |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -               | Reserved                                                                                                                                                                                                                                                                    |
| 0 CA53_B0_IP_D BGDIS | If Cortex-A53 B0 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-A53 B0 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-A53 B0 enters Debug mode |

## 76.10.11 Cortex-A53 B1 debug (CORTEX\_A53\_B1\_IP\_DBG)

## Offset

| Register              | Offset   |
|-----------------------|----------|
| CORTEX_A53_B1_IP_D BG | 88h      |

<!-- image -->

## Fields

| Field                | Function                                                                                                                                                                                                                                                                    |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -               | Reserved                                                                                                                                                                                                                                                                    |
| 0 CA53_B1_IP_D BGDIS | If Cortex-A53 B1 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-A53 B1 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-A53 B1 enters Debug mode |

## 76.10.12 Cortex M7\_0 debug (CORTEX\_M7\_0\_IP\_DBG)

## Offset

| Register           | Offset   |
|--------------------|----------|
| CORTEX_M7_0_IP_DBG | 90h      |

<!-- image -->

## Fields

| Field              | Function                                                                                                                                                                                                                                                              |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -             | Reserved                                                                                                                                                                                                                                                              |
| 0 CM7_0_IP_DB GDIS | If Cortex-M7_0 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-M7_0 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-M7_0 enters Debug mode |

## 76.10.13 Cortex M7\_1 debug (CORTEX\_M7\_1\_IP\_DBG)

## Offset

| Register           | Offset   |
|--------------------|----------|
| CORTEX_M7_1_IP_DBG | 98h      |

<!-- image -->

## Fields

| Field              | Function                                                                                                                                                                                                                                                              |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -             | Reserved                                                                                                                                                                                                                                                              |
| 0 CM7_1_IP_DB GDIS | If Cortex-M7_1 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-M7_1 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-M7_1 enters Debug mode |

## 76.10.14 Cortex M7\_2 debug (CORTEX\_M7\_2\_IP\_DBG)

## Offset

| Register           | Offset   |
|--------------------|----------|
| CORTEX_M7_2_IP_DBG | A0h      |

Debug

## Diagram

Debug

<!-- image -->

## Fields

| Field              | Function                                                                                                                                                                                                                                                              |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -             | Reserved                                                                                                                                                                                                                                                              |
| 0 CM7_2_IP_DB GDIS | If Cortex-M7_2 enters Debug mode, but you don't want the modules to enter Debug mode, you must write a 1 to this field. 0b - Modules also enter Debug mode when Cortex-M7_2 enters Debug mode 1b - Modules do not enter Debug mode when Cortex-M7_2 enters Debug mode |

## 76.10.15 DAP enable control (DAP\_EN\_CTRL)

## Offset

| Register    | Offset   |
|-------------|----------|
| DAP_EN_CTRL | C0h      |

## Function

Controls the standard 4-pin Coresight authentication of debug modules. Authentication controls are separate for cores (including ETM,ITM, CTIs, and so on.) and the rest of the chip. It allows you to debug and trace other sources exempting the cores.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                                                                                               |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 CSPNIDEN | Controls SPNIDEN of debug blocks coupled with cores subsystem (ETM, ITM, CTIs). Secure privileged noninvasive debug enable. 0b - Disabled 1b - Enabled |
| 30 CSPIDEN  | Controls SPIDEN of debug blocks coupled with cores subsystem (ETM, ITM, CTIs). Secure privileged invasive debug enable. 0b - Disabled 1b - Enabled     |
| 29 CNIDEN   | Controls NIDEN of debug blocks coupled with cores subsystem (ETM, ITM, CTIs). Noninvasive debug enable. 0b - Disabled 1b - Enabled                     |
| 28 CDBGEN   | Controls DBGEN of debug blocks coupled with cores subsystem (ETM, ITM, CTIs). Invasive debug enable. 0b - Disabled 1b - Enabled                        |
| 27-8 -      | Reserved                                                                                                                                               |
| 7 GSPNIDEN  | Controls SPNIDEN of NoC Probes/Observers. Secure privileged noninvasive debug enable. 0b - Disabled 1b - Enabled                                       |
| 6 GSPIDEN   | Controls SPIDEN of NoC Probes/Observers. Secure privileged invasive debug enable. 0b - Disabled                                                        |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                         |
|----------|------------------------------------------------------------------------------------------------------------------|
|          | 1b - Enabled                                                                                                     |
| 5 GNIDEN | Controls NIDEN of NoC Probes/Observers, CTIs. Noninvasive debug enable. 0b - Disabled 1b - Enabled               |
| 4 GDBGEN | Controls DBGEN of AHB_AP, AXI_AP, CTIs, and DEVICEEN of APB_AP. Invasive debug enable 0b - Disabled 1b - Enabled |
| 3-0 -    | Reserved                                                                                                         |

## 76.11 Debug resets

The debug subsystem receives the following sources of reset:

- POR reset the complete debug logic.
- JCOMP pin resets the TAP modules (JTAGC and SWJ-DP).
- Debug reset (CDBGRSTREQ bit within the SWJ-DP CTRL/STAT register) is not used.

Conversely, the debug subsystem can generate a system reset using these mechanisms:

- System destructive reset in the MDM AP control register that allows the debugger to give the destructive reset to the system. The debugger loses connection with the system with this reset.
- System functional reset in the MDM AP control register that allows the debugger to hold the system in functional reset.

To program various debug registers, the functional clocks must be enabled. All debug and trace components must be on Destructive Reset.

## 76.12 Security

The Hardware Security Engine (HSE):

- Provides chip security
- Controls access to the chip's debug features

Authentication by HSE must be complete before handshake using CDBGPWRUPREQ and CDBGPRWUPACK via SWJ-DP.

## 76.12.1 Arm authentication signals

Authentication interface aims to restrict access to debug and trace functionality by controlling the Arm debug authentication signals. (For more details on these signals, see CoreSight v2.0 Architecture Specification). The Arm authentication signals are shown in the following table.

## Table 678. Arm authentication signals

| Control signal name   | Meaning               |
|-----------------------|-----------------------|
| DBGEN                 | Invasive debug enable |

Table continues on the next page...

## Table 678. Arm authentication signals (continued)

| NIDEN   | Non invasive debug enable        |
|---------|----------------------------------|
| SPIDEN  | Secure invasive debug enable     |
| SPNIDEN | Secure non-invasive debug enable |

For information on control, see DAP enable control register.

## 76.12.2 Security fuses

HSE offers a range of security levels and blocks the access to debug based on eFuse configuration and authentication.

## 76.13 Programming checklists

## 76.13.1 FCCU considerations

The Fault Collection and Control Unit (FCCU) monitors whether a core enters Debug mode while in normal operation. This fault is monitored on NCF[59] and NCF[82].

In case of self-hosted debug or when external debugger tool is connected, it is recommended that CONTROL[MSK\_DBG\_FAULT] be asserted before entering Debug mode. This will mask NCF[59] and NCF[82]. No fault is triggered to FCCU.

When debugger is connected and CM7 operates in lockstep mode, asynchronous functional reset event might result in lockstep error and cores get out of sync. This sets the fault in the FCCU.

You can choose to ignore this fault while asserting reset when debugger is connected. To recover this error, destructive reset (via MC\_ME) must be asserted in the chip which results in full reset of CM7.

Software must ensure the following:

- Chip is out of reset.
- Chip boots and safety software is initialized.
- Safety software to identify the device is in debug mode:
- If the chip is in debug mode, safety software must mask the CM7 lockstep fault in the FCCU.
- Else, it must perform the regular programming of the CM7 lockstep fault in FCCU.
- When debugger is connected, set the following fields in the MDM\_AP control (CONTROL) register to mask the CM7 lockstep fault in the FCCU:
- MSK\_LOCKSTEP\_ALARM\_CM72
- MSK\_LOCKSTEP\_ALARM\_CM71
- MSK\_LOCKSTEP\_ALARM\_CM70

NOTE

While exiting from debug mode, EDMA lockstep error can be seen on FCCU NCF[42] and NCF[44] slots. This is not a real fault and can be ignored.

## 76.13.2 Lockstep considerations

In Lockstep mode, the two Cortex-A53 clusters operate in the delayed lockstep configuration, that is, core0 of cluster0 (Cortex-A53 A0) is in Lockstep mode with core0 of cluster1 (Cortex-A53 B0) and similarly for core1 (Cortex-A53 A1 and Cortex-A53 B1). Only cluster0 is available in the system for the debugger while cluster1 works as a checker or redundant module. The debug configurations of cluster1 and its cores must not be programmed in this mode, as when cluster 0 (Cortex-A53 A0 or Cortex-A53 A1) is in Debug mode, the other lockstep core also enters in Debug mode without any software intervention. Therefore, the trace is generated by both the clusters observable on the ATB bus.

## 76.14 Pin interface

A summary of the number of functional and power pins for the debug interface is shown in the following table.

## Table 679. Pin Interface

| Pin type        | Pins                      | Number of pins (balls) 1                                             | Nominal voltage   |
|-----------------|---------------------------|----------------------------------------------------------------------|-------------------|
| Functional JTAG | JCOMP, TCK, TMS, TDI, TDO | 5 (only TDI and TDO can be multiplexed with GPIO or other functions) | 3.3 V, 5 V        |
| Ground          | VSS                       | Shared with common chip VSS pins                                     | 0 V               |

## 76.14.1 Debug port pin descriptions

## Table 680. Debug port pins

| Pin name   | JTAG debug port   | JTAG debug port                | Internal pullup/down   |
|------------|-------------------|--------------------------------|------------------------|
|            | Type              | Description                    |                        |
| JCOMP      | I                 | JCOMP pin                      | Pulldown               |
| TMS        | I                 | JTAG test mode selection (TMS) | Pullup                 |
| TCK/SWCLK  | I                 | JTAG test clock (TCK)          | Pulldown               |
| TDI        | I                 | JTAG test data input (TDI)     | Pullup                 |
| TDO        | O                 | JTAG test data output (TDO)    | NC                     |

## 76.14.2 Trace port pin descriptions

This chip generates the trace via the Trace Port Interface Unit (TPIU) that transmits the trace data out of the MCU over a trace port. The trace port consists of .

## NOTE

The RX pins are by default floating and not pulled inside. An internal active pulldown exists only when you enable RX via software (IBE).

## 76.15 Timestamp distribution network

The timestamp distribution network uses CoreSight timestamp components to generate a 48-bit timestamp value for the trace sources as shown in the following diagram. The CoreSight Timestamp generator generates a 64-bit counter value, but only the least significant 48 bits are distributed to the trace sources. A 7-bit narrow timestamp is derived from the 48-bit timestamp and distributed to the trace client, where a decoder regenerates the 48-bit timestamp. The generator must be programmed. The programming details can be found in Arm CoreSight Components TRM (available in References). In the timestamp distribution network, interpolators are also used for some trace sources. The timestamp interpolator increases the resolution of timestamp. It shifts the input timestamp left by 8-bits, and uses these low-order bits to provide a more accurate timestamp value.

Debug

<!-- image -->

## NOTE

Ignore the zero timestamp value on A53 ETM and A53/DDR NoC probe's trace.

## 76.15.1 S32G accelerator timestamp distribution network

The following figure shows the configuration of the accelerator timestamp network that is outside of the system core circuitry.

Debug

<!-- image -->

## 76.16 Low power debug

The device supports debug through Standby mode, to allow the tool to finish operations and the device to transmit all pending trace messages before the device goes into Standby mode. The following sequence achieves low power debug:

1. Set the MDM AP WIR\_ENABLE register bit[0] to 1 to notify the device that debug through standby is required.
2. When the device is ready to enter Standby mode, standby is held off until all trace messages have been transmitted from the device.
3. While exiting Standby mode, initialize debug registers, then set the MDM AP WIR\_RELEASE register bit[0] to 1 to lift the device out of functional reset.

## 76.17 References

This chapter refers to the following Arm technical documents:

- Arm CoreSight Architecture Specification

http://infocenter.arm.com/help/topic/com.arm.doc.ihi0029d/IHI0029D\_coresight\_architecture\_spec\_v2\_0.pdf

- CoreSight Components Technical Reference Manual

http://infocenter.arm.com/help/topic/com.arm.doc.ddi0314h/DDI0314H\_coresight\_components\_trm.pdf

- Arm Debug Interface Architecture Specification

https://static.docs.arm.com/ihi0031/c/IHI0031C\_debug\_interface\_as.pdf

- Cortex A53 Technical Reference Manual

http://infocenter.arm.com/help/topic/com.arm.doc.ddi0500f/DDI0500F\_cortex\_a53\_r0p4\_trm.pdf

- Cortex M7 Technical Reference Manual

http://infocenter.arm.com/help/topic/com.arm.doc.ddi0489b/DDI0489B\_cortex\_m7\_trm.pdf

## Chapter 77 JTAG Controller (JTAGC)

## 77.1 Chip-specific JTAGC information

## 77.1.1 Chip identification register

See the "Device JTAG ID" section in the "Debug Subsystem" chapter for information on the JTAGC chip identification values used on this chip.

## 77.1.2 Clock frequency during the boot process

When booting, the JTAGC clock operates at half of the JDC clock's frequency (that is, JTAGC frequency = 24 MHz  2 = 12 MHz during the boot process).

## 77.2 Overview

JTAGC allows you to test chip functionality and connectivity while remaining transparent to system logic when not in test mode. Testing is performed via a boundary scan technique, as defined in the IEEE 1149.1-2001 standard. All data input to and output from JTAGC is communicated in serial format.

## 77.2.1 Block diagram

The following is a simplified block diagram of the JTAG Controller (JTAGC) block. See the chip-specific configuration information within this chapter as well as Register description for more information about the JTAGC registers.

<!-- image -->

## 77.2.2 Features

The JTAGC block is compliant with the IEEE 1149.1-2001 standard, and supports the following features:

- IEEE 1149.1-2001 TAP interface
- Four pins (TDI, TMS, TCK, and TDO )

- JCOMP input that provides reset control
- Instruction register that supports several IEEE 1149.1-2001 defined instructions as well as several public and private device-specific instructions (see JTAGC block instructions for a list of supported instructions).
- Sharing of the TAP with other TAP controllers via ACCESS\_AUX\_x instructions
- Bypass register, boundary scan register, and device identification register
- TAP controller state machine that controls the operation of the data registers, instruction register, and associated circuitry

## 77.3 Register description

This section provides a detailed description of the JTAGC block registers accessible through the TAP interface, including data registers and the instruction register. Individual bit-level descriptions and reset states of each register are included. These registers are not memory-mapped and can only be accessed through the TAP.

## 77.3.1 Instruction register

The JTAGC block uses a 8-bit instruction register as shown in the following figure.

The instruction register allows instructions to be loaded into the block to select the test to be performed, or the test data register to be accessed, or both. Instructions are shifted in through TDI when the TAP controller is in the Shift-IR state, and latched on the falling edge of TCK in the Update-IR state. The latched instruction value can only be changed in the Update-IR and Test-Logic-Reset TAP controller states.

Synchronous entry into the Test-Logic-Reset state results in the IDCODE instruction being loaded on the falling edge of TCK. Asynchronous entry into the Test-Logic-Reset state results in asynchronous loading of the IDCODE instruction. During the Capture-IR TAP controller state, the instruction shift register is loaded with the value 0b1, making this value the register's read value when the TAP controller is sequenced into the Shift-IR state.

<!-- image -->

## 77.3.2 Bypass register

The bypass register is a single-bit shift register path selected for serial data transfer between TDI and TDO when the following instructions are active:

- BYPASS
- HIGHZ
- CLAMP

After entry into the Capture-DR state, the single-bit shift register is set to a logic 0. Therefore, the first bit shifted out after selecting the bypass register is always a logic 0.

## 77.3.3 Device identification register

The device identification (JTAG ID) register, shown in the following figure, allows the revision number, part number, manufacturer, and design center responsible for the design of the part to be determined through the TAP.

JTAG Controller (JTAGC)

JTAG Controller (JTAGC)

The device identification register is selected for serial data transfer between TDI and TDO when the IDCODE instruction is active. Entry into the Capture-DR state when the device identification register is selected loads the IDCODE into the shift register to be shifted out on TDO in the Shift-DR state. No action occurs in the Update-DR state.

<!-- image -->

The following table describes the device identification register functions. The device identification register values are described in the chip-specific JTAGC information.

Table 682. Device identification register field descriptions

| Field     | Function                                                                                                                        |
|-----------|---------------------------------------------------------------------------------------------------------------------------------|
| PRN       | Part revision number Contains the revision number of the part.                                                                  |
| DC        | Design center Indicates the design center.                                                                                      |
| PIN       | Part identification number Contains the part number of the device.                                                              |
| MIC       | Manufacturer identity code Contains the reduced Joint Electron Device Engineering Council (JEDEC) ID .                          |
| IDCODE ID | IDCODE register ID Identifies this register as the device identification register and not the bypass register. Always set to 1. |

## 77.3.4 Boundary scan register

The boundary scan register is connected between TDI and TDO when the EXTEST, PRELOAD instructions are active. It is used to:

- Capture input pin data
- Force fixed values on output pins
- Select a logic value and direction for bidirectional pins

Each bit of the boundary scan register represents a separate boundary scan register cell, as described in the IEEE 1149.1-2001 standard and discussed in Boundary scan. The size of the boundary scan register and bit ordering is device-dependent and can be found in the device BSDL file.

## 77.4 Functional description

## 77.4.1 Modes of operation

The JTAGC block uses JCOMP and a power-on reset indication as its primary reset signals. Several IEEE 1149.1-2001 defined test modes are supported, as well as a bypass mode.

## 77.4.1.1 IEEE 1149.1-2001 defined test modes

The JTAGC block supports several IEEE 1149.1-2001 defined test modes. A test mode is selected by loading the appropriate instruction into the instruction register when the JTAGC is enabled. Supported test instructions include EXTEST, HIGHZ, CLAMP, PRELOAD.

Each instruction defines the set of data register(s) that may operate and interact with the on-chip system logic when the instruction is current. Only one test data register path is enabled to shift data between TDI and TDO for each instruction.

The boundary scan register is enabled for serial access between TDI and TDO when the EXTEST, PRELOAD instructions are active. The single-bit bypass register shift stage is enabled for serial access between TDI and TDO when the following instructions are active:

- BYPASS
- HIGHZ
- CLAMP

The functionality of each test mode is explained in more detail in JTAGC block instructions.

## 77.4.1.2 Bypass mode

When no test operation is required, the BYPASS instruction can be loaded to place the JTAGC block into bypass mode. When in bypass mode, the single-bit bypass shift register is used to provide a minimum-length serial path to shift data between TDI and TDO.

## 77.4.2 IEEE 1149.1-2001 (JTAG) TAP

The JTAGC block uses the IEEE 1149.1-2001 TAP for accessing registers. This port can be shared with other TAP controllers on the MCU. Ownership of the port is determined by the value of the currently loaded instruction. For more detail on TAP sharing via JTAGC instructions, see ACCESS\_AUX\_x instructions .

Data is shifted between TDI and TDO through the selected register starting with the least significant bit, as illustrated in the following figure. This applies for the instruction register, test data registers, and the bypass register.

<!-- image -->

## 77.4.3 TAP controller state machine

The TAP controller is a synchronous state machine that interprets the sequence of logical values on the TMS pin.

The following figure shows the machine's states. The value shown next to each state is the value of the TMS signal sampled on the rising edge of the TCK signal. As the figure shows, holding TMS at logic 1 when clocking TCK through a sufficient number of rising edges also causes the state machine to enter the Test-Logic-Reset state.

JTAG Controller (JTAGC)

Figure 630. IEEE 1149.1-2001 TAP controller finite state machine

JTAG Controller (JTAGC)

<!-- image -->

## 77.4.3.1 Enabling the TAP controller

The JTAGC TAP controller is enabled by setting JCOMP to a logic 1 value.

## 77.4.3.2 Selecting an IEEE 1149.1-2001 register

Access to the JTAGC data registers is achieved by loading the instruction register with any of the JTAGC block instructions when the JTAGC is enabled. Instructions are shifted in via the Select-IR-Scan path and loaded in the Update-IR state. At this point, all data register access is performed via the Select-DR-Scan path.

JTAG Controller (JTAGC)

The Select-DR-Scan path is used to read or write the register data by shifting in the data (LSB first) during the Shift-DR state. When reading a register, the register value is loaded into the IEEE 1149.1-2001 shifter during the Capture-DR state. When writing a register, the value is loaded from the IEEE 1149.1-2001 shifter to the register during the Update-DR state. When reading a register, there is no requirement to shift out the entire register contents. Shifting may be terminated after the required number of bits have been acquired.

## 77.4.4 JTAGC block instructions

The JTAGC implements instructions defined in IEEE 1149.1-2001. See the chip-specific JTAGC information for the JTAGC instructions implemented on this chip. See the IEEE 1149.1-2001 standard for additional information. All undefined opcodes are reserved.

## 77.4.4.1 IDCODE instruction

IDCODE selects the 32-bit device identification register as the shift path between TDI and TDO. This instruction allows interrogation of the MCU to determine its version number and other part identification data. IDCODE is the instruction placed into the instruction register when the JTAGC block is reset.

## 77.4.4.2 PRELOAD instruction

The PRELOAD instruction has two functions:

- The PRELOAD portion of the instruction initializes the boundary scan register cells before selecting the EXTEST or CLAMP instructions to perform boundary scan tests. This is achieved by shifting in initialization data to the boundary scan register during the Shift-DR state. The initialization data is transferred to the parallel outputs of the boundary scan register cells on the falling edge of TCK in the Update-DR state. The data is applied to the external output pins by the EXTEST or CLAMP instruction. System operation is not affected.

## 77.4.4.3 EXTEST external test instruction

EXTEST selects the boundary scan register as the shift path between TDI and TDO. It allows testing of off-chip circuitry and board-level interconnections by driving preloaded data contained in the boundary scan register onto the system output pins. Typically, the preloaded data is loaded into the boundary scan register using the PRELOAD instruction before the selection of EXTEST. EXTEST asserts the internal system reset for the MCU to force a predictable internal state when performing external boundary scan operations.

## 77.4.4.4 HIGHZ instruction

HIGHZ selects the bypass register as the shift path between TDI and TDO. When HIGHZ is active all output drivers are placed in an inactive drive state (for example, high impedance). HIGHZ also asserts the internal system reset for the MCU to force a predictable internal state.

## 77.4.4.5 CLAMP instruction

CLAMP allows the state of signals driven from MCU pins to be determined from the boundary scan register when the bypass register is selected as the serial path between TDI and TDO. CLAMP enhances test efficiency by reducing the overall shift path to a single bit (the bypass register) when conducting an EXTEST type of instruction through the boundary scan register. CLAMP also asserts the internal system reset for the MCU to force a predictable internal state.

## 77.4.4.6 ACCESS\_AUX\_x instructions

The JTAGC is configurable to allow other TAP controllers on the device to share the port with it. This is done by providing ACCESS\_AUX\_x instructions for each of these TAP controllers.

When this instruction is loaded, control of the JTAG pins is transferred to the selected TAP controller. Any data input via TDI and TMS is passed to the selected TAP controller, and any TDO output from the selected TAP controller is sent back to the JTAGC to be output on the pins.

JTAG Controller (JTAGC)

The JTAGC regains control of the JTAG port during the UPDATE-DR state if the PAUSE-DR state was entered. Auxiliary TAP controllers are held in RUN-TEST/IDLE when they are inactive. Instructions not used to access an auxiliary TAP controller on a device are treated like the BYPASS instruction.

## 77.4.4.7 BYPASS instruction

BYPASS selects the bypass register, creating a single-bit shift register path between TDI and TDO. BYPASS enhances test efficiency by reducing the overall shift path when no test operation of the MCU is required. This allows more rapid movement of test data to and from other components on a board that are required to perform test functions. When the BYPASS instruction is active the system logic operates normally.

## 77.4.5 Boundary scan

The boundary scan technique allows signals at component boundaries to be controlled and observed through the shift-register stage associated with each pad. Each stage is part of a larger boundary scan register cell, and cells for each pad are interconnected serially to form a shift-register chain around the border of the design. The boundary scan register consists of this shift-register chain, and is connected between TDI and TDO when the EXTEST, PRELOAD instructions are loaded. The shift-register chain contains a serial input and serial output, as well as clock and control signals.

## 77.4.6 Clocking

There is one clock for this module. For more information See External signals.

## 77.4.7 Interrupts

This module has no interrupts.

## 77.4.8 Reset

The JTAGC block is placed in reset when:

- Power-on reset is asserted
- JCOMP is negated
- TMS input is held high for enough consecutive rising edges of TCK to sequence the TAP controller state machine into the Test-Logic-Reset state

Holding TMS high for five consecutive rising edges of TCK guarantees entry into the Test-Logic-Reset state regardless of the current TAP controller state. Asserting power-on reset or setting JCOMP to a value other than the value required to enable the JTAGC block results in asynchronous entry into the reset state.

When in reset, the following actions occur:

- The TAP controller is forced into the Test-Logic-Reset state, thereby disabling the test logic and allowing normal operation of the on-chip system logic to continue unhindered.
- The instruction register is loaded with the IDCODE instruction.

## 77.4.8.1 JTAGC reset configuration

When in reset, the TAP controller is forced into the Test-Logic-Reset state, thus disabling the test logic and allowing normal operation of the on-chip system logic. In addition, the instruction register is loaded with the IDCODE instruction.

## 77.5 External signals

JTAGC includes a set of signals that connect to off-chip development tools and allow access to test support functions. The JTAGC signals are outlined in the following table and described in the following sections.

## Table 683. JTAG signal properties

| Name   | I/O    | Function         | Reset state   |
|--------|--------|------------------|---------------|
| TCK    | Input  | Test clock       | Weak pulldown |
| TDI    | Input  | Test data in     | Weak pullup   |
| TDO    | Output | Test data out    | High Z 1      |
| TMS    | Input  | Test mode select | Weak pullup   |
| JCOMP  | Input  | JTAG compliance  | Weak pulldown |

## 77.5.1 Test clock input (TCK)

Test Clock Input (TCK) is an input pin used to synchronize the test logic and control register access through the TAP.

## 77.5.2 Test data input (TDI)

Test Data Input (TDI) is an input pin that receives serial test instructions and data. TDI is sampled on the rising edge of TCK.

## 77.5.3 Test data output (TDO)

Test Data Output (TDO) is an output pin that transmits serial output for test instructions and data. TDO is tristateable and is actively driven only in the Shift-IR and Shift-DR states of the TAP controller state machine, which is described in TAP controller state machine.

## 77.5.4 Test mode select (TMS)

Test Mode Select (TMS) is an input pin used to sequence the IEEE 1149.1-2001 test control state machine. TMS is sampled on the rising edge of TCK.

## 77.5.5 JCOMP JTAG compliance

The JCOMP signal provides IEEE 1149.1-2001 compatibility and provides the ability to share the TAP. The JTAGC TAP controller is enabled when JCOMP is set to the JTAGC enable encoding-otherwise the JTAGC TAP controller remains in reset.

## 77.6 Initialization

To initialize the JTAGC block and enable access to registers, the following sequence is required:

1. Set the JCOMP signal to the JTAGC enable value, thereby enabling the JTAGC TAP controller.
2. Load the appropriate instruction for the test or action to be performed.

## 77.7 Application information

The test logic is a static logic design, and TCK can be stopped in either a high or low state without loss of data. However, the system clock is not synchronized to TCK internally. Any mixed operation using both the test logic and the system functional logic requires external synchronization.

## Chapter 78 JTAG Data Communication (JDC)

## 78.1 Overview

JDC module provides the capability to move register data between the IPS and JTAG domains. This facilitates communication between internal resources that access memory-mapped register space and an external tool that accesses the JTAG port.

The JDC module consists of:

- IPS-accessible registers
- JTAG-accessible registers
- Associated logic to coordinate movement of data from one register domain to another

The JDC implements the following IPS data registers, occupying separate memory space:

- 1 32-bit memory mapped register that can be read or written via IPS (JTAG Output Data Register (JOUT\_IPS)), and whose contents are ported out for capture into a JTAG register (JOUT) to be read via the JTAG port.
- 1 32-bit memory mapped register that can only be read via IPS (JTAG Input Data Register (JIN\_IPS)), and whose contents are loaded from a JTAG register (JIN).

JDC indicates when:

- New data has been shifted in via the JTAG port and is ready to be read from the JTAG Input Data Register (JIN\_IPS) register
- New data has been written to the JTAG Output Data Register (JOUT\_IPS) register and is ready to be read via the JTAG port

A Module Status Register (MSR) captures the state of these flags and also provides the flags to a JTAG register (JOUT) for tool visibility.

## 78.1.1 Block diagram

There is a single bus interface to port register data out to the JTAGC, and a single bus interface to port data in from the JTAGC. The following figure is the JDC module block diagram. 1 8

Figure 631. JDC block diagram

<!-- image -->

## 78.2 Functional description

The JDC module provides the ability to shift in data via the JTAG port and capture that data in memory-mapped register that can be accessed via IPS. It also provides the ability to capture data written to memory-mapped register into a JTAG shift register for output via the JTAG port.

## 78.2.1 JDC functionality

An overview of the module functionality is described here:

- Software write to the JOUT\_IPS register:
1. The JDC sets the JOUT\_RDY flag bit, indicating new data is available to be read from the JOUT register via the JTAG port.
2. The MSR reflects the state of the JOUT\_RDY bit.
3. The JDC also captures the state of the JOUT\_RDY bit in the JOUT register.
4. A JTAG read of the JOUT register via execution of the JOUT\_READ instruction with a JOUT\_RDY bit whose value is logic 1 indicates that the register contains new data.
5. The JDC clears the JOUT\_RDY flag bit upon exit of the Capture-DR JTAG state during execution of the JOUT\_READ instruction.
6. Clearing the JOUT\_RDY bit indicates to software that a new data value can be written to the JOUT\_IPS register.
- JTAG write to the JIN register via execution of the JIN\_WRITE JTAG instruction:
1. The JDC updates the contents of the JIN\_IPS register upon exit of the Update-DR state.
2. An update of the JIN\_IPS register sets the JIN\_RDY flag bit, indicating new data is available to be read via IPS.
3. The MSR register reflects the state of the JIN\_RDY bit.
4. The JDC also captures the state of the JIN\_RDY bit in the JOUT register.
5. The JDC clears the JIN\_RDY flag bit upon software read of the JIN\_IPS register.
6. A JTAG read of the JOUT register with a JIN\_RDY value of logic 0 indicates that new data can be written to the JIN register.

## 78.2.2 JTAG register access

See the JTAGC documentation for information on how to access the JTAG registers.

## 78.2.2.1 JDC block instructions

The JDC block implements the instructions listed in Table 684. This section gives an overview of each instruction. All undefined opcodes are reserved.

## Table 684. JTAG instructions

| Instruction   |   Code[4:0] | Instruction summary                                                                                                                              |
|---------------|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------|
| Reserved      |       00001 | Factory debug reserved.                                                                                                                          |
| JOUT_READ     |       00010 | Selects JOUT data register. The JDC captures data from JOUT_IPS into JOUT data register upon entry to Capture-DR state when JOUT_READ is active. |
| JIN_WRITE     |       01110 | Selects JIN data register. The JDC captures data from JIN into JIN_IPS upon exit of Update-DR state when JIN_WRITE is active.                    |

Table continues on the next page...

## Table 684. JTAG instructions (continued)

| Instruction   | Code[4:0]         | Instruction summary                          |
|---------------|-------------------|----------------------------------------------|
| BYPASS 1      | 11111             | Selects bypass register for data operations. |
| Reserved      | All other opcodes | Decoded to select bypass register.           |

## 78.2.3 Clocking

JDC module uses TCK and inverted TCK as clock source.

## 78.2.4 Interrupts

This module has no interrupts.

## 78.3 External signals

JDC signals are listed in the following table.

## Table 685. Signal properties

| Name   | Function            | I/O   | Reset   |
|--------|---------------------|-------|---------|
| TCK    | Test clock input    | I     | -       |
| TMS    | Test mode select    | I     | 0       |
| TDI    | Test data in        | I     | 0       |
| JCOMP  | JTAG compliance pin | I     | 0       |
| TDO    | Test data out       | O     | HiZ     |

## 78.4 Initialization

This module does not require initialization.

## 78.5 JDC register descriptions

The following sections describe the implemented 32-bit registers. Only 32-bit accesses are valid. The effects of access that are not 32 bits are not defined.

## 78.5.1 JDC memory map

JDC base address: 402F\_4000h

| Offset   | Register                            |   Width (In bits) | Access   | Reset value   |
|----------|-------------------------------------|-------------------|----------|---------------|
| 0h       | Module Configuration Register (MCR) |                32 | RW       | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                             |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------|-------------------|----------|---------------|
| 4h       | Module Status Register (MSR)         |                32 | RW       | 0000_0000h    |
| 8h       | JTAG Output Data Register (JOUT_IPS) |                32 | RW       | 0000_0000h    |
| Ch       | JTAG Input Data Register (JIN_IPS)   |                32 | R        | 0000_0000h    |

## 78.5.2 Module Configuration Register (MCR)

## Offset

| Register   | Offset   |
|------------|----------|
| MCR        | 0h       |

## Function

The MCR enables the interrupt outputs of the JDC. This register is reset by system functional reset.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                     |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| 31-17      | Reserved                                                                                                                                     |
| 16 JIN_IEN | JIN Interrupt Enable 0b - Setting MSR[JIN_INT] bit does not assert the JIN interrupt 1b - Setting MSR[JIN_INT] bit asserts the JIN interrupt |
| 15-1       | Reserved                                                                                                                                     |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                          |
|----------|-------------------------------------------------------------------|
| -        |                                                                   |
| 0        | JOUT Interrupt Enable                                             |
| JOUT_IEN | 0b - Setting MSR[JOUT_INT] bit does not assert the JOUT interrupt |
|          | 1b - Setting MSR[JOUT_INT] bit asserts the JOUT interrupt         |

## 78.5.3 Module Status Register (MSR)

## Offset

| Register   | Offset   |
|------------|----------|
| MSR        | 4h       |

## Function

The MSR holds the JTAG register status and interrupt bits. This register is reset by system functional reset.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                    |
|---------|-------------------------------------------------------------|
| 31-19   | Reserved                                                    |
| -       |                                                             |
| 18      | JIN Ready (read only)                                       |
| JIN_RDY | 0b - Cleared upon software read of JIN_IPS contents via IPS |
|         | 1b - Set when new data is written to the JIN_IPS register   |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                     |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| 17 -       | Reserved                                                                                                                                     |
| 16 JIN_INT | JIN Interrupt 0b - Cleared by writing logic 1 1b - Set when new data is written to the JIN_IPS register                                      |
| 15-3 -     | Reserved                                                                                                                                     |
| 2 JOUT_RDY | JOUT Ready (read only) 0b - Cleared upon tool read of JOUT register via JTAG port 1b - Set when new data is written to the JOUT_IPS register |
| 1 -        | Reserved                                                                                                                                     |
| 0 JOUT_INT | JOUT Interrupt 0b - Cleared by writing logic 1 1b - Set when JOUT_RDY bit is cleared by tool reading JOUT register                           |

## 78.5.4 JTAG Output Data Register (JOUT\_IPS)

## Offset

| Register   | Offset   |
|------------|----------|
| JOUT_IPS   | 8h       |

## Function

The JOUT\_IPS register holds data written via IPS. The JDC captures the JOUT\_IPS contents into the JOUT register to be read via the JTAG port. This register is reset by system functional reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R W    |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function      |
|---------|---------------|
| 31-0    | JOUT_IPS Data |
| Data    |               |

## 78.5.5 JTAG Input Data Register (JIN\_IPS)

## Offset

| Register   | Offset   |
|------------|----------|
| JIN_IPS    | Ch       |

## Function

The JIN\_IPS register holds data written to the JTAG input data register (JIN) via the JTAG port, where the data can be read via IPS. Any IPS write to the JIN\_IPS register returns a transfer error. This register is reset by system functional reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data | Data |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

JTAG Data Communication (JDC)

## Fields

| Field   | Function     |
|---------|--------------|
| 31-0    | JIN_IPS data |
| Data    |              |

## 78.6 Non-memory-mapped register definition

The JDC also implements two JTAG accessible registers that are not memory-mapped. One JTAG register shifts in data to be placed in the JIN\_IPS register. The other JTAG register captures data from the JOUT\_IPS register plus ready status from the MSR, to be shifted out via the JTAG port.

## 78.6.1 JTAG output data register (JOUT)

The JOUT register captures data from the JOUT\_IPS register upon execution of the JOUT\_READ JTAG instruction. It also holds the JIN\_RDY and JOUT\_RDY status bits. This register is reset by system power-on reset and JTAG reset. The reset value of the JOUT register is 0. The following figure shows the format of the JOUT register.

<!-- image -->

The JOUT register is described in the following table.

## Table 686. JOUT JTAG register field descriptions

| Field         | Function                                        |
|---------------|-------------------------------------------------|
| JOUT_IPS Data | JOUT_IPS Data Data value from JOUT_IPS register |
| JIN_RDY       | JIN_RDY State of JIN_RDY bit from MSR           |
| JOUT_RDY      | JOUT_RDY State of JOUT_RDY bit from MSR         |

## 78.6.2 JTAG input data register (JIN)

The external tool writes data to the JIN register via JTAG during execution of the JIN\_WRITE JTAG instruction. The JDC later captures JIN data in the JIN\_IPS register to be read via IPS. This register is reset by system power-on reset and JTAG reset. The reset value of the JIN register is 0. The following figure shows the format of the JIN register.

JTAG Data Communication (JDC)

<!-- image -->

| Bits            | 255             | 0               |                 |
|-----------------|-----------------|-----------------|-----------------|
| R               | JIN Data        | JIN Data        | JIN Data        |
| Reset           | Reset           | Reset           | Reset           |
| Figure 633. JIN | Figure 633. JIN | Figure 633. JIN | Figure 633. JIN |

The JIN register is described in the following table.

Table 687. JIN JTAG register field descriptions

| Field    | Description                                                                                                              |
|----------|--------------------------------------------------------------------------------------------------------------------------|
| JIN Data | Contains data to be captured in JIN_IPS register upon exit of Update-DR state when executing WRITE_JIN JTAG instruction. |

## 78.7 Secure challenge/response connection procedure

A summary of how the JDC can be used to interact with a security module to perform challenge/response password authorization is as follows:

1. After exit of reset, all registers are at their reset values. JIN\_RDY bit value of 0 indicates that the tool may write data to the JIN register. JOUT\_RDY bit value of 0 indicates that software may write data to the JOUT\_IPS register.
2. The MCR register is programmed to enable JOUT and JIN interrupts, or not.
3. Once the tool is ready to start the authorization process, it writes a value to the JIN register via execution of the JTAGC JIN\_WRITE instruction.
4. Software monitors the state of the JIN\_RDY bit or enables the JIN interrupt and uses the interrupt assertion as a trigger to start the authorization process.
5. Once the authorization process is started, software writes the first JOUT value to the JOUT\_IPS register. This sets the JOUT\_RDY bit value to 1.
6. Following the initial tool write to the JIN register, the tool polls the JOUT register to determine when software has provided a challenge word. Upon reading the JOUT register with JOUT\_RDY bit set, the tool records the data value to be used to generate the appropriate response. The read of the JOUT register clears the JOUT\_RDY bit. The clearing of the JOUT\_RDY bit also sets the JOUT\_INT bit and asserts the JOUT interrupt if the MCR[JOUT\_IEN] is set.
7. With the JOUT\_RDY bit cleared, software may now provide the next challenge word.
8. Once the tool has generated a response word, it uses the value of the JIN\_RDY bit from the JOUT register read to determine when it can perform a write to the JIN register to provide the response.
9. The security module can provide additional challenge words and read back the corresponding response words as needed, repeating the process.

Simply providing a password without using the challenge/response protocol can be done in a similar way. The tool provides 32-bits of the password at a time with each write to the JIN register, and monitors the JIN\_RDY bit value of the JOUT register to determine when the next JIN register value can be written. There is no need for software to write the JOUT\_IPS register in this case.

For details related to the lifecycle stage at which this process is performed, see the "Hardware Security Engine" chapter.

## 78.8 Glossary

IPS

Internal peripheral system

XBAR

Crossbar bus interface

JTAG Data Communication (JDC)

## Chapter 79 Aurora Trace Port (ATP) Subsystem

## 79.1 Introduction

The Aurora protocol is used to send debug information over a high-speed serial link. A high-speed serial link using the Aurora protocol is ideally suited to provide high speed trace debug support because it is a light-weight protocol with 80% efficiency based on an open standard developed by Xilinx Corporation. The Aurora protocol increases internal visibility and debug capability by providing higher trace throughput up to 20 Gbps at 5 GHz with four data lanes. With the Aurora interface, each data lane only takes two pins per differential output pair (positive and negative).

The Aurora Trace Port (ATP) subsystem is a part of the debug subsystem in Arm-based SOCs. ATP uses Xilinx Aurora 8B/10B protocol to send data off-chip. The control of the ATP subsystem is through the Debug Access Port (DAP) and Advanced Peripheral Bus (APB) interface. The data path of the ATP communicates with Arm cores through the Trace Port Interface Unit (TPIU) module. ATP has dedicated 4 KB address space and the address bus can be controlled and monitored. Access to ATP registers is through the Serial Wire JTAG Debug Port (SWJ-DP). Interaction of ATP with DAP and TPIU is shown in the following figure.

<!-- image -->

ATP subsystem has control and data paths. The control path consists of register configuration of all the internal modules, most of these registers are write and readable. The DAP sends the APB interface signals along with the select line to ATP. Users configure registers using dedicated 4 KB address space. The data path of ATP takes 32-bit data from TPIU module and ATP provides the gated clock of Aurora PHY output Clock (Aurora Clock, PLL output Clock / 10) to control the data flow of TPIU.

## 79.1.1 Features

ATP supports these features:

- Xilinx Aurora Protocol 8B/10B Specification V2.3 compliance
- Simplex mode with static (timer-based) channel training
- 0, 2 or 4 Aurora lane configuration
- Up to 5 GHz bandwidth for each lane
- Arm compliance registers
- Configurable clock compensation
- Aurora PLL frequencies 2.5, 3, 3.4, 4, and 5 GHz can be configured by using register configuration (PLLDIV).
- The Aurora PLL generates 5 GHz clock using LVDS input reference clock of 100 MHz.

The PLL does not detect loss of reference clock. If the clock stops after the PLL achieves lock, PLLDIG continues to indicate the lock status.

## 79.2 Overview

The ATP subsystem supports high-speed trace output and transmits high bandwidth data off-chip from the SoC Arm debug infrastructure using an add-on to the TPIU parallel interface. This ensures complete reuse of existing Arm IP.

<!-- image -->

The ATP subsystem consist of five modules:

## Table 688. ATP subsystem modules

| Module                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CoreSight Interface Adaptor (CIA) | CIA interacts with Trace Port Interface Unit (TPIU) and APB interface bus. CIA takes trace data from TPIU, converts it to the required format for Aurora Link (AL), and generates all the required intermediate signals. CIA interface with APB is connected for register configuration of ATP and it controls and reads the status of various registers of the ATP subsystem. CIA also controls the clock for TPIU. Therefore, there are no additional signals to control the data flow of TPIU and clock gating is used to throttle the data. |
| Aurora Link (AL)                  | AL communicates with the CIA and Aurora PHY (AP). AL receives 64-bit format data from CIA, implements Aurora 8B/10B protocol, and appends CRC based on user selection. Based on the number of lanes configured at AL, the data is sent to AP on the corresponding lanes.                                                                                                                                                                                                                                                                        |
| Aurora PHY (AP)                   | AP interacts with AL and LVDS pads. AP receives the Aurora 8B/10B format segregated data from the AL and performs all the operations required to transfer the data off-chip. APs major function is to convert parallel data to serial data at 1:10 clock rate and to transfer data on to the LVDS pads.                                                                                                                                                                                                                                         |
| Aurora PLL                        | Aurora PLL module generates the clock for the Aurora sub-system (AURORA_CLK) up to 5 GHz by taking the input reference clock (AURORA_EXT_CLK) of 100 MHz. The Aurora high-speed clock is used to send the data off-chip. The Aurora PLL is configurable using register settings.                                                                                                                                                                                                                                                                |
| Aurora LVDS pads                  | Aurora pads are high-speed supporting pads. They are LVDS differential pair pads and each supports up to 5 GHz per lane. These pads receive the data from AP and controlled by CIA.                                                                                                                                                                                                                                                                                                                                                             |

## 79.3 ATP register descriptions

ATP subsystem registers configure the AL, AP, Aurora PLL, Aurora LVDS IO pads, and CIA.

All registers and fields which are marked reserved when written with values other than reset values could lead to unpredictable hardware behavior. Read values of reserved/bits registers can be ignored.

## 79.3.1 ATP memory map

ATP base address: 5103\_3000h

Aurora Trace Port (ATP) Subsystem

Aurora Trace Port (ATP) Subsystem

| Offset   | Register                                     |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------------|-------------------|----------|---------------|
| 0h       | PLL Control (PLLC)                           |                32 | RW       | 8000_0000h    |
| 4h       | PLL Status (PLLS)                            |                32 | RW       | 0000_0200h    |
| 8h       | PLL Divider (PLLDIV)                         |                32 | RW       | 0C01_1019h    |
| 18h      | PLL Calibration 2 (PLLCAL_2)                 |                32 | RW       | 0000_2000h    |
| 20h      | PLL Clock MUX (PLLCKMUX)                     |                32 | RW       | 0000_0000h    |
| 300h     | AL Status (ALS)                              |                32 | R        | 0008_0000h    |
| 308h     | AL General Control (ALGC)                    |                32 | RW       | 0000_0000h    |
| 30Ch     | AL Training Control (ALTC)                   |                32 | RW       | 0000_0000h    |
| 440h     | LVDS TX IO Configuration (LVDSTX)            |                32 | RW       | 0000_C001h    |
| 444h     | LVDS RX IO Configuration (LVDSRX)            |                32 | RW       | 0000_0000h    |
| 448h     | LVDS TX OBE Configuration (LVDSTXOBE)        |                32 | RW       | 0000_0000h    |
| 480h     | CIA Control (CIAC)                           |                32 | RW       | 0400_0000h    |
| 488h     | Aurora Trace Port Enable (ATPE)              |                32 | RW       | 0000_0000h    |
| F00h     | Integration Mode Control (ITCTRL)            |                32 | R        | 0000_0000h    |
| FA0h     | Claim Tag Set (CLAIMSET)                     |                32 | R        | 0000_0000h    |
| FA4h     | Claim Tag Clear (CLAIMCLR)                   |                32 | R        | 0000_0000h    |
| FA8h     | Device Affinity 0 (DEVAFF0)                  |                32 | R        | 0000_0024h    |
| FACh     | Device Affinity 1 (DEVAFF1)                  |                32 | R        | 0000_0024h    |
| FB0h     | Lock Access Register (LAR)                   |                32 | W        | 0000_0000h    |
| FB4h     | Lock Status Register (LSR)                   |                32 | R        | 0000_0003h    |
| FB8h     | Authentication Status (AUTHSTATUS)           |                32 | R        | 0000_0000h    |
| FBCh     | Device Architecture (DEVARCH)                |                32 | R        | 01D0_0024h    |
| FC0h     | Device Configuration 2 (DEVID2)              |                32 | R        | 0000_0000h    |
| FC4h     | Device Configuration 1 (DEVID1)              |                32 | R        | 0000_0000h    |
| FC8h     | Device Configuration (DEVID)                 |                32 | R        | 0000_0000h    |
| FCCh     | Device Type Identifier (DEVTYPE)             |                32 | R        | 0000_0011h    |
| FD0h     | Peripheral Identification Register 4 (PIDR4) |                32 | R        | 0000_0000h    |
| FE0h     | Peripheral Identification Register 0 (PIDR0) |                32 | R        | 0000_0014h    |
| FE4h     | Peripheral Identification Register 1 (PIDR1) |                32 | R        | 0000_00EAh    |
| FE8h     | Peripheral Identification Register 2 (PIDR2) |                32 | R        | 0000_0008h    |
| FECh     | Peripheral Identification Register 3 (PIDR3) |                32 | R        | 0000_0000h    |
| FF0h     | Component Identification Register 0 (CIDR0)  |                32 | R        | 0000_000Dh    |

Table continues on the next page...

## Table continued from the previous page...

| Offset   | Register                                    |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------|-------------------|----------|---------------|
| FF4h     | Component Identification Register 1 (CIDR1) |                32 | R        | 0000_0009h    |
| FF8h     | Component Identification Register 2 (CIDR2) |                32 | R        | 0000_0005h    |
| FFCh     | Component Identification Register 3 (CIDR3) |                32 | R        | 0000_00B1h    |

## 79.3.2 PLL Control (PLLC)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLC       | 0h       |

## Function

This register controls the PLL Reset selection.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                            |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31      | PLL Reset                                                                                                                                                           |
| PLLPD   | This field controls the Analog PLL reset input. (PLLPD also used as enable/disable for PLL) 0b - Analog PLL reset is deasserted. 1b - Analog PLL reset is asserted. |
| 30-24 - | Reserved                                                                                                                                                            |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 23      | Reserved   |
| 22-0    | Reserved   |

## 79.3.3 PLL Status (PLLS)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLS       | 4h       |

## Function

<!-- image -->

This register indicates the PLL status.

## Fields

| Field   | Function   |
|---------|------------|
| 31-10   | Reserved   |
| -       |            |
| 9       | Reserved   |
| -       |            |
| 8       | Reserved   |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

## Table continued from the previous page...

| Field   | Function                                                                                                                                   |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                            |
| 7-4 -   | Reserved                                                                                                                                   |
| 3 LOL   | PLL Loss of Lock Status This field indicates if loss-of-lock has been detected. 0b - No loss-of-lock detected. 1b - Loss-of-lock detected. |
| 2 LOCK  | PLL Lock Status This field indicates if PLL has acquired lock. 0b - PLL unlocked. 1b - PLL locked.                                         |
| 1-0 -   | Reserved                                                                                                                                   |

## 79.3.4 PLL Divider (PLLDIV)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLDIV     | 8h       |

## Function

This register configures the PLL divider.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                                                                                                                                                                                                                                                                    |
|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -        | Reserved                                                                                                                                                                                                                                                                                                                    |
| 30-25 -     | Reserved                                                                                                                                                                                                                                                                                                                    |
| 24-22 -     | Reserved                                                                                                                                                                                                                                                                                                                    |
| 21-16 ODIV1 | PLL Output Division Factor 1 This field is the output frequency divider for raw AURORA_CLK PLL clock. 00_0000b - Divide by 1 00_0001b - Divide by 1 00_0010b - Divide by 2 00_0011b - Divide by 3 00_0100b - Divide by 4                                                                                                    |
| 15 -        | Reserved                                                                                                                                                                                                                                                                                                                    |
| 14-12 RDIV  | PLL Input Clock Predivider This field controls the value of the divider on the input clock. The output of the predivider circuit generates the reference clock to the PLL analog loop. 000b - Divide by 1 001b - Divide by 1 010b - Divide by 2 011b - Divide by 3 100b - Divide by 4 101b - Divide by 5 110b - Divide by 6 |
| 11-8 -      | Reserved                                                                                                                                                                                                                                                                                                                    |
| 7-0 MFID    | PLL Multiplication Factor Integer Divider                                                                                                                                                                                                                                                                                   |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                         |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field controls the value of the divider in the feedback loop. The value specified by MFID establishes the multiplication factor applied to the reference frequency. Divider value = MFID, where MFID has the range 10...150 (Ah...96h). All other values are reserved. AURORA_CLK = (MFID  2  RefClock) / (RDIV  ODIV1) where the RefClock is determined by PLLCKMUX[REFCLKSEL] setting. |

## 79.3.5 PLL Calibration 2 (PLLCAL\_2)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCAL_2   | 18h      |

## Function

This offset register consists of PLL Calibration-2 Registers.

## Diagram

<!-- image -->

## Fields

| Field         | Function                                                                                                                                                      |
|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-22 -       | Reserved                                                                                                                                                      |
| 21-19 -       | Reserved                                                                                                                                                      |
| 18-17 CALDPER | Calibration DAC Period This field is used to control the accuracy of the calibration logic to measure the VCO clock periods in given reference clock periods. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                            |
|---------|-------------------------------------------------------------------------------------------------------------------------------------|
|         | 00b - Not allowed 01b - Not allowed 10b - 64 DAC settling time (in terms of number of PLL reference clock cycles) 11b - Not allowed |
| 16-0 -  | Reserved                                                                                                                            |

## 79.3.6 PLL Clock MUX (PLLCKMUX)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCKMUX   | 20h      |

## Function

This register configures the PLL MUX to select Internal / External Clock source.

## Diagram

<!-- image -->

## Fields

| Field         | Function                  |
|---------------|---------------------------|
| 31-2          | Reserved                  |
| 1-0 REFCLKSEL | Reference Clock Selection |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field is used to select input reference clock for PLL. REFCLKSEL should never be written with 10b or 11b. 00b - 100 MHz LVDS reference clock (AURORA_EXT_CLK) 01b - 40 MHz crystal oscillator clock (FXOSC_CLK) 10b - Reserved 11b - Reserved |

## 79.3.7 AL Status (ALS)

## Offset

| Register   | Offset   |
|------------|----------|
| ALS        | 300h     |

## Function

This register indicates general status of the AL.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-22   | Reserved   |
| -       |            |
| 21      | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                       |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 20 -        | Reserved                                                                                                                                                                                                                                                                                                       |
| 19 -        | Reserved                                                                                                                                                                                                                                                                                                       |
| 18-15 -     | Reserved                                                                                                                                                                                                                                                                                                       |
| 14-13 -     | Reserved                                                                                                                                                                                                                                                                                                       |
| 12-10 TXCFG | TX Lane Configuration This field indicates the number of enabled TX lanes. 000b - Reserved. 001b - 2 TX lanes. 010b - Reserved.                                                                                                                                                                                |
| 9 PRST      | Channel Partner Reset This field indicates that the AL has detected a reset at the channel partner. 0b - No reset of channel partner. 1b - Channel partner has reset (causes AL to reset as well).                                                                                                             |
| 8-4 -       | Reserved                                                                                                                                                                                                                                                                                                       |
| 3-2 TS      | Training Status This field indicates that each stage of training has successfully completed. 00b - Training has not completed any stage. 01b - AL has successfully completed symbol lock and alignment. 10b - AL has successfully completed channel bonding. 11b - AL has successfully completed verification. |
| 1 CS        | Channel Status This field indicates the channel status. 0b - Aurora channel not ready.                                                                                                                                                                                                                         |
| 0           | Aurora Status                                                                                                                                                                                                                                                                                                  |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                              |
|---------|---------------------------------------------------------------------------------------|
| AS      | This field indicates the Aurora status. 0b - Aurora not enabled. 1b - Aurora enabled. |

## 79.3.8 AL General Control (ALGC)

## Offset

| Register   | Offset   |
|------------|----------|
| ALGC       | 308h     |

## Function

This register configures the behavior of the AL.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                             |
|---------|--------------------------------------------------------------------------------------|
| 31      | Aurora Channel Reset                                                                 |
| RST     | 0 to 1 transition if this field resets the channel and begins the training sequence. |
| 30      | Reserved                                                                             |
| 29-18   | Reserved                                                                             |
| 17      | Reserved                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -        |                                                                                                                                                                                                                                                                                         |
| 16 -     | Reserved                                                                                                                                                                                                                                                                                |
| 15 -     | Reserved                                                                                                                                                                                                                                                                                |
| 14 PCRST | Protocol Converter Reset This field resets the ALC when set.                                                                                                                                                                                                                            |
| 13 -     | Reserved                                                                                                                                                                                                                                                                                |
| 12-10 -  | Reserved                                                                                                                                                                                                                                                                                |
| 9 -      | Reserved                                                                                                                                                                                                                                                                                |
| 8 -      | Reserved                                                                                                                                                                                                                                                                                |
| 7-4 -    | Reserved                                                                                                                                                                                                                                                                                |
| 3 CRCEN  | CRC Enable This field enables the CRC. 0b - CRC generation is disabled for TX data. 1b - CRC is inserted for TX frames.                                                                                                                                                                 |
| 2 CCOEN  | Clock Compensation Override Enable This field controls a debug feature which allows the duration between clock compensation sequences to be reduced to 1280 cycles. 0b - Clock compensation counter times out at 7427 cycles. 1b - Clock compensation counter times out at 1280 cycles. |
| 1-0 -    | Reserved                                                                                                                                                                                                                                                                                |

## Aurora Trace Port (ATP) Subsystem

## 79.3.9 AL Training Control (ALTC)

## Offset

| Register   | Offset   |
|------------|----------|
| ALTC       | 30Ch     |

## Function

This register configures static training and timeout controls of AL.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                   |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 STE  | Static Training Enable This field enables static training. 0b - Reserved 1b - Static (timer based) training method is used for Aurora initialization. Training is established based on ATC/BTC/VTC timers. |
| 30 AHD  | Hold in Align 0b - Follows Aurora training sequence 1b - AL remains in align until this bit is cleared.                                                                                                    |
| 29 BHD  | Hold in Bond 0b - Follows Aurora training sequence 1b - AL remains in bond until this bit is cleared.                                                                                                      |
| 28 VHD  | Hold in Verify 0b - Follows Aurora training sequence 1b - AL remains in verify until this bit is cleared.                                                                                                  |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 27 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 26 -      | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 25-23 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 22-19 ATC | Align Timer Count 0000b - Remain in align for 16 cycles. 0001b - Remain in align for 24 cycles. 0010b - Remain in align for 32 cycles. 0011b - Remain in align for 48 cycles. 0100b - Remain in align for 64 cycles. 0101b - Remain in align for 96 cycles. 0110b - Remain in align for 128 cycles. 0111b - Remain in align for 192 cycles. 1000b - Remain in align for 256 cycles. 1001b - Remain in align for 384 cycles. 1010b - Remain in align for 512 cycles. 1011b - Remain in align for 768 cycles. 1100b - Remain in align for 1024 cycles. 1101b - Remain in align for 1536 cycles. 1110b - Remain in align for 2048 cycles. |
| 18-14 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 13-10 BTC | Bond Timer Count 0000b - Remain in bond for 16 cycles. 0001b - Remain in bond for 24 cycles. 0010b - Remain in bond for 32 cycles. 0011b - Remain in bond for 48 cycles. 0100b - Remain in bond for 64 cycles. 0101b - Remain in bond for 96 cycles.                                                                                                                                                                                                                                                                                                                                                                                   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0110b - Remain in bond for 128 cycles. 0111b - Remain in bond for 192 cycles. 1000b - Remain in bond for 256 cycles. 1001b - Remain in bond for 384 cycles. 1010b - Remain in bond for 512 cycles. 1011b - Remain in bond for 768 cycles. 1100b - Remain in bond for 1024 cycles. 1101b - Remain in bond for 1536 cycles. 1110b - Remain in bond for 2048 cycles. 1111b - Remain in bond for 3072 cycles.                                                                                                                                                                                                                                                                                        |
| 9-4 -   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 3-0 VTC | Verify Timer Count 0000b - Remain in verify for 16 cycles. 0001b - Remain in verify for 24 cycles. 0010b - Remain in verify for 32 cycles. 0011b - Remain in verify for 48 cycles. 0100b - Remain in verify for 64 cycles. 0101b - Remain in verify for 96 cycles. 0110b - Remain in verify for 128 cycles. 0111b - Remain in verify for 192 cycles. 1000b - Remain in verify for 256 cycles. 1001b - Remain in verify for 384 cycles. 1010b - Remain in verify for 512 cycles. 1011b - Remain in verify for 768 cycles. 1100b - Remain in verify for 1024 cycles. 1101b - Remain in verify for 1536 cycles. 1110b - Remain in verify for 2048 cycles. 1111b - Remain in verify for 3072 cycles. |

Aurora Trace Port (ATP) Subsystem

## 79.3.10 LVDS TX IO Configuration (LVDSTX)

## Offset

| Register   | Offset   |
|------------|----------|
| LVDSTX     | 440h     |

## Function

This register controls the Aurora LVDS TX pads.

## Diagram

<!-- image -->

## Fields

| Field               | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-17 -             | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 16 PADS_TX_CON F_EN | PADS TX Configuration Enable Enables or disables the TX_CONFfield to select the transmitter output stage current drive. The value of this field defaults to 0 that uses the transmit configuration from the fuse. This value is configured in the chip for optimum settings. You may require to override the internal default settings on early silicon, or if settings other than the default are needed in special circumstances. 0b - PADS TX configuration disabled 1b - PADS TX configuration enabled |
| 15-12 TX_CONF       | LVDS PADS TX Control Configuration Controls the drive current of transmitter output. Each enabled bit of this field adds approximately 16% drive. Typically, a setting of 1100 generates a 10mA drive, which is optimal for impedance matching. Setting the current to too high can lead to a higher inter-symbol interference (ISI) and a low setting can lead to impedance mismatch or reflections. See the following table for bit settings and their corresponding ballpark values.                    |

Aurora Trace Port (ATP) Subsystem

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                                                     | Function                                                                                                                                                                                                                                                     |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              | Bit setting                                                                                                                                                                                                                                                  | Drive current                                                                                                                                                                                                                                                |
|              | 0000b                                                                                                                                                                                                                                                        | 7 mA                                                                                                                                                                                                                                                         |
|              | 1000b                                                                                                                                                                                                                                                        | 8.5 mA                                                                                                                                                                                                                                                       |
|              | 1100b                                                                                                                                                                                                                                                        | 10 mA                                                                                                                                                                                                                                                        |
|              | 1110b                                                                                                                                                                                                                                                        | 11.5 mA                                                                                                                                                                                                                                                      |
|              | 1111b                                                                                                                                                                                                                                                        | 13 mA                                                                                                                                                                                                                                                        |
| 11-8 -       | Reserved                                                                                                                                                                                                                                                     | Reserved                                                                                                                                                                                                                                                     |
| 7 -          | Reserved                                                                                                                                                                                                                                                     | Reserved                                                                                                                                                                                                                                                     |
| 6-5 PREMPH   | Pre-Emphasis Configuration If enabled, adds up to 3 dB gain in differential swing, with 11b being the highest gain setting. However, in addition to increasing the differential signal height, the signal jitter could increase by approximately 5 to 10 ps. | Pre-Emphasis Configuration If enabled, adds up to 3 dB gain in differential swing, with 11b being the highest gain setting. However, in addition to increasing the differential signal height, the signal jitter could increase by approximately 5 to 10 ps. |
| 4-3 -        | Reserved                                                                                                                                                                                                                                                     | Reserved                                                                                                                                                                                                                                                     |
| 2 TX_TREF_EN | TX LVDS Termination Reference Enable This field enables the internal 100  termination. 0b - Disable 1b - Enable                                                                                                                                             | TX LVDS Termination Reference Enable This field enables the internal 100  termination. 0b - Disable 1b - Enable                                                                                                                                             |
| 1 CREF_EN    | Current Reference Enable This field enables the current reference control signal. 0b - Disable 1b - Enable                                                                                                                                                   | Current Reference Enable This field enables the current reference control signal. 0b - Disable 1b - Enable                                                                                                                                                   |
| 0 TXAMODE    | TX Aurora pad mode enable 0b - Disable 1b - Enable                                                                                                                                                                                                           | TX Aurora pad mode enable 0b - Disable 1b - Enable                                                                                                                                                                                                           |

Aurora Trace Port (ATP) Subsystem

## 79.3.11 LVDS RX IO Configuration (LVDSRX)

## Offset

| Register   | Offset   |
|------------|----------|
| LVDSRX     | 444h     |

## Function

This register has configuration details of the LVDS Receiver to receive the Aurora PLL reference clock from an external source.

## Diagram

<!-- image -->

## Fields

| Field         | Function                                                                                                                          |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------|
| 31-17 -       | Reserved                                                                                                                          |
| 16 RX_TREF_EN | RX LVDS Termination Reference Enable This field enables the internal 100  termination. 0b - Disable 1b - Enable                  |
| 15-4 -        | Reserved                                                                                                                          |
| 3 RXCB        | RX LVDS Current Boost This field is set to boost RX IO current. 0b - Current reference is 100 A. 1b - Current reference is 1 mA. |
| 2             | Reserved                                                                                                                          |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

Table continued from the previous page...

| Field   | Function              |
|---------|-----------------------|
| -       |                       |
| 1       | RX Input Clock Enable |
| 0       | Reserved              |

## 79.3.12 LVDS TX OBE Configuration (LVDSTXOBE)

## Offset

| Register   | Offset   |
|------------|----------|
| LVDSTXOBE  | 448h     |

## Function

This register controls the Aurora LVDS TX pads Output Buffer Enable.

## Diagram

<!-- image -->

## Fields

| Field   | Function                             |
|---------|--------------------------------------|
| 31-4    | Reserved                             |
| 3       | TX-3 Aurora pad output buffer enable |
| OBETX3  | 0b - Disable                         |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                      |
|----------|---------------------------------------------------------------|
|          | 1b - Enable                                                   |
| 2 OBETX2 | TX-2 Aurora pad output buffer enable 0b - Disable 1b - Enable |
| 1 OBETX1 | TX-1 Aurora pad output buffer enable 0b - Disable 1b - Enable |
| 0 OBETX0 | TX-0 Aurora pad output buffer enable 0b - Disable 1b - Enable |

## 79.3.13 CIA Control (CIAC)

## Offset

| Register   | Offset   |
|------------|----------|
| CIAC       | 480h     |

## Function

This register contains control and status fields for the CoreSight Interface Adaptor.

## Diagram

<!-- image -->

## Fields

| Field                | Function                                                                                                                         |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -              | Reserved                                                                                                                         |
| 29 TPIU_CLK_DIS ABLE | TPIU clock disable Disables the TPIU clock (Mux output of FIRC and AURORA_CLK clock) 0b - Enable 1b - Disable                    |
| 28 TPIU_CLK_SEL      | TPIU clock mux select signal It selects the clock between FIRC and AURORA_CLK to feed TPIU. 0b - FIRC 1b - AURORA_CLK clock      |
| 27-16 -              | Reserved                                                                                                                         |
| 15-14 -              | Reserved                                                                                                                         |
| 13-10 -              | Reserved                                                                                                                         |
| 9 DBYTER             | TPIU data bytes is reversed 0b - Disable byte reversal 1b - Enable byte reversal                                                 |
| 8 DBITR              | TPIU data bit reversal in a byte selection. 0b - Disable bit reversal 1b - Enable bit reversal                                   |
| 7 -                  | Reserved                                                                                                                         |
| 6-4 TPIUCM           | TPIU Control Mode 000b - Continuous and format mode. 001b - Normal mode. Only trace data is captured. 111b - Trace disable mode. |
| 3-0 NUM_LANE         | Number of Aurora Lanes Sets the number of Aurora lanes.                                                                          |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                           |
|---------|----------------------------------------------------|
|         | 0000b - 0 Lanes. 0010b - 2 Lanes. 0100b - 4 Lanes. |

## 79.3.14 Aurora Trace Port Enable (ATPE)

## Offset

| Register   | Offset   |
|------------|----------|
| ATPE       | 488h     |

## Function

This register enables the ATP.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                          |
|----------|---------------------------------------------------|
| 31-2 -   | Reserved                                          |
| 1 APHYEN | Aurora PHY Enable 0-AP Disable 1-AP Enable        |
| 0 ATPEN  | Aurora Trace Port Enable 0b - Disable 1b - Enable |

## 79.3.15 Integration Mode Control (ITCTRL)

## Offset

| Register   | Offset   |
|------------|----------|
| ITCTRL     | F00h     |

## Function

This register indicates the status of the Arm Integration Mode Control Register.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                |
|---------|-------------------------------------------------------------------------|
| 31-1    | Reserved                                                                |
| -       |                                                                         |
| 0       | The bit field is always 0 indicating ATP only supports functional mode. |
| IME     |                                                                         |

## 79.3.16 Claim Tag Set (CLAIMSET)

## Offset

| Register   | Offset   |
|------------|----------|
| CLAIMSET   | FA0h     |

## Function

This register indicates the status of the Arm Claim Tag Set Register.

Aurora Trace Port (ATP) Subsystem

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  | SET  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                       |
|---------|----------------------------------------------------------------|
| 31-0    | This field is always 0 indicating no claim tag is implemented. |
| SET     |                                                                |

## 79.3.17 Claim Tag Clear (CLAIMCLR)

## Offset

| Register   | Offset   |
|------------|----------|
| CLAIMCLR   | FA4h     |

## Function

This register indicates the status of the Arm Claim Tag Clear Register.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  | CLR  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

Aurora Trace Port (ATP) Subsystem

## Fields

| Field   | Function                                                  |
|---------|-----------------------------------------------------------|
| 31-0    | This field is always 0 indicating no effect on claim tag. |
| CLR     |                                                           |

## 79.3.18 Device Affinity 0 (DEVAFF0)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVAFF0    | FA8h     |

## Function

This register indicates the status of the Arm Device Affinity Register 0. This register enables a debugger to determine if two components have an affinity with each other.

## Diagram

<!-- image -->

## Fields

| Field   | Function                           |
|---------|------------------------------------|
| 31-0    | Value of this field is set to 24h. |
| DEVAFF0 |                                    |

## 79.3.19 Device Affinity 1 (DEVAFF1)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVAFF1    | FACh     |

## Function

Aurora Trace Port (ATP) Subsystem

This register indicates the status of the Arm Device Affinity Register 1. This register enables a debugger to determine if two components have an affinity with each other.

## Diagram

<!-- image -->

## Fields

| Field   | Function                           |
|---------|------------------------------------|
| 31-0    | Value of this field is set to 24h. |
| DEVAFF1 |                                    |

## 79.3.20 Lock Access Register (LAR)

## Offset

| Register   | Offset   |
|------------|----------|
| LAR        | FB0h     |

## Function

This register is used to enable write access to device registers. A write of C5ACCE55h to this register enables further write access to this device. An invalid write has the affect of removing write access. This is applicable only for core access. For debug mode this is invalid. This is write only register.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  | KEY  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0    | The value of this register must match with the expected key when the most significant bit of address is 0 (core access). Then writes are enabled for the other registers. In debug mode (most significant bit of address is 1), this key comparison is ignored and full write access is permitted. |
| KEY     |                                                                                                                                                                                                                                                                                                    |

## 79.3.21 Lock Status Register (LSR)

## Offset

| Register   | Offset   |
|------------|----------|
| LSR        | FB4h     |

## Function

This register indicates the status of the Arm Lock Status Register.

## Diagram

<!-- image -->

Aurora Trace Port (ATP) Subsystem

## Fields

| Field   | Function                                                                                                                                                                                 |
|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-3 -  | Reserved                                                                                                                                                                                 |
| 2 nTT   | Register size indicator. Always 0. Indicates that the LAR is implemented as 32-bit.                                                                                                      |
| 1 SLK   | Software Lock Status. Returns the present lock status of the device. 0b - Lock matched and write operations are permitted. 1b - Lock not matched and write operations are not permitted. |
| 0 SLI   | This field is always 1 and indicates that Software Lock control mechanism exists for this device.                                                                                        |

## 79.3.22 Authentication Status (AUTHSTATUS)

## Offset

| Register   | Offset   |
|------------|----------|
| AUTHSTATUS | FB8h     |

## Function

This register indicates the status of the Arm Authentication Status Register.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-8    | Reserved   |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

Table continued from the previous page...

| Field      | Function                                                                                    |
|------------|---------------------------------------------------------------------------------------------|
| -          |                                                                                             |
| 7-0        | This field is always 0, indicating that debug level authentication status is not supported. |
| AUTHSTATUS |                                                                                             |

## 79.3.23 Device Architecture (DEVARCH)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVARCH    | FBCh     |

## Function

This register indicates the status of the Arm Device Architecture Register.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20       | 19     | 18       | 17       | 16       |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|----------|--------|----------|----------|----------|
| R      | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | ARCHITECT | PRES ENT |        | REVISION | REVISION | REVISION |
| W      |           |           |           |           |           |           |           |           |           |           |           |          |        |          |          |          |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 1         | 1         | 1         | 0         | 1        | 0      | 0        | 0        | 0        |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4        | 3      | 2        | 1        | 0        |
| R      | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID    | ARCHID   | ARCHID | ARCHID   | ARCHID   | ARCHID   |
| W      |           |           |           |           |           |           |           |           |           |           |           |          |        |          |          |          |
| Reset  | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 0         | 1         | 0        | 0      | 1        | 0        | 0        |

## Fields

| Field           | Function                                                                          |
|-----------------|-----------------------------------------------------------------------------------|
| 31-21 ARCHITECT | Defines the architect of the component.                                           |
| 20              | Indicates the presence of this register.                                          |
| PRESENT         | This field always returns 1 which indicates that the DEVARCH register is present. |
| 19-16           | Architecture revision                                                             |
| REVISION        | Returns the revision of the architecture that the ARCHID field specifies.         |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                           |
|---------|--------------------------------------------------------------------|
| 15-0    | Architecture ID                                                    |
| ARCHID  | Returns a value that identifies the architecture of the component. |

## 79.3.24 Device Configuration 2 (DEVID2)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVID2     | FC0h     |

## Function

This register indicates the status of the Arm Device Configuration Register 2.

<!-- image -->

## Fields

| Field   | Function                            |
|---------|-------------------------------------|
| 31-0    | The value of the field is always 0. |
| DEVID2  |                                     |

## 79.3.25 Device Configuration 1 (DEVID1)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVID1     | FC4h     |

## Function

This register indicates the status of the Arm Device Configuration Register 1.

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R      | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R      | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 | DEVID1 |
| W      |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field   | Function                            |
|---------|-------------------------------------|
| 31-0    | The value of the field is always 0. |
| DEVID1  |                                     |

## 79.3.26 Device Configuration (DEVID)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVID      | FC8h     |

## Function

This register indicates the status of the Arm Device Configuration Register.

## Diagram

<!-- image -->

| Bits   | 31    | 30    | 29    | 28    | 27    | 26    | 25    | 24    | 23    | 22    | 21    | 20    | 19    | 18    | 17    | 16    |
|--------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|-------|
| R      | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |
| Bits   | 15    | 14    | 13    | 12    | 11    | 10    | 9     | 8     | 7     | 6     | 5     | 4     | 3     | 2     | 1     | 0     |
| R      | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID | DEVID |
| W      |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |       |
| Reset  | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     | 0     |

Aurora Trace Port (ATP) Subsystem

## Fields

| Field   | Function                            |
|---------|-------------------------------------|
| 31-0    | The value of the field is always 0. |
| DEVID   |                                     |

## 79.3.27 Device Type Identifier (DEVTYPE)

## Offset

| Register   | Offset   |
|------------|----------|
| DEVTYPE    | FCCh     |

## Function

This register indicates the status of the Arm Device Type Identifier Register.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                 |
|---------|--------------------------------------------------------------------------|
| 31-8    | Reserved                                                                 |
| -       |                                                                          |
| 7-4     | Sub Type                                                                 |
| SUB     | This field is always 0001b which indicates the major type is Trace Port. |
| 3-0     | Major Type                                                               |
| MAJOR   | This field is always 0001b which indicates the major type is Trace Sink. |

Aurora Trace Port (ATP) Subsystem

## 79.3.28 Peripheral Identification Register 4 (PIDR4)

## Offset

| Register   | Offset   |
|------------|----------|
| PIDR4      | FD0h     |

## Function

This register indicates the status of the Arm Peripheral Identification Register 4.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    |          |          |          |          |          |          |          | Reserved |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0 0      |          | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12 11    |          | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | SIZE     | DES_2    | DES_2    | DES_2    | DES_2    |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field   | Function                                                                                                                                                                                            |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-8    | Reserved                                                                                                                                                                                            |
| -       |                                                                                                                                                                                                     |
| 7-4     | 4KB Count                                                                                                                                                                                           |
| SIZE    | This field indicates the total contiguous size of the memory window used by this component in powers of 2 from the standard 4 KB. This field is always 0 which indicates the memory window is 4 KB. |
| 3-0     | JEP106 Continuation Code                                                                                                                                                                            |
| DES_2   | This field is always 0.                                                                                                                                                                             |

## 79.3.29 Peripheral Identification Register 0 (PIDR0)

## Offset

| Register   | Offset   |
|------------|----------|
| PIDR0      | FE0h     |

## Function

This register indicates the status of the Arm Peripheral Identification Register 0.

Aurora Trace Port (ATP) Subsystem

## Diagram

Aurora Trace Port (ATP) Subsystem

<!-- image -->

## Fields

| Field   | Function                  |
|---------|---------------------------|
| 31-8    | Reserved                  |
| -       |                           |
| 7-0     | Part number, bits[7:0]    |
| PART_0  | This field is always 14h. |

## 79.3.30 Peripheral Identification Register 1 (PIDR1)

## Offset

| Register   | Offset   |
|------------|----------|
| PIDR1      | FE4h     |

## Function

This register indicates the status of the Arm Peripheral Identification Register 1.

## Diagram

<!-- image -->

## Fields

| Field   | Function                              |
|---------|---------------------------------------|
| 31-8    | Reserved                              |
| -       |                                       |
| 7-4     | JEP106 identification code, bits[3:0] |
| DES_0   | This field is always Eh.              |
| 3-0     | Part number, bits[11:8]               |
| PART_1  | This field is always Ah.              |

## 79.3.31 Peripheral Identification Register 2 (PIDR2)

## Offset

| Register   | Offset   |
|------------|----------|
| PIDR2      | FE8h     |

## Function

This register indicates the status of the Arm Peripheral Identification Register 2.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19    | 18    | 17    | 16    |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|-------|-------|-------|-------|
| R W    |          |          |          |          |          |          |          | Reserved |          |          |          |          |       |       |       |       |
| Reset  | 0        | 0        | 0        | 0 0      |          | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0     | 0     | 0     | 0     |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3     | 2     | 1     | 0     |
| R      | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | REVISION | JEDEC | DES_1 | DES_1 | DES_1 |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |       |       |       |       |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 1     | 0     | 0     | 0     |

## Fields

| Field    | Function                |
|----------|-------------------------|
| 31-8     | Reserved                |
| 7-4      | Revision                |
| REVISION | This field is always 0. |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

Table continued from the previous page...

| Field   | Function                                                                    |
|---------|-----------------------------------------------------------------------------|
| 3       | This bit is always set which indicates that a JEDEC assigned value is used. |
| JEDEC   |                                                                             |
| 2-0     | JEP106 identification code, bits[6:4]                                       |
| DES_1   | This field is always 0h.                                                    |

## 79.3.32 Peripheral Identification Register 3 (PIDR3)

## Offset

| Register   | Offset   |
|------------|----------|
| PIDR3      | FECh     |

## Function

This register indicates the status of the Arm Peripheral Identification Register 3.

<!-- image -->

## Fields

| Field   | Function                |
|---------|-------------------------|
| 31-8    | Reserved                |
| -       |                         |
| 7-4     | Customer Modified       |
| CMOD    | This field is always 0. |
| 3-0     | RevAnd                  |
| REVAND  | This field is always 0. |

## 79.3.33 Component Identification Register 0 (CIDR0)

## Offset

| Register   | Offset   |
|------------|----------|
| CIDR0      | FF0h     |

## Function

This register indicates the status of the Arm Component Identification Register 0.

## Diagram

<!-- image -->

## Fields

| Field   | Function                  |
|---------|---------------------------|
| 31-8    | Reserved                  |
| -       |                           |
| 7-0     | Preamble                  |
| PRMBL_0 | This field is always 0Dh. |

## 79.3.34 Component Identification Register 1 (CIDR1)

## Offset

| Register   | Offset   |
|------------|----------|
| CIDR1      | FF4h     |

## Function

This register indicates the status of the Arm Component Identification Register 1.

Aurora Trace Port (ATP) Subsystem

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19      | 18      | 17      | 16      |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|---------|---------|---------|---------|
| R W    |          |          |          |          |          |          |          | Reserved |          |          |          |          |         |         |         |         |
| Reset  | 0        | 0        | 0        | 0 0      | 0        |          | 0        | 0        | 0        | 0        | 0        | 0        | 0       | 0       | 0       | 0       |
| Bits   | 15       | 14       | 13       | 12 11    |          | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3       | 2       | 1       | 0       |
| R      | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | CLASS    | PRMBL_1 | PRMBL_1 | PRMBL_1 | PRMBL_1 |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |         |         |         |         |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 1       | 0       | 0       | 1       |

## Fields

| Field   | Function                                                                  |
|---------|---------------------------------------------------------------------------|
| 31-8    | Reserved                                                                  |
| -       |                                                                           |
| 7-4     | Component class                                                           |
| CLASS   | This field is always 0h which indicates a generic verification component. |
| 3-0     | Preamble                                                                  |
| PRMBL_1 | This field is always 9h.                                                  |

## 79.3.35 Component Identification Register 2 (CIDR2)

## Offset

| Register   | Offset   |
|------------|----------|
| CIDR2      | FF8h     |

## Function

This register indicates the status of the Arm Component Identification Register 2.

Aurora Trace Port (ATP) Subsystem

## Diagram

Aurora Trace Port (ATP) Subsystem

<!-- image -->

## Fields

| Field   | Function                  |
|---------|---------------------------|
| 31-8    | Reserved                  |
| 7-0     | Preamble                  |
| PRMBL_2 | This field is always 05h. |

## 79.3.36 Component Identification Register 3 (CIDR3)

## Offset

| Register   | Offset   |
|------------|----------|
| CIDR3      | FFCh     |

## Function

This register indicates the status of the Arm Component Identification Register 3.

## Diagram

<!-- image -->

## Fields

| Field   | Function                  |
|---------|---------------------------|
| 31-8    | Reserved                  |
| 7-0     | Preamble                  |
| PRMBL_3 | This field is always B1h. |

## 79.4 Functional description

## 79.4.1 CoreSight interface adaptor

The trace input interface to the ATP matches the output signals from the TPIU. The CoreSight Interface Adaptor (CIA) receives the data in TPIU standard format and stores it in an internal FIFO. The FIFO stored data is formatted as per the Aurora protocol and sent to AL.

The CIA consist of the logic to establish the connection between the TPIU and the AL. The CIA includes TPIU interface, buffer, AL formatter, APB to IPS conversion, memory mapping and configurations.

## 79.4.1.1 CIA functional blocks

The CIA consists of five functional modules:

- TPIU interface module
- Buffer management module
- AL interface module
- Register configuration module
- Clock gating module

The CIA block level overview and interface are shown in the following figure.

<!-- image -->

The CIA block supports bit/byte reversal feature. CIAC[DBYTER] and CIAC[DBITR] are used in conjunction to implement the reversal feature as specified in the following table.

## Table 689. Reversal feature

|   DBITR |   DBYTER | output_DATA (31:0)                    |
|---------|----------|---------------------------------------|
|       1 |        0 | TPIU_DATA - (24:31)(16:23)(8:15)(0:7) |

Table continues on the next page...

Aurora Trace Port (ATP) Subsystem

## Table 689. Reversal feature (continued)

| DBITR                       | DBYTER   | output_DATA (31:0)                    |
|-----------------------------|----------|---------------------------------------|
| 1                           | 1        | TPIU_DATA - (0:7)(8:15)(16:23)(24:31) |
| 0                           | 1        | TPIU_DATA - (7:0)(15:8)(23:16)(31:24) |
| For rest of the combination |          | TPIU_DATA (31:0)                      |

If TPIU\_DATA (31:0) is input data from TPIU to ATP, then output\_DATA (31:0) is output to the pads.

## 79.4.1.2 TPIU interface module

TPIU Interface Module (TIM) interfaces with Arm-TPIU, takes the data, and sends it to a buffer. TPIU trace clock input (TRACECLKIN) is provided by CIA clock gating module. Trace data is collected by considering gated clock and clock enable. As per TPIU configuration, each clock is provided by gated clock. TPIU gives 32-bit data on negative edge of the clock provide by CIA clock gating module. The data is sampled with the continuous 500 MHz clock. TIM takes 32-bit data and every alternate clock cycle of enable, it combines the data to make a 64-bit block of data. TIM generates write enable pulse of one clock period and gives the enable pulse to buffer management module. The buffer management module writes this data into the FIFO.

## 79.4.1.3 Buffer management module

Buffer Management Module (BMM) maintains the CIA FIFO and generates the signals related to AL internal FIFO. CIA FIFO receives the data and write enable signal from TPIU interface module and read enable and read data from AL interface module, these modules consider full and empty status flags before generating corresponding signals. AL FIFO status is maintained based on 8-credit flow, it increments with tx\_valid generated by NIM and decrements with data\_accept which is given by AL as received data acknowledgement.

## 79.4.1.4 AL interface module

AL Interface Module (AIM) interfaces with AL IP. AIM takes data from buffer management module and converts it into an AL compatible format and passes it to AL. AIM continuously polls the AL ready signal and whenever the AL is ready, AIM sends data and corresponding tx\_valid signal. Before sending valid pulse, AIM reads data from FIFO and sends FIFO read pulse. To generate this AIM needs to satisfy these conditions:

- AL Aurora ready signal should be active.
- AL 8-credit FIFO should not be in almost full condition.
- CIA 8 depth internal FIFO should not be in almost empty condition.

These FIFO signals are managed by buffer management module. Ready and data accept signals are directly received from AL. It also generated start of the frame SOF and end of the frame EOF signals based on the Aurora frame length configured by user. It is programmable up to 8192.

## 79.4.1.5 Register configuration module

CIA module manages the register configuration required for ATP. It configure the registers of AL, AP, PLL and PADS. To configure these registers, CIA has APB interface. It takes the data over APB, then it convert the APB signals to IPS format. It decodes the corresponding register value from IPS interface and then it gives the value to the corresponding IP port.

## 79.4.1.6 Clock gating module

CIA interact with the Arm-TPIU in the SOC Arm debug infrastructure. TPIU uses 32-bit wide data path to send data to CIA. CIA provides 500 MHz gated clock to TPIU-TRACECLKIN port, same is used by TPIU to send the data. This clock is the output of clock gate (CG). This clock gating is required to back pressure TPIU as it does not have any control signals or mechanism to control the TPIU output data. To avoid the data loss of TPIU, the TRACECLKIN clock throttling implemented by non-continuous trace clock to Arm-TPIU.

Aurora Trace Port (ATP) Subsystem

<!-- image -->

This clock gating is implemented when the CG override and CG by-pass are not active. If CG override is active, then the 500 MHz clock in not gated, and is continuously given to TPIU.

## 79.4.2 Aurora link

The Aurora Link (AL) consists of the logic required for Aurora protocol 8B/10B and to implement the connection up to the physical-layer SerDes and transceivers. The AL includes Aurora control and data multiplexing, data-encoding and striping, and the Physical Coding Sublayer (PCS) portion of the protocol. The following figure details the AL flow:

- Debug data in the frame format from multiple clients is collected by the TPIU.
- Debug data is framed by CIA as per AL requirement.
- Messages are packetized and sent across an asynchronous clock boundary-crossing gasket to the Aurora Protocol Engine (APE), which performs all the logical layer functions and flow control.
- Data from the APE is sent on to the Aurora Lane Control (ALC) block, which performs data-striping and sizing, based on the number of lanes selected for debug. The number of lanes for the AL is configurable as 0, 2 or 4 lanes.
- ALC also performs the PCS functions of the link. The PCS drives the Aurora Physical (AP) interface. The AP, in conjunction with the AL, supports one-way simplex high-speed serial communication with an external debugger.

<!-- image -->

## 79.4.2.1 AL functional blocks

During normal operation, the CIA reads data from TPIU and pushes data into the AL at a sufficiently high rate to ensure that the link does not become data-starved even in its highest-bandwidth configuration (4 lanes operating at 5 GHz). The AL three main blocks then perform the buffering, domain-crossing, data-packaging, and protocol translations to prepare the data stream for transmission through the AP. The work is divided as follows:

- CIA Interface (AG): The CIA and Aurora Gasket use a credit/debit interface to send data over a (possibly) multiple-stage connection, with the CIA pushing data out whenever possible and the gasket informing the CIA whenever it makes space available.

Aurora Trace Port (ATP) Subsystem

- Platform/AP Domain Crossing (AG): The logic on the AP side of the link is synchronous with the AP block and clocked by the Aurora PLL transmit/receive clocks, when the logic on the CIA side is on the platform clock domain. The AG performs this domain crossing in both directions.
- Link Training (APE): The core contains the state machines and timers that control the link training procedure.
- Aurora Protocol Engine (APE): As described in the Aurora Protocol specification, native flow-control (NFC), clockcompensation, and data framing are performed by the Aurora core.
- Cyclic Redundancy Check (APE): The core performs the CRC encoding/decoding on each transmitted/received frame.
- Data Striping (ALC): The ALC stripes the data stream from the Aurora core across all available lanes in two-byte chunks. This requires resizing and repackaging the data based on the debug port configuration.
- Channel Bonding (ALC): As part of the training procedure, the ALC aligns the data streams from different lanes to ensure that the received data stream is correctly aligned across the lanes.
- 8B/10B encoding/decoding (ALC): The protocol converter contains the 8B/10B encode and decode engines for the PCS layer of the three protocols.
- Receive data elastic buffer (ALC): The protocol converter buffers the raw incoming data stream.
- Data Alignment (ALC): As part of the training procedure, the incoming serial data stream must be partitioned into discrete characters. The protocol converter determines where the character boundary is and aligns each lane accordingly. The AL supports 2 and 4 TX lane configurations.

## 79.4.2.2 AL link training

The Aurora link training procedure is divided into three stages:

Table 690. Aurora link training stages

| Stage                | Description                                                                                                                                                                                                                                        |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Lane alignment       | Each transmitter sends a sequence consisting of data and comma characters. The receive side must analyze the incoming serial data stream and determine the character boundaries by attempting to detect commas.                                    |
| Channel bonding      | Each transmitter simultaneously sends a series of idle sequences, which include the /A/ character. The receive side checks to see if it sees the /A/ on every lane on the same cycle, skewing the lanes as necessary to bring them into alignment. |
| Channel verification | Each transmitter simultaneously sends the verification sequence (/V/) on all lanes, imbedded in a series of idles. If the receive side detects the sequence on all lanes at the same cycle, the channel is brought up.                             |

## 79.4.2.3 AL static training

The AL only supports static training. The AL performs static training using programmable timers to determine how long to stay in each stage of the training process. There is no communication between the channel partners as to training status. Rather each partner sends the align/bond/verify sequence for a set amount of time that it is assumes is sufficient for the receive side to complete the training stage.

To enable static training, program the counters in the AL Training Control (ALTC)) and then set the STE bit. This resets the channel and initiates the training routine. The time spent in each stage can range from 16 to 3072 cycles. When a counter times out, a counter timeout signal is asserted to the APE to prompt it to move to the next stage.

Additionally, it is possible to hold the training procedure in any of the stages indefinitely, by setting one of the three hold bits (AHD/BHD/VHD). When set, these bits cause the channel to stay in align, bond, or verify until unset. This allows a user to interactively step through the training procedure by monitoring the status at the debugger side and then stepping the SOC side to the next stage.

Aurora Trace Port (ATP) Subsystem

During the Aurora training sequence, the AL generates a specific set of character sequences per the Aurora protocol specification which are to be transmitted simultaneously on all lanes.

## 79.4.2.4 AL transmission procedure

The CIA generates user protocol data units (PDU) to form a frame of data. The boundaries of the frame are indicated by assertion of SOF and EOF signals. The frame of data is transmitted on the Aurora channel as a channel PDU according to the following procedure:

- CRC calculation
- Padding
- Encapsulation with channel PDU delimiters
- Clock compensation

The AL calculates CRC for each frame of data according to the CRC-16 polynomial:

## G(x) = x 16  + x 15  + x 2  + 1

When enabled, two octets of CRC information are inserted into each frame.

The Aurora channel requires that all transmissions contain an even number of symbols. In this implementation, the data is generated 8 bytes at a time and the CRC information is encoded into two bytes, therefore padding is unnecessary. Padding is therefore not supported by the APE for transmission. Received data, however, may contain pad characters and the APE processes them according to the protocol specification.

After the CRC octets are added, the frame is encapsulated with ordered sets which delimit the beginning and end of the channel PDU for identification by the channel partner. The SCP and ECP ordered sets are used to indicate start-of-channel and end-of-channel, respectively. If more than 7424 symbol pairs have been sent after the last clock compensation sequence, a new clock compensation sequence is immediately inserted into the data flow. A clock compensation sequence consists of 12 pairs of the /CC/ ordered set, and its periodic insertion allows the AL to tolerate small clock rate-differences between the transmitter and receiver.

<!-- image -->

## 79.4.2.5 AL clock compensation considerations

The Aurora Protocol specification describes clock compensation as a means for the link to compensate for clock rate differences between the transmitter and receiver. The specification requires that a clock compensation be inserted at a minimum every 10,000 symbol pairs. This allows the link to accommodate up to a 200 ppm difference in clock rates. The ALGC[CCOEN] field sets the default clock compensation time-out at 7424 cycles. However, due to the fact that the AL is restricted to only inserting clock compensation sequences after an end-of-frame, it may not be possible to always meet the Aurora specification requirement.

Aurora Trace Port (ATP) Subsystem

Because the CIA always operates in framed mode, there is one scenario that can prevent an adequate number of clock compensation sequences from being generated: the sparse data case. In the sparse data case, there are long periods of time when no data is flowing through the link; no data means no frames. The AL could end up transmitting idles for an undetermined number of cycles when waiting for the CIA to provide new data. However, a user can get around this problem by insuring that the CIA always has at least some minimal amount of data to send. In extreme sparse data cases where clock compensation is required, the receiver could reset the CIA or use a periodic watchpoint to force data transmission, and therefore force and end-of-frame to complete clock compensation.

## 79.4.3 Aurora PHY

The Aurora PHY (AP), in conjunction with the AL, supports one way simplex high-speed serial communication with an external debugger. Configuration settings in the ATP configuration register specify the AP and AL lane configuration. The AL performs all logical layer functions, flow control, data-striping and sizing based on the number of data lanes available for use, and physical coding sublayer functions on the data being sent to the AP for transmission. The AP receives 8B/10B encoded data from the AL then serializes and transmits this data through a given PHY lane's Low Voltage Differential Signaling (LVDS) buffers to an external debugger.

Each AP lane consists of a data symbol character accumulator which registers the 10-bit character for that lane from the AL on the rising edge of the AL clock (AL clock = AURORA\_CLK / 10). Next, a serializer takes the 10-bit character and serializes it into the individual data bits that are then transmitted at the PHY clock rate via the LVDS output drivers to the external debugger receive channel.

On the receive side of the external debugger, it is the responsibility of the external debugger to perform elastic buffering, symbol detection, symbol locking (called lane alignment in Aurora terminology), 10b/8b decoding, decode and disparity error tracking in the received data stream.

## 79.4.3.1 AP modes of operation

The operating mode of the AP is determined by the device control signals. Functional operation is enabled by the CIA.

Table 691. AP modes of operation

| Mode          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Reset         | During Reset all internal AP resources are reset, all output ports are disabled, and all inputs are ignored. Because there is no device clock domain logic in the AP itself, the AP is unaffected by device system reset. Depending on the AP configuration settings, the AP may activate upon exiting Reset if any Aurora lanes are enabled during this reset mode, else it remains disabled and inactive.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Link training | Before beginning trace output mode operation, the AL must go through a training process to ensure that an external debugger can correctly reconstruct the transmitted data stream. Training proceeds after the link powers up, and must complete successfully before data transmission can occur. The ALinitializes and trains the Aurora link in a simplex configuration using a timer based static-training method. The initialization and training sequence described in Aurora Protocol Specification progresses from one step to the next via the use of programmable timers contained in the AL. A timer is programmed for each stage of training and as each timer expires, the training sequence proceeds to the next stage until complete. The AP is not directly aware of the link training operation, because it merely transmits the data presented to it by the AL. |
| Transmit      | During trace output operation, it is the responsibility of the CIA to push data into the AL at a sufficiently high rate to ensure that the link does not become data-starved. The AL and AP support up to four transmit lanes. The Aurora encapsulated data is modified by the AL to ensure the appropriate number of symbols are transmitted through the AP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

## 79.4.3.2 AP functional blocks

High-level descriptions of the operation of the AP and its main functional blocks are given in the following table.

Table 692. AP functional blocks

| Block                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Data symbol character accumulator | The data symbol character accumulator portion of the AP for each lane is made up of a symbol character register whose inputs are connected to the 10-bit AL character bus. The data symbol character accumulator essentially registers a 10-bit character for that lane simultaneous with the rising edge of the AL clock and presents the 10-bit quantity to the serializer at the appropriate times.                                                                                                             |
| Serializer                        | The serializer portion of the AP for each lane takes the data captured by that lane's data symbol character accumulator and demuxes the data to provide a single serial stream of symbol data to be output by the LVDS LO buffer for that lane at the PHY clock rate. Figure 640 shows a high level timing diagram that demonstrates the operation of the serializer for a AP lane, where S0 - S9 represents a 10-bit symbol, S10 - S19 represent the next symbol, and so on. The 5 GHz pll_clk is the AURORA_CLK. |

<!-- image -->

## 79.4.4 Aurora PLL

The Aurora PLL module provides the clocks required for ATP subsystem. The overall clock flow of ATP using Aurora PLL is shown in the following figure.

Figure 641. ATP clock flow functional block diagram

<!-- image -->

Aurora Trace Port (ATP) Subsystem

## 79.4.4.1 PLL clock configuration

See the following figures and the corresponding register configuration that determine the relationship between VCO frequency ( f VCO) and PLL reference frequency.

- When PLLDIV[RDIV] is 0:

<!-- formula-not-decoded -->

Figure 642. PLL VCO frequency when PLLDIV[RDIV] is 0

- When PLLDV[RDIV] is not 0:

<!-- formula-not-decoded -->

Figure 643. PLL VCO frequency when PLLDIV[RDIV] is not 0

See the following figure and the corresponding register configuration that determine the relationship between reference and PLL\_PHIn output frequencies.

<!-- formula-not-decoded -->

Figure 644. PLL PHI output frequency

When configuring the PLL, user software must not violate the maximum system clock frequency or max/min VCO frequency specification of the PLL (see this chip's data sheet for frequency limits).

NOTE

The PLL must be disabled by writing PLLC[PLLPD] = 1 before any PLL configuration or input clock are modified.

NOTE

The PLL must be disabled by writing PLLC[PLLPD] = 1 for at least 5 s before enabling the PLL (writing PLLC[PLLPD] = 0).

The recommended procedure to program the PLL and engage normal mode is shown in Initialization sequence.

## 79.5 Initialization sequence

The ATP initialization sequence is described as follows:

1. Aurora IO configuration:
- a. Configure the ATP lock key: Write C5AC\_CE55h to LAR[KEY] in core access mode only.
- b. Write 1 to LVDSRX[RXICE], LVDSRX[RXCB], and LVDSRX[RX\_TREF\_EN].

You must ensure that there is no termination on the PCB because Aurora is AC coupled.

- c. Write 1 to LVDSTX[TXAMODE] and LVDSTX[CREF\_EN].
- d. Wait for 1 s.
- e. Write 1 to LVDSTXOBE[OBETX1], LVDSTXOBE[OBETX2], LVDSTXOBE[OBETX3], and LVDSTX[TX\_TREF\_EN].

You must:

Aurora Trace Port (ATP) Subsystem

- Ensure that the aforementioned fields are enabled together.
- Avoid writing 1 to LVDSTX[TX\_TREF\_EN] and 0 to any of the OBETX fields of LVDS TX OBE Configuration (LVDSTXOBE).

This enables the source or dual termination scheme for LVDS Tx pads for a better jitter performance.

If the board design has losses and you have a smaller eye height, you can keep LVDSTX[TX\_TREF\_EN] = 0 to improve the eye height.

In case of high board loss, you can write 11b to LVDSTX[PREMPH] to get faster slew rates and increased eye height at the cost of additional power consumption.

2. Clock output to TPIU had been muxed with FIRC (after reset de-assertion) to complete auto-discovery. Before configuring PLL, switch from default FIRC clock to PLL output (PLL CLK/10). Steps to switch:
- a. Set CIA Control register bit[29] to 1b.
- b. Set CIA Control register bit[28] to 1b.
- c. Set CIA Control register bit[29] to 0b.
3. Aurora PLL configuration:
- a. Before configuring PLL, connect LVDS RX IO to 100MHz clock.
- b. Wait 6 s to reset the analog PLL.
- c. Configure PLL divider
- Configure PLL Divider (PLLDIV) Register: Address = 008h, Configure MFID, RDIV and ODIV1.
- Configure PLL Calibration 2 (PLLCAL\_2) Register: Address = 018h, Configure CALDPER.
- d. Configure PLL reference clock
- Configure PLL Clock MUX (PLLCKMUX): Address = 020h, Configure reference clock for PLL(REFCLKSEL).
- e. Configure PLL power down
- Configure PLL Control (PLLC) Register: Address = 000h, Configure PLLPD.
- f. Wait for PLL to lock
- Wait 150 s or
- Wait for PLL Status (PLLS) register: Address = 004h, LOCK Status bit set to 1b.
4. ATP CIA configuration:
- a. Configure CIA Control Registers
- Configure CIA Control (CIAC): Address = 480h, Configure number of lanes (NUM\_LANE) and TPIU Control mode (TPIUCM).
5. Aurora PHY configuration:
- a. Configure APHY enable
- Aurora Trace Port Enable (ATPE): Address = 488h: Configure Aurora PHY (APHYEN).
- Wait 1 s to complete training.

## NOTE

MISR calculations start four cycles after the APMISR[AP\_MISR\_START] time, and MISR calculations stop four cycles after the APMISR[AP\_MISR\_STOP] time.

6. Aurora Link configuration:
- a. Configure Aurora Link Control register

Aurora Trace Port (ATP) Subsystem

Aurora Trace Port (ATP) Subsystem

- Configure AL General Control (ALGC): Address = 308h, CRC Enable (CRCEN) and Clock Compensation Selection (CCOEN).
- In case of training failure, configure AL Training Control (ALTC): Address = 30Ch , AHD (Align), BHD (Bond) and VHD (Verify).
7. Aurora enable configuration:
- a. Configure ATP enable
- Aurora Trace Port Enable (ATPE): Address = 488h: Configure Aurora Trace Port Enable (ATPEN).

## Appendix A General Changes

## A.1 General changes

General changes

- Editorial changes
- Each new release of this document includes editorial improvements such as:
- Spelling
- Grammar
- Punctuation
- Voice
- Tense
- Capitalization
- Formatting
- Presentation
- Navigation
- Corrected End address and memory size entry for Start address 0x00\_2400\_0000 in Memory map excel sheet.
- Removed S32R41 specific topics from NoC chapter
- Corrected SEC3 and DED3 registers in OCOTP chapter.
- Removed CSTAT\_EXTn and OTP\_EXTn registers from CRC chapter as these registers are no supported on hardware.

## Appendix B Release notes

## B.1 About This Manual changes

No substantial content changes.

## B.2 Introduction changes

## B.3 Memory Map changes

No substantial content changes.

## B.4 Signal Description changes

No substantial content changes.

## B.5 Arm modules changes

No substantial content changes.

## B.6 NoC module changes

No substantial content changes.

## B.7 Ncore

## B.7.1 Chip-specific Ncore information changes

No substantial content changes.

## B.7.2 Ncore module changes

No substantial content changes.

## B.8 MSCM module changes

No substantial content changes.

## B.9 MCM module changes

No substantial content changes.

No substantial content changes.

## B.10 A53\_CLUSTER\_GPR module changes

No substantial content changes.

## B.11 CM7\_CLUSTER\_GPR module changes

No substantial content changes.

## B.12 Enhanced Direct Memory Access (eDMA)

## B.12.1 Chip-specific eDMA information changes

No substantial content changes.

## B.12.2 eDMA3 module changes

No substantial content changes.

## B.13 DMA\_CRC module changes

No substantial content changes.

## B.14 Direct Memory Access Multiplexer (DMAMUX)

## B.14.1 Chip-specific DMAMUX information changes

No substantial content changes.

## B.14.2 DMAMUX module changes

No substantial content changes.

## B.15 Extended Resource Domain Controller (XRDC)

## B.15.1 Chip-specific XRDC information changes

No substantial content changes.

## B.15.2 Chip-specific XRDC information changes

No substantial content changes.

## B.15.3 Chip-specific XRDC changes

No substantial content changes.

Release notes

## B.15.4 XRDC module changes

No substantial content changes.

## B.16 System Integration Unit Lite2 (SIUL2)

## B.16.1 Application Extension-Specific SIUL2 Changes

 In Table 56, added a footnote "For Mask set 1P77B."

## B.16.2 SIUL2 module changes

No substantial content changes.

## B.17 SEMA42 module changes

No substantial content changes.

## B.18 SRC module changes

No substantial content changes.

## B.19 S32G\_MAIN\_GPR module changes

No substantial content changes.

## B.20 S32G\_STDBY\_GPR module changes

No substantial content changes.

## B.21 REG\_PROT module changes

No substantial content changes.

## B.22 Wakeup Unit (WKPU)

## B.22.1 Chip-specific [S32G] information changes

No substantial content changes.

## B.22.2 WKPU module changes

No substantial content changes.

Release notes

## B.23 Clocking changes

- Updated the Figure 73, .
- Added FIRC\_CLK for MC\_CGM\_0 Clock mux 9 selector in Application clock source options.
- Changed FTM0\_EXT\_CLK and FTM1\_EXT\_CLK to FTM\_0\_RES\_CLK and FTM\_1\_RES\_CLK in Figure 54 and Figure 97.
- Added a note "AURORA\_PLL turn-on step is required only during trace function" in PLL turn on sequence.
- Changed the column for SDHC\_CLK from "Selector output" to "Divider output" in Table 72.
- Changed SDHC\_CLK to USDHC\_CLK throughout the chapter.

## B.24 Clock Generation Module (MC\_CGM)

## B.24.1 Chip-specific MC\_CGM information changes

No substantial content changes.

## B.24.2 Chip-specific MC\_CGM\_2 implementation changes

No substantial content changes.

## B.24.3 MC\_CGM module changes

No substantial content changes.

## B.25 DFS module changes

- Added sentence 'This step can take up to 100us' in Initialization.

## B.26 PLLDIG module changes

No substantial content changes.

## B.27 FXOSC module changes

- Updated Block diagram section

## B.28 Reset changes

- Updated the text to add Cortex-M7 in the turn off sequence in Core turn-off sequence.
- Updated the figure title of Figure 149.
- Updated the figure Figure 145.
- Removed LFAST from the table "Module status during reset" in the topic Module status during reset process.

Release notes

## B.29 Reset Generation Module (MC\_RGM)

## B.29.1 Chip-specific MC\_RGM information changes

No substantial content changes.

## B.29.2 MC\_RGM module changes

No substantial content changes.

## B.30 Boot changes

- Changed SDHC\_CLK to USDHC\_CLK throughout the chapter.

## B.31 Power management changes

No substantial content changes.

## B.32 Mode Entry Module (MC\_ME)

## B.32.1 Chip-specific MC\_ME information changes

No substantial content changes.

## B.32.2 MC\_ME module changes

No substantial content changes.

## B.33 MC\_PCU changes

No substantial content changes.

## B.34 Power Management Controller (PMC)

## B.34.1 Chip-specific PMC information changes

No substantial content changes.

## B.34.2 PMC module changes

No substantial content changes.

## B.35 SRAM Controller (SRAMC)

## B.35.1 Chip-specific [S32G] information changes

No substantial content changes.

## B.35.2 SRAMC module changes

No substantial content changes.

## B.36 DDR Subsystem

## B.36.1 Chip-specific DDR information changes

No substantial content changes.

## B.36.2 DDR module changes

- Added a note in Per-bank refresh (LPDDR4 only) topic.
- Corrected a typo from "DRAM addressing up to 4Gb" to "DRAM addressing up to 4GBytes" in PHY features topic.

## B.37 DDR\_GPR module changes

No substantial content changes.

## B.38 Quad Serial Peripheral Interface (QuadSPI)

## B.38.1 Chip-specific QuadSPI changes

No substantial content changes.

## B.38.2 QuadSPI module changes

- Driving external signals
- Note revised, "All read commands in Dual pad, Quad pad.... applicable to Single-pad mode"
- TGnSFARS[ERR]
- Bitfield description updated
- Table 221
- CMD Instruction : Action on serial flash memories, section updated
- Table 221
- In DATA\_LEARN row, Operand section updated
- Table 221
- In CMD\_DDR row, Action on serial flash memories, section updated

## B.39 Ultra Secured Digital Host Controller (uSDHC)

## B.39.1 Chip-specific uSDHC implementation changes

No substantial content changes.

## B.39.2 uSDHC module changes

- Re-organized the document:
- Changed Software restrictions into a subsection of Functional description
- Combined the content of the Signals overview into External signals
- Updated the titles of Clocking and Application information
- Corrected the CMD23 row in Table 255.
- Minor update/clarification in the description of VEND\_SPEC2[5:4] bits.
- Combined VEND\_SPEC2[5:4] bits as TUNING\_BIT\_EN.
- Minor correction in the description of VEND\_SPEC2[5:4] bits as TUNING\_BIT\_EN.
- Updated Manual tuning procedure.
- Updated Manual tuning procedure.
- Added the low power clock (ipg\_clk\_lp) mentions in sections Block diagram, Clocking and VEND\_SPEC2[EN\_32K\_CLK].
- Updated Standard tuning procedure and Manual tuning procedure.
- Minor update in Switch to HS400 mode.
- Added SYS\_CTRL[RST\_FIFO].
- Reserved the field PROT\_CTRL[7:6], which is not in use throughout the chapter.
- Minor update in the table "uSDHC external signals".

## B.40 System Timer Module (STM)

## B.40.1 Chip-specific STM information changes

No substantial content changes.

## B.40.2 STM module changes

No substantial content changes.

## B.41 Software Watchdog Timer (SWT)

## B.41.1 Chip-specific SWT information changes

No substantial content changes.

## B.41.2 SWT module changes

No substantial content changes.

## B.42 Periodic Interrupt Timer (PIT)

## B.42.1 Chip-specific PIT information changes

No substantial content changes.

## B.42.2 PIT module changes

No substantial content changes.

## B.43 FlexTimer (FTM)

## B.43.1 Chip-specific FTM information changes

No substantial content changes.

## B.43.2 FTM module changes

No substantial content changes.

## B.44 Real Time Clock (RTC)

## B.44.1 Chip-specific RTC implementation changes

No substantial content changes.

## B.44.2 RTC module changes

No substantial content changes.

## B.45 I 2 C module changes

 In Divider and hold values, revised the note preceding Table 301.

## B.46 Gigabit Ethernet Media Access Controller (GMAC)

## B.46.1 Chip-specific GMAC changes

No substantial content changes.

## B.46.2 GMAC subsystem changes

No substantial content changes.

## B.47 PFE module changes

No substantial content changes.

Release notes

## B.48 LINFlexD

## B.48.1 Chip-specific LINFlexD information changes

No substantial content changes.

## B.48.2 LINFlexD module changes

No substantial content changes.

## B.49 Serial Peripheral Interface (SPI)

## B.49.1 Chip-specific SPI information changes

No substantial content changes.

## B.49.2 SPI module changes

No substantial content changes.

## B.50 CAN (FlexCAN)

## B.50.1 Chip-specific S32G FlexCAN implementation changes

No substantial content changes.

## B.50.2 FlexCAN module changes

- Interchangeable terms "message buffer" and "mailbox" consolidated to "message buffer" throughout chapter.
- In Clocks, clock signal names changed from "ipg\_clk*" to "MODULE\_CLK*".
- Added note in register section.
- Revised topic Reset.
- Revised the "Access permissions" table in Bus interface.

## B.51 S32G CAN Timestamp changes

No substantial content changes.

## B.52 Chip-specific SerDes information changes

No substantial content changes.

## B.53 SERDES\_GPR module changes

No substantial content changes.

Release notes

## B.54 LLCE module

No substantial content changes.

## B.55 Universal Serial Bus On-The-Go Controller (USBOTG)

## B.55.1 Chip-specific USBOTG changes

No substantial content changes.

## B.55.2 USBOTG module changes

No substantial content changes.

## B.56 FlexRay module changes

- Removed "Introduction" title and merged into "Overview" Section.
- Moved "Functional description" after "Overview" section
- Moved "Reference information" in "Overview" section.
- Created new section as "Block diagram" and "Clocking".
- Moved "Modes of Operation" under "Functional description" section.
- Moved CHI clocking and PE Clocking section into Clocking section.
- Rename "Initialization sequence" as Initialization and moved after "External Signal" section.
- Moved "Application information" section after "Initialization".

## B.57 Cross-Triggering Unit (CTU)

## B.57.1 Chip-specific CTU changes

No substantial content changes.

## B.57.2 CTU module changes

No substantial content changes.

## B.58 Analog-to-Digital Converter (SAR\_ADC)

## B.58.1 Chip-specific ADC information changes

No substantial content changes.

## B.58.2 SAR\_ADC module changes

No substantial content changes.

Release notes

## B.59 Thermal Monitoring Unit (TMU)

## B.59.1 Chip-specific TMU information changes

No substantial content changes.

## B.59.2 TMU changes

No substantial content changes.

## B.60 Security changes

No substantial content changes.

## B.61 Field analysis mechanisms changes

- Updated the following topics for better communication:
- Introduction.
- Prerequisites
- Key storage
- ADKP calculation and provisioning
- CQC life cycle and retention
- Editorial correction in ADKP calculation and provisioning.
- Added a new point in CQC life cycle and retention.
- Moved the second two bullet points in CQC life cycle and retention to a caution note.

## B.62 Messaging Unit (MU)

## B.62.1 Chip-specific MU information changes

No substantial content changes.

## B.62.2 MU changes

No substantial content changes.

## B.63 On-Chip One Time Programmable (OCOTP) Controller

## B.63.1 Chip-specific CRC implementation changes

No substantial content changes.

## B.63.2 OCOTP Controller module changes

- Updated the content in Fuse protection and overrides, eFuse and shadow register writes.
- Changed section title from "Introduction" to Overview
- Added Clocking and Interrupts
- Removed sections "eFuse power-down" and "Power control of OTP memory".
- Changed bit 16 of FBXC control (CTRL\_FBX) from FBX\_PD to reserved.

## B.64 FBXC module changes

No substantial content changes.

## B.65 Safety changes

No substantial content changes.

## B.66 Error Reporting Module (ERM)

## B.66.1 Chip-specific ERM information changes

No substantial content changes.

## B.66.2 Chip-specific ERM information changes

No substantial content changes.

## B.66.3 ERM module changes

- In introductory text of "ERM register descriptions", added information related to the XFR error behavior at the IPS interface.
- Added Figure 578.
- Removed "ESCIE" fields from "CR" registers.

## B.67 Fault Collection and Control Unit (FCCU)

## B.67.1 FCCU chip-specific changes

No substantial content changes.

## B.67.2 FCCU module changes

No substantial content changes.

## B.68 Clock Monitoring Unit-Frequency Check (CMU\_FC)

## B.68.1 Chip-specific CMU\_FC information changes

No substantial content changes.

## B.68.2 CMU\_FC module changes

No substantial content changes.

## B.69 Clock Monitoring Unit - Frequency Meter (CMU\_FM)

## B.69.1 Chip-specific CMU\_FM information changes

No substantial content changes.

## B.69.2 CMU\_FM module changes

- Fixed the Minimum RCCR[REF\_CNT] formula calculation in Programming RCCR[REF\_CNT].

## B.70 SELFTEST\_GPR\_TOP module changes

No substantial content changes.

## B.71 SELFTEST\_GPR module changes

- Removed the note "The recommended value of this register is available in a separate application note. Contact your NXP sales representative" from LBIST\_Prog\_Reg[LBIST\_shift\_count].

## B.72 Self-Test Control Unit (STCU2)

## B.72.1 Chip-specific STCU2 information changes

No substantial content changes.

## B.72.2 STCU2 module changes

- Added title to Figure 592.

## B.73 SBSW module changes

- Restructured BG as per BGAC guidelines.
- Topic "SBSW interface summary" name changed to Application information to meet the BGAC guidelines.
- Added topic Clocking to meet the BGAC guidelines.
- Added topic Interrupts to meet the BGAC guidelines.

Release notes

- Added topic Reset to meet the BGAC guidelines.
- Added note "Successive writes in (R0 or R1) registers must be minimum four SAFETY\_IP\_CLK clock cycles apart for proper state transition in design." in Timer.

## B.74 Error Injection Module (EIM)

## B.74.1 Chip-specific EIM information changes

No substantial content changes.

## B.74.2 Chip-specific EIM information changes

No substantial content changes.

## B.74.3 EIM changes

No substantial content changes.

## B.75 CRC module changes

- Updated Step "SWAP\_BYTEWISE (affecting the input only) can be applied for CRC-16 , CRC-64 and CRC-32 polynomials only" in Register programming for addition of new polynomials.
- Updated Step "When generating CRC for CRC-32 ITU-T V.42/ CRC-32P4/ CRC-32C/ CRC-64ECMA , the user needs to set SWAP\_BYTEWISE together with INV and SWAP." in Register programming for addition of new polynomials.
- Updated values "CRC-8--&gt; 001, CRC-8H2F --&gt;0100, CRC-32C --&gt;0101, CRC-32P4 --&gt;0110, CRC-64ECMA --&gt;0111" in Configuration register values for addition of new polynomials.
- Updated values "CRC - 32 -&gt; 0xFFFF\_FFFF, CRC - 32 P4 -&gt; 0xFFFF\_FFFF, CRC - 64 ECMA -&gt; 0xFFFF\_FFFF" in Current status register initial values for addition of new polynomials.
- Foot note "When POLYG\_EXT is nonzero, the value of POLYG\_EXT selects the polynomial and the value of POLYG is ignored. When POLYG\_EXT is zero, the value of POLYG selects the polynomial." added in Configuration register values.

## B.76 Debug changes

No substantial content changes.

## B.77 JTAG Controller (JTAGC)

## B.77.1 Chip-specific JTAGC information changes

No substantial content changes.

## B.77.2 JTAGC module changes

No substantial content changes.

Release notes

## B.78 JDC module changes

- Updated Clocking section.

## B.79 ATP module changes

No substantial content changes.

Release notes

## Legal information

## Definitions

Draft - A draft status on a document indicates that the content is still under internal review and subject to formal approval, which may result in modifications or additions. NXP Semiconductors does not give any representations or warranties as to the accuracy or completeness of information included in a draft version of a document and shall have no liability for the consequences of use of such information.

## Disclaimers

Limited warranty and liability - Information in this document is believed to be accurate and reliable. However, NXP Semiconductors does not give any representations or warranties, expressed or implied, as to the accuracy or completeness of such information and shall have no liability for the consequences of use of such information. NXP Semiconductors takes no responsibility for the content in this document if provided by an information source outside of NXP Semiconductors.

In no event shall NXP Semiconductors be liable for any indirect, incidental, punitive, special or consequential damages (including - without limitation lost profits, lost savings, business interruption, costs related to the removal or replacement of any products or rework charges) whether or not such damages are based on tort (including negligence), warranty, breach of contract or any other legal theory.

Notwithstanding any damages that customer might incur for any reason whatsoever, NXP Semiconductors' aggregate and cumulative liability towards customer for the products described herein shall be limited in accordance with the Terms and conditions of commercial sale of NXP Semiconductors.

Right to make changes - NXP Semiconductors reserves the right to make changes to information published in this document, including without limitation specifications and product descriptions, at any time and without notice. This document supersedes and replaces all information supplied prior to the publication hereof.

Legal information

Applications - Applications that are described herein for any of these products are for illustrative purposes only. NXP Semiconductors makes no representation or warranty that such applications will be suitable for the specified use without further testing or modification.

Customers are responsible for the design and operation of their applications and products using NXP Semiconductors products, and NXP Semiconductors accepts no liability for any assistance with applications or customer product design. It is customer's sole responsibility to determine whether the NXP Semiconductors product is suitable and fit for the customer's applications and products planned, as well as for the planned application and use of customer's third party customer(s). Customers should provide appropriate design and operating safeguards to minimize the risks associated with their applications and products.

NXP Semiconductors does not accept any liability related to any default, damage, costs or problem which is based on any weakness or default in the customer's applications or products, or the application or use by customer's third party customer(s). Customer is responsible for doing all necessary testing for the customer's applications and products using NXP Semiconductors products in order to avoid a default of the applications and the products or of the application or use by customer's third party customer(s). NXP does not accept any liability in this respect.

Terms and conditions of commercial sale - NXP Semiconductors products are sold subject to the general terms and conditions of commercial sale, as published at http://www.nxp.com/profile/terms, unless otherwise agreed in a valid written individual agreement. In case an individual agreement is concluded only the terms and conditions of the respective agreement shall apply. NXP Semiconductors hereby expressly objects to applying the customer's general terms and conditions with regard to the purchase of NXP Semiconductors products by customer.

Suitability for use in automotive applications - This NXP product has been qualified for use in automotive applications. If this product is used by customer in the development of, or for incorporation into, products or services (a) used in safety critical applications or (b) in which failure could lead to death, personal injury, or severe physical or environmental damage (such products and services hereinafter referred to as 'Critical Applications'), then customer makes the ultimate design decisions regarding its products and is solely responsible for compliance with all legal, regulatory, safety, and security related requirements concerning its products, regardless of any information or support that may be provided by NXP. As such, customer assumes all risk related to use of any products in Critical Applications and NXP and its suppliers shall not be liable for any such use by customer. Accordingly, customer will indemnify and hold NXP harmless from any claims, liabilities, damages and associated costs and expenses (including attorneys' fees) that NXP may incur related to customer's incorporation of any product in a Critical Application.

Export control - This document as well as the item(s) described herein may be subject to export control regulations. Export might require a prior authorization from competent authorities.

Translations - A non-English (translated) version of a document, including the legal information in that document, is for reference only. The English version shall prevail in case of any discrepancy between the translated and English versions.

Security - Customer understands that all NXP products may be subject to unidentified vulnerabilities or may support established security standards or specifications with known limitations. Customer is responsible for the design and operation of its applications and products throughout their lifecycles to reduce the effect of these vulnerabilities on customer's applications and products. Customer's responsibility also extends to other open and/or proprietary technologies supported by NXP products for use in customer's applications. NXP accepts no liability for any vulnerability. Customer should regularly check security updates from NXP and follow up appropriately.

Customer shall select products with security features that best meet rules, regulations, and standards of the intended application and make the ultimate design decisions regarding its products and is solely responsible for compliance with all legal, regulatory, and security related requirements concerning its products, regardless of any information or support that may be provided by NXP.

NXP has a Product Security Incident Response Team (PSIRT) (reachable at PSIRT@nxp.com) that manages the investigation, reporting, and solution release to security vulnerabilities of NXP products.

NXP B.V. - NXP B.V. is not an operating company and it does not distribute or sell products.

## Trademarks

Notice: All referenced brands, product names, service names, and trademarks are the property of their respective owners.

NXP - wordmark and logo are trademarks of NXP B.V.

AMBA, Arm, Arm7, Arm7TDMI, Arm9, Arm11, Artisan, big.LITTLE, Cordio, CoreLink, CoreSight, Cortex, DesignStart, DynamIQ, Jazelle, Keil, Mali, Mbed, Mbed Enabled, NEON, POP, RealView, SecurCore, Socrates, Thumb, TrustZone, ULINK, ULINK2, ULINK-ME, ULINK-PLUS, ULINKpro, Vision,

Versatile - are trademarks and/or registered trademarks of Arm Limited (or its subsidiaries or affiliates) in the US and/or elsewhere. The related technology may be protected by any or all of patents, copyrights, designs and trade secrets. All rights reserved.

Airfast - is a trademark of NXP B.V.

CodeWarrior - is a trademark of NXP B.V.

ColdFire - is a trademark of NXP B.V.

ColdFire+ - is a trademark of NXP B.V.

CoolFlux - is a trademark of NXP B.V.

CoolFlux DSP - is a trademark of NXP B.V.

DESFire - is a trademark of NXP B.V.

EdgeLock - is a trademark of NXP B.V.

EdgeScale - is a trademark of NXP B.V.

EdgeVerse - is a trademark of NXP B.V.

Legal information

eIQ - is a trademark of NXP B.V.

Freescale - is a trademark of NXP B.V.

GreenChip - is a trademark of NXP B.V.

HITAG - is a trademark of NXP B.V.

ICODE and I-CODE - are trademarks of NXP B.V.

Immersiv3D - is a trademark of NXP B.V.

I2C-bus - logo is a trademark of NXP B.V.

JCOP - is a trademark of NXP B.V.

Kinetis - is a trademark of NXP B.V.

Layerscape - is a trademark of NXP B.V.

MagniV - is a trademark of NXP B.V.

Mantis - is a trademark of NXP B.V.

MIFARE - is a trademark of NXP B.V.

MIFARE Classic - is a trademark of NXP B.V.

MIFARE4Mobile - is a trademark of NXP B.V.

MIFARE Plus - is a trademark of NXP B.V.

MIFARE Ultralight - is a trademark of NXP B.V.

MiGLO - wordmark and logo are trademarks of NXP B.V.

NTAG - is a trademark of NXP B.V.

NXP SECURE CONNECTIONS FOR A SMARTER WORLD - is a trademark of NXP B.V.

PEG - is a trademark of NXP B.V.

QorIQ - is a trademark of NXP B.V.

QorIQ Qonverge - is a trademark of NXP B.V.

RoadLINK - wordmark and logo are trademarks of NXP B.V.

SafeAssure - is a trademark of NXP B.V.

SafeAssure - logo is a trademark of NXP B.V.

Tower - is a trademark of NXP B.V.

UCODE - is a trademark of NXP B.V.

<!-- image -->

Please be aware that important notices concerning this document and the product(s) described herein, have been included in section 'Legal information'.

##   NXP B.V. 2024.

All rights reserved.

For more information, please visit: http://www.nxp.com For sales office addresses, please send an email to: salesaddresses@nxp.com