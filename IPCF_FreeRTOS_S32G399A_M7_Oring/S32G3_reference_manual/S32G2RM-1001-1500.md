## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                            |
| 19-0    | Divider start value                                                                       |
| DIVS    | This field provides the start value of the clock divider for the clk_src_59 ramp-up phase |

## 24.7.51 PCFS Divider Change 60 Register (PCFS\_DIVC60)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVC60 | 2C8h     |

## Function

This register defines the rate of frequency change and initial change value on frequency ramp-up for the Progressive Clock Frequency switching of clk\_src\_60.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      | RATE | RATE | RATE | RATE | RATE | RATE | RATE | RATE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------|
| 31-16   | Divider change initial value                                                                                 |
| INIT    | This field provides the initial change value of the clock divider for the clock ramp-up phase of clk_src_60. |
| 15-8    | This field is reserved and reads return zeros.                                                               |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 7-0     | Divider change rate                                                                                                |
| RATE    | This value controls the change value of the clock divider for the clock ramp-up and ramp-down phase of clk_src_60. |

## 24.7.52 PCFS Divider End 60 Register (PCFS\_DIVE60)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVE60 | 2CCh     |

## Function

This register defines the final division value on frequency ramp-down for the progressive system clock switching of clk\_src\_60. This registers is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                   |
|---------|--------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                             |
| 19-0    | Divider end value                                                                          |
| DIVE    | This field provides the end value of the clock divider for the clk_src_60 ramp-down phase. |

## 24.7.53 PCFS Divider Start 60 Register (PCFS\_DIVS60)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVS60 | 2D0h     |

## Function

This register defines the initial division value on frequency ramp-up for the progressive system clock switching of clk\_src\_60.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVS | DIVS | DIVS | DIVS |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                            |
| 19-0    | Divider start value                                                                       |
| DIVS    | This field provides the start value of the clock divider for the clk_src_60 ramp-up phase |

## 24.7.54 PCFS Divider Change 61 Register (PCFS\_DIVC61)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVC61 | 2D4h     |

## Function

This register defines the rate of frequency change and initial change value on frequency ramp-up for the Progressive Clock Frequency switching of clk\_src\_61.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      | RATE | RATE | RATE | RATE | RATE | RATE | RATE | RATE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 31-16   | Divider change initial value                                                                                       |
| INIT    | This field provides the initial change value of the clock divider for the clock ramp-up phase of clk_src_61.       |
| 15-8    | This field is reserved and reads return zeros.                                                                     |
| -       |                                                                                                                    |
| 7-0     | Divider change rate                                                                                                |
| RATE    | This value controls the change value of the clock divider for the clock ramp-up and ramp-down phase of clk_src_61. |

## 24.7.55 PCFS Divider End 61 Register (PCFS\_DIVE61)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVE61 | 2D8h     |

## Function

This register defines the final division value on frequency ramp-down for the progressive system clock switching of clk\_src\_61.

This registers is reset only on destructive reset.

Clock Generation Module (MC\_CGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                   |
|---------|--------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                             |
| 19-0    | Divider end value                                                                          |
| DIVE    | This field provides the end value of the clock divider for the clk_src_61 ramp-down phase. |

## 24.7.56 PCFS Divider Start 61 Register (PCFS\_DIVS61)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVS61 | 2DCh     |

## Function

This register defines the initial division value on frequency ramp-up for the progressive system clock switching of clk\_src\_61. This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W       |      |      |      |      |      |      |      |      |      |      |      |      | DIVS | DIVS | DIVS | DIVS |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

Clock Generation Module (MC\_CGM)

## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                            |
| 19-0    | Divider start value                                                                       |
| DIVS    | This field provides the start value of the clock divider for the clk_src_61 ramp-up phase |

## 24.7.57 PCFS Divider Change 62 Register (PCFS\_DIVC62)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVC62 | 2E0h     |

## Function

This register defines the rate of frequency change and initial change value on frequency ramp-up for the Progressive Clock Frequency switching of clk\_src\_62.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------|
| 31-16   | Divider change initial value                                                                                 |
| INIT    | This field provides the initial change value of the clock divider for the clock ramp-up phase of clk_src_62. |
| 15-8    | This field is reserved and reads return zeros.                                                               |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 7-0     | Divider change rate                                                                                                |
| RATE    | This value controls the change value of the clock divider for the clock ramp-up and ramp-down phase of clk_src_62. |

## 24.7.58 PCFS Divider End 62 Register (PCFS\_DIVE62)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVE62 | 2E4h     |

## Function

This register defines the final division value on frequency ramp-down for the progressive system clock switching of clk\_src\_62. This registers is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R W    |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                   |
|---------|--------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                             |
| 19-0    | Divider end value                                                                          |
| DIVE    | This field provides the end value of the clock divider for the clk_src_62 ramp-down phase. |

## 24.7.59 PCFS Divider Start 62 Register (PCFS\_DIVS62)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVS62 | 2E8h     |

## Function

This register defines the initial division value on frequency ramp-up for the progressive system clock switching of clk\_src\_62.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVS | DIVS | DIVS | DIVS |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                            |
| 19-0    | Divider start value                                                                       |
| DIVS    | This field provides the start value of the clock divider for the clk_src_62 ramp-up phase |

## 24.7.60 PCFS Divider Change 63 Register (PCFS\_DIVC63)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVC63 | 2ECh     |

## Function

This register defines the rate of frequency change and initial change value on frequency ramp-up for the Progressive Clock Frequency switching of clk\_src\_63.

This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      | RATE | RATE | RATE | RATE | RATE | RATE | RATE | RATE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                           |
|---------|--------------------------------------------------------------------------------------------------------------------|
| 31-16   | Divider change initial value                                                                                       |
| INIT    | This field provides the initial change value of the clock divider for the clock ramp-up phase of clk_src_63.       |
| 15-8    | This field is reserved and reads return zeros.                                                                     |
| -       |                                                                                                                    |
| 7-0     | Divider change rate                                                                                                |
| RATE    | This value controls the change value of the clock divider for the clock ramp-up and ramp-down phase of clk_src_63. |

## 24.7.61 PCFS Divider End 63 Register (PCFS\_DIVE63)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVE63 | 2F0h     |

## Function

This register defines the final division value on frequency ramp-down for the progressive system clock switching of clk\_src\_63.

This registers is reset only on destructive reset.

Clock Generation Module (MC\_CGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE | DIVE |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

## Fields

| Field   | Function                                                                                   |
|---------|--------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                             |
| 19-0    | Divider end value                                                                          |
| DIVE    | This field provides the end value of the clock divider for the clk_src_63 ramp-down phase. |

## 24.7.62 PCFS Divider Start 63 Register (PCFS\_DIVS63)

## Offset

| Register    | Offset   |
|-------------|----------|
| PCFS_DIVS63 | 2F4h     |

## Function

This register defines the initial division value on frequency ramp-up for the progressive system clock switching of clk\_src\_63. This register is reset only on destructive reset.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W       |      |      |      |      |      |      |      |      |      |      |      |      | DIVS | DIVS | DIVS | DIVS |
| Reset   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 1    | 1    | 1    | 0    | 0    | 1    | 1    | 1    |

Clock Generation Module (MC\_CGM)

## Fields

| Field   | Function                                                                                  |
|---------|-------------------------------------------------------------------------------------------|
| 31-20   | This field is reserved and reads return zeros.                                            |
| 19-0    | Divider start value                                                                       |
| DIVS    | This field provides the start value of the clock divider for the clk_src_63 ramp-up phase |

## 24.7.63 Clock Mux 0 Select Control Register (MUX\_0\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_0_CSC  | 300h     |

## Function

This register provides the clock source selection control for clock mux 0. Clock mux 0 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

An update to all the PCFS-related fields of this register must be an atomic write, which means a single write must update the CLK\_SW, RAMPDOWN, and RAMPUP fields. It is necessary to set both RAMPUP and RAMPDOWN bits together even if you want to trigger either RAMPUP or RAMPDOWN process otherwise the desired PCFS sequence will not be executed.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -            |                                                                                                                                                                                                                            |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 0. The reserved values are not displayed. 00_0000b - clk_src_0 10_0001b - clk_src_33                                                                 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 0. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1 RAMPDOWN   | PCFS ramp-down Writing 1 to this bit makes a PCFS ramp-down request to clock mux 0. After a PCFS ramp-down operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.         |
| 0 RAMPUP     | PCFS ramp-up Writing 1 to this bit makes a PCFS ramp-up request to clock mux 0. After a PCFS ramp-up operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |

## 24.7.64 Clock Mux 0 Select Status Register (MUX\_0\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_0_CSS  | 304h     |

## Function

This register provides the current clock source selection status for clock mux 0.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17        | 16      |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-----------|---------|
| R      | 0    | 0    | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG     | SWIP    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |           |         |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0         | 0       |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1         | 0       |
| R      | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | SAFE_ SW | CLK_ SW | RAMP DOWN | RAMP UP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |           |         |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0         | 0       |

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 0. The reserved values are not displayed. 00_0000b - clk_src_0 10_0001b - clk_src_33                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. |

Table continues on the next page...

Clock Generation Module (MC\_CGM)

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 16 SWIP    | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete.                                                                                                                                                                                                                |
| 15-4 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                              |
| 3 SAFE_SW  | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 0. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested.                                                                                                                       |
| 2 CLK_SW   | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 0. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                                                                                                                                              |
| 1 RAMPDOWN | PCFS ramp-down This field provides an indication of whether a PCFS ramp-down operation was requested during the previous/ongoing request on clock mux 0. In case of safe clock switching, the ramp-down operation runs internally, but the value of the corresponding status field is not set to 1. NOTE 0b - No ramp-down operation was requested. 1b - Ramp-down operation was requested. |
| 0 RAMPUP   | PCFS ramp-up This field provides an indication of whether a PCFS ramp-up operation was requested during the previous/ ongoing request on clock mux 0. 0b - No ramp-up operation was requested.                                                                                                                                                                                              |

## 24.7.65 Clock Mux 0 Divider 0 Control Register (MUX\_0\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_0_DC_0 | 308h     |

## Function

This register controls the clock divider 0 for clock mux 0.

This divider is a 50% duty cycle divider.

NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

## Diagram

<!-- image -->

| Bits   | 31   | 30    | 29   | 28   | 27   | 26 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |    |
|--------|------|-------|------|------|------|---------|------|------|------|------|------|------|------|------|------|----|
| R      | DE   | 0     | 0    | 0    | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |    |
| W      |      |       |      |      |      |         |      |      |      |      |      | DIV  | DIV  | DIV  | DIV  |    |
| Reset  | 1    | 0     | 0 0  | 0    | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |    |
| Bits   | 15   | 14 13 | 12   | 11   | 10   | 9       | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |    |
| R      | 0    | 0     | 0    | 0    | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0  |
| W      |      |       |      |      |      |         |      |      |      |      |      |      |      |      |      |    |
| Reset  | 0    | 0 0   | 0    | 0    | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |    |

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-20 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 19-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

Clock Generation Module (MC\_CGM)

## 24.7.66 Clock Mux 0 Divider Update Status Register (MUX\_0\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_0_DIV_UPD_STAT | 33Ch     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 0. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                  |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                            |
| 0 DIV_STAT | Divider status for clock mux 0 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.67 Clock Mux 1 Select Control Register (MUX\_1\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_1_CSC  | 340h     |

## Function

This register provides the clock source selection control for clock mux 1. Clock mux 1 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                     |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -            |                                                                                                                                                                                                                              |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 1. The reserved values are not displayed. 00_0000b - clk_src_0 01_0111b - clk_src_23 11_0000b - clk_src_48 11_0010b - clk_src_50 11_1001b - clk_src_57 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                               |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.   |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 1. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.                 |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                               |

## 24.7.68 Clock Mux 1 Select Status Register (MUX\_1\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_1_CSS  | 344h     |

## Function

This register provides the current clock source selection status for clock mux 1.

This register is reset on destructive reset only.

## Diagram

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    | 0    | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 1. The reserved values are not displayed. 00_0000b - clk_src_0 01_0111b - clk_src_23 11_0000b - clk_src_48 11_0010b - clk_src_50 11_1001b - clk_src_57                                                                                                                                                                                                                                                                                      |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. |

Table continues on the next page...

Clock Generation Module (MC\_CGM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved 111b - Reserved                     |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                              |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 1. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 1. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.7.69 Clock Mux 1 Divider 0 Control Register (MUX\_1\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_1_DC_0 | 348h     |

## Function

This register controls the clock divider 0 for clock mux 1.

This divider is a 50% duty cycle divider.

## NOTE

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | DE       | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |          |          |          |          |          |          |
| W      |          |          |          |          |          |          |          |          | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-24 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 23-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-2 -    | Reserved                                                                                                                                                                                              |
| 1-0 -     | Reserved                                                                                                                                                                                              |

## 24.7.70 Clock Mux 1 Divider 1 Control Register (MUX\_1\_DC\_1)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_1_DC_1 | 34Ch     |

## Function

This register controls the clock divider 1 for clock mux 1.

This divider is a 50% duty cycle divider.

NOTE

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-18 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 17-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

## 24.7.71 Clock Mux 1 Divider Update Status Register (MUX\_1\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_1_DIV_UPD_STAT | 37Ch     |

Clock Generation Module (MC\_CGM)

## Function

Clock Generation Module (MC\_CGM)

This register provides the update status of the clock dividers corresponding to clock mux 1. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

| Diagram   | Diagram   |    |    |     |    |    |    |    |    |    |    |    |    |    |    |           |
|-----------|-----------|----|----|-----|----|----|----|----|----|----|----|----|----|----|----|-----------|
| Bits      | 31        | 30 | 29 | 28  | 27 | 26 | 25 | 24 | 23 | 22 | 21 | 20 | 19 | 18 | 17 | 16        |
| R         | 0         | 0  | 0  | 0   | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0         |
| W         |           |    |    |     |    |    |    |    |    |    |    |    |    |    |    |           |
| Reset     | 0         | 0  | 0  | 0   | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0         |
| Bits      | 15        | 14 | 13 | 12  | 11 | 10 | 9  | 8  | 7  | 6  | 5  | 4  | 3  | 2  | 1  | 0         |
| R         | 0         | 0  | 0  | 0   | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | DIV_ STAT |
| W         |           |    |    |     |    |    |    |    |    |    |    |    |    |    |    |           |
| Reset     | 0         | 0  | 0  | 0 0 |    | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0  | 0         |

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0 DIV_STAT | Divider status for clock mux 1 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.72 Clock Mux 2 Select Control Register (MUX\_2\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_2_CSC  | 380h     |

## Function

This register provides the clock source selection control for clock mux 2. Clock mux 2 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27     | 26     | 25     | 24     | 23   | 22   | 21   | 20   | 19    | 18   | 17   | 16   |
|--------|------|------|--------|--------|--------|--------|--------|--------|------|------|------|------|-------|------|------|------|
| R      | 0    |      |        |        |        |        |        |        | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| W      |      |      | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL |      |      |      |      |       |      |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12     | 11     | 10     | 9      | 8      | 7    | 6    | 5    | 4    | 3     | 2    | 1    | 0    |
| R      | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | SAFE_ | CLK_ | 0    | 0    |
| W      |      |      |        |        |        |        |        |        |      |      |      |      | SW    | SW   |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                         |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 2. The reserved values are not displayed. 00_0000b - clk_src_0 01_0111b - clk_src_23 11_0011b - clk_src_51 11_0101b - clk_src_53 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                   |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3 SAFE_SW | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2         | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 2. After a clock switch operation is requested,                                                                                               |
| CLK_SW    | this bit is auto cleared and a corresponding bit in the status register is set.                                                                                                                                            |
| 1-0       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| -         |                                                                                                                                                                                                                            |

## 24.7.73 Clock Mux 2 Select Status Register (MUX\_2\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_2_CSS  | 384h     |

## Function

This register provides the current clock source selection status for clock mux 2.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field           | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| - 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 2. The reserved values are not displayed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 23-20 -         | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG     | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved |
| 16 SWIP         | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 15-4            | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -         |                                                                                                                                                                                                                                                                       |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 2. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 2. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.7.74 Clock Mux 2 Divider 0 Control Register (MUX\_2\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_2_DC_0 | 388h     |

## Function

This register controls the clock divider 0 for clock mux 2.

This divider is a 50% duty cycle divider.

## NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | DE       | 0        | 0        | 0        | 0        | 0        | 0        | 0        | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-24 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 23-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-2 -    | Reserved                                                                                                                                                                                              |
| 1-0 -     | Reserved                                                                                                                                                                                              |

## 24.7.75 Clock Mux 2 Divider 1 Control Register (MUX\_2\_DC\_1)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_2_DC_1 | 38Ch     |

## Function

This register controls the clock divider 1 for clock mux 2.

This divider is a 50% duty cycle divider.

Clock Generation Module (MC\_CGM)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-18 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 17-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

## 24.7.76 Clock Mux 2 Divider Update Status Register (MUX\_2\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_2_DIV_UPD_STAT | 3BCh     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 2. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other

## NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

Clock Generation Module (MC\_CGM)

Clock Generation Module (MC\_CGM)

clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

Read accesses to MUX\_n\_DIV\_UPD\_STAT always complete without returning bus transfer error independent of whether any divider(s) are implemented inside MC\_CGM clock mux.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0 DIV_STAT | Divider status for clock mux 2 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.77 Clock Mux 3 Select Control Register (MUX\_3\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_3_CSC  | 3C0h     |

## Function

This register provides the clock source selection control for clock mux 3. Clock mux 3 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27     | 26     | 25     | 24     | 23   | 22   | 21   | 20   | 19    | 18   | 17   | 16   |
|--------|------|------|--------|--------|--------|--------|--------|--------|------|------|------|------|-------|------|------|------|
| R      | 0    |      |        |        |        |        |        |        | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| W      |      |      | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL |      |      |      |      |       |      |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12     | 11     | 10     | 9      | 8      | 7    | 6    | 5    | 4    | 3     | 2    | 1    | 0    |
| R      | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | SAFE_ | CLK_ | 0    | 0    |
| W      |      |      |        |        |        |        |        |        |      |      |      |      | SW    | SW   |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                         |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 3. The reserved values are not displayed. 00_0000b - clk_src_0 01_0111b - clk_src_23 10_1110b - clk_src_46 11_0110b - clk_src_54 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                   |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3 SAFE_SW | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2         | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 3. After a clock switch operation is requested,                                                                                               |
| CLK_SW    | this bit is auto cleared and a corresponding bit in the status register is set.                                                                                                                                            |
| 1-0       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| -         |                                                                                                                                                                                                                            |

## 24.7.78 Clock Mux 3 Select Status Register (MUX\_3\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_3_CSS  | 3C4h     |

## Function

This register provides the current clock source selection status for clock mux 3.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field           | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| - 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 3. The reserved values are not displayed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 23-20 -         | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG     | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved |
| 16 SWIP         | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 15-4            | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -         |                                                                                                                                                                                                                                                                       |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 3. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 3. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.7.79 Clock Mux 3 Divider 0 Control Register (MUX\_3\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_3_DC_0 | 3C8h     |

## Function

This register controls the clock divider 0 for clock mux 3.

This divider is a 50% duty cycle divider.

## NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | DE       | 0        | 0        | 0        | 0        | 0        | 0        | 0        | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      |
| Reset  | 0        | 0        | 0        | 0 0      | 0        |          | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-24 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 23-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-2 -    | Reserved                                                                                                                                                                                              |
| 1-0 -     | Reserved                                                                                                                                                                                              |

## 24.7.80 Clock Mux 3 Divider 1 Control Register (MUX\_3\_DC\_1)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_3_DC_1 | 3CCh     |

## Function

This register controls the clock divider 1 for clock mux 3.

This divider is a 50% duty cycle divider.

Clock Generation Module (MC\_CGM)

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-18 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 17-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

## 24.7.81 Clock Mux 3 Divider Update Status Register (MUX\_3\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_3_DIV_UPD_STAT | 3FCh     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 3. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other

## NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

Clock Generation Module (MC\_CGM)

Clock Generation Module (MC\_CGM)

clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

Read accesses to MUX\_n\_DIV\_UPD\_STAT always complete without returning bus transfer error independent of whether any divider(s) are implemented inside MC\_CGM clock mux.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0 DIV_STAT | Divider status for clock mux 3 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.82 Clock Mux 4 Select Control Register (MUX\_4\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_4_CSC  | 400h     |

## Function

This register provides the clock source selection control for clock mux 4. Clock mux 4 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27     | 26     | 25     | 24     | 23   | 22   | 21   | 20   | 19    | 18   | 17   | 16   |
|--------|------|------|--------|--------|--------|--------|--------|--------|------|------|------|------|-------|------|------|------|
| R      | 0    | 0    |        |        |        |        |        |        | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| W      |      |      | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL |      |      |      |      |       |      |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12     | 11     | 10     | 9      | 8      | 7    | 6    | 5    | 4    | 3     | 2    | 1    | 0    |
| R      | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | SAFE_ | CLK_ | 0    | 0    |
| W      |      |      |        |        |        |        |        |        |      |      |      |      | SW    | SW   |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                         |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 4. The reserved values are not displayed. 00_0000b - clk_src_0 11_0001b - clk_src_49 11_1010b - clk_src_58 11_1011b - clk_src_59 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                         |
| 3            | Safe clock request                                                                                                                                                                                     |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                     |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SAFE_SW  | Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.      |
| 2 CLK_SW | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 4. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 1-0 -    | This field is reserved and reads return zeros.                                                                                                                                                               |

## 24.7.83 Clock Mux 4 Select Status Register (MUX\_4\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_4_CSS  | 404h     |

## Function

This register provides the current clock source selection status for clock mux 4.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 4. The reserved values are not displayed. 00_0000b - clk_src_0 11_0001b - clk_src_49 11_1010b - clk_src_58 11_1011b - clk_src_59                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. |
| 16 SWIP       | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 15-4 -        | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 3             | Safe clock request                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                           |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SAFE_SW  | This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 4. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 4. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.     |
| 1-0 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                     |

## 24.7.84 Clock Mux 5 Select Control Register (MUX\_5\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_5_CSC  | 440h     |

## Function

This register provides the clock source selection control for clock mux 5. Clock mux 5 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 5. The reserved values are not displayed. 00_0000b - clk_src_0 11_0100b - clk_src_52 11_1100b - clk_src_60 11_1111b - clk_src_63                     |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 5. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                             |

## 24.7.85 Clock Mux 5 Select Status Register (MUX\_5\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_5_CSS  | 444h     |

## Function

This register provides the current clock source selection status for clock mux 5.

This register is reset on destructive reset only.

## Diagram

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    | 0    | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 5. The reserved values are not displayed. 00_0000b - clk_src_0 11_0100b - clk_src_52 11_1100b - clk_src_60 11_1111b - clk_src_63                                                                                                                                                                                                                                                                                                                                                                                           |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. |

Table continues on the next page...

Clock Generation Module (MC\_CGM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved 111b - Reserved                                                                                                    |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                              |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 5. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 5. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.7.86 Clock Mux 6 Select Control Register (MUX\_6\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_6_CSC  | 480h     |

## Function

This register provides the clock source selection control for clock mux 6. Clock mux 6 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 6. The reserved values are not displayed. 00_0000b - clk_src_0 10_1111b - clk_src_47 11_0111b - clk_src_55 11_1101b - clk_src_61                     |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 6. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                             |

Clock Generation Module (MC\_CGM)

## 24.7.87 Clock Mux 6 Select Status Register (MUX\_6\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_6_CSS  | 484h     |

## Function

This register provides the current clock source selection status for clock mux 6.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                                                                      |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 6. The reserved values are not displayed. 00_0000b - clk_src_0 10_1111b - clk_src_47 11_0111b - clk_src_55 11_1101b - clk_src_61 |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch.                                                                                                                                       |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved 111b - Reserved |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 6. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 6. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## 24.7.88 Clock Mux 7 Select Control Register (MUX\_7\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_7_CSC  | 4C0h     |

## Function

This register provides the clock source selection control for clock mux 7. Clock mux 7 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27     | 26     | 25     | 24     | 23   | 22   | 21   | 20   | 19    | 18   | 17   | 16   |
|--------|------|------|--------|--------|--------|--------|--------|--------|------|------|------|------|-------|------|------|------|
| R      | 0    | 0    |        |        |        |        |        |        | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| W      |      |      | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL | SELCTL |      |      |      |      |       |      |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12     | 11     | 10     | 9      | 8      | 7    | 6    | 5    | 4    | 3     | 2    | 1    | 0    |
| R      | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | SAFE_ | CLK_ | 0    | 0    |
| W      |      |      |        |        |        |        |        |        |      |      |      |      | SW    | SW   |      |      |
| Reset  | 0    | 0    | 0      | 0      | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0     | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 7. The reserved values are not displayed. 00_0000b - clk_src_0 11_0010b - clk_src_50                                                                 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                        |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2       | Clock switch                                                                                                                                                                                    |
| CLK_SW  | Writing 1 to this bit makes a clock switch request to clock mux 7. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 1-0 -   | This field is reserved and reads return zeros.                                                                                                                                                  |

## 24.7.89 Clock Mux 7 Select Status Register (MUX\_7\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_7_CSS  | 4C4h     |

## Function

This register provides the current clock source selection status for clock mux 7.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field   | Function                                                                                                 |
|---------|----------------------------------------------------------------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros.                                                           |
| 29-24   | Clock source selection status                                                                            |
| SELSTAT | This value indicates the current source selected for clock mux 7. The reserved values are not displayed. |

Table continues on the next page...

## Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 00_0000b - clk_src_0 11_0010b - clk_src_50                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 23-20 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved |
| 16 SWIP     | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 15-4 -      | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 3 SAFE_SW   | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 7. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                          |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2       | Clock switch                                                                                                                                                                                                                      |
| CLK_SW  | This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 7. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested. |
| 1-0 -   | This field is reserved and reads return zeros.                                                                                                                                                                                    |

## 24.7.90 Clock Mux 7 Divider 0 Control Register (MUX\_7\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_7_DC_0 | 4C8h     |

## Function

This register controls the clock divider 0 for clock mux 7.

This divider is a 50% duty cycle divider.

<!-- image -->

## NOTE

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-22 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 21-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

## 24.7.91 Clock Mux 7 Divider Update Status Register (MUX\_7\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_7_DIV_UPD_STAT | 4FCh     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 7. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

Read accesses to MUX\_n\_DIV\_UPD\_STAT always complete without returning bus transfer error independent of whether any divider(s) are implemented inside MC\_CGM clock mux.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16        |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-----------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0         |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |           |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0         |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0         |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | DIV_ STAT |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |           |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0         |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0 DIV_STAT | Divider status for clock mux 7 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.92 Clock Mux 8 Select Control Register (MUX\_8\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_8_CSC  | 500h     |

## Function

This register provides the clock source selection control for clock mux 8. Clock mux 8 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

Clock Generation Module (MC\_CGM)

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 8. The reserved values are not displayed. 00_0000b - clk_src_0 11_0101b - clk_src_53                                                                 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 8. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                             |

Clock Generation Module (MC\_CGM)

## 24.7.93 Clock Mux 8 Select Status Register (MUX\_8\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_8_CSS  | 504h     |

## Function

This register provides the current clock source selection status for clock mux 8.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    |      | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                          |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                    |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 8. The reserved values are not displayed. 00_0000b - clk_src_0 11_0101b - clk_src_53 |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                    |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch.                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. 110b - Reserved 111b - Reserved |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 8. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 8. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## 24.7.94 Clock Mux 8 Divider 0 Control Register (MUX\_8\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_8_DC_0 | 508h     |

## Function

This register controls the clock divider 0 for clock mux 8.

This divider is a 50% duty cycle divider.

NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-22 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 21-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

Clock Generation Module (MC\_CGM)

## 24.7.95 Clock Mux 8 Divider Update Status Register (MUX\_8\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_8_DIV_UPD_STAT | 53Ch     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 8. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                  |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                            |
| 0 DIV_STAT | Divider status for clock mux 8 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.7.96 Clock Mux 9 Select Control Register (MUX\_9\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_9_CSC  | 540h     |

## Function

This register provides the clock source selection control for clock mux 9. Clock mux 9 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-30   | This field is reserved and reads return zeros. |

Table continues on the next page...

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -            |                                                                                                                                                                                                                            |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 9. The reserved values are not displayed. 00_0000b - clk_src_0 11_1000b - clk_src_56                                                                 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 9. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                             |

## 24.7.97 Clock Mux 9 Select Status Register (MUX\_9\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_9_CSS  | 544h     |

## Function

This register provides the current clock source selection status for clock mux 9.

This register is reset on destructive reset only.

## Diagram

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    | 0    | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 9. The reserved values are not displayed. 00_0000b - clk_src_0 11_1000b - clk_src_56                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. |

Table continues on the next page...

Clock Generation Module (MC\_CGM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 110b - Reserved 111b - Reserved                                                                                                                                                                                                                                       |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                              |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 9. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 9. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.7.98 Clock Mux 9 Divider 0 Control Register (MUX\_9\_DC\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_9_DC_0 | 548h     |

## Function

This register controls the clock divider 0 for clock mux 9.

This divider is a 50% duty cycle divider.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                              |
|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider enable 0b - Divider is disabled. 1b - Divider is enabled.                                                                                                                                     |
| 30-22 -   | This field is reserved and reads return zeros.                                                                                                                                                        |
| 21-16 DIV | Division value This field provides the division value for the clock divider. The clock period of the clock after division is 'DIV+1' times the time period of the current input clock to the divider. |
| 15-0 -    | This field is reserved and reads return zeros.                                                                                                                                                        |

## 24.7.99 Clock Mux 9 Divider Update Status Register (MUX\_9\_DIV\_UPD\_STAT)

## Offset

| Register           | Offset   |
|--------------------|----------|
| MUX_9_DIV_UPD_STAT | 57Ch     |

## Function

This register provides the update status of the clock dividers corresponding to clock mux 9. When a write operation on any divider control register is performed, the divider status bit in this register is set to logic-1. The bit is set to logic-0 when the divider has sampled the new divider configuration. Performing multiple writes without tracking the status bit on same or other

## NOTE

The update to the fields of this register should be an atomic write, that is, one single write should update the complete register.

Clock Generation Module (MC\_CGM)

Clock Generation Module (MC\_CGM)

clock dividers inside the same clock mux leads to inconsistent reporting, that is, the divider status maybe be set to logic-0 when the corresponding divider update is pending.

## NOTE

Read accesses to MUX\_n\_DIV\_UPD\_STAT always complete without returning bus transfer error independent of whether any divider(s) are implemented inside MC\_CGM clock mux.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 0 DIV_STAT | Divider status for clock mux 9 On reading MUX_n_DIV_UPD_STAT after updating a divider control register, if the value of this field is fixed to 1 because of an error in the selected clock source, perform the following steps to switch the mux to a new clock source: 1. Switch the mux to a working clock source without polling this field. 2. Update MUX_n_DC_m and poll this field. This field clears once divider configuration is updated or on destructive reset. If functional reset comes when this field is 1 then it can remain fixed to 1 until divider input clock is restored. NOTE 0b - No divider configuration update is pending. 1b - Divider configuration update on at least one divider associated with this multiplexer is pending. |

## 24.8 MC\_CGM\_5 register descriptions

MC\_CGM registers have the following properties:

- All registers are 32-bit wide.
- Only 32-bit read and write accesses are supported.

Clock Generation Module (MC\_CGM)

- Read/write accesses of less than 32 bits do not terminate with an error, and hardware behavior is unpredictable.
- Writes to read-only register fields in writable registers are ignored and do not provide an error response.
- Writes to read-only registers are aborted with an error response.

## 24.8.1 MC\_CGM\_5 memory map

MC\_CGM\_5 base address: 4006\_8000h

| Offset   | Register                                        |   Width (In bits) | Access   | Reset value   |
|----------|-------------------------------------------------|-------------------|----------|---------------|
| 300h     | Clock Mux 0 Select Control Register (MUX_0_CSC) |                32 | RW       | 0000_0000h    |
| 304h     | Clock Mux 0 Select Status Register (MUX_0_CSS)  |                32 | R        | 0008_0000h    |

## 24.8.2 Clock Mux 0 Select Control Register (MUX\_0\_CSC)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_0_CSC  | 300h     |

## Function

This register provides the clock source selection control for clock mux 0. Clock mux 0 implements hardware control clock switching ensuring that the clock switch happens in a graceful manner (without glitches). See the "Hardware-controlled clock multiplexer" section for details.

This register is reset on destructive reset only.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                   |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -      | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 29-24 SELCTL | Clock source selection control Selects the source clock for clock mux 0. The reserved values are not displayed. 00_0000b - clk_src_0 10_0100b - clk_src_36                                                                 |
| 23-4 -       | This field is reserved and reads return zeros.                                                                                                                                                                             |
| 3 SAFE_SW    | Safe clock request Writing 1 to this bit makes a safe clock switch request to clk_src_0. After a safe clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set. |
| 2 CLK_SW     | Clock switch Writing 1 to this bit makes a clock switch request to clock mux 0. After a clock switch operation is requested, this bit is auto cleared and a corresponding bit in the status register is set.               |
| 1-0 -        | This field is reserved and reads return zeros.                                                                                                                                                                             |

## 24.8.3 Clock Mux 0 Select Status Register (MUX\_0\_CSS)

## Offset

| Register   | Offset   |
|------------|----------|
| MUX_0_CSS  | 304h     |

## Function

This register provides the current clock source selection status for clock mux 0.

This register is reset on destructive reset only.

## Diagram

| Bits   | 31   | 30   | 29      | 28      | 27      | 26      | 25      | 24      | 23   | 22   | 21   | 20   | 19       | 18      | 17    | 16   |
|--------|------|------|---------|---------|---------|---------|---------|---------|------|------|------|------|----------|---------|-------|------|
| R      | 0    | 0    | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | SELSTAT | 0    | 0    | 0    | 0    | SWTRG    | SWTRG   | SWTRG | SWIP |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 1        | 0       | 0     | 0    |
| Bits   | 15   | 14   | 13      | 12      | 11      | 10      | 9       | 8       | 7    | 6    | 5    | 4    | 3        | 2       | 1     | 0    |
| R      |      |      |         |         |         |         |         |         |      |      |      |      | SAFE_ SW | CLK_ SW | 0     | 0    |
| W      |      |      |         |         |         |         |         |         |      |      |      |      |          |         |       |      |
| Reset  | 0    | 0    | 0       | 0       | 0       | 0       | 0       | 0       | 0    | 0    | 0    | 0    | 0        | 0       | 0     | 0    |

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-30 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 29-24 SELSTAT | Clock source selection status This value indicates the current source selected for clock mux 0. The reserved values are not displayed. 00_0000b - clk_src_0 10_0100b - clk_src_36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 23-20 -       | This field is reserved and reads return zeros.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 19-17 SWTRG   | Switch trigger cause This value indicates the cause for the latest clock source switch. If the clock fails, followed by multiple safe clock switch requests for MC_CGM hardware clock mux, the value of the SWTRG field can be either 4 or 5. NOTE 000b - Reserved 001b - Switch after request succeeded. 010b - Switch after the request failed because of an inactive target clock and the current clock is clk_src_0. 011b - Switch after the request failed because of an inactive current clock and the current clock is clk_src_0. 100b - Switch to clk_src_0 because of a safe clock request or reset succeeded. 101b - Switch to clk_src_0 because of a safe clock request or reset succeeded, but the previous current clock source was inactive. |

Table continues on the next page...

Clock Generation Module (MC\_CGM)

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                                                                                                              |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 110b - Reserved 111b - Reserved                                                                                                                                                                                                                                       |
| 16 SWIP   | Switch in progress New clock switch request can only be given three clock cycles after the completion of the previous request. NOTE 0b - Clock source switching is complete. 1b - Clock source switching is in progress.                                              |
| 15-4 -    | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |
| 3 SAFE_SW | Safe clock request This field provides an indication of whether a switch to safe clock operation was requested during the previous/ongoing request on clock mux 0. 0b - No safe clock switch operation was requested. 1b - Safe clock switch operation was requested. |
| 2 CLK_SW  | Clock switch This field provides an indication of whether a clock switch operation was requested during the previous/ ongoing request on clock mux 0. 0b - No clock switch operation was requested. 1b - Clock switch operation was requested.                        |
| 1-0 -     | This field is reserved and reads return zeros.                                                                                                                                                                                                                        |

## 24.9 Functional description

## 24.9.1 Clock selection multiplexer

Each of the clock multiplexers inside the MC\_CGM either implements a fully hardware-controlled clock multiplexer or a software-controlled clock multiplexer. The following sections describe the two variants of the clock multiplexer.

## 24.9.1.1 Hardware-controlled clock multiplexer

In hardware-based clock multiplexing, the underlying assumption is that under some conditions, error or reset states, software may not be active. Therefore, the clock switching is fully hardware based and is glitchless. To facilitate clock switching requests with software, the MUX\_n\_CSC and MUX\_n\_CSS registers implement request and status for the clock multiplexer, the rest is managed in hardware. Using these registers, the software can monitor the state of the hardware-based clock multiplexer and also make clock switching requests. It is recommended that a new clock switch request is given only when there are no pending/ongoing clock switching requests. However, a switch to the safe clock, that is, clk\_src\_0, can be performed at any instance of time. A switch to the safe clock is always completed. Software should ensure that while making a software-based switch to safe clock, the register configuration clock should be available, at least for completing the write to the MUX\_n\_CSC

register. This means that the clock should be running for the register write to complete. Hardware clock multiplexer also supports hardware-based switch to safe clock, which is requested externally to MC\_CGM (for example, by MC\_RGM). For a hardware-based switch to safe clock, it is not required to have a register configuration clock for MC\_CGM.

## NOTE

- "Switch to safe clock" from software is requested by programming the MUX\_n\_CSC[SAFE\_SW] bit field only and not by combining the MUX\_n\_CSC[CLK\_SW] and MUX\_n\_CSC[SELCTL] bit fields of the MUX\_n\_CSC register. Writes to other fields are ignored when requesting switch for safe clock.
- After the switch to the safe clock requested by the MC\_RGM has completed, the MC\_RGM also requests the clock dividers to switch to their default values. This hardware-triggered divider update can be monitored in the same manner as for software-configured updates, and software should use it to ensure that the configuration update has completed before reconfiguring the clocks.
- Write accesses to the MUX\_n\_CSC register with clock select pointing to the "reserved" input clock source are aborted with bus transfer errors.

See Figure 123 that shows the flowchart representation for the sequence of steps to be followed when making a clock switch request to hardware-controlled clock multiplexer. Switch to safe clock can be requested at any instance of time, and for clarity reasons, it is not shown in Figure 123.

Figure 123. Flow for clock switch request on hardware-controlled clock multiplexer

<!-- image -->

## NOTE

- A switch to the safe clock command always leads to a ramp-down from the currently selected clock and then a switch to "safe clock", except when there is an ongoing clock switch requested by the software without ramp-up and ramp-down. A safe clock switch request when there is an ongoing clock switch without ramp-up or ramp-down results in a switch to the safe clock without performing a ramp-down (either by MC\_RGM or provided using the MUX\_n\_CSC register) does not perform a ramp-down before switching to "safe clock".
- The above flowchart steps can be preceded by points 1 and 3 below:
1. Disable the divider.
2. Switch clocks through hardware multiplexer.
3. Enable and configure the dividers (atomic write instruction).

## 24.9.1.2 Software-controlled clock multiplexer

In software-based clock multiplexing, the underlying assumption is that the software is always available and there are no error or reset conditions in the chip. This implies that a glitchless switch between input clock sources of MC\_CGM MUX can be achieved by following a sequence of steps in software. The software-based clock multiplexer implements a clock gate at the output of the clock mux. The software can gate the selected clock of MC\_CGM MUX using a synchronous/graceful clock gate bit (that is, MUX\_n\_CSC[CG]) or a forced clock gate bit (that is, MUX\_n\_CSC[FCG]). The hardware does not guarantee that any glitches will escape when using forced clock gating. When a forced clock gate bit is written to 1, the internal clock gate forcefully gates the selected clock to logic-0, therefore, to avoid clock glitches, it should be ensured that the selected clock source is not running. See Figure 124 that shows the flowchart representation for the sequence of steps to be followed when making a clock switch request to software-controlled clock multiplexer. No switch to safe clock is supported in software-controlled clock multiplexer.

Clock Generation Module (MC\_CGM)

Clock Generation Module (MC\_CGM)

<!-- image -->

## NOTE

- Ensure that before using the force gate bit, any IP or other logic using the clock of MC\_CGM MUX is in the inactive state or a clock glitch resulting from usage of forced gating does not effect the IP (that is, it is clock gated after the MC\_CGM).
- In Figure 124, the clock source to be selected should be active at the time of clock switch, else the MUX\_n\_CSS[CS] field will remain set to logic-0. In case the clock source to be selected becomes inactive (that is, loss of clock, and so on) during the switching operation, the switch to another clock source can be initiated by writing both the MUX\_n\_CSC[CG] and MUX\_n\_CSC[FCG] fields to logic-1.
- Writing a 'reserved' value for the MUX\_n\_CSC[SELCTL] field may result in an unpredictable clock at the output of the clock multiplexer.

## 24.9.2 PCFS

MC\_CGM implements PCFS when changing clock source at an MC\_CGM clock mux. The PCFS is only implemented in a hardware-controlled clock multiplexer and not in a software-controlled clock multiplexer. It allows a gradual load change for a power/voltage supply unit by employing a gradual frequency changeover from one to another. The frequency changeover is achieved by clock division of input clock source with a sequence of division values, where frequency ramp down and ramp up is achieved when the sequence of division values are ascending and descending in nature, respectively. As the clock division (fractional) is implemented in digital logic, therefore, it is a coarse-level clock division rather than being an accurate-level division, implying that the duty cycle of the progressively divided clock can vary with time.

The PCFS feature is utilized when a drain current to frequency relationship is known, that is, for a given drain current what is the maximum allowed change in frequency (fchg). The f chg is the first input parameter for PCFS and other parameters for PCFS are specified or calculated in relation to clk\_src\_0.

The PCFS hardware generates the clock division factors based on certain values that are programmed into the PCFS configuration register. The following pseudo codes represent the generation of clock division value sequence (d i ).

```
/* ramp down division values (dn) with k steps*/ delta1 = RATE/1000; delta2 = RATE/1000; d0       = 1.0; for i=1 to k-1 do di = di-1 + delta1; delta1 = delta1 + delta2; endfor /* ramp up division values (dn) with k steps*/ delta1 = RATE*k/1000; delta2 = RATE/1000; d0       = 1.0 + RATE*k*(k+1)/2; for i=1 to k-1 do di = di-1 - delta1; delta1 = delta1 - delta2; endfor
```

As the generation of clock division values is not a closed-bounded function, calculating RATE for a given f chg is an iterative process. Find a value of RATE that produces a clock division sequence, which when used does not lead to a frequency change greater than f chg . See Table 114 that tabulates some of the RATE values against amax, where

<!-- formula-not-decoded -->

where, Fi is the frequency of i th  input clock source of the clock mux.

## Table 114. PCFS RATE values

|   a max |   PCFS rate |
|---------|-------------|
|   0.005 |          12 |
|   0.01  |          48 |

Table continues on the next page...

## NOTE

The above flowchart steps can be preceded by points 1 and 3 below:

1. Disable the divider.
2. Switch clocks through software multiplexer.
3. Enable and configure the dividers (atomic write instruction).

Clock Generation Module (MC\_CGM)

Table 114. PCFS RATE values (continued)

|   a max |   PCFS rate |
|---------|-------------|
|    0.15 |         112 |
|    0.2  |         184 |

The last clock division factor in case of ramp-down or the first clock in case of ramp-up (following a ramp-down procedure), should be such that clock switch from any input clock source to another should be termed as safe, indicating that load changes have sustainable power effects. This frequency level is referred to as "safe frequency", equivalent to frequency of clk\_src\_0 referred to as "safe clock" with frequency "safe clock frequency" (f safe ). The last clock division factor in the sequence of clock division factors happens after "k" steps. The factor k (=steps) is calculated by using the following formula:

```
k = ceil(0.5 + sqrt(0.25 - (2000 * (1 -(Fi/fsafe)) / RATE)))
```

Using the above formula, all the PCFS register configuration values can be calculated for a given frequency of a clock source:

```
PCFS_DIVEi.DIV = (Fi/fsafe)*1000-1; PCFS_DIVCi.INIT = RATE * k; PCFS_DIVCi.RATE = RATE; PCFS_DIVSi.DIV  = 999 + (RATE * k * (k+1)/2);
```

See Figure 125 that shows a graphical representation of the change in frequency, which happens during PCFS ramp-down and ramp-up.

<!-- image -->

For any given clock source, if its frequency is less than that of clk\_src\_0, then its corresponding registers should be programmed to default values, where the default values are such that PCFS divider start and PCFS divider end values are same and equal to divide-by-1. The default values ensure that no progressive clock division is done when a clock switch request is given to switch from or to that source.

## NOTE

Calculate the minimum frequency during the PCFS RAMPDOWN and RAMPUP operations by using the formula:

(clk\_src\_0/((PCFS\_DIVE+1)/1000)) MHz

## 24.9.2.1 PCFS control

The PCFS operation is configured by a set of configuration registers. One set pertains to the calculation of the clock division factors, which are PCFS\_DIVC, PCFS\_DIVE, PCFS\_DIVS, and PCFS\_SDUR, while the registers MUX\_n\_CSC and MUX\_n\_CSS implement trigger and status of the PCFS operation. The clock division factors are expected to be programmed before any other MC\_CGM operation is initiated and remain unchanged. All the registers corresponding to the clock division factors should be programmed with clk\_src\_0 as the configuration clock and before doing any clock switch or PCFS operation on any of the MC\_CGM mux. It should be noted that the default values of the register corresponding to clock division factors are such that only the clock division factor is calculated by hardware that is divide-by-1. The PCFS operation is always triggered when the safe clock request is generated except when there is an on-going clock switch without ramp-up or ramp-down. Therefore, the software needs to ensure that the PCFS configuration is complete and correct.

While configuring MUX\_n\_CSC, only valid PCFS and clock switch requests should be provided. PCFS or clock switch requests should only be provided if the PCFS operation is in the idle state. If there is an ongoing PCFS operation, it is recommended not to provide any new PCFS triggers (except switch to safe clock) until the ongoing operation is completed. Switch to safe clock via hardware or by register configuration can be provided at any instance of time and is always completed. Valid combinations of PCFS and clock switches triggers are listed in Table 115. All the PCFS commands should be atomic in nature, which means a single register write should provide complete PCFS sequence to be executed that is ramp-down, clock switch, and ramp-up.

Table 115. Valid PCFS and clock switch requests

| PCFS operation state   | Command                                          |
|------------------------|--------------------------------------------------|
| Idle                   | Ramp-down, clock switch, and ramp-up             |
| Idle                   | Clock switch only (without ramp-up or ramp-down) |

When a switch to safe clock is provided by writing to MUX\_n\_CSC, then writes to other register fields are ignored.

## 24.9.2.2 Clock source power-up and selection

This section provides guidelines for powering up a given clock source and selecting it at the MC\_CGM clock multiplexer.

Following is the power-up procedure for a clock source:

1. Configure the parameter, if any.
2. Configure the power-up (or power-down) control field.
3. Wait for the power-up status indication.

After a power-up indication, the clock source can be selected to provide output clock at an MC\_CGM clock multiplexer. A clock-monitoring setup can also be activated on the powered-up clock source.

See Figure 126 that shows a flow chart representation of this sequence.

Clock Generation Module (MC\_CGM)

<!-- image -->

## 24.9.2.3 Clock source power-down and deselection

This section provides guidelines for powering down a given clock source and deselecting it at MC\_CGM clock multiplexer.

Following is the power-down procedure for a clock source:

1. Deselect the clock source at all MC\_CGM clock multiplexers.
2. Configure the power-up (or power-down) control field.
3. Wait for the power-down status indication.

See Figure 127 that shows a flow chart representation of this sequence.

Clock Generation Module (MC\_CGM)

<!-- image -->

## 24.9.2.4 Clock switch with load change

This section provides guidelines to switch between two high-frequency clock sources along with load changes in the system. Load change is referred to switching ON or OFF of logic/peripherals in the system, which has an effect of significant capacitance changes on the chip. This triggers the voltage regulation for the chip.

When a large number of peripherals or digital logic is enabled or disabled, it is recommended that this step should be performed at a low frequency. Independent of whether a clock switch is required, this criteria needs to be met. When a clock switch is required at two high frequencies, the recommended sequence is as follows:

1. Intermediately switch to clk\_src\_0.
2. Change load (that is, enable/disable peripherals).
3. Switch to the target clock.

See the following figure that shows a flow chart representation of this sequence.

Figure 128. Clock switch with load change procedure

Clock Generation Module (MC\_CGM)

<!-- image -->

## 24.9.3 Clock dividers

Clock dividers are used for the generation of a divided clock that is used for running IPs or peripherals. The MC\_CGM provides the following built-in dividers at each clock mux:

- 50% clock dividers

Each divider can be controlled by the Divider Enable (DE) bit and the Division Value (DIV) field. If a divider has its DE bit set to logic-0 in the respective configuration register, then that divider is disabled and the output divided clock is held to logic-0. If the DE bit is logic-1, the divider is enabled and provides a divided clock according to the value set in the DIV field.

## 24.9.3.1 50% clock divider

50% duty cycle dividers generate a real divided clock. The division factor is always an integer but is not restricted to even numbers. The rising edge of the divided clock is always synchronous to the rising edge of the divider source clock, but the falling edge is synchronous to the rising edge or the falling edge depending on whether the division factor is even or odd, respectively. If the input clock has a duty cycle of 50%, the divided output clock maintains the same 50% duty cycle. See Figure 129 that shows the 50% clock divider operation and its associated signals.

Clock Generation Module (MC\_CGM)

<!-- image -->

A 50% divided clock can be considered asynchronous (not edge aligned) to other divided clocks from dividers at the same clock mux. 50% clock dividers are implemented without an active closed loop, and are expected not to get stuck if the input clock glitches for a single cycle.

## 24.9.3.2 Clock dividers update

To update the division value or the divider enable, the software should follow the procedure as shown in Figure 130. These updates happen only after the current division cycle has elapsed. However, if the phase of the clock divider is updated, the update happens independently from the state of the division cycle. Any update to the clock divider fields does not result in clock glitch either at the divided clock output or the phase-divided clock output.

<!-- image -->

For aligned dividers, the LCM of the division values programmed in the dividers of respective clock mux should be less than 1024.

Recommended software sequence for ensuring no undivided output at MC\_CGM:

1. Reset is de-asserted
2. MC\_RGM goes to IDLE
3. Enable the clock dividers of MC\_CGM to provide FIRC clock so that reset of fixed dividers can be lifted.
4. Program the MC\_CGM as per use case division values.
5. Switch the clock of MC\_CGM Mux to desired one, and run the system.

## 24.10 Glossary

PCFS

Progressive clock frequency switching

## LCM Least common multiple

Clock Generation Module (MC\_CGM)

## Chapter 25 Digital Frequency Synthesizer (DFS)

## 25.1 Overview

This block generates different clock outputs of programmable frequency from an input clock source provided by a corresponding PLL. The DFS block provides clock signals as outputs on its ports as per the respective configuration of the ports. Also, the block provides an indication of lock for each output port.

## 25.1.1 Block diagram

Here is the DFS block diagram:

Digital Frequency Synthesizer (DFS)

<!-- image -->

## 25.1.2 Features

DFS includes the following features:

- Two fractional clock dividers, with
- individually configurable division factors.

- individual enable/disable control.
- individual lock status reporting.
- software controllable master DFS reset.

## 25.2 Functional description

## 25.2.1 Submodule sections

DFS consists of two submodules.

## 25.2.1.1 Phase generator

Phase generator takes VCO output of PLL as input, and it will output nine phase shifted versions of that clock which will be used in division of the clock. These goes into divider present on each port.

## 25.2.1.2 Divider

Divider will use the phase shifted clocks to provide the required divided clock on the output based on values of MFI and MFN provided by the user. There are Six dividers, one for each DFS port, and each have their own MFI and MFN controls.

## 25.2.2 Operations

This section describes the DFS module's operations.

## 25.2.2.1 Port divider configuration

DFS IP takes input clock from PLL and generates multiple phases of clock. Six independent phase dividers then use these phases. You control the division factor of each port's divider by programming the DVPORTn[MFI] and DVPORTn[MFN] fields. The following equation describes the relationship between the input and output clock of each phase divider:

Figure 132. Equation for input and output clocks of each port divider

In this equation:

- n is the DFS output port number.
- DVPORTn[MFI] is the integer part of the division value, and can range from 1d to 255d.
- DVPORTn[MFN] is the numerator of the fractional part of the division value, and can range from 0d to 35d.

## 25.2.3 Mode sections

## 25.2.3.1 Modes of operation

The following lists the various supported DFS modes of operation.

Digital Frequency Synthesizer (DFS)

Table 116. Modes of operation

| Mode           |   CTL[RESET] | PORTRESET[RESET n ]   | Description                          |
|----------------|--------------|-----------------------|--------------------------------------|
| Non-functional |            1 | x                     | The DFS phase generator is in reset. |
| Functional     |            0 | 0                     | DFS port n is enabled.               |
|                |            0 | 1                     | DFS port n is disabled.              |

Any combination of enabled and disabled ports is supported when the DFS is in functional mode.

## 25.2.4 Clocking

The DFS module has one clocks.

| Clock              | Description                                            |
|--------------------|--------------------------------------------------------|
| MODULE_CLK/ipg_clk | This is system bus clock used to program DFS registers |

## 25.2.5 Reset

The DFS module has one reset signals.

| Reset Signal            | Description                      |
|-------------------------|----------------------------------|
| ipg_hard_async_reset_ b | Reset for all software registers |

## 25.3 Initialization

## Initialization

The following steps describe the procedure for DFS initialization:

1. Place the master DFS and output ports of analog DFS in reset by:
- Writing 3Fh to PORTRESET[RESETn]
- Check that PORTSR is 0. This step can take up to 100us.
- Writing 1 to CTL[DFS\_RESET]
2. Set the PLL clock output for the analog DFS to stabilize and lock the PLL.
3. Configure each DFS port with the desired division factor via the DVPORTn registers.
4. Write a 0 to CTL[DFS\_RESET] to deassert the reset to master RESET of the analog DFS block.
5. Write a 0 to PORTRESET[RESETn] to deassert the reset to the output ports of the analog DFS block.
6. Poll PORTSR until all configured analog DFS output ports are locked.

## Re-programing a DFS port without disabling the main DFS reset

The following steps describe the procedure for re-programing a DFS port without disabling the main DFS reset (when DFS ports have already been locked):

1. Program DFS using the procedure mentioned in the aforementioned initialization sequence.

Digital Frequency Synthesizer (DFS)

2. Assert port reset of output port whose programming you want to change by configuring the corresponding field in PORTRESET.
3. Wait for the corresponding field in PORTSR to become 0. This step can take up to 100us.
4. Change configuration of MFI and MFN in the corresponding divide register (DVPORT0).
5. Deassert port reset of output port whose programming you want to change by configuring the corresponding field in PORTRESET.
6. Poll PORTSR to check if the corresponding DFS output port is locked.

## Initialization after DFS LOL:

The following steps describe the procedure for initialization after DFS LOL:

1. Clear DFS LOL by writing 1 to PORTLOLSR[LOLFn]
2. Place the master DFS and output ports of analog DFS in reset by:
- a. Writing 3Fh to PORTRESET[RESETn].
- b. Writing 1 to CTL[DFS\_RESET].
3. Set the PLL clock output for the analog DFS to stabilize and lock the PLL.
4. Configure each DFS port with the desired division factor via the DVPORTn registers.
5. Write 0 to CTL[DFS\_RESET] to deassert the reset to master RESET of the analog DFS block.
6. Wait for 200 ns.
7. Write 0 to PORTRESET[RESETn] to deassert the reset to the output ports of the analog DFS block.
8. Poll PORTSR until all configured analog DFS output ports are locked.

## Disabling DFS

The following steps describe the procedure to disable DFS:

1. Write 3Fh to PORTRESET[RESETn].
2. Wait for PORTSR to be 0.
3. Write 1 to CTL[DFS\_RESET].

## 25.4 DFS register descriptions

This section provides the memory map and the detailed description of all the DFS registers.

The memory map shows address offsets from the module base address.

## 25.4.1 DFS memory map

CORE\_DFS base address: 4005\_4000h

PERIPH\_DFS base address: 4005\_8000h

| Offset   | Register                             |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------|-------------------|----------|---------------|
| Ch       | Port Status Register (PORTSR)        |                32 | R        | 0000_0000h    |
| 10h      | Port Loss of Lock Status (PORTLOLSR) |                32 | RW       | 0000_0000h    |

Table continues on the next page...

## Table continued from the previous page...

| Offset    | Register                               |   Width (In bits) | Access   | Reset value   |
|-----------|----------------------------------------|-------------------|----------|---------------|
| 14h       | Port Reset (PORTRESET)                 |                32 | RW       | 0000_003Fh    |
| 18h       | Control (CTL)                          |                32 | RW       | 0000_0002h    |
| 1Ch - 30h | Divider for Port n (DVPORT0 - DVPORT5) |                32 | RW       | 0000_0000h    |

## 25.4.2 Port Status Register (PORTSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PORTSR     | Ch       |

## Function

This register reflects the lock status of DFS output ports.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-6 -       | Reserved                                                                                                                                                                                                                                               |
| 5-0 PORTSTAT | Port status This field reflects the lock status of the DFS output ports of the DFS analog block. Each bit represents a port from the analog block. For example, PORTSR[PORTSTAT[0]] represents port 0. 00_0000b - None of the output ports are locked. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                              |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 00_0001b - The output port[0] is locked. 00_0010b - The output port[1] is locked. 00_0100b - The output port[2] is locked. 00_1000b - The output port[3] is locked. 01_0000b - The output port[4] is locked. 10_0000b - The output port[5] is locked. |

## 25.4.3 Port Loss of Lock Status (PORTLOLSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PORTLOLSR  | 10h      |

## Function

This register contains the loss-of-lock status flags for the DFS output ports.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                          |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-6    | Reserved                                                                                                                                          |
| 5-0     | Loss of lock flag                                                                                                                                 |
| LOLFn   | DFSIP does not have real time clock monitor to declare lock or loss of lock. If PLL IP is disabled beforeDFS then loss of lock will be generated. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                       |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | This field is sticky. This means that if lock is re-acquired, the field remains 1 until you clear it by writing 1 to it or by asserting reset. 0b - The DFS detects no loss of lock for channel port n output. 1b - The DFS detected a loss of lock for channel port n output. |

## 25.4.4 Port Reset (PORTRESET)

## Offset

| Register   | Offset   |
|------------|----------|
| PORTRESET  | 14h      |

## Function

This register controls the enabling and disabling of the DFS output ports.

<!-- image -->

## Fields

| Field   | Function                  |
|---------|---------------------------|
| 31-6    | Reserved                  |
| 5-0     | Enable control for port n |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                      |
|---------|-----------------------------------------------------------------------------------------------|
| RESETn  | This bit is used to enable the port n of DFS 0b - Port n is enabled. 1b - Port n is disabled. |

## 25.4.5 Control (CTL)

## Offset

| Register   | Offset   |
|------------|----------|
| CTL        | 18h      |

## Function

This register configures the DFS.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                       |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-2      | Reserved                                                                                                                                                                                                                                                                                       |
| 1         | Reset of DFS                                                                                                                                                                                                                                                                                   |
| DFS_RESET | This field controls the master reset of the DFS. For sequencing with PORTRESET[RESET] bits. 0b - The DFS phase generator is out of reset. You can enable individual ports by programming Port Reset (PORTRESET). 1b - The DFS phase generator is in reset. You cannot enable any of the ports. |

Table continues on the next page...

Table continued from the previous page...

|   Field | Function   |
|---------|------------|
|       0 | Reserved   |

## 25.4.6 Divider for Port n (DVPORT0 - DVPORT5)

## Offset

| Register   | Offset   |
|------------|----------|
| DVPORT0    | 1Ch      |
| DVPORT1    | 20h      |
| DVPORT2    | 24h      |
| DVPORT3    | 28h      |
| DVPORT4    | 2Ch      |
| DVPORT5    | 30h      |

## Function

This register holds the divider configurations for the DFS output ports.

## Diagram

<!-- image -->

## Fields

| Field   | Function                       |
|---------|--------------------------------|
| 31-16   | Reserved                       |
| 15-8    | Integer part of division value |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                  |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MFI     | This field provides the integer part of division factor for port n .                                                                                                                      |
| 7-6     | Reserved                                                                                                                                                                                  |
| 5-0 MFN | Numerator of fractional part of division value This field provides the numerator of fractional part of division factor for port n . MFN value should not be programmed more than 36. NOTE |

Digital Frequency Synthesizer (DFS)

## Chapter 26 PLL Digital Interface (PLLDIG)

## 26.1 Overview

PLL can multiply or divide the frequency of a given clock input.

## 26.1.1 Block diagram

<!-- image -->

The number of output dividers can vary with the module instance. See the Clocking chapter to confirm the number of PLL output dividers.

## 26.1.2 Features

PLL includes the following features:

- Provision for selecting multiple clock sources as the reference clock
- Programmable frequency modulation
- Multiple integer dividers on PLL outputs
- Lock detection circuitry reports when PLL achieves frequency lock
- Continuous monitoring of lock status to report Loss of Lock (LOL) condition
- Powering down the module for low-power operation (Power-Down mode)

## 26.2 ACCEL\_PLL register descriptions

This section provides the memory map and detailed descriptions of registers used for configuring PLL. The table below shows the memory map. Addresses are given as offsets from the module base address. All registers are accessed using 8-bit, 16-bit, or 32-bit addressing.

## 26.2.1 ACCEL\_PLL memory map

ACCEL\_PLL base address: 4004\_0000h

| Offset    | Register                                   |   Width (In bits) | Access   | Reset value   |
|-----------|--------------------------------------------|-------------------|----------|---------------|
| 0h        | PLL Control (PLLCR)                        |                32 | RW       | 8000_0000h    |
| 4h        | PLL Status (PLLSR)                         |                32 | RW       | 0000_0300h    |
| 8h        | PLL Divider (PLLDV)                        |                32 | RW       | 0C3F_1032h    |
| Ch        | PLL Frequency Modulation (PLLFM)           |                32 | RW       | 4000_0000h    |
| 10h       | PLL Fractional Divider (PLLFD)             |                32 | RW       | 0000_0000h    |
| 20h       | PLL Clock Multiplexer (PLLCLKMUX)          |                32 | RW       | 0000_0000h    |
| 80h - 84h | PLL Output Divider (PLLODIV_0 - PLLODIV_1) |                32 | RW       | 0000_0000h    |

## 26.2.2 PLL Control (PLLCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCR      | 0h       |

<!-- image -->

PLL Digital Interface (PLLDIG)

## Fields

| Field   | Function                                                        |
|---------|-----------------------------------------------------------------|
| 31      | PLL Power Down                                                  |
| PLLPD   | Powers down or powers up PLL. 0b - Powered up 1b - Powered down |
| 30-0 -  | Reserved                                                        |

## 26.2.3 PLL Status (PLLSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLSR      | 4h       |

## Function

Shows the PLL status.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-11   | Reserved   |
| -       |            |
| 10-8    | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------|
| 7-4 -   | Reserved                                                                                                          |
| 3 LOL   | Loss-Of-Lock Flag Indicates the current PLL lock status. 0b - No loss of lock detected 1b - Loss of lock detected |
| 2 LOCK  | Lock Status Indicates that PLL has acquired lock. 0b - Unlocked 1b - Locked                                       |
| 1-0 -   | Reserved                                                                                                          |

## 26.2.4 PLL Divider (PLLDV)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLDV      | 8h       |

## Function

Divides input clocks for PLL output generation.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                           |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -       | Reserved                                                                                                                                                                                                                                                                                           |
| 30-25 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 24-22 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 21-16 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 15 -       | Reserved                                                                                                                                                                                                                                                                                           |
| 14-12 RDIV | Input Clock Predivider Sets the input clock divider. The output of the predivider circuit generates the PLL loop reference clock. 000b - Divide by 1 001b - Divide by 1 010b - Divide by 2 011b - Divide by 3 100b - Divide by 4 101b - Divide by 5 110b - Divide by 6                             |
| 11-8 -     | Reserved                                                                                                                                                                                                                                                                                           |
| 7-0 MFI    | Integer Portion Of Loop Divider Sets the value of the divider in the PLL feedback loop. The value specified establishes the multiplication factor applied to the reference frequency. Write the divider value to this field, where the chosen value does not violate VCO frequency specifications. |

## 26.2.5 PLL Frequency Modulation (PLLFM)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFM      | Ch       |

## Function

Configures PLL frequency modulation parameters.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                               |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -         | Reserved                                                                                                                                               |
| 30 SSCGBYP   | Frequency Modulation (Spread Spectrum Clock Generation) Bypass Bypasses frequency modulation. 0b - Not bypassed 1b - Bypassed                          |
| 29 SPREADCTL | Modulation Type Selection Indicates that the modulation is centered around the nominal frequency. 0b - Centered around nominal frequency 1b - Reserved |
| 28-26 -      | Reserved                                                                                                                                               |
| 25-16        | Frequency Modulation Step Size                                                                                                                         |

Table continues on the next page...

Table continued from the previous page...

| Field       | Function                                                                                                                                                                       |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| STEPSIZE    | Provides the step size for modulation depth and frequency in Frequency Modulation mode (see Frequency modulation).                                                             |
| 15-11 -     | Reserved                                                                                                                                                                       |
| 10-0 STEPNO | Number Of Steps Of Modulation Period Or Frequency Modulation Provides the number of steps to achieve modulation depth in Frequency Modulation mode (see Frequency modulation). |

## 26.2.6 PLL Fractional Divider (PLLFD)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFD      | 10h      |

## Function

Enables and configures frequency modulation.

## Diagram

<!-- image -->

## Fields

| Field   | Function                 |
|---------|--------------------------|
| 31      | Reserved                 |
| -       |                          |
| 30      | Fractional Mode Enable   |
| SDMEN   | Enables Fractional mode. |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                             |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Disabled 1b - Enabled                                                                                                                                                                                                                           |
| 29 -     | Reserved                                                                                                                                                                                                                                             |
| 28 -     | Reserved                                                                                                                                                                                                                                             |
| 27-22 -  | Reserved                                                                                                                                                                                                                                             |
| 21-18 -  | Reserved                                                                                                                                                                                                                                             |
| 17 -     | Reserved                                                                                                                                                                                                                                             |
| 16 -     | Reserved                                                                                                                                                                                                                                             |
| 15 -     | Reserved                                                                                                                                                                                                                                             |
| 14-0 MFN | Numerator Of Fractional Loop Division Factor Sets the numerator of the fractional loop division factor. You must write a value of less than 18432 to this field. When Fractional mode is disabled, you must write 000_0000_0000_0000b to this field. |

## 26.2.7 PLL Clock Multiplexer (PLLCLKMUX)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCLKMUX  | 20h      |

## Function

Selects the PLL clock source.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | REFCL |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | KS... |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |

## Fields

| Field       | Function                                                                          |
|-------------|-----------------------------------------------------------------------------------|
| 31-1 -      | Reserved                                                                          |
| 0 REFCLKSEL | Reference Clock Select Selects the PLL clock source. 0b - FIRC_CLK 1b - FXOSC_CLK |

## 26.2.8 PLL Output Divider (PLLODIV\_0 - PLLODIV\_1)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLODIV_0  | 80h      |
| PLLODIV_1  | 84h      |

## Function

Controls the PLL output clock divider settings.

This divider has a 50% duty cycle.

## NOTE

These registers support only word accesses. Other write accesses lead to the following:

- Unpredictable behavior
- No transfer error generated

PLL Digital Interface (PLLDIG)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | DE       | 0        | 0        | 0        | 0        | 0        | 0        | 0        | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field     | Function                                                                                                                                                                           |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider Enable Enables PLL output divider. Divider must be disabled before disabling PLL. 0b - Disabled 1b - Enabled                                                               |
| 30-24 -   | Reserved                                                                                                                                                                           |
| 23-16 DIV | Division Value Provides the division value for the output clock divider. The clock period of the clock after division is DIV + 1 times the time period of the divider input clock. |
| 15-2 -    | Reserved                                                                                                                                                                           |
| 1-0 -     | Reserved Do not write any value other than the reset value.                                                                                                                        |

## 26.3 CORE\_PLL register descriptions

This section provides the memory map and detailed descriptions of registers used for configuring PLL. The table below shows the memory map. Addresses are given as offsets from the module base address. All registers are accessed using 8-bit, 16-bit, or 32-bit addressing.

## 26.3.1 CORE\_PLL memory map

CORE\_PLL base address: 4003\_8000h

PLL Digital Interface (PLLDIG)

| Offset    | Register                                   |   Width (In bits) | Access   | Reset value   |
|-----------|--------------------------------------------|-------------------|----------|---------------|
| 0h        | PLL Control (PLLCR)                        |                32 | RW       | 8000_0000h    |
| 4h        | PLL Status (PLLSR)                         |                32 | RW       | 0000_0300h    |
| 8h        | PLL Divider (PLLDV)                        |                32 | RW       | 0C3F_1032h    |
| Ch        | PLL Frequency Modulation (PLLFM)           |                32 | RW       | 4000_0000h    |
| 10h       | PLL Fractional Divider (PLLFD)             |                32 | RW       | 0000_0000h    |
| 20h       | PLL Clock Multiplexer (PLLCLKMUX)          |                32 | RW       | 0000_0000h    |
| 80h - 84h | PLL Output Divider (PLLODIV_0 - PLLODIV_1) |                32 | RW       | 0000_0000h    |

## 26.3.2 PLL Control (PLLCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCR      | 0h       |

## Function

Configures PLL functionality.

## Diagram

<!-- image -->

## Fields

| Field   | Function                      |
|---------|-------------------------------|
| 31      | PLL Power Down                |
| PLLPD   | Powers down or powers up PLL. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function          |
|---------|-------------------|
|         | 1b - Powered down |
| 30-0    | Reserved          |

## 26.3.3 PLL Status (PLLSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLSR      | 4h       |

## Function

Shows the PLL status.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | Reserved | Reserved | Reserved | 0    | 0    | 0    | 0    | LOL  | LOCK | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      | W1C  |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 1        | 1        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function          |
|---------|-------------------|
| 31-11   | Reserved          |
| 10-8 -  | Reserved          |
| 7-4 -   | Reserved          |
| 3       | Loss-Of-Lock Flag |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                        |
|---------|-------------------------------------------------------------------------------------------------|
| LOL     | Indicates the current PLL lock status. 0b - No loss of lock detected 1b - Loss of lock detected |
| 2 LOCK  | Lock Status Indicates that PLL has acquired lock. 0b - Unlocked 1b - Locked                     |
| 1-0 -   | Reserved                                                                                        |

## 26.3.4 PLL Divider (PLLDV)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLDV      | 8h       |

## Function

Divides input clocks for PLL output generation.

## Diagram

<!-- image -->

## Fields

|   Field | Function   |
|---------|------------|
|      31 | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                           |
|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                                                                                                                                                                    |
| 30-25 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 24-22 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 21-16 -    | Reserved                                                                                                                                                                                                                                                                                           |
| 15 -       | Reserved                                                                                                                                                                                                                                                                                           |
| 14-12 RDIV | Input Clock Predivider Sets the input clock divider. The output of the predivider circuit generates the PLL loop reference clock. 000b - Divide by 1 001b - Divide by 1 010b - Divide by 2 011b - Divide by 3 100b - Divide by 4 101b - Divide by 5 110b - Divide by 6                             |
| 11-8 -     | Reserved                                                                                                                                                                                                                                                                                           |
| 7-0 MFI    | Integer Portion Of Loop Divider Sets the value of the divider in the PLL feedback loop. The value specified establishes the multiplication factor applied to the reference frequency. Write the divider value to this field, where the chosen value does not violate VCO frequency specifications. |

## 26.3.5 PLL Frequency Modulation (PLLFM)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFM      | Ch       |

## Function

Configures PLL frequency modulation parameters.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21       | 20       | 19   | 18   | 17   | 16   |
|--------|------|------|--------|------|------|------|------|------|------|------|----------|----------|------|------|------|------|
| R      | 0    | SSCG | SPRE   | 0    | 0    | 0    |      |      |      |      |          |          |      |      |      |      |
| W      |      | BYP  | ADC... |      |      |      |      |      |      |      | STEPSIZE | STEPSIZE |      |      |      |      |
| Reset  | 0    | 1    | 0      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13     | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5        | 4        | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0      | 0    | 0    | 0    |      |      |      |      |          |          |      |      |      |      |
| W      |      |      |        |      |      |      |      |      |      |      | STEPNO   | STEPNO   |      |      |      |      |
| Reset  | 0    | 0    | 0      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0    | 0    | 0    | 0    |

## Fields

| Field          | Function                                                                                                                                                                       |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -           | Reserved                                                                                                                                                                       |
| 30 SSCGBYP     | Frequency Modulation (Spread Spectrum Clock Generation) Bypass Bypasses frequency modulation. 0b - Not bypassed 1b - Bypassed                                                  |
| 29 SPREADCTL   | Modulation Type Selection Indicates that the modulation is centered around the nominal frequency. 0b - Centered around nominal frequency 1b - Reserved                         |
| 28-26 -        | Reserved                                                                                                                                                                       |
| 25-16 STEPSIZE | Frequency Modulation Step Size Provides the step size for modulation depth and frequency in Frequency Modulation mode (see Frequency modulation).                              |
| 15-11 -        | Reserved                                                                                                                                                                       |
| 10-0 STEPNO    | Number Of Steps Of Modulation Period Or Frequency Modulation Provides the number of steps to achieve modulation depth in Frequency Modulation mode (see Frequency modulation). |

PLL Digital Interface (PLLDIG)

## 26.3.6 PLL Fractional Divider (PLLFD)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFD      | 10h      |

## Function

Enables and configures frequency modulation.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                   |
|----------|----------------------------------------------------------------------------|
| 31 -     | Reserved                                                                   |
| 30 SDMEN | Fractional Mode Enable Enables Fractional mode. 0b - Disabled 1b - Enabled |
| 29 -     | Reserved                                                                   |
| 28 -     | Reserved                                                                   |
| 27-22 -  | Reserved                                                                   |
| 21-18    | Reserved                                                                   |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                             |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -        |                                                                                                                                                                                                                                                      |
| 17 -     | Reserved                                                                                                                                                                                                                                             |
| 16 -     | Reserved                                                                                                                                                                                                                                             |
| 15 -     | Reserved                                                                                                                                                                                                                                             |
| 14-0 MFN | Numerator Of Fractional Loop Division Factor Sets the numerator of the fractional loop division factor. You must write a value of less than 18432 to this field. When Fractional mode is disabled, you must write 000_0000_0000_0000b to this field. |

## 26.3.7 PLL Clock Multiplexer (PLLCLKMUX)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCLKMUX  | 20h      |

## Function

Selects the PLL clock source.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                          |
|-------------|-----------------------------------------------------------------------------------|
| 31-1 -      | Reserved                                                                          |
| 0 REFCLKSEL | Reference Clock Select Selects the PLL clock source. 0b - FIRC_CLK 1b - FXOSC_CLK |

## 26.3.8 PLL Output Divider (PLLODIV\_0 - PLLODIV\_1)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLODIV_0  | 80h      |
| PLLODIV_1  | 84h      |

## Function

Controls the PLL output clock divider settings.

This divider has a 50% duty cycle.

<!-- image -->

PLL Digital Interface (PLLDIG)

## Fields

| Field     | Function                                                                                                                                                                           |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider Enable Enables PLL output divider. Divider must be disabled before disabling PLL. 0b - Disabled 1b - Enabled                                                               |
| 30-24 -   | Reserved                                                                                                                                                                           |
| 23-16 DIV | Division Value Provides the division value for the output clock divider. The clock period of the clock after division is DIV + 1 times the time period of the divider input clock. |
| 15-2 -    | Reserved                                                                                                                                                                           |
| 1-0 -     | Reserved Do not write any value other than the reset value.                                                                                                                        |

## 26.4 DDR\_PLL register descriptions

This section provides the memory map and detailed descriptions of registers used for configuring PLL. The table below shows the memory map. Addresses are given as offsets from the module base address. All registers are accessed using 8-bit, 16-bit, or 32-bit addressing.

## 26.4.1 DDR\_PLL memory map

DDR\_PLL base address: 4004\_4000h

| Offset   | Register                          |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------|-------------------|----------|---------------|
| 0h       | PLL Control (PLLCR)               |                32 | RW       | 8000_0000h    |
| 4h       | PLL Status (PLLSR)                |                32 | RW       | 0000_0300h    |
| 8h       | PLL Divider (PLLDV)               |                32 | RW       | 0C3F_1032h    |
| Ch       | PLL Frequency Modulation (PLLFM)  |                32 | RW       | 4000_0000h    |
| 10h      | PLL Fractional Divider (PLLFD)    |                32 | RW       | 0000_0000h    |
| 20h      | PLL Clock Multiplexer (PLLCLKMUX) |                32 | RW       | 0000_0000h    |
| 80h      | PLL Output Divider (PLLODIV_0)    |                32 | RW       | 0000_0000h    |

## 26.4.2 PLL Control (PLLCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCR      | 0h       |

## Function

Configures PLL functionality.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                        |
|---------|-----------------------------------------------------------------|
| 31      | PLL Power Down                                                  |
| PLLPD   | Powers down or powers up PLL. 0b - Powered up 1b - Powered down |
| 30-0 -  | Reserved                                                        |

## 26.4.3 PLL Status (PLLSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLSR      | 4h       |

## Function

Shows the PLL status.

PLL Digital Interface (PLLDIG)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | Reserved | Reserved | Reserved | 0    | 0    | 0    | 0    | LOL  | LOCK | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      | W1C  |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 1        | 1        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------|
| 31-11 - | Reserved                                                                                                          |
| 10-8 -  | Reserved                                                                                                          |
| 7-4 -   | Reserved                                                                                                          |
| 3 LOL   | Loss-Of-Lock Flag Indicates the current PLL lock status. 0b - No loss of lock detected 1b - Loss of lock detected |
| 2 LOCK  | Lock Status Indicates that PLL has acquired lock. 0b - Unlocked 1b - Locked                                       |
| 1-0 -   | Reserved                                                                                                          |

## 26.4.4 PLL Divider (PLLDV)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLDV      | 8h       |

PLL Digital Interface (PLLDIG)

## Function

Divides input clocks for PLL output generation.

## Diagram

<!-- image -->

| Bits   | 31   | 30       | 29       | 28       | 27       | 26       | 25       | 24   | 23   | 22   | 21   | 20   | 19       | 18   | 17   | 16   |
|--------|------|----------|----------|----------|----------|----------|----------|------|------|------|------|------|----------|------|------|------|
| R      | 0    |          |          |          |          |          |          | 0    | 0    | 0    |      |      | Reserved |      |      |      |
| W      |      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |      |      |      |      |      |          |      |      |      |
| Reset  | 0    | 0        | 0        | 0        | 1        | 1        | 0        | 0    | 0    | 0    | 1    | 1    | 1        | 1    | 1    | 1    |
| Bits   | 15   | 14       | 13       | 12       | 11       | 10       | 9        | 8    | 7    | 6    | 5    | 4    | 3        | 2    | 1    | 0    |
| R      | 0    |          |          |          | 0        | 0        | 0        | 0    |      |      |      |      |          |      |      |      |
| W      |      |          |          |          |          |          |          |      | RDIV | RDIV | RDIV | RDIV | RDIV     | RDIV | RDIV | RDIV |
| Reset  | 0    | 0        | 0        | 1        | 0        | 0        | 0        | 0    | 0    | 0    | 1    | 1    | 0        | 0    | 1    | 0    |

## Fields

| Field      | Function                                                                                                                                                                                                                                            |
|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -       | Reserved                                                                                                                                                                                                                                            |
| 30-25 -    | Reserved                                                                                                                                                                                                                                            |
| 24-22 -    | Reserved                                                                                                                                                                                                                                            |
| 21-16 -    | Reserved                                                                                                                                                                                                                                            |
| 15 -       | Reserved                                                                                                                                                                                                                                            |
| 14-12 RDIV | Input Clock Predivider Sets the input clock divider. The output of the predivider circuit generates the PLL loop reference clock. 000b - Divide by 1 001b - Divide by 1 010b - Divide by 2 011b - Divide by 3 100b - Divide by 4 101b - Divide by 5 |

Table continues on the next page...

PLL Digital Interface (PLLDIG)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 110b - Divide by 6 111b - Divide by 7                                                                                                                                                                                                                                                              |
| 11-8 -  | Reserved                                                                                                                                                                                                                                                                                           |
| 7-0 MFI | Integer Portion Of Loop Divider Sets the value of the divider in the PLL feedback loop. The value specified establishes the multiplication factor applied to the reference frequency. Write the divider value to this field, where the chosen value does not violate VCO frequency specifications. |

## 26.4.5 PLL Frequency Modulation (PLLFM)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFM      | Ch       |

## Function

Configures PLL frequency modulation parameters.

## Diagram

<!-- image -->

## Fields

|   Field | Function   |
|---------|------------|
|      31 | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                       |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 30 SSCGBYP     | Frequency Modulation (Spread Spectrum Clock Generation) Bypass Bypasses frequency modulation. 0b - Not bypassed 1b - Bypassed                                                  |
| 29 SPREADCTL   | Modulation Type Selection Indicates that the modulation is centered around the nominal frequency. 0b - Centered around nominal frequency 1b - Reserved                         |
| 28-26 -        | Reserved                                                                                                                                                                       |
| 25-16 STEPSIZE | Frequency Modulation Step Size Provides the step size for modulation depth and frequency in Frequency Modulation mode (see Frequency modulation).                              |
| 15-11 -        | Reserved                                                                                                                                                                       |
| 10-0 STEPNO    | Number Of Steps Of Modulation Period Or Frequency Modulation Provides the number of steps to achieve modulation depth in Frequency Modulation mode (see Frequency modulation). |

## 26.4.6 PLL Fractional Divider (PLLFD)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFD      | 10h      |

## Function

Enables and configures frequency modulation.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29     | 28     | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20       | 19   | 18   | 17   | 16     |
|--------|------|------|--------|--------|------|------|------|------|------|------|------|----------|------|------|------|--------|
| R      | 0    | SDME | Reserv | Reserv | 0    |      |      |      |      |      |      |          |      |      | 0    | Reserv |
| W      |      | N    | ed     | ed     |      |      |      |      |      |      |      | Reserved |      |      |      | ed     |
| Reset  | 0    | 0    | 0      | 0      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0      |
| Bits   | 15   | 14   | 13     | 12     | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4        | 3    | 2    | 1    | 0      |
| R      | 0    |      |        |        |      |      |      |      | MFN  |      |      |          |      |      |      |        |
| W      |      |      |        |        |      |      |      |      |      |      |      |          |      |      |      |        |
| Reset  | 0    | 0    | 0      | 0      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0      |

## Fields

| Field    | Function                                                                   |
|----------|----------------------------------------------------------------------------|
| 31 -     | Reserved                                                                   |
| 30 SDMEN | Fractional Mode Enable Enables Fractional mode. 0b - Disabled 1b - Enabled |
| 29 -     | Reserved                                                                   |
| 28 -     | Reserved                                                                   |
| 27-22 -  | Reserved                                                                   |
| 21-18 -  | Reserved                                                                   |
| 17 -     | Reserved                                                                   |
| 16 -     | Reserved                                                                   |
| 15 -     | Reserved                                                                   |

Table continues on the next page...

PLL Digital Interface (PLLDIG)

Table continued from the previous page...

| Field   | Function                                                   |
|---------|------------------------------------------------------------|
| 14-0    | Numerator Of Fractional Loop Division Factor               |
| MFN     | Sets the numerator of the fractional loop division factor. |

## 26.4.7 PLL Clock Multiplexer (PLLCLKMUX)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCLKMUX  | 20h      |

## Function

Selects the PLL clock source.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                          |
|-------------|-----------------------------------------------------------------------------------|
| 31-1 -      | Reserved                                                                          |
| 0 REFCLKSEL | Reference Clock Select Selects the PLL clock source. 0b - FIRC_CLK 1b - FXOSC_CLK |

## 26.4.8 PLL Output Divider (PLLODIV\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLODIV_0  | 80h      |

## Function

Controls the PLL output clock divider settings.

This divider has a 50% duty cycle.

<!-- image -->

## Fields

| Field     | Function                                                                                                                 |
|-----------|--------------------------------------------------------------------------------------------------------------------------|
| 31        | Divider Enable                                                                                                           |
| DE        | Enables PLL output divider. Divider must be disabled before disabling PLL. 0b - Disabled 1b - Enabled                    |
| 30-24 -   | Reserved                                                                                                                 |
| 23-16 DIV | Division Value Provides the division value for the output clock divider. The clock period of the clock after division is |
|           | DIV + 1 times the time period of the divider input clock.                                                                |

Table continues on the next page...

PLL Digital Interface (PLLDIG)

Table continued from the previous page...

| Field   | Function                                           |
|---------|----------------------------------------------------|
| 15-2    | Reserved                                           |
| 1-0     | Reserved                                           |
| -       | Do not write any value other than the reset value. |

## 26.5 PERIPH\_PLL register descriptions

This section provides the memory map and detailed descriptions of registers used for configuring PLL. The table below shows the memory map. Addresses are given as offsets from the module base address. All registers are accessed using 8-bit, 16-bit, or 32-bit addressing.

## 26.5.1 PERIPH\_PLL memory map

PERIPH\_PLL base address: 4003\_C000h

| Offset    | Register                                   |   Width (In bits) | Access   | Reset value   |
|-----------|--------------------------------------------|-------------------|----------|---------------|
| 0h        | PLL Control (PLLCR)                        |                32 | RW       | 8000_0000h    |
| 4h        | PLL Status (PLLSR)                         |                32 | RW       | 0000_0300h    |
| 8h        | PLL Divider (PLLDV)                        |                32 | RW       | 0C3F_1032h    |
| 10h       | PLL Fractional Divider (PLLFD)             |                32 | RW       | 0000_0000h    |
| 20h       | PLL Clock Multiplexer (PLLCLKMUX)          |                32 | RW       | 0000_0000h    |
| 80h - 9Ch | PLL Output Divider (PLLODIV_0 - PLLODIV_7) |                32 | RW       | 0000_0000h    |

## 26.5.2 PLL Control (PLLCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCR      | 0h       |

## Function

Configures PLL functionality.

## Diagram

<!-- image -->

| Bits    | 31    | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|-------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R       | PLLPD |      |      |      |      |      |      |      | 0    |      |      |      |      |      |      |      |
| W Reset | 1     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15    | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W       |       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset   | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                        |
|---------|-----------------------------------------------------------------|
| 31      | PLL Power Down                                                  |
| PLLPD   | Powers down or powers up PLL. 0b - Powered up 1b - Powered down |
| 30-0 -  | Reserved                                                        |

## 26.5.3 PLL Status (PLLSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLSR      | 4h       |

## Function

Shows the PLL status.

PLL Digital Interface (PLLDIG)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26       | 25       | 24       | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|----------|----------|----------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10       | 9        | 8        | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | Reserved | Reserved | Reserved | 0    | 0    | 0    | 0    | LOL  | LOCK | 0    | 0    |
| W      |      |      |      |      |      |          |          |          |      |      |      |      | W1C  |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0        | 1        | 1        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------|
| 31-11 - | Reserved                                                                                                          |
| 10-8 -  | Reserved                                                                                                          |
| 7-4 -   | Reserved                                                                                                          |
| 3 LOL   | Loss-Of-Lock Flag Indicates the current PLL lock status. 0b - No loss of lock detected 1b - Loss of lock detected |
| 2 LOCK  | Lock Status Indicates that PLL has acquired lock. 0b - Unlocked 1b - Locked                                       |
| 1-0 -   | Reserved                                                                                                          |

## 26.5.4 PLL Divider (PLLDV)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLDV      | 8h       |

PLL Digital Interface (PLLDIG)

## Function

Divides input clocks for PLL output generation.

## Diagram

<!-- image -->

| Bits   | 31   | 30       | 29       | 28       | 27       | 26       | 25       | 24   | 23   | 22   | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|------|----------|----------|----------|----------|----------|----------|------|------|------|----------|----------|----------|----------|----------|----------|
| R      | 0    |          |          |          |          |          |          | 0    | 0    | 0    |          |          |          |          |          |          |
| W      |      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |      |      |      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0    | 0        | 0        | 0        | 1        | 1        | 0        | 0    | 0    | 0    | 1        | 1        | 1        | 1        | 1        | 1        |
| Bits   | 15   | 14       | 13       | 12       | 11       | 10       | 9        | 8    | 7    | 6    | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0    |          |          |          | 0        | 0        | 0        | 0    | 0    | 0    | 0        | 0        | 0        | 0        | 0        | 0        |
| W      |      | RDIV     | RDIV     | RDIV     | MFI      | MFI      | MFI      | MFI  | MFI  | MFI  | MFI      | MFI      | MFI      | MFI      | MFI      | MFI      |
| Reset  | 0    | 0        | 0        | 1        | 0        | 0        | 0        | 0    | 0    | 0    | 1        | 1        | 0        | 0        | 1        | 0        |

## Fields

| Field      | Function                                                                                                                                                                                                                                            |
|------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 -       | Reserved                                                                                                                                                                                                                                            |
| 30-25 -    | Reserved                                                                                                                                                                                                                                            |
| 24-22 -    | Reserved                                                                                                                                                                                                                                            |
| 21-16 -    | Reserved                                                                                                                                                                                                                                            |
| 15 -       | Reserved                                                                                                                                                                                                                                            |
| 14-12 RDIV | Input Clock Predivider Sets the input clock divider. The output of the predivider circuit generates the PLL loop reference clock. 000b - Divide by 1 001b - Divide by 1 010b - Divide by 2 011b - Divide by 3 100b - Divide by 4 101b - Divide by 5 |

Table continues on the next page...

PLL Digital Interface (PLLDIG)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 110b - Divide by 6 111b - Divide by 7                                                                                                                                                                                                                                                              |
| 11-8 -  | Reserved                                                                                                                                                                                                                                                                                           |
| 7-0 MFI | Integer Portion Of Loop Divider Sets the value of the divider in the PLL feedback loop. The value specified establishes the multiplication factor applied to the reference frequency. Write the divider value to this field, where the chosen value does not violate VCO frequency specifications. |

## 26.5.5 PLL Fractional Divider (PLLFD)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLFD      | 10h      |

## Function

Enables and configures frequency modulation.

## Diagram

<!-- image -->

## Fields

|   Field | Function   |
|---------|------------|
|      31 | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                                             |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 30 SDMEN | Fractional Mode Enable Enables Fractional mode. 0b - Disabled 1b - Enabled                                                                                                                                                                           |
| 29 -     | Reserved                                                                                                                                                                                                                                             |
| 28 -     | Reserved                                                                                                                                                                                                                                             |
| 27-22 -  | Reserved                                                                                                                                                                                                                                             |
| 21-18 -  | Reserved                                                                                                                                                                                                                                             |
| 17 -     | Reserved                                                                                                                                                                                                                                             |
| 16 -     | Reserved                                                                                                                                                                                                                                             |
| 15 -     | Reserved                                                                                                                                                                                                                                             |
| 14-0 MFN | Numerator Of Fractional Loop Division Factor Sets the numerator of the fractional loop division factor. You must write a value of less than 18432 to this field. When Fractional mode is disabled, you must write 000_0000_0000_0000b to this field. |

## 26.5.6 PLL Clock Multiplexer (PLLCLKMUX)

## Offset

| Register   | Offset   |
|------------|----------|
| PLLCLKMUX  | 20h      |

## Function

Selects the PLL clock source.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | REFCL |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | KS... |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |

## Fields

| Field       | Function                                                                          |
|-------------|-----------------------------------------------------------------------------------|
| 31-1 -      | Reserved                                                                          |
| 0 REFCLKSEL | Reference Clock Select Selects the PLL clock source. 0b - FIRC_CLK 1b - FXOSC_CLK |

## 26.5.7 PLL Output Divider (PLLODIV\_0 - PLLODIV\_7)

## Offset

For a = 0 to 7:

| Register   | Offset         |
|------------|----------------|
| PLLODIV_a  | 80h + (a  4h) |

## Function

Controls the PLL output clock divider settings.

This divider has a 50% duty cycle.

## NOTE

These registers support only word accesses. Other write accesses lead to the following:

- Unpredictable behavior
- No transfer error generated

PLL Digital Interface (PLLDIG)

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R W    | DE       | 0        | 0        | 0        | 0        | 0        | 0        | 0        | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      | DIV      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |          |          |
| W      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field     | Function                                                                                                                                                                           |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 DE     | Divider Enable Enables PLL output divider. Divider must be disabled before disabling PLL. 0b - Disabled 1b - Enabled                                                               |
| 30-24 -   | Reserved                                                                                                                                                                           |
| 23-16 DIV | Division Value Provides the division value for the output clock divider. The clock period of the clock after division is DIV + 1 times the time period of the divider input clock. |
| 15-2 -    | Reserved                                                                                                                                                                           |
| 1-0 -     | Reserved Do not write any value other than the reset value.                                                                                                                        |

## 26.6 Functional description

This section explains PLL operation and configuration.

## 26.6.1 Modes of operation

## Table 117. Modes of operation

|   PLLCR[PLLPD] | PLLFD[SDMEN]   | PLLFM[SSCGBYP]   | Description                                                                   |
|----------------|----------------|------------------|-------------------------------------------------------------------------------|
|              1 | x              | x                | PLL is disabled.                                                              |
|              0 | 0              | 1                | Functional mode - PLL operates in integer-only mode. See Clock configuration. |

Table continues on the next page...

PLL Digital Interface (PLLDIG)

Table 117. Modes of operation (continued)

|   PLLCR[PLLPD] |   PLLFD[SDMEN] |   PLLFM[SSCGBYP] | Description                                                                                            |
|----------------|----------------|------------------|--------------------------------------------------------------------------------------------------------|
|              0 |              1 |                1 | Functional mode - PLL operates in Fractional mode (non-Frequency modulation). See Clock configuration. |
|              0 |              1 |                0 | Functional mode - PLL operates in Frequency Modulation mode. See Frequency modulation.                 |

## 26.6.2 Input clock frequency

PLL is designed to operate over a specified input clock frequency range. PLL source frequency limits are discussed in this chip's data sheet.

## 26.6.3 Clock configuration

See the equations below and the corresponding register configuration that determine the relationship between VCO frequency ( f VCO) and PLL reference frequency.

- Integer-only mode:
- When PLLDV[RDIV] is 0:

Equation 5. PLL PHI output frequency

Equation 1. PLL VCO frequency in integer-only mode when PLLDV[RDIV] is 0

- When PLLDV[RDIV] is not 0:

Equation 2. PLL VCO frequency in integer-only mode when PLLDV[RDIV] is not 0

- Fractional mode:
- When PLLDV[RDIV] is 0:

Equation 3. PLL VCO frequency in Fractional mode when PLLDV[RDIV] is 0

- When PLLDV[RDIV] is not 0:

Equation 4. PLL VCO frequency in Fractional mode when PLLDV[RDIV] is not 0

See the equation below and the corresponding register configuration that determine the relationship between reference and PLL\_PHIn output frequencies.

PLL Digital Interface (PLLDIG)

When configuring PLL, you must not violate the maximum system clock frequency or maximum and minimum VCO frequency specification of PLL (see this chip's data sheet for frequency limits).

You must disable PLL by writing 1 to PLLCR[PLLPD] before any PLL configuration or input clock are modified.

You must disable PLL by writing 1 to PLLCR[PLLPD] for at least 5 s before writing 0 to PLLCR[PLLPD] to enable PLL.

The recommended procedure to program PLL and enter Normal mode is shown in Initialization information.

## 26.6.4 Loss of lock (LOL)

PLL provides LOL indication. The LOL indication can only be generated when PLL is in Functional mode (see Modes of operation). When PLL detects a LOL, it asserts its LOL event output.

PLL does not detect loss of reference clock. If the reference clock stops after PLL achieves lock, PLL continues to indicate lock. It is assumed that monitoring of PLL's reference clock that is done outside PLL is enabled while PLL is in operation.

PLL LOL is intended for detection of gross failures. Use CMUs for accurate frequency monitoring.

## 26.6.5 Frequency modulation

In Frequency Modulation mode, PLL generates a frequency-modulated clock. The modulation depth and modulation frequency are calculated using the equations shown in Frequency modulation programming.

Write 0 to PLLFM[SPREADCTL] to select center-spread modulation. See Figure 134 that shows an example of centerspread modulation.

<!-- image -->

## 26.6.5.1 Frequency modulation programming

Modulation depth and modulation frequency programming uses step number (PLLFM[STEPNO]) and step size (PLLFM[STEPSIZE]). The table below shows variables used during calculations when programming PLL for frequency modulation.

Table 118. Variables for configuring modulation depth and frequency

| Variable   | Description                             |
|------------|-----------------------------------------|
| f REF      | Input clock frequency                   |
| f MOD      | Expected modulation frequency           |
| MD         | Expected modulation depth in percentage |

Table continues on the next page...

Table 118. Variables for configuring modulation depth and frequency (continued)

| Variable   | Description           |
|------------|-----------------------|
| LDF        | Loop division factor  |
| f pll_VCO  | Nominal VCO frequency |

Use the following equations to configure PLL for frequency modulation.

Equation 6. LDF

Equation 7. Step number

Equation 8. Step size

Frequency modulation is only possible if the condition shown in Equation 9 is met.

Equation 9. Requirement to achieve FM

You must write 0 to PLLFM[SSCGBYP] and write 1 to PLLFD[SDMEN] to enable frequency modulation.

<!-- formula-not-decoded -->

Equation 10. Maximum possible modulation depth when PLL[RDIV] is 0

<!-- formula-not-decoded -->

Equation 11. Maximum possible modulation depth when PLL[RDIV] is not 0

## CAUTION

The effective modulation depth may differ from the intended modulation depth because of rounding operations applied to PLLFM[STEPSIZE] and PLLFM[STEPNO].

## 26.6.6 Interrupt signals

This module has no interrupt signals.

## 26.7 External signals

This module has no external signals.

## 26.8 Initialization information

Perform the following steps to initialize PLL:

1. Confirm that PLLODIV\_n[DE] is 0 for all dividers.
2. Confirm that PLLCR[PLLPD] is 1.
3. Program PLLCLKMUX to select the appropriate reference clock.
4. Program the following as needed:
- PLLDV
- PLLFD
- PLLFM to the desired value
5. Program PLLODIV\_n[DIV] to the desired value.
6. Wait for the PLL reference clock to be stable.
7. Write 0 to PLLCR[PLLPD].
8. Wait for PLLSR[LOCK] to be 1.
9. Write 1 to PLLODIV\_n[DE].

Perform the following steps to shut down PLL:

1. Write 0 to PLLODIV\_n[DE] for all dividers.
2. Write 1 to PLLCR[PLLPD].

PLL Digital Interface (PLLDIG)

## Chapter 27 Fast Crystal Oscillator Digital Controller (FXOSC)

## 27.1 Overview

The Fast Crystal Oscillator (FXOSC) generates a clock which can be used at the SoC level. The FXOSC has a digital interface to control and configure the oscillator. When FXOSC is powered down at any time, it is designed not to generate any glitch at the output clock. A counter inside FXOSC handles different stabilization times. CG cell is clock gating cell, it gates the clock till stabilization time.

## 27.1.1 Block diagram

<!-- image -->

## 27.1.2 Features

FXOSC features are as follows:

- Status register shows current module state.
- Control register can:
- Select a mode of operation:
- Crystal mode
- Single-Input Bypass mode using EXTAL clock input
- Disable the module (Power-Down mode)

## 27.2 FXOSC register descriptions

This section provides the descriptions of all registers used for configuring the FXOSC.

## 27.2.1 FXOSC memory map

Use 8-bit, 16-bit, or 32-bit addressing to access registers.

FXOSC base address: 4005\_0000h

| Offset   | Register                          |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------|-------------------|----------|---------------|
| 0h       | FXOSC Control Register (CTRL)     |                32 | RW       | 019D_00C0h    |
| 4h       | Oscillator Status Register (STAT) |                32 | R        | 0000_0000h    |

## 27.2.2 FXOSC Control Register (CTRL)

## Offset

| Register   | Offset   |
|------------|----------|
| CTRL       | 0h       |

## Function

Configures FXOSC operation.

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                                    |
|------------|-----------------------------------------------------------------------------------------------------------------------------|
| 31 OSC_BYP | Oscillator bypass Bypasses the internal oscillator. 0b - Internal oscillator not bypassed 1b - Internal oscillator bypassed |
| 30 -       | Reserved                                                                                                                    |
| 29-26 -    | Reserved                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 25 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 24 COMP_EN | Comparator enable Enables or disables the comparator.  For Crystal mode set this field to 1.  For Single-Input Bypass mode set this field to 0. 0b - Comparator disabled                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 23-16 EOCV | End of count value Specifies the end-of-count. The oscillator counter runs on the crystal clock divided by 4 and counts up to EOCV  128. This counting period ensures that the external oscillator clock signal is stable before the system selects FXOSC as a source.  You must set EOCV to the appropriate value to allow clock and duty cycle to stabilize and guarantee that OSC_STAT becomes set within the crystal startup time. - In Crystal mode, EOCV value must to be calculated to appropriate value based on the crystal specification using the equation in Initializing FXOSC. - In Single-Input Bypass mode, EOCV value is irrelevant. FXOSC holds the counter in reset.  Before modifying EOCV, FXOSC must be disabled. NOTE |
| 15-8 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 7-4 GM_SEL | Crystal overdrive protection Selects the transconductance applied by the FXOSC amplifier. This setting depends on crystal specification.  In Crystal mode FXOSC will not function with zero transconductance (GM_SEL = 0000b).  For details on how to set this field, see Initializing FXOSC. NOTE 0000b - 0 0001b - 0.145 0010b - 0.223                                                                                                                                                                                                                                                                                                                                                                                                   |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                          |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | 0100b - 0.291 0101b - 0.436 0110b - 0.514 0111b - 0.660 1000b - 0.339 1001b - 0.485 1010b - 0.563 1011b - 0.708 1100b - 0.631 1101b - 0.776 1110b - 0.854 1111b - 1.0 |
| 3 -     | Reserved                                                                                                                                                                          |
| 2 ALC_D | Automatic level controller enable 0b - Enables automatic level controller 1b - Disables automatic level controller                                                                |
| 1 -     | Reserved                                                                                                                                                                          |
| 0 OSCON | Crystal oscillator power-down control Enables or disables FXOSC 0b - Disables FXOSC 1b - Enables FXOSC                                                                            |

## 27.2.3 Oscillator Status Register (STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| STAT       | 4h       |

## Function

Shows current state of FXOSC.

## Diagram

<!-- image -->

## Fields

| Field       | Function                                                                                                                                                                                                                                              |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 OSC_STAT | Crystal oscillator status Indicates the crystal oscillator status. OSC_STAT value is not valid if transconductance is set to 0. NOTE 0b - Crystal oscillator is off or on but not stable. 1b - Crystal oscillator is on and providing a stable clock. |
| 30-0 -      | Reserved                                                                                                                                                                                                                                              |

## 27.3 Functional description

The table below shows configuration settings for the different FXOSC modes set by the CTRL register:

Table 119. FXOSC operation mode settings

| Mode                     |   CTRL[OSCON] | CTRL[OSC_BYP]   | CTRL[COMP_EN]   | FXOSC_CLK     |
|--------------------------|---------------|-----------------|-----------------|---------------|
| Power-Down mode          |             0 | X               | X               | 0             |
| Crystal mode             |             1 | 0               | 1               | Crystal clock |
| Single-Input Bypass mode |             1 | 1               | 0               | EXTAL         |

Power-Down mode is the FXOSC default condition after any reset: POR, Destructive, or Functional.

## 27.3.1 Clock generation in Crystal mode

FXOSC\_CLK start when counter value reaches EOCV  128.

## 27.3.2 Clock generation in Single-Input Bypass mode

This mode bypasses the oscillator and uses a single-input external clock (EXTAL input) for FXOSC\_CLK.

Fast Crystal Oscillator Digital Controller (FXOSC)

## 27.3.3 Clocking

This module has no clocking considerations.

## 27.3.4 Interrupts

This module has no interrupts.

## 27.4 External signals

This module has no external signals.

## 27.5 Initialization

## Initializing FXOSC

Initialize FXOSC as follows:

1. Write the desired value to CTRL[OSC\_BYP] and CTRL[COMP\_EN] to select an operation mode as shown in Table 119.

NOTE

FXOSC must be disabled when the operation mode is modified.

2. Configure CTRL[GM\_SEL].
- In Crystal mode configure the transconductance based on the module specification in the chip data sheet.
- In Single-Input Bypass mode write 0000b to this field.

## NOTE

In Crystal mode FXOSC will not function with zero transconductance (GM\_SEL = 0000b).

3. Set CTRL[EOCV] calculating the value as follows:
- EOCV (in decimal) = (stabilization time in ns)  (4128(period of clock in ns))
4. Write 1 to CRTL[OSCON] to enable FXOSC.

After disabling FXOSC:

- Wait for at least 2s before enabling FXOSC again.
- You must not change other values in FXOSC registers for at least 16 FXOSC\_CLK cycles.

## NOTE

When the FXOSC is used in Bypass mode, the clock from the external source can only be used after the FXOSC is enabled

5. Confirm the clock is stable (STAT[OSC\_STAT] = 1) before using it.

## Disabling FXOSC

Write 0 to CRTL[OSCON] to disable FXOSC when FXOSC\_CLK is running and stable.

FXOSC enters Power-down mode after at least four crystal clocks. No glitches occur during the transition to Power-Down mode because synchronizers are used.

## NOTE

Fast Crystal Oscillator Digital Controller (FXOSC)

## Chapter 28 Reset

## 28.1 Introduction

This chapter describes the reset sequence and behavior of the chip.

The reset sequence consists of defined entry points with a fixed sequence that leads to a known and deterministic state of the chip after completion. One or more modules on the chip triggers a reset event, and these reset events determine the entry points to a reset sequence.

This chapter discusses the following details:

- Global reset behavior of the chip
- Various reset sources
- Possible reset sequences and their stages
- Software resettable domains that can be reset independently without affecting the functionality of other modules
- Status of modules during the reset process
- Reset behavior of the chip during low-power (Standby) mode entry and exit

The figure below illustrates the high-level reset architecture that involves various module interactions with the Reset Generation Module (MC\_RGM) during different stages of the reset sequence.

Figure 136. Reset top-level diagram

<!-- image -->

## NOTE

- Bidirectional arrow: The RGM handshakes with these modules during the reset sequence.
- Unidirectional arrow: These modules are sources of reset.

The following table shows the types of reset events that can lead to their respective reset sequences.

Table 120. Description of reset events

| Reset event          | Description                                                                                                                                       |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| Functional reset     | Chip operation is still reliable and SRAM memory content can be preserved. Leads to a reset of modules for which functionality is not guaranteed. |
| Destructive reset    | Resets most of the chip except for a few selected modules. Memory content is considered to be lost after this reset event.                        |
| Power-on reset (POR) | The entire chip is reset.                                                                                                                         |

## 28.2 Reset features

The reset architecture of this chip provides the following features:

- Reset sequence controls with three entry points:
- POR
- Destructive reset
- Functional reset
- Status reporting of destructive and functional reset events
- Functional reset escalation to destructive reset
- Destructive reset escalation to stay in reset until next POR
- SRAM content protection against corruption on any functional reset event
- Software resettable domains management
- Reset management after chip exits Standby mode
- Chip configuration through fuses

## 28.3 High-level reset sequence

The following diagram shows the high-level reset sequence overview for POR, destructive, and functional reset events. When the reset process has reached the 'Out of Reset' state, the chip is operational.

Reset

Reset

<!-- image -->

A POR event causes an immediate entry into the beginning of the Power-On Sequence state regardless of whether the chip is in one of the reset sequences or the Out Of Reset state.   A single red arrow represents this in order to simplify the above diagram.

The following table shows the entry points into the high-level reset sequence for each type of reset event.

Table 121. Reset event reactions in reset sequence

| Reset event type   | From                                                                    | Reaction                                             |
|--------------------|-------------------------------------------------------------------------|------------------------------------------------------|
| POR                | Anywhere                                                                | Move to beginning of power-on sequence               |
| Destructive        | Power-on sequence                                                       | No reset sequence change                             |
| Destructive        | Anywhere else                                                           | Move to beginning of destructive reset sequence      |
| Functional         | Out of reset                                                            | Move to beginning of functional reset entry sequence |
| Functional         | Standby reset sequence before VDD_CORE_OK is asserted or FIRC is stable | Move to beginning of destructive reset sequence      |
|                    | Anywhere else                                                           | No reset sequence change                             |

The chip does the following for each reset event captured by MC\_RGM:

- Writes a 1 to the corresponding reset event status field in MC\_RGM\_DES and MC\_RGM\_FES registers.
- Places its pins into their default states.
- Enters the reset sequence as described in the table above.

## 28.4 Reset sources

All POR sources always assert RESET\_B when active. The POR cannot be demoted to an IRQ. No escalation is needed.

All destructive reset sources always assert RESET\_B when active.

Reset

If fields in the MC\_RGM\_DES and MC\_RGM\_FES registers are both 1 after a reset sequence, it means that the chip experienced a destructive reset when the functional reset source was active. In this case, ignore F\_DR\_8, F\_DR\_13, and F\_DR\_18 in the MC\_RGM\_DES register, because these are spuriously set.

Table 122. Reset sources

| Name                      | Description                 | Source module             | Index                     | RESET_B assertion         | Can be demoted to IRQ     | Escalation                |
|---------------------------|-----------------------------|---------------------------|---------------------------|---------------------------|---------------------------|---------------------------|
| POR reset sources         | POR reset sources           | POR reset sources         | POR reset sources         | POR reset sources         | POR reset sources         | POR reset sources         |
| POR                       | VDD_STBY                    | PMC                       | D[0]                      | Always                    | No                        | No                        |
| POR                       | PMC supply                  | PMC                       | D[0]                      | Always                    | No                        | No                        |
| POR                       | Critical SPD error          | Critical SPDs (CSPD)      | D[0]                      | Always                    | No                        | No                        |
| POR                       | POR_B pin assertion         | POR_B pin                 | D[0]                      | Always                    | No                        | No                        |
| POR                       | POR watchdog timeout        | POR_WDG (in PMC)          | D[0]                      | Always                    | No                        | No                        |
| Destructive reset sources | Destructive reset sources   | Destructive reset sources | Destructive reset sources | Destructive reset sources | Destructive reset sources | Destructive reset sources |
| NC_SPD_RST                | Non-critical SPD fail       | Non-critical SPDs (NCSPD) | D[1]                      | Always                    | No                        | No                        |
| FCCU_FTR                  | FCCU failure to react       | FOSU                      | D[3]                      | Always                    | No                        | Yes                       |
| STCU_URF                  | STCU unrecoverable fault    | STCU                      | D[4]                      | Always                    | No                        | Yes                       |
| MC_RGM_FRE                | Functional reset escalation | MC_RGM                    | D[6]                      | Always                    | No                        | Yes                       |
| FXOSC_FAIL                | FXOSC failure               | CMU_0                     | D[8]                      | Always                    | No                        | Yes                       |
| CORE_LOL                  | CORE_PLL loss of lock       | CORE_PLL                  | D[9]                      | Always                    | No                        | Yes                       |
| PERIPH_LOL                | PERIPH_PLL loss of lock     | PERIPH_PLL                | D[10]                     | Always                    | No                        | No                        |
| DDR_LOL                   | DDR_PLL loss of lock        | DDR_PLL                   | D[11]                     | Always                    | No                        | No                        |
| ACC_LOL                   | ACCEL_PLL loss of lock      | ACCELERATOR _PLL          | D[12]                     | Always                    | No                        | No                        |
| XBAR_DIV3_CLK_FAIL        | XBAR_DIV3_CLK failure       | CMU_5                     | D[13]                     | Always                    | No                        | No                        |
| HSE_LC_RST                | Life-cycle error            | HSE life-cycle checker    | D[16]                     | Always                    | No                        | Yes                       |
| HSE_SNVS_RST              | HSE SNVS tamper detected    | HSE SNVS                  | D[17]                     | Always                    | No                        | No                        |
| HSE_SWT_RST               | HSE SWT timeout             | HSE SWT                   | D[18]                     | Always                    | No                        | Yes                       |
| SW_DEST                   | Software destructive reset  | MC_ME                     | D[30]                     | Always                    | No                        | Yes                       |

Table continues on the next page...

Table 122. Reset sources (continued)

| Name                     | Description               | Source module            | Index                    | RESET_B assertion        | Can be demoted to IRQ    | Escalation               |
|--------------------------|---------------------------|--------------------------|--------------------------|--------------------------|--------------------------|--------------------------|
| DEBUG_DEST               | Debug destructive reset   | MDM_AP                   | D[31]                    | Always                   | No                       | No                       |
| Functional reset sources | Functional reset sources  | Functional reset sources | Functional reset sources | Functional reset sources | Functional reset sources | Functional reset sources |
| EXT 1                    | RESET_B pin assertion     | RESET_B pin              | F[0]                     | Always                   | Yes                      | No                       |
| FCCU_RST                 | FCCU reset reaction       | FCCU soft reaction       | F[3]                     | Always                   | No                       | Yes                      |
| ST_DONE                  | Self-test done            | STCU                     | F[4]                     | Always                   | No                       | No                       |
| SWT_0_RST                | SWT_0 timeout             | SWT_0                    | F[6]                     | Always                   | No                       | Yes                      |
| HSE_RAM_ECC_RST          | HSE RAM ECC error         | HSE ECC module           | F[18]                    | Always                   | No                       | No                       |
| HSE_BOOT_ERR_RST         | BootROM execution error   | HSE and BootROM          | F[20]                    | Always                   | No                       | Yes                      |
| HSE_CORE_LOCK_RS T       | HSE M7 core lockup state  | HSE                      | F[21]                    | Always                   | No                       | Yes                      |
| SW_FUNC                  | Software functional reset | MC_ME                    | F[30]                    | Always                   | No                       | No                       |
| DEBUG_FUNC               | Debug functional reset    | MDM_AP                   | F[31]                    | Always                   | Yes                      | No                       |

1. This reset source is intended to be used for DEBUG purpose only.

## 28.5 Reset sources descriptions

## 28.5.1 POR sources

## 28.5.1.1 On-chip POR

During chip power-up, the chip asserts its internal POR signal as soon as the on-chip POR detection circuitry is functional (see the "Power management" chapter for supplies monitored during POR).

During normal chip operation, the internal power-on reset signal asserts when any of the chip voltages monitored by the on-chip POR detection circuitry fall below their specified minimum thresholds. When the chip asserts the internal POR signal, the signal remains asserted until all the chip voltages monitored by the on-chip POR detection circuitry rise above their minimum functional thresholds.

The on-chip POR circuitry exists in the CSPDs attached to the following power rails (see the chapter "Power Management Controller (PMC)" for details):

- Logic required for the reset sequence and initial boot
- Analog portion of the FIRC
- Critical pins (for example, RESET\_B)

Reset

## 28.5.1.2 Critical LVDs

During chip power-up, the chip asserts each critical LVD reset signal as soon as the signal's corresponding on-chip LVD detection circuits are functional.

During normal chip operation, the chip asserts each critical LVD reset signal as soon as the corresponding monitored voltage falls below its corresponding specified threshold.

When the chip asserts a critical LVD reset signal, the chip continues to assert the signal until the corresponding chip voltage rises above its threshold.

The monitored LVD chip voltages that cause reset assertion when they fall below their specified voltages are listed in the Power Management chapter, in the "Minimum off-chip LVDs and HVDs" table.

The critical on-chip LVD circuitry exists in CSPDs. They are connected to the power rails which are required to be at specified levels for the boot process to execute properly.

## 28.5.1.3 External POR\_B pin

The active-low POR\_B pin uses a weak pull-down on its input.

During chip power-up, off-chip power management circuitry asserts the POR\_B pin as soon as it becomes functional. The off-chip power management circuit may consist of a single Power Management IC (PMIC) or a combination of chips.

During normal operation, the off-chip power management circuit asserts the POR\_B pin when any of voltages monitored by this circuitry falls below its corresponding threshold.

When off-chip power management circuitry asserts the POR\_B pin, this circuitry continues to assert POR\_B until all of its monitored voltages rise above their corresponding thresholds.

Off-chip power management circuitry monitors all off-chip-supplied voltages.

## 28.5.1.4 POR watchdog timer

The chip asserts POR\_WDG reset immediately when the POR watchdog timer expires.

The chip clears the POR watchdog timer and deasserts POR\_WDG reset immediately after the chip enters a POR sequence.

The following reset events initiate the POR watchdog timer count:

1. All POR events (after completion of the power-on sequence)
2. All destructive reset events (immediately after event detection)
3. All functional reset events (immediately after event detection)

The default timeout value of POR\_WDOG is 960 SIRC clock cycles (30 ms).

The following conditions mentioned must be true for the POR watchdog to function:

- Fuses do not disable the POR watchdog.
- Nothing triggers a destructive reset escalation threshold.

## 28.5.2 Destructive reset sources

## 28.5.2.1 SPD fail

SPDs detect disturbances in the connections between the associated regulator and the monitored power. Such a disturbance may be:

- A broken wire between the PMIC and the chip
- An intermittent connection
- A high-resistance connection

Reset

Reset

During chip operation, the chip asserts each SPD fail signal as soon as the corresponding chip voltage monitored by the SPD circuitry falls to a level below the precision LVD minimum voltage, but still above the level at which the logic needed to process the ensuing reset can function.

When the chip asserts an SPD fail signal, it continues to assert that signal until the monitored voltage rises above its threshold.

The reaction of NCSPDs is disabled on

- Power-on reset
- Destructive sequence entry
- Functional reset

The NCSPD\_CTL register inside the PMC is reset upon functional reset. The default configuration of this register is such that reactions of all NCSPDs are disabled.

You can enable NCSPDs via software.

Software can determine which NCSPD has caused a destructive reset by reading a write-1-clear status register in the PMC.

You cannot disable CSPDs.

## 28.5.2.2 FCCU failure to react

The FOSU module monitors the FCCU and asserts the FCCU failure-to-react reset if the FCCU fails to react to a fault within the specified amount of time.

The FCCU failure-to-react reset is deasserted immediately on destructive reset and POR sequence entries.

## 28.5.2.3 STCU2 unrecoverable fault

The STCU2 asserts an unrecoverable fault based on the STCU2's configuration of multiple possible error conditions.

The STCU2 unrecoverable fault reset is deasserted immediately on destructive reset and POR sequence entries.

## 28.5.2.4 Functional reset escalation to destructive reset

Functional reset escalation reset is asserted by MC\_RGM immediately upon the functional reset event that causes the escalation counter to increment and reach the threshold value in the MC\_RGM\_FRET[FRET] register field.

The functional reset escalation counter is cleared and functional reset escalation reset is deasserted immediately on destructive reset and POR sequence entries.

The functional reset escalation feature can be enabled and disabled via software.

The functional reset escalation threshold value can be set via software.

The default configuration of the functional reset escalation feature immediately after destructive reset and POR sequence exit is enabled with the FRET value set to 15.

If enabled, the functional reset escalation counter increments by one with each functional reset event that occurs when the chip is out of reset.

The functional reset escalation counter can be cleared by software.

## 28.5.2.5 FXOSC failure

FXOSC failure reset is asserted by the clock monitor that is monitoring the FXOSC output clock as soon as the monitor detects that the FXOSC output clock's frequency has gone out of the specified minimum/maximum frequency threshold range.

FXOSC failure reset is deasserted immediately on destructive reset and POR sequence entries.

## 28.5.2.6 CORE\_PLL loss of lock

CORE\_PLL loss of lock is asserted by the CORE\_PLL as soon as it loses its lock after having previously acquired it.

CORE\_PLL loss of lock is deasserted immediately on any reset sequence entry.

## 28.5.2.7 PERIPH\_PLL loss of lock

PERIPH\_PLL loss of lock is asserted by the PERIPH\_PLL as soon as it loses its lock after having previously acquired it.

PERIPH\_PLL loss of lock is deasserted immediately on any reset sequence entry.

PERIPH\_PLL is reset on functional reset. The PERIPH\_PLL loss of lock generates destructive reset and therefore is reset on destructive reset sequence entry.

## 28.5.2.8 DDR\_PLL loss of lock

DDR\_PLL loss of lock is asserted by the DDR\_PLL as soon as it loses its lock after having previously acquired it.

DDR\_PLL loss of lock is deasserted immediately on any reset sequence entry.

DDR\_PLL is reset on functional reset. The DDR\_PLL loss of lock generates destructive reset and therefore is reset on destructive reset sequence entry.

## 28.5.2.9 ACCEL\_PLL loss of lock

The ACCEL\_PLL loss of lock is asserted by the ACCEL\_PLL as soon as it loses its lock after having previously acquired it.

The ACCEL\_PLL loss of lock is deasserted immediately on any reset sequence entry.

ACCEL\_PLL gets reset on functional reset. The ACCEL\_PLL loss of lock will generate the destructive reset and hence will get reset on destructive reset sequence entry.

## 28.5.2.10 XBAR\_DIV3 clock failure

The minimum frequency threshold for the XBAR\_DIV3\_CLK failure monitor is typically set lower than for the precision monitoring done by the CMU that provides an FCCU reaction. This is because this monitor is checking primarily for a loss of clock in this clock domain.

XBAR\_DIV3\_CLK failure reset is deasserted immediately on destructive reset and POR sequence entries.

## 28.5.2.11 Life cycle error

The security life cycle fault reset is asserted by the Life-Cycle block immediately on the detection of an error in the Life-cycle value because of, for example:

- A failure during the reading of the life cycle value
- Reading an invalid life cycle value
- A corruption of the stored life cycle value

The security life cycle fault reset is deasserted immediately on destructive reset and POR sequence entries.

## 28.5.2.12 Software destructive reset

Software destructive reset is asserted immediately upon a mode change request to a destructive reset via the MC\_ME.

Software destructive reset is cleared immediately on destructive reset and POR sequence entries.

## 28.5.2.13 Debug destructive reset

Debug destructive reset is asserted immediately when the debugger sets the destructive reset field in the DAP's MDM\_AP register to 1.

Debug destructive reset is deasserted immediately when the debugger sets the destructive reset field in the DAP's MDM\_AP register to 0 (the field is automatically set to 0 because the debugger logic is working on the destructive reset itself).

Reset

## 28.5.3 Functional reset sources

## 28.5.3.1 FCCU reset reaction

The FCCU reset reaction reset is asserted by the FCCU when a fault is detected by the FCCU and the fault is configured to generate a soft reaction.

The FCCU reset reaction reset is deasserted automatically by the FCCU after assertion and immediately on destructive reset and POR sequence entries.

Software can determine which fault caused the FCCU reset reaction by reading a status register in the FCCU.

## 28.5.3.2 Self-test done

The self-test done reset is asserted by the STCU2 after the execution of the BIST (LBIST/MBIST) has completed on the main reset domain.

The self-test done reset is deasserted automatically by the STCU2 after assertion and immediately on destructive and POR sequence entry.

## 28.5.3.3 SWT\_0 timeout

The SWT\_0 timeout reset request is asserted as soon as SWT\_0 has not been serviced by the software running on "Cortex-M7 cluster0" before the SWT's reset timer has expired. The SWT\_0 timeout signal is deasserted immediately on any reset sequence entry.

## 28.5.3.4 Software functional reset

Software functional reset is asserted immediately upon a mode change request to a functional reset via the MC\_ME.

Software functional reset is cleared immediately on functional reset, destructive reset, and POR sequence entries.

## 28.5.3.5 Debug functional reset

Debug functional reset is asserted immediately upon the setting of the functional reset field in the DAP's MDM\_AP register by the debugger.

Debug functional reset is deasserted immediately upon the clearing of the functional reset field in the DAP's MDM\_AP register by the debugger.

## 28.5.4 Non-MC\_RGM and indirect reset sources

## 28.5.4.1 JCOMP pin

The active-high JCOMP pin is input-only with a weak pulldown.

The JCOMP pin is asserted whenever JTAG operation is needed (for example, during debug) and is continuously deasserted when JTAG operation is not needed.

The JCOMP reset is asserted when the JCOMP pin is deasserted.

The JCOMP reset is deasserted when the JCOMP pin is asserted.

## 28.5.5 Destructive reset escalation to stay in reset

The destructive reset escalation reset is asserted by the MC\_RGM immediately upon the destructive reset event that causes the escalation counter to increment and reach the threshold value in MC\_RGM\_DRET[DRET].

When the destructive reset escalation reset is asserted, the reset sequence immediately enters DEST0 state and remains there until a POR event starts a POR sequence.

The destructive reset escalation feature can be enabled and disabled via software.

Reset

The destructive reset escalation threshold value can be set via software.

The default configuration of the destructive reset escalation feature immediately after power-on sequence exit is disabled.

If enabled, the destructive reset escalation counter increments by one with each destructive reset event.

The destructive reset escalation counter can be cleared by software.

## 28.5.6 RESET\_B

The active-low RESET\_B pin is open-drain bidirectional with a weak pullup.

The input value of the RESET\_B pin is ignored when the chip is asserting the RESET\_B pin.

MC\_RGM always asserts the RESET\_B pin on destructive reset and POR sequence entry.

The default configuration, which is set immediately on destructive and power-on reset sequence entries, is that all functional reset events cause RESET\_B to be asserted.

After MC\_RGM has asserted the RESET\_B pin, it continues to assert it until all the conditions for reset sequence exit have been met except for the check that RESET\_B has been deasserted.

For all reset sequences, the reset sequence exit cannot occur until the RESET\_B pin has reached its deassertion state; in other words, not until the RESET\_B pin is not being asserted by MC\_RGM nor by the external system.

The external reset event is asserted when an assertion edge is detected on the RESET\_B pin when the RESET\_B pin is not being asserted by MC\_RGM.

The RESET\_B pin input signal is filtered against high and low glitches with the following characteristics:

- Maximum pulse rejected: 20 ns
- Minimum pulse passed: 400 ns

The RESET\_B pin is asserted by the off-chip power management circuitry starting before the device supplies begin ramping up and at least until the POR\_B pin is deasserted. This prevents the RESET\_B pin from behaving erratically when its supply is ramping up.

<!-- image -->

## 28.6 Reset process

## 28.6.1 Overview

The reset process is a sequence of several reset stages based on the reset event that has occurred. All reset events follow the same chip reset sequence with only the entry points varying depending on the reset event type. These stages are sequential in terms of execution. Each stage is triggered by the MC\_RGM on completion of the previous stage. These stages are executed in a specific order to ensure a deterministic state of the system on exit from any reset event.

Reset

## 28.6.2 Reset process sequence

## 28.6.2.1 POR sequence

This stage is entered when a POR event occurs (for example, any of the POR sources are asserted). In this stage, the chip waits for the power-up sequence to complete. This stage is exited when all the POR sources clear.

The following modules are involved in POR reset sequence:

- PMC
- FIRC
- POR\_B
- JTAGC/JCOMP

<!-- image -->

## 28.6.2.2 Destructive reset sequence

The following modules are involved in the destructive reset sequence:

- OCOTP
- PMC
- FIRC
- SIRC
- Life-cycle logic

Reset

Reset

<!-- image -->

## NOTE

Since FIRC is the only clock source available during the reset sequence, and non-FIRC clock domains may glitch on destructive reset sequence entry, all IP in the POR domain run on the FIRC clock or TCK.  One small exception to this is the POR\_WDOG, which has an additional internally generated and independent clock that it uses for its watchdog timer.

## 28.6.2.3 Functional reset sequence

FUNC0 to FUNC7 in the flow diagram below represents the functional reset entry sequence. The following modules are involved in the functional reset entry sequence:

- STCU2
- FCCU/FOSU

- CMU
- SWT
- Debug/ETR/MDM\_AP
- HSE
- NoC
- CGM
- DFS
- PLL
- FXOSC

FUNC8 to FUNC10 in the flow diagram below represent the functional reset exit sequence. The following modules are involved in the functional reset exit sequence:

- Memory repair
- RESET\_B
- Boot configuration pins (Refer to the 'Boot modes' section of the 'Boot' chapter for details on the pins which are sampled during the reset sequence for boot mode selection and configuration)

## NOTE

To allow the boot configuration pins to be properly sampled, you must ensure that the corresponding I/O power supplies are within their specified ranges. If this is not the case, the reset sequence is not prevented from completing, but could lead to an incorrect boot.

Reset

Reset

<!-- image -->

## 28.6.2.4 Standby reset sequence

The following modules are involved in the Standby reset sequence:

- Debug/TPIU/MDM\_AP

- MC\_PCU
- FIRC
- PMC
- SIRC

<!-- image -->

## 28.7 Chip status on reset exit

## Table 123. Status of chip after POR

| Functionality          | After POR                        | After POR                        | After POR                        | After POR                        |
|------------------------|----------------------------------|----------------------------------|----------------------------------|----------------------------------|
|                        | Initial                          | During reset sequence            | During Run                       | During Standby                   |
| Clock sources          | FIRC and SIRC on, all others off | FIRC and SIRC on, all others off | FIRC and SIRC on, all others off | FIRC and SIRC on, all others off |
| Clock selection        | Default values (FIRC for system) | Default values (FIRC for system) | Default values (FIRC for system) | Default values (FIRC for system) |
| Clock dividers         | Default values                   | Default values                   | Default values                   | Default values                   |
| Reset status flags     | Only F_POR is set                | Only F_POR is set                | Only F_POR is set                | Only F_POR is set                |
| MC_ME previous mode    | Reset                            | Reset                            | Reset                            | Reset                            |
| FCCU fault information | Cleared                          | Cleared                          | Cleared                          | Cleared                          |
| SRAM content           | Invalid                          | Invalid                          | Invalid                          | Invalid                          |
| DRAM content           | Invalid                          | Invalid                          | Invalid                          | Invalid                          |

Table continues on the next page...

Reset

Table 123. Status of chip after POR (continued)

| Functionality                      | After POR                     | After POR                     | After POR                     | After POR                     |
|------------------------------------|-------------------------------|-------------------------------|-------------------------------|-------------------------------|
|                                    | Initial                       | During reset sequence         | During Run                    | During Standby                |
| Standby RAM content                | Invalid                       | Invalid                       | Invalid                       | Invalid                       |
| Configuration from fuses           | Loaded                        | Reloaded                      | Reloaded                      | Reloaded                      |
| Cores                              | Off                           | Off                           | Off                           | Off                           |
| Resettable subsystem               | All off and in reset          | All off and in reset          | All off and in reset          | All off and in reset          |
| POR domain (Run)                   | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| POR domain (Standby)               | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| Destructive reset domain (Run)     | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| Destructive reset domain (Standby) | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| Functional reset domain (Run)      | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| Standby domain                     | On with default configuration | On with default configuration | On with default configuration | On with default configuration |
| Standby pins                       | Default configuration         | Default configuration         | Default configuration         | Default configuration         |
| Non-Standby pins                   | Default configuration         | Default configuration         | Default configuration         | Default configuration         |

Table 124. Status of chip after destructive reset

| Functionality            | During reset sequence            | During Run                       | During Standby                        |
|--------------------------|----------------------------------|----------------------------------|---------------------------------------|
| Clock sources            | FIRC and SIRC on, all others off | FIRC and SIRC on, all others off | FIRC and SIRC on, all others off      |
| Clock selection          | Default value (FIRC for system)  | Default value (FIRC for system)  | Default value (FIRC for system)       |
| Clock dividers           | Default values                   | Default values                   | Default values                        |
| Reset status flags       | F_DR_* is additionally set       | F_DR_* is additionally set       | F_DR_* and RGM_RDSS[DES_RE S] are set |
| MC_ME previous mode      | Reset                            | Reset                            | Reset                                 |
| FCCU fault information   | Cleared                          | Cleared                          | Cleared                               |
| SRAM content             | Invalid                          | Invalid                          | Invalid                               |
| DRAM content             | Invalid                          | Invalid                          | Invalid                               |
| Standby RAM content      | Invalid                          | Invalid                          | Invalid                               |
| Configuration from fuses | Reloaded                         | Reloaded                         | Reloaded                              |
| Cores                    | Off                              | Off                              | Off                                   |
| Resettable subsystem     | All off and in reset             | All off and in reset             | All off and in reset                  |
| POR domain (Run)         | On with previous configuration   | On with previous configuration   | On with default configuration         |
| POR domain (Standby)     | On with previous configuration   | On with previous configuration   | On with previous configuration        |

Table continues on the next page...

Reset

Table 124. Status of chip after destructive reset (continued)

| Functionality                      | During reset sequence         | During Run   | During Standby   |
|------------------------------------|-------------------------------|--------------|------------------|
| Destructive reset domain (Run)     | On with default configuration |              |                  |
| Destructive reset domain (Standby) | On with default configuration |              |                  |
| Functional reset domain (Run)      | On with default configuration |              |                  |
| Standby domain                     | On with default configuration |              |                  |
| Standby pins                       | Default configuration         |              |                  |
| Non-Standby pins                   | Default configuration         |              |                  |

## Table 125. Status of chip after functional reset

| Functionality                      | During Run                                          | During Standby                                      |
|------------------------------------|-----------------------------------------------------|-----------------------------------------------------|
| Clock sources                      | FIRC and SIRC on, all others off                    | FIRC and SIRC on, all others off                    |
| Clock selection                    | Default values (FIRC for system)                    | Default values (FIRC for system)                    |
| Clock dividers                     | Default values                                      | Default values                                      |
| Reset status flags                 | F_FR_* is additionally set                          | F_FR_* and RGM_RDSS[FES_RES] are set                |
| MC_ME previous mode                | Reset                                               | Reset                                               |
| FCCU fault information             | Retained                                            | Cleared                                             |
| SRAM content                       | Retained                                            | Invalid                                             |
| DRAM content                       | Retained if retention is enabled, otherwise invalid | Retained if retention is enabled, otherwise invalid |
| Standby RAM content                | Retained                                            | Retained                                            |
| Configuration from fuses           | Retained                                            | Retained                                            |
| Cores                              | Off                                                 | Off                                                 |
| Resettable subsystem               | All off and in reset                                | All off and in reset                                |
| POR domain (Run)                   | On with previous configuration                      | On with default configuration                       |
| POR domain (Standby)               | On with previous configuration                      | On with previous configuration                      |
| Destructive reset domain (Run)     | On with previous configuration                      | On with default configuration                       |
| Destructive reset domain (Standby) | On with previous configuration                      | On with previous configuration                      |
| Functional reset domain (Run)      | On with default configuration                       | On with default configuration                       |
| Standby domain                     | On with default configuration                       | On with default configuration                       |
| Standby pins                       | Default configuration                               | Default configuration                               |
| Non-Standby pins                   | Default configuration                               | Default configuration                               |

Reset

Table 126. Status of chip after wake-up

| Functionality                      | During Standby                                      |
|------------------------------------|-----------------------------------------------------|
| Clock sources                      | FIRC on, SIRC as on Standby entry, all others off   |
| Clock selection                    | Default values (FIRC for system)                    |
| Clock dividers                     | Default values                                      |
| Reset status flags                 | No flags set                                        |
| MC_ME previous mode                | Standby                                             |
| FCCU fault information             | Cleared                                             |
| HSE RAM                            | Initialized                                         |
| SRAM content                       | Invalid                                             |
| DRAM content                       | Retained if retention is enabled, otherwise invalid |
| Standby RAM content                | Retained                                            |
| Configuration from fuses           | Retained                                            |
| Cores                              | HSE on, all others off                              |
| Resettable subsystem               | All off and in reset                                |
| POR domain (Run)                   | On with default configuration                       |
| POR domain (Standby)               | On with previous configuration                      |
| Destructive reset domain (Run)     | On with default configuration                       |
| Destructive reset domain (Standby) | On with previous configuration                      |
| Functional reset domain (Run)      | On with default configuration                       |
| Standby domain                     | Unknown                                             |
| Standby pins                       | As on Standby entry                                 |
| Non-Standby pins                   | Default configuration                               |

## 28.8 Module status during reset process

Table 127. Module status during reset

| Module name   | POR   | Destructi ve reset   | Function al reset   | JCOMP   | PRSTn   | Power domain   | Part of LBIST   | Comment   |
|---------------|-------|----------------------|---------------------|---------|---------|----------------|-----------------|-----------|
| MC_RGM        | Y     | N                    | N                   | N       | N       | Standby        | No              |           |
| RDC           | Y     | Y                    | Y                   | N       | N       | Run            | No              |           |
| PMC           | Y     | N                    | N                   | N       | N       | Standby        | No              |           |
| FIRC          | Y     | N                    | N                   | N       | N       | Run            | No              |           |
| POR_WDOG      | Y     | N                    | N                   | N       | N       | Standby        | No              |           |

Table continues on the next page...

Table 127. Module status during reset (continued)

| Module name               | POR   | Destructi ve reset   | Function al reset   | JCOMP   | PRSTn   | Power domain   | Part of LBIST   | Comment                                  |
|---------------------------|-------|----------------------|---------------------|---------|---------|----------------|-----------------|------------------------------------------|
| MC_CGM                    | Y     | Y                    | N                   | N       | N       | Run            | No              |                                          |
| OCOTP                     | Y     | Y                    | N                   | N       | N       | Standby        | No              |                                          |
| HSE MU                    | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| Life cycle checking logic | Y     | Y                    | N                   | N       | N       | Standby        | No              |                                          |
| STCU2                     | Y     | Y                    | N                   | N       | N       | Run            | No              |                                          |
| FCCU                      | Y     | Y                    | N                   | N       | N       | Run            | Yes             |                                          |
| FOSU                      | Y     | Y                    | N                   | N       | N       | Run            | Yes             |                                          |
| MC_PCU                    | Y     | Y                    | N                   | N       | N       | Standby        | No              |                                          |
| WKPU                      | Y     | Y                    | N                   | N       | N       | Standby        | No              |                                          |
| SIRC                      | Y     | N                    | N                   | N       | N       | Standby        | No              |                                          |
| FXOSC                     | Y     | Y                    | Y                   | N       | N       | Run            | No              |                                          |
| PLL                       | Y     | Y                    | Y                   | N       | N       | Run            | No              |                                          |
| DFS                       | Y     | Y                    | Y                   | N       | N       | Run            | No              |                                          |
| RTC                       | Y     | Y                    | N                   | N       | N       | Standby        | No              |                                          |
| QuadSPI                   | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| Lockstep Cortex-M7 cores  | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| NoC                       | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| OCP2IPS                   | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| SEMA42                    | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| GIC500                    | Y     | Y                    | Y                   | N       | Y       | Run            | Yes             |                                          |
| Ncore                     | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| SWT                       | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| PIT                       | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| STM                       | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| FTM                       | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| MC_ME                     | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| SIUL2                     | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                          |
| SAR_ADC                   | Y     | Y                    | Y                   | N       | N       | Run            | Yes             | Calibration logic is on destuctive reset |

Table continues on the next page...

Reset

Table 127. Module status during reset (continued)

| Module name                      | POR   | Destructi ve reset   | Function al reset   | JCOMP   | PRSTn   | Power domain   | Part of LBIST   | Comment                                                                                      |
|----------------------------------|-------|----------------------|---------------------|---------|---------|----------------|-----------------|----------------------------------------------------------------------------------------------|
| CTU                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| FlexCAN                          | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| LINFlex                          | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| SPI                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| IIC                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| FlexRay                          | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| USDHC                            | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| GMAC (Ethernet)                  | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| DDR Controller                   | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| DDR PHY                          | Y     | Y                    | Y                   | N       | N       | Run            | Yes             | Functional reset executes warm reset sequence-destructive reset executes cold reset sequence |
| MSCM                             | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| XRDC                             | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| ERM                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| EIM                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| CRC                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| CMU                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| SbSW                             | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| TMU                              | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| eDMA                             | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| DMAMUX                           | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| SRAM Controller                  | Y     | Y                    | Y                   | N       | N       | Run            | Yes             |                                                                                              |
| Aurora                           | Y     | Y                    | N                   | N       | N       | Run            | Yes             |                                                                                              |
| JDC                              | Y     | N                    | N                   | Y       | N       | Run            | Yes             |                                                                                              |
| JTAGC                            | Y     | N                    | N                   | Y       | N       | Run            | No              |                                                                                              |
| Cortex-A53 ( n CPUPORE SET[1:0]) | Y     | Y                    | Y                   | N       | Y       | Run            | Yes             |                                                                                              |
| Cortex-A53 ( n CORERES ET[1:0])  | Y     | Y                    | Y                   | N       | Y       | Run            | Yes             |                                                                                              |

Table continues on the next page...

Table 127. Module status during reset (continued)

| Module name                                        | POR                                                                                                  | Destructi ve reset                                                                                   | Function al reset                                                                                    | JCOMP                                                                                                | PRSTn                                                                                                | Power domain                                                                                         | Part of LBIST                                                                                        | Comment                                              |
|----------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------|
| Cortex-A53 ( n L2RESET)                            | Y                                                                                                    | Y                                                                                                    | Y                                                                                                    | N                                                                                                    | Y                                                                                                    | Run                                                                                                  | Yes                                                                                                  |                                                      |
| Cortex-A53 ( n PRSTDEB UG)                         | Y                                                                                                    | Y                                                                                                    | N                                                                                                    | N                                                                                                    | Y                                                                                                    | Run                                                                                                  | Yes                                                                                                  |                                                      |
| PFE                                                | Y                                                                                                    | Y                                                                                                    | Y                                                                                                    | N                                                                                                    | Y                                                                                                    | Run                                                                                                  | Yes                                                                                                  |                                                      |
| Core debug including SWJ-DP, DAP, and multiple APs | Y                                                                                                    | Y                                                                                                    | N                                                                                                    | N                                                                                                    | N                                                                                                    | Run                                                                                                  | Yes                                                                                                  | TCK domain logic of DAP/SWJ- DP works on JCOMP reset |
| Y                                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  | Indicates that the entire module is reset on this particular reset.                                  |                                                      |
| Y                                                  | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. | Indicates that some portion of the module is reset on this particular reset and some portion is not. |                                                      |
| N                                                  | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           | Indicates that no portion of the module is reset on this particular reset.                           |                                                      |

## 28.9 Determining reset cause on reset exit

Reset

<!-- image -->

## 28.10 Reset-related I/Os

## Table 128. Reset-related I/Os

| Name    | Type          | Pulls    | Muxable   | Description                                                           |
|---------|---------------|----------|-----------|-----------------------------------------------------------------------|
| POR_B   | Input         | Pulldown | No        | Active-low power-on reset indicator from PMIC                         |
| RESET_B | Bidirectional | Pullup   | No        | Active-low open-drain external reset indicator                        |
| JCOMP   | Input         | Pulldown | No        | JTAG compatibility input causes JTAG/debug logic to be reset when low |

## 28.11 Pad states during reset sequence and immediately after reset exit

See the chip's IOMUX sheet.

## 28.12 Software resettable domains

## 28.12.1 Introduction

The chip is subdivided into several reset domains.

After POR, destructive, or functional reset, only the Main Reset Domain is released from reset. All other reset domains stay in reset until software writes the register field in MC\_RGM that releases a given reset domain from reset.

Software can also write a register field in MC\_RGM, and selectively put a reset domain back into reset, after ensuring a certain configuration. This configuration is controlled by MC\_CGM, MC\_ME, and RDC modules. These reset domains are referred to as software-resettable domains/partitions.

This reset structure results in better device availability. If a fault is detected in a software reset domain, that domain can be reset separately without impacting the operation of the rest of the chip.

MC\_RGM provides 64 bits per reset domain/partition including the main reset domain. These bits are used for resetting the software-resettable domain/partition itself or cores.

- 32-bit register RGM\_PRSTn\_0[PERIPH\_(64*n+31)\_RST : PERIPH\_(64*n)\_RST]
- 32-bit register RGM\_PRSTn\_1[PERIPH\_(64*n+63)\_RST : PERIPH\_(64*n+32)\_RST]

The RGM\_PRST0\_0/1 registers correspond to the main reset partition, the RGM\_PRST1\_0/1 registers correspond to the first software resettable partition, the RGM\_PRST2\_0/1 registers (if present) correspond to the second software resettable partition, and so on.

RGM\_PRSTn\_0[PERIPH\_(64*n)\_RST] corresponds to partition reset.

Table 129. PRST fields for individual partitions and cores

| PRST field    | Partition reset   | Core/Peripheral reset   | Reset partition name   | Core/Peripheral name        |
|---------------|-------------------|-------------------------|------------------------|-----------------------------|
| RGM_PRST0_0   | RGM_PRST0_0       | RGM_PRST0_0             | RGM_PRST0_0            | RGM_PRST0_0                 |
| PERIPH_0_RST  | No                | Yes                     | Main                   | Cortex-M7 cluster0          |
| PERIPH_1_RST  | No                | Yes                     | Main                   | Cortex-M7 cluster1          |
| PERIPH_2_RST  | No                | Yes                     | Main                   | Cortex-M7 cluster2          |
| PERIPH_3_RST  | No                | Yes                     | Main                   | DDR                         |
| PERIPH_4_RST  | No                | Yes                     | Main                   | PCIe_0                      |
| PERIPH_5_RST  | No                | Yes                     | Main                   | PCIe_0                      |
| PERIPH_16_RST | No                | Yes                     | Main                   | PCIe_1                      |
| PERIPH_17_RST | No                | Yes                     | Main                   | PCIe_1                      |
| RGM_PRST1_0   | RGM_PRST1_0       | RGM_PRST1_0             | RGM_PRST1_0            | RGM_PRST1_0                 |
| PERIPH_64_RST | Yes               | No                      | Cortex-A53             | NA                          |
| PERIPH_65_RST | No                | Yes                     | Cortex-A53             | Cortex-A53 Cluster 0 CORE 0 |
| PERIPH_66_RST | No                | Yes                     | Cortex-A53             | Cortex-A53 Cluster 1 CORE 1 |
| PERIPH_67_RST | No                | Yes                     | Cortex-A53             | Cortex-A53 Cluster 1 CORE 0 |
| PERIPH_68_RST | No                | Yes                     | Cortex-A53             | Cortex-A53 Cluster 1 CORE 1 |
| RGM_PRST2_0   | RGM_PRST2_0       | RGM_PRST2_0             | RGM_PRST2_0            | RGM_PRST2_0                 |

Table continues on the next page...

Reset

Table 129. PRST fields for individual partitions and cores (continued)

| PRST field     | Partition reset   | Core/Peripheral reset   | Reset partition name   | Core/Peripheral name   |
|----------------|-------------------|-------------------------|------------------------|------------------------|
| PERIPH_128_RST | Yes               | No                      | PFE                    | NA                     |
| RGM_PRST3_0    |                   |                         |                        |                        |
| PERIPH_192_RST | Yes               | No                      | LLCE                   | NA                     |

## 28.12.2 List of software reset domains/partitions on the chip

The following table lists software resettable domains/partitions on the chip.

Table 130. Software-resettable domains/partitions list

| Software- resettable domain   | Modules            | Reset control field in MC_RGM   |
|-------------------------------|--------------------|---------------------------------|
| RD1                           | Cortex-A53 Cluster | RGM_PRST1_0[PERIPH_64_RST]      |
| RD2                           | PFE                | RGM_PRST2_0[PERIPH_128_RST]     |
| RD3                           | LLCE               | RGM_PRST3_0[PERIPH_192_RST]     |

All other modules in the chip are part of the main reset domain (RD0).

## NOTE

A module is disabled when the module clock is gated or reset is not de-asserted. Attempting to access a module that is disabled by such causes will result in invalid behavior with no error response, a transfer error, or a hang.

## 28.12.2.1 Cortex-A53 software-resettable domain/partition

This reset domain consists of:

- Two Cortex-A53 clusters
- One GIC 500 pair in lockstep for handling interrupts
- The coherency fabric (Ncore) including directory cache
- Delay and comparison units to support lockstep operation

Each cluster consists of two Cortex-A53 cores. Both clusters can be either in delayed lockstep to each other, or can be run independently, depending on the prior configuration before removing them from reset.

Reset

Reset

<!-- image -->

## 28.12.3 State of the software reset domains/partitions after power-up/destructive/functional reset sequence

All of the software resettable domains/partitions are in reset state. Clocks to the reset domains/partitions are gated. Outputs of the reset domains/partitions are safe-stated, that is, output isolation is asserted. The NoC/crossbar interface of bus masters in the software-resettable domain/partition is safe-stated with the NoC/crossbar.

## 28.12.4 Software reset partition turn-on flowchart

For the Cortex-A53 reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

<!-- image -->

## 28.12.5 Software reset partition turn-off flowchart

For the Cortex-A53 reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

Reset

Reset

<!-- image -->

## NOTE

The software must ensure that NoC masters inside a software reset domain remain in Idle state before executing the turn off sequence.

## 28.12.6 PFE software reset partition turn-off flowchart

For the PFE reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

Reset

<!-- image -->

## 28.12.7 PFE software reset partition turn-on flowchart

For the PFE reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

Reset

<!-- image -->

## 28.12.8 LLCE software reset partition turn-on flowchart

For the LLCE reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

Reset

<!-- image -->

## 28.12.9 LLCE software reset partition turn-off flowchart

For the LLCE reset domain, clocks for the initial frequencies can be set up by configuring MC\_CGM\_1 to the FIRC clock. See the clocking chapter for details.

Reset

<!-- image -->

## 28.12.10 Core turn-on sequence

This sequence can be used to turn on the Cortex-M7 application cores or the Cortex-A53 cluster cores.

R52

Table 131. Core turn-on sequence

| Core                          | Reset control field in MC_RGM   |
|-------------------------------|---------------------------------|
| Cortex-M7 cluster 0           | RGM_PRST0_0[PERIPH_0_RST]       |
| Cortex-M7 cluster 1           | RGM_PRST0_0[PERIPH_1_RST]       |
| Cortex-M7 cluster 2           | RGM_PRST0_0[PERIPH_2_RST]       |
| Cortex-A53 core 0 - cluster 0 | RGM_PRST1_0[PERIPH_65_RST]      |
| Cortex-A53 core 1 - cluster 0 | RGM_PRST1_0[PERIPH_66_RST]      |
| Cortex-A53 core 2 - cluster 1 | RGM_PRST1_0[PERIPH_67_RST]      |
| Cortex-A53 core 3 - cluster 1 | RGM_PRST1_0[PERIPH_68_RST]      |

<!-- image -->

## 28.12.11 Core turn-off sequence

This sequence can be used to turn off Cortex-M7 application cores or the Cortex-A53 cluster cores.

Reset

<!-- image -->

## 28.12.12 Self-triggered reset (warm reset) sequence for Cortex-M7 application core

This sequence can be used for performing the core-initiated warm reset of the Cortex-M7 application core by writing into its own register. The core automatically comes out of reset after the reset sequence is finished and starts executing from the provided boot address.

Reset

<!-- image -->

## 28.12.13 Cortex-A53 core warm reset sequence

You must follow these steps for the Cortex-A53 warm reset sequence.

1. Write RM[RR] to issue WARMRESETREQ.
2. Write 0 to SCTLR[C] to prevent further data cache allocation.
3. Clean and invalidate all data from the L1 data cache.
4. Disable data coherency with other cores in the cluster by clearing CPUECTLR[SMPEN].
5. Execute an ISB instruction to ensure that all register changes from the previous steps have been completed.
6. Execute a DSB SY instruction to ensure that all cache, TLB, and branch predictor maintenance operations issued by any core in the cluster device before the SMPEN field was cleared have completed.
7. Execute a WFI instruction and wait until the STANDBYWFI output is asserted.

Reset

Warm reset is issued to the core (that is, nCORERESET is asserted) when the WARMRESETREQ and STANDBYWFI signals are asserted and the SMPEN signal is deasserted. The duration of warm reset is 256 cycles of Cortex-A53\_CORE\_CLK.

For more information see Cortex-A53 documentation: Arm Cortex-A53 MPCore Processor Technical Reference Manual, Revision r0p4 at www.arm.com.

## 28.12.14 Software peripheral resets

Some peripherals (or logic on them) must exit reset only after software implements a particular configuration. In these cases, dedicated software fields ensure the peripherals exit reset.

Table 132. Fields for peripheral reset

| Peripheral   | Reset control field in MC_RGM   | Description                                |
|--------------|---------------------------------|--------------------------------------------|
| DDR          | RGM_PRST0_0[PERIPH_3_RST]       | Reset for AXI interface and DDR controller |
| PCIe_0       | RGM_PRST0_0[PERIPH_4_RST]       | Reset control of PCIe_0                    |
| PCIe_0       | RGM_PRST0_0[PERIPH_5_RST]       | Power-on reset of SerDes subsystem         |
| PCIe_1       | RGM_PRST0_0[PERIPH_16_RST]      | Reset control of PCIe_1                    |
| PCIe_1       | RGM_PRST0_0[PERIPH_17_RST       | Power-on reset of SerDes subsystem         |

## NOTE

The peripheral resets, after deassertion, should not be asserted again using these register fields. They are asserted on the next functional, destructive, or POR reset.

## NOTE

For a description of any soft reset feature supported by a peripheral, see the peripheral's dedicated chapter.

## NOTE

The PRST0\_0[PERIPH\_3\_RST] reset must deassert when DDR\_CLK is selected as FIRC. DDR\_CLK can be switched to functional frequency after the reset deasserts.

## 28.13 Reset Domain Controller (RDC) register descriptions

This section provides the memory map and descriptions of registers for configuring the system reset. All registers can be accessed using 8-bit, 16-bit, or 32-bit addressing.

## 28.13.1 RDC memory map

RDC base address: 4008\_0000h

| Offset   | Register                                       |   Width (In bits) | Access   | Reset value   |
|----------|------------------------------------------------|-------------------|----------|---------------|
| 4h       | Software Reset Domain 1 Control (RD1_CTRL_REG) |                32 | RW       | 0000_000Fh    |
| 8h       | Software Reset Domain 2 Control (RD2_CTRL_REG) |                32 | RW       | 0000_000Fh    |
| Ch       | Software Reset Domain 3 Control (RD3_CTRL_REG) |                32 | RW       | 0000_000Fh    |
| 84h      | Software Reset Domain 1 Status (RD1_STAT_REG)  |                32 | R        | 0000_0018h    |
| 88h      | Software Reset Domain 2 Status (RD2_STAT_REG)  |                32 | R        | 0000_0018h    |
| 8Ch      | Software Reset Domain 3 Status (RD3_STAT_REG)  |                32 | R        | 0000_0018h    |

## 28.13.2 Software Reset Domain 1 Control (RD1\_CTRL\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD1_CTRL_REG | 4h       |

## Diagram

<!-- image -->

## Fields

| Field                                   | Function                                                                                                                                                                                                                                |
|-----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 RD1_CTRL_UN LOCK                     | Reset Domain 1 Control Register Unlock 0b - Software Reset Domain 1 Control register fields are locked and cannot be updated except for this field 1b - Software Reset Domain 1 Control register fields are unlocked and can be updated |
| 30-4 -                                  | Reserved                                                                                                                                                                                                                                |
| 3 RD1_INTERCO NNECT_INTER FACE_DISABL E | Interconnect interface Disable of Software Reset Domain 1 0b - Enable interconnect interface of Software Reset Domain 1 1b - Disable interconnect interface of Software Reset Domain 1                                                  |
| 2-0 -                                   | Reserved                                                                                                                                                                                                                                |

Reset

## 28.13.3 Software Reset Domain 2 Control (RD2\_CTRL\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD2_CTRL_REG | 8h       |

## Diagram

<!-- image -->

## Fields

| Field                                   | Function                                                                                                                                                                                                                                |
|-----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 RD2_CTRL_UN LOCK                     | Reset Domain 2 Control Register Unlock 0b - Software Reset Domain 2 control register fields are locked and cannot be updated except for this field 1b - Software Reset Domain 2 control register fields are unlocked and can be updated |
| 30-4 -                                  | Reserved                                                                                                                                                                                                                                |
| 3 RD2_INTERCO NNECT_INTER FACE_DISABL E | Interconnect interface Disable of Software Reset Domain 2 0b - Enable interconnect interface of Software Reset Domain 2 1b - Disable interconnect interface of Software Reset Domain 2                                                  |
| 2-0 -                                   | Reserved                                                                                                                                                                                                                                |

## 28.13.4 Software Reset Domain 3 Control (RD3\_CTRL\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD3_CTRL_REG | Ch       |

## Diagram

<!-- image -->

## Fields

| Field                                   | Function                                                                                                                                                                                                                                |
|-----------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 RD3_CTRL_UN LOCK                     | Reset Domain 3 Control Register Unlock 0b - Software Reset Domain 3 control register fields are locked and cannot be updated except for this field 1b - Software Reset Domain 3 control register fields are unlocked and can be updated |
| 30-4 -                                  | Reserved                                                                                                                                                                                                                                |
| 3 RD3_INTERCO NNECT_INTER FACE_DISABL E | Interconnect interface Disable of Software Reset Domain 3 0b - Enable interconnect interface of Software Reset Domain 3 1b - Disable interconnect interface of Software Reset Domain 3                                                  |
| 2-0 -                                   | Reserved                                                                                                                                                                                                                                |

Reset

## 28.13.5 Software Reset Domain 1 Status (RD1\_STAT\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD1_STAT_REG | 84h      |

<!-- image -->

## Fields

| Field                                                 | Function                                                                                                                                                                                                                                                              |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-5 -                                                | Reserved                                                                                                                                                                                                                                                              |
| 4 RD1_INTERCO NNECT_INTER FACE_DISABL E_STAT          | Interconnect Interface Disable Acknowledgment Status of Software Reset Domain 1 0b - Interconnect interface not disabled for Software Reset Domain 1 1b - Interconnect interface disabled for Software Reset Domain 1                                                 |
| 3 RD1_INTERCO NNECT_INTER FACE_DISABL E_REQ_ACK_S TAT | Interconnect Interface Disable Request Acknowledgment Status of Software Reset Domain 1 0b - Interconnect interface disable request not acknowledged for Software Reset Domain 1 1b - Interconnect interface disable request acknowledged for Software Reset Domain 1 |
| 2-0 -                                                 | Reserved                                                                                                                                                                                                                                                              |

## 28.13.6 Software Reset Domain 2 Status (RD2\_STAT\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD2_STAT_REG | 88h      |

<!-- image -->

## Fields

| Field                                                 | Function                                                                                                                                                                                                                                                              |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-5 -                                                | Reserved                                                                                                                                                                                                                                                              |
| 4 RD2_INTERCO NNECT_INTER FACE_DISABL E_STAT          | Interconnect Interface Disable Acknowledgment Status of Software Reset Domain 2 0b - Interconnect interface not disabled for Software Reset Domain 2 1b - Interconnect interface disabled for Software Reset Domain 2                                                 |
| 3 RD2_INTERCO NNECT_INTER FACE_DISABL E_REQ_ACK_S TAT | Interconnect Interface Disable Request Acknowledgment Status of Software Reset Domain 2 0b - Interconnect interface disable request not acknowledged for Software Reset Domain 2 1b - Interconnect interface disable request acknowledged for Software Reset Domain 2 |
| 2-0 -                                                 | Reserved                                                                                                                                                                                                                                                              |

## 28.13.7 Software Reset Domain 3 Status (RD3\_STAT\_REG)

## Offset

| Register     | Offset   |
|--------------|----------|
| RD3_STAT_REG | 8Ch      |

<!-- image -->

## Fields

| Field                                                 | Function                                                                                                                                                                                                                                                              |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-5 -                                                | Reserved                                                                                                                                                                                                                                                              |
| 4 RD3_INTERCO NNECT_INTER FACE_DISABL E_STAT          | Interconnect Interface Disable Acknowledgment Status of Software Reset Domain 3 0b - Interconnect interface not disabled for Software Reset Domain 3 1b - Interconnect interface disabled for Software Reset Domain 3                                                 |
| 3 RD3_INTERCO NNECT_INTER FACE_DISABL E_REQ_ACK_S TAT | Interconnect Interface Disable Request Acknowledgment Status of Software Reset Domain 3 0b - Interconnect interface disable request not acknowledged for Software Reset Domain 3 1b - Interconnect interface disable request acknowledged for Software Reset Domain 3 |
| 2-0 -                                                 | Reserved                                                                                                                                                                                                                                                              |

## Chapter 29 Reset Generation Module (MC\_RGM)

## 29.1 Chip-specific MC\_RGM information

## 29.1.1 Reset sources

MC\_RGM centralizes the chip's reset sources. In this chapter, each numbered reset source corresponds to the source with the same index number in the "Reset sources" table in the Reset chapter. The following table shows this correspondence.

Table 133. Reset sources

| Source      | Corresponding MC_RGM register and field   | Index number in the "Reset sources" table   |
|-------------|-------------------------------------------|---------------------------------------------|
| Destructive | DES[F_DR_ n ]                             | D[ n ]                                      |
| Functional  | FES[F_FR_ n ]                             | F[ n ]                                      |

## 29.1.2 Peripheral numbers

For information on peripheral-number mapping, see the "PRST bits for individual partitions and cores" table in the "Software resettable domains" section of the Reset chapter.

## 29.1.3 Clear functional reset counter during initial application sequence

Boot ROM reads the FREC register to determine the number of functional resets. If the number of functional resets issued during boot ROM execution is greater than eight, the boot process enters Fail-Safe mode, which is serial boot. To avoid having the boot ROM enter Fail-Safe mode because of repeated functional resets, clear FREC[FREC] when you pass control to the application.

## 29.1.4 Limitations on individual peripheral resets

This chip supports individual peripheral resets in a limited manner. See the "Software resettable domains" section of the Reset chapter for details.

## 29.2 Introduction

The Reset Generation Module (MC\_RGM) centralizes the different reset sources and manages the reset sequence of the chip. It provides a register interface and the reset sequencer. There are various registers available in this module to monitor and control the chip reset sequence.

The following figure shows the block diagram of MC\_RGM.

This figure contains layers. Do not save this image as plain SVG. Reset Generation Module (MC\_RGM)

<!-- image -->

## 29.3 Features

Here are the key features of MC\_RGM:

- Destructive and functional reset management
- Capturing the reset sources for each reset sequence (reset status flags)
- Assertion the Reset\_B pin to propagate the reset sequence out of chip
- Configurable escalation of recurring 'functional' resets to 'destructive' reset

Reset Generation Module (MC\_RGM)

- Configurable escalation of recurring 'destructive' resets to keep the chip in the reset state until the next power-on reset
- Support for resetting peripherals individually. For any limitations on this feature, see the chip-specific MC\_RGM information
- Software controllable reset assertion
- Pad safe state control generation

## 29.4 Reset sources

The reset sources are organized in three categories: power-on, destructive, and functional.

A power-on reset source is associated with an event typically related to power-up or low-voltage scenarios. When a power-on reset occurs, the full reset sequence is applied to the chip. This resets the full chip, including the MC\_RGM, and the memory content must be considered to be unknown.

A destructive reset source is associated with an event related to a critical, usually hardware, error or dysfunction. When a destructive reset event occurs, the full reset sequence is applied to the chip. This resets the full chip (except for a small portion, for example FIRC, JTAG interface) ensuring a safe start-up state for both digital and analog modules, and the memory content must be considered to be unknown.

A functional reset source is associated with an event related to a less-critical, usually non-hardware, error or dysfunction. When a functional reset event occurs, a partial reset sequence is applied to the chip. In this case, most digital modules are reset normally, while the state of analog modules or specific digital modules as well as the system memory content is preserved.

## 29.5 External signal description

The MC\_RGM interfaces with the RESET\_B pin.

The following table describes the signals that are connected to the I/O pad ring.

Table 134. MC\_RGM external signals

| Signal name   |   Reset value | Description                                                                      |
|---------------|---------------|----------------------------------------------------------------------------------|
| RESET_B       |             1 | Active low external reset. A bidirectional reset pin indicating the reset state. |

## 29.6 RESET\_B pin assertion and pin safe state control

The MC\_RGM asserts the RESET\_B pin when the device is in a reset sequence, and it remains asserted until the end of the reset sequence. During this reset sequence, most of the chip's pins are safe-stated according to the values shown in the IOMUX table. Note that the safe state values may vary according to the reset sequence type.

In addition, the MC\_RGM has a feature to assert the RESET\_B pin through software, without initiating a reset sequence. This is achieved by writing 1b to the ERCTRL[ERASSERT]. When this occurs, most of the chip's pins are safe-stated according to the values shown in the IOMUX table. The RESET\_B assertion and pin safe-stating remain active until the end of the next reset sequence.

This features has to be used only with selftest of the main reset domain.

## 29.7 MC\_RGM register descriptions

Access to the following locations do not generate transfer error:

- 2Ch

## 29.7.1 MC RGM Register Map memory map

MC\_RGM base address: 4007\_8000h

Reset Generation Module (MC\_RGM)

| Offset   | Register                                               |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Destructive Event Status Register (DES)                |                32 | RW       | 0000_0001h    |
| 8h       | Functional /External Reset Status Register (FES)       |                32 | RW       | 0000_0000h    |
| Ch       | Functional Event Reset Disable Register (FERD)         |                32 | RW       | 0000_0000h    |
| 14h      | Functional Reset Escalation Counter Register (FREC)    |                32 | RW       | 0000_0000h    |
| 18h      | Functional Reset Escalation Threshold Register (FRET)  |                32 | RW       | 0000_000Fh    |
| 1Ch      | Destructive Reset Escalation Threshold Register (DRET) |                32 | RW       | 0000_0000h    |
| 20h      | External Reset Control Register (ERCTRL)               |                32 | RW       | 0000_0000h    |
| 24h      | Reset During Standby Status Register (RDSS)            |                32 | RW       | 0000_0000h    |
| 40h      | Peripheral Reset (PRST0_0)                             |                32 | RW       | 0003_003Fh    |
| 48h      | Peripheral Reset (PRST1_0)                             |                32 | RW       | 0000_001Fh    |
| 50h      | Peripheral Reset (PRST2_0)                             |                32 | RW       | 0000_0001h    |
| 58h      | Peripheral Reset (PRST3_0)                             |                32 | RW       | 0000_0001h    |
| 140h     | Peripheral Reset Status Register (PSTAT0_0)            |                32 | R        | 0003_003Fh    |
| 148h     | Peripheral Reset Status Register (PSTAT1_0)            |                32 | R        | 0000_001Fh    |
| 150h     | Peripheral Reset Status Register (PSTAT2_0)            |                32 | R        | 0000_0001h    |
| 158h     | Peripheral Reset Status Register (PSTAT3_0)            |                32 | R        | 0000_0001h    |

## 29.7.2 Destructive Event Status Register (DES)

## Offset

| Register   | Offset   |
|------------|----------|
| DES        | 0h       |

## Function

This register contains the status of the 'destructive' reset sources. This register can be accessed as read/write in supervisor mode and read-only in user mode. Register bits are cleared on write '1'. This register is reset only on power-on reset.

## Diagram

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25      | 24      | 23   | 22      | 21   | 20      | 19      | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|---------|---------|------|---------|------|---------|---------|----------|----------|----------|
| R      | F_DR_ 31 | F_DR_ 30 | 0        | 0        | 0        | 0        | 0       | 0       | 0    | 0       | 0    | 0       | 0       | F_DR_ 18 | F_DR_ 17 | F_DR_ 16 |
| W      | W1C      | W1C      |          |          |          |          |         |         |      |         |      |         |         | W1C      | W1C      | W1C      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0       | 0       | 0    | 0       | 0    | 0       | 0       | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9       | 8       | 7    | 6       | 5    | 4       | 3       | 2        | 1        | 0        |
| R      | 0        | 0        | F_DR_ 13 | F_DR_ 12 | F_DR_ 11 | F_DR_ 10 | F_DR_ 9 | F_DR_ 8 | 0    | F_DR_ 6 | 0    | F_DR_ 4 | F_DR_ 3 | 0        | F_DR_ 1  | F_ POR   |
| W      |          |          | W1C      | W1C      | W1C      | W1C      | W1C     | W1C     |      | W1C     |      | W1C     | W1C     |          | W1C      | W1C      |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0       | 0       | 0    | 0       | 0    | 0       | 0       | 0        | 0        | 1        |

## Fields

| Field      | Function                                                                                                                                                                                                            |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 F_DR_31 | Flag for 'Destructive' Reset F_DR_31 0b - 'Destructive' reset event F_DR_31 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_31 has occurred. |
| 30 F_DR_30 | Flag for 'Destructive' Reset F_DR_30 0b - 'Destructive' reset event F_DR_30 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_30 has occurred. |
| 29 -       | Reserved                                                                                                                                                                                                            |
| 28 -       | Reserved                                                                                                                                                                                                            |
| 27 -       | Reserved                                                                                                                                                                                                            |
| 26 -       | Reserved                                                                                                                                                                                                            |
| 25 -       | Reserved                                                                                                                                                                                                            |
| 24 -       | Reserved                                                                                                                                                                                                            |
| 23         | Reserved                                                                                                                                                                                                            |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                            |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                                                                                     |
| 22 -       | Reserved                                                                                                                                                                                                            |
| 21 -       | Reserved                                                                                                                                                                                                            |
| 20 -       | Reserved                                                                                                                                                                                                            |
| 19 -       | Reserved                                                                                                                                                                                                            |
| 18 F_DR_18 | Flag for 'Destructive' Reset F_DR_18 0b - 'Destructive' reset event F_DR_18 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_18 has occurred. |
| 17 F_DR_17 | Flag for 'Destructive' Reset F_DR_17 0b - 'Destructive' reset event F_DR_17 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_17 has occurred. |
| 16 F_DR_16 | Flag for 'Destructive' Reset F_DR_16 0b - 'Destructive' reset event F_DR_16 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_16 has occurred. |
| 15 -       | Reserved                                                                                                                                                                                                            |
| 14 -       | Reserved                                                                                                                                                                                                            |
| 13 F_DR_13 | Flag for 'Destructive' Reset F_DR_13 0b - 'Destructive' reset event F_DR_13 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_13 has occurred. |
| 12 F_DR_12 | Flag for 'Destructive' Reset F_DR_12 0b - 'Destructive' reset event F_DR_12 has not occurred since either the last clear or the last power-on reset assertion.                                                      |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                            |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 11 F_DR_11 | Flag for 'Destructive' Reset F_DR_11 0b - 'Destructive' reset event F_DR_11 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_11 has occurred. |
| 10 F_DR_10 | Flag for 'Destructive' Reset F_DR_10 0b - 'Destructive' reset event F_DR_10 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_10 has occurred. |
| 9 F_DR_9   | Flag for 'Destructive' Reset F_DR_9 0b - 'Destructive' reset event F_DR_9 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_9 has occurred.    |
| 8 F_DR_8   | Flag for 'Destructive' Reset F_DR_8 0b - 'Destructive' reset event F_DR_8 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_8 has occurred.    |
| 7 -        | Reserved                                                                                                                                                                                                            |
| 6 F_DR_6   | Flag for 'Destructive' Reset F_DR_6 0b - 'Destructive' reset event F_DR_6 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_6 has occurred.    |
| 5 -        | Reserved                                                                                                                                                                                                            |
| 4 F_DR_4   | Flag for 'Destructive' Reset F_DR_4 0b - 'Destructive' reset event F_DR_4 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_4 has occurred.    |
| 3 F_DR_3   | Flag for 'Destructive' Reset F_DR_3 0b - 'Destructive' reset event F_DR_3 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_3 has occurred.    |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                                   |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 -      | Reserved                                                                                                                                                                                                                   |
| 1 F_DR_1 | Flag for 'Destructive' Reset F_DR_1 0b - 'Destructive' reset event F_DR_1 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Destructive' reset event F_DR_1 has occurred.           |
| 0 F_POR  | Flag for power-on reset All reset status in the FES and DES registers must be ignored at power up if this field is set. NOTE 0b - No power-on event has occurred since the last clear. 1b - A power-on event has occurred. |

## 29.7.3 Functional /External Reset Status Register (FES)

## Offset

| Register   | Offset   |
|------------|----------|
| FES        | 8h       |

## Function

This register contains the status of the 'functional' and external reset sources. This register can be accessed as read/write in supervisor mode and read-only in user mode. Register bits are cleared on write '1' if the triggering event has already been cleared at the source. This register is reset only on power-on reset.

## NOTE

The status of this register must be ignored if the fields of Destructive Event Status Register (DES) other than DES[F\_POR] are set. In this case, a destructive reset had occurred while functional reset source was active.

## Diagram

| Bits   | 31       | 30       | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22      | 21       | 20       | 19      | 18       | 17   | 16    |
|--------|----------|----------|------|------|------|------|------|------|------|---------|----------|----------|---------|----------|------|-------|
| R      | F_FR_ 31 | F_FR_ 30 | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0       | F_FR_ 21 | F_FR_ 20 | 0       | F_FR_ 18 | 0    | 0     |
| W      | W1C      | W1C      |      |      |      |      |      |      |      |         | W1C      | W1C      |         | W1C      |      |       |
| Reset  | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0       | 0        | 0        | 0       | 0        | 0    | 0     |
| Bits   | 15       | 14       | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6       | 5        | 4        | 3       | 2        | 1    | 0     |
| R      | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | F_FR_ 6 | 0        | F_FR_ 4  | F_FR_ 3 | 0        | 0    | F_EXR |
| W      |          |          |      |      |      |      |      |      |      | W1C     |          | W1C      | W1C     |          |      | W1C   |
| Reset  | 0        | 0        | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0       | 0        | 0        | 0       | 0        | 0    | 0     |

## Fields

| Field      | Function                                                                                                                                                                                                         |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 F_FR_31 | Flag for 'Functional' Reset F_FR_31 0b - 'Functional' reset event F_FR_31 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_31 has occurred. |
| 30 F_FR_30 | Flag for 'Functional' Reset F_FR_30 0b - 'Functional' reset event F_FR_30 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_30 has occurred. |
| 29 -       | Reserved                                                                                                                                                                                                         |
| 28 -       | Reserved                                                                                                                                                                                                         |
| 27 -       | Reserved                                                                                                                                                                                                         |
| 26 -       | Reserved                                                                                                                                                                                                         |
| 25 -       | Reserved                                                                                                                                                                                                         |
| 24 -       | Reserved                                                                                                                                                                                                         |
| 23         | Reserved                                                                                                                                                                                                         |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                         |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -          |                                                                                                                                                                                                                  |
| 22 -       | Reserved                                                                                                                                                                                                         |
| 21 F_FR_21 | Flag for 'Functional' Reset F_FR_21 0b - 'Functional' reset event F_FR_21 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_21 has occurred. |
| 20 F_FR_20 | Flag for 'Functional' Reset F_FR_20 0b - 'Functional' reset event F_FR_20 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_20 has occurred. |
| 19 -       | Reserved                                                                                                                                                                                                         |
| 18 F_FR_18 | Flag for 'Functional' Reset F_FR_18 0b - 'Functional' reset event F_FR_18 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_18 has occurred. |
| 17 -       | Reserved                                                                                                                                                                                                         |
| 16 -       | Reserved                                                                                                                                                                                                         |
| 15 -       | Reserved                                                                                                                                                                                                         |
| 14 -       | Reserved                                                                                                                                                                                                         |
| 13 -       | Reserved                                                                                                                                                                                                         |
| 12 -       | Reserved                                                                                                                                                                                                         |
| 11 -       | Reserved                                                                                                                                                                                                         |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                                                                                      |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 10 -     | Reserved                                                                                                                                                                                                      |
| 9 -      | Reserved                                                                                                                                                                                                      |
| 8 -      | Reserved                                                                                                                                                                                                      |
| 7 -      | Reserved                                                                                                                                                                                                      |
| 6 F_FR_6 | Flag for 'Functional' Reset F_FR_6 0b - 'Functional' reset event F_FR_6 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_6 has occurred. |
| 5 -      | Reserved                                                                                                                                                                                                      |
| 4 F_FR_4 | Flag for 'Functional' Reset F_FR_4 0b - 'Functional' reset event F_FR_4 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_4 has occurred. |
| 3 F_FR_3 | Flag for 'Functional' Reset F_FR_3 0b - 'Functional' reset event F_FR_3 has not occurred since either the last clear or the last power-on reset assertion. 1b - 'Functional' reset event F_FR_3 has occurred. |
| 2 -      | Reserved                                                                                                                                                                                                      |
| 1 -      | Reserved                                                                                                                                                                                                      |
| 0 F_EXR  | Flag for External Reset 0b - No external reset event has occurred since either the last clear or the last power-on reset assertion. 1b - An external reset event has occurred.                                |

## 29.7.4 Functional Event Reset Disable Register (FERD)

## Offset

| Register   | Offset   |
|------------|----------|
| FERD       | Ch       |

## Function

This register provides dedicated fields to disable functional reset sources. When any of these reset sources are disabled, the associated functional event is demoted to trigger an interrupt request. This register can be accessed as read/write in supervisor mode and read-only in user mode. Each byte can be written to only once after a destructive or power-on reset and this register is reset only on power-on and any destructive reset.

## NOTE

It is important to clear the Functional /External Reset Status Register (FES) before writing 1 to any of the fields in this register. Otherwise a interrupt request may occur.

## Diagram

| Bits   | 31    | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|-------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | D_F_F | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      | R_... |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15    | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | D_   |
| W      |       |      |      |      |      |      |      |      |      |      |      |      |      |      |      | EXR  |
| Reset  | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                   |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 D_F_FR_31 | F_FR_31 Disable Control 0b - Functional reset event F_FR_31 triggers a reset sequence. 1b - Functional reset event F_FR_31 generates an interrupt request. |
| 30 -         | Reserved                                                                                                                                                   |
| 29 -         | Reserved                                                                                                                                                   |
| 28 -         | Reserved                                                                                                                                                   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13      | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                                                    |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                             |
| 12 -    | Reserved                                                                                                                                                    |
| 11 -    | Reserved                                                                                                                                                    |
| 10 -    | Reserved                                                                                                                                                    |
| 9 -     | Reserved                                                                                                                                                    |
| 8 -     | Reserved                                                                                                                                                    |
| 7 -     | Reserved                                                                                                                                                    |
| 6 -     | Reserved                                                                                                                                                    |
| 5 -     | Reserved                                                                                                                                                    |
| 4 -     | Reserved                                                                                                                                                    |
| 3 -     | Reserved                                                                                                                                                    |
| 2 -     | Reserved                                                                                                                                                    |
| 1 -     | Reserved                                                                                                                                                    |
| 0 D_EXR | External Reset event demote to interrupt 0b - 'External' reset event triggers a reset sequence. 1b - 'External' reset event generates an interrupt request. |

## 29.7.5 Functional Reset Escalation Counter Register (FREC)

## Offset

| Register   | Offset   |
|------------|----------|
| FREC       | 14h      |

## Function

This register provides the current value of functional reset escalation counter. It can be accessed in read/write, either in supervisor mode. It can be accessed in read in the user mode. This register is reset by power-on reset, destructive reset, when you reconfigure the FREC field to Fh and when you write any value to the Functional Reset Escalation Threshold Register (FRET) register.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      | FREC | FREC | FREC | FREC |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | W1C  | W1C  | W1C  | W1C  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                  |
|---------|---------------------------------------------------------------------------|
| 31-4    | Reserved                                                                  |
| -       |                                                                           |
| 3-0     | Functional' Reset Escalation Counter                                      |
| FREC    | This bit field provides the value of functional reset escalation counter. |

## 29.7.6 Functional Reset Escalation Threshold Register (FRET)

## Offset

| Register   | Offset   |
|------------|----------|
| FRET       | 18h      |

Reset Generation Module (MC\_RGM)

## Function

This register sets the threshold for 'functional' reset escalation to a 'destructive' reset. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode. Writing a non-zero value to the FRET field enables the 'functional' reset escalation function. Writing any value to this register resets the 'functional' reset escalation counter. See Functional reset escalation for details on the 'functional' reset escalation function. This register is reset on power-on and any 'destructive' reset.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                          |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4    | Reserved                                                                                                                                                                          |
| -       |                                                                                                                                                                                   |
| 3-0     | 'Functional' Reset Escalation Threshold                                                                                                                                           |
| FRET    | If the value of this field is 0, the 'functional' reset escalation function is disabled. Any other value is the number of 'functional' resets that causes a 'destructive' reset . |

## 29.7.7 Destructive Reset Escalation Threshold Register (DRET)

## Offset

| Register   | Offset   |
|------------|----------|
| DRET       | 1Ch      |

## Function

This register sets the threshold for 'destructive' reset escalation to keeping the chip in the reset state until the next power-on reset triggers a new reset sequence. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode. Writing a non-zero value to the DRET field enables the 'destructive' reset escalation function. Writing any value to this register resets the 'destructive' reset counter. See Destructive reset escalation for details on the 'destructive' reset escalation function. This register is reset only on power-on reset.

Reset Generation Module (MC\_RGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      | DRET | DRET | DRET | DRET |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field    | Function                                                                                                                                                                                                   |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 -   | Reserved                                                                                                                                                                                                   |
| 3-0 DRET | 'Destructive' Reset Escalation Threshold If the value of this field is 0, the 'destructive' reset escalation the number of 'destructive' resets which keeps the chip in the triggers a new reset sequence. |

## 29.7.8 External Reset Control Register (ERCTRL)

## Offset

| Register   | Offset   |
|------------|----------|
| ERCTRL     | 20h      |

## Function

This register allows software to control the assertion of External reset pin. It can be accessed in read/write, in supervisor mode. It can be accessed in read-only in the user mode. This register is reset on all resets.

Reset Generation Module (MC\_RGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | ERAS |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | SERT |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field      | Function                                                                                                                                                                                                                                                                                                                                                                        |
|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1 -     | Reserved                                                                                                                                                                                                                                                                                                                                                                        |
| 0 ERASSERT | ERASSERT Setting ERASSERT to 1b also safe states most of the chip's pins. See the IOMUX table for each pin's safe state value. Software must use the ERASSERT bit for this purpose only as part of the main reset domain self-test entry procedure. Using it at any other time may result in unpredictable system behavior. NOTE 0b - No change 1b - External reset is asserted |

## 29.7.9 Reset During Standby Status Register (RDSS)

## Offset

| Register   | Offset   |
|------------|----------|
| RDSS       | 24h      |

## Function

This register provides status of whether a reset event occurred during standby mode. Register bits are cleared on write '1'. This register is reset only on power-on reset.

## NOTE

On exiting a reset sequence after standby exit, the software must perform a read operation on MC\_ME[PREV\_MODE] and RDSS register. If any bit of the RDSS register is set, the software must ignore the status reported by MC\_ME[PREV\_MODE] register otherwise the status of MC\_ME[PREV\_MODE] register reports the device status.

If MC\_ME indicates last mode as RESET, then perform a reset exit in software else a standby exit.

Reset Generation Module (MC\_RGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16       |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|----------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |          |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0        |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | DES_ RES |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | W1C      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0        |

## Fields

| Field     | Function                                                                                                                         |
|-----------|----------------------------------------------------------------------------------------------------------------------------------|
| 31-2      | Reserved                                                                                                                         |
| 1         | Reserved                                                                                                                         |
| 0 DES_RES | DES_RES 0b - No destructive reset event occurred during standby mode. 1b - Destructive reset event occurred during standby mode. |

## 29.7.10 Peripheral Reset (PRST0\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PRST0_0    | 40h      |

## Function

This register provides individual resets for various peripherals. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode.

NOTE

This register is reset on functional reset assertion.

Reset Generation Module (MC\_RGM)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21          | 20          | 19    | 18    | 17          | 16          |
|--------|------|------|------|------|------|------|------|------|------|------|-------------|-------------|-------|-------|-------------|-------------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0     | 0     | PERIP H_... | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |             |             |       |       |             |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0     | 0     | 1           | 1           |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5           | 4           | 3     | 2     | 1           | 0           |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... | PERIP H_... | PERIP | PERIP | PERIP       | PERIP       |
| W      |      |      |      |      |      |      |      |      |      |      |             |             | H_... | H_... | H_...       | H_...       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           | 1           | 1     | 1     | 1           | 1           |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field             | Function                                                                                                                  |
|-------------------|---------------------------------------------------------------------------------------------------------------------------|
| 21 -              | Reserved                                                                                                                  |
| 20 -              | Reserved                                                                                                                  |
| 19 -              | Reserved                                                                                                                  |
| 18 -              | Reserved                                                                                                                  |
| 17 PERIPH_17_RS T | Reset Control value for peripheral PERIPH_17_RST 0b - No forced reset on PERIPH_17_RST 1b - Forced Reset on PERIPH_17_RST |
| 16 PERIPH_16_RS T | Reset Control value for peripheral PERIPH_16_RST 0b - No forced reset on PERIPH_16_RST 1b - Forced Reset on PERIPH_16_RST |
| 15 -              | Reserved                                                                                                                  |
| 14 -              | Reserved                                                                                                                  |
| 13 -              | Reserved                                                                                                                  |
| 12 -              | Reserved                                                                                                                  |
| 11 -              | Reserved                                                                                                                  |
| 10 -              | Reserved                                                                                                                  |
| 9 -               | Reserved                                                                                                                  |
| 8                 | Reserved                                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field           | Function                                                                                                               |
|-----------------|------------------------------------------------------------------------------------------------------------------------|
| -               |                                                                                                                        |
| 7 -             | Reserved                                                                                                               |
| 6 -             | Reserved                                                                                                               |
| 5 PERIPH_5_RS T | Reset Control value for peripheral PERIPH_5_RST 0b - No forced reset on PERIPH_5_RST 1b - Forced Reset on PERIPH_5_RST |
| 4 PERIPH_4_RS T | Reset Control value for peripheral PERIPH_4_RST 0b - No forced reset on PERIPH_4_RST 1b - Forced Reset on PERIPH_4_RST |
| 3 PERIPH_3_RS T | Reset Control value for peripheral PERIPH_3_RST 0b - No forced reset on PERIPH_3_RST 1b - Forced Reset on PERIPH_3_RST |
| 2 PERIPH_2_RS T | Reset Control value for peripheral PERIPH_2_RST 0b - No forced reset on PERIPH_2_RST 1b - Forced Reset on PERIPH_2_RST |
| 1 PERIPH_1_RS T | Reset Control value for peripheral PERIPH_1_RST 0b - No forced reset on PERIPH_1_RST 1b - Forced Reset on PERIPH_1_RST |
| 0 PERIPH_0_RS T | Reset Control value for peripheral PERIPH_0_RST 0b - No forced reset on PERIPH_0_RST 1b - Forced Reset on PERIPH_0_RST |

## 29.7.11 Peripheral Reset (PRST1\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PRST1_0    | 48h      |

## Function

This register provides individual resets for various peripherals. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20          | 19    | 18    | 17    | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|-------------|-------|-------|-------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0     | 0     | 0     | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |             |       |       |       |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0     | 0     | 0     | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4           | 3     | 2     | 1     | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... | PERIP | PERIP | PERIP | PERIP |
| W      |      |      |      |      |      |      |      |      |      |      |      |             | H_... | H_... | H_... | H_... |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           | 1     | 1     | 1     | 1     |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |

Table continues on the next page...

## NOTE

This register is reset on functional reset assertion.

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 22 -    | Reserved   |
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8       | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field            | Function                                                                                                                  |
|------------------|---------------------------------------------------------------------------------------------------------------------------|
| -                |                                                                                                                           |
| 7 -              | Reserved                                                                                                                  |
| 6 -              | Reserved                                                                                                                  |
| 5 -              | Reserved                                                                                                                  |
| 4 PERIPH_68_RS T | Reset Control value for peripheral PERIPH_68_RST 0b - No forced reset on PERIPH_68_RST 1b - Forced Reset on PERIPH_68_RST |
| 3 PERIPH_67_RS T | Reset Control value for peripheral PERIPH_67_RST 0b - No forced reset on PERIPH_67_RST 1b - Forced Reset on PERIPH_67_RST |
| 2 PERIPH_66_RS T | Reset Control value for peripheral PERIPH_66_RST 0b - No forced reset on PERIPH_66_RST 1b - Forced Reset on PERIPH_66_RST |
| 1 PERIPH_65_RS T | Reset Control value for peripheral PERIPH_65_RST 0b - No forced reset on PERIPH_65_RST 1b - Forced Reset on PERIPH_65_RST |
| 0 PERIPH_64_RS T | Reset Control value for peripheral PERIPH_64_RST 0b - No forced reset on PERIPH_64_RST 1b - Forced Reset on PERIPH_64_RST |

## 29.7.12 Peripheral Reset (PRST2\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PRST2_0    | 50h      |

## Function

This register provides individual resets for various peripherals. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | H_... |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1     |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |

Table continues on the next page...

## NOTE

This register is reset on functional reset assertion.

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 22 -    | Reserved   |
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8       | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field             | Function                                                                                                                     |
|-------------------|------------------------------------------------------------------------------------------------------------------------------|
| -                 |                                                                                                                              |
| 7 -               | Reserved                                                                                                                     |
| 6 -               | Reserved                                                                                                                     |
| 5 -               | Reserved                                                                                                                     |
| 4 -               | Reserved                                                                                                                     |
| 3 -               | Reserved                                                                                                                     |
| 2 -               | Reserved                                                                                                                     |
| 1 -               | Reserved                                                                                                                     |
| 0 PERIPH_128_R ST | Reset Control value for peripheral PERIPH_128_RST 0b - No forced reset on PERIPH_128_RST 1b - Forced Reset on PERIPH_128_RST |

## 29.7.13 Peripheral Reset (PRST3\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PRST3_0    | 58h      |

## Function

This register provides individual resets for various peripherals. It can be accessed in read/write, either in supervisor mode. It can be accessed in read-only in the user mode.

## NOTE

This register is reset on functional reset assertion.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |       |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0     |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | H_... |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1     |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7       | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field             | Function                                                                                                                     |
|-------------------|------------------------------------------------------------------------------------------------------------------------------|
| -                 |                                                                                                                              |
| 6 -               | Reserved                                                                                                                     |
| 5 -               | Reserved                                                                                                                     |
| 4 -               | Reserved                                                                                                                     |
| 3 -               | Reserved                                                                                                                     |
| 2 -               | Reserved                                                                                                                     |
| 1 -               | Reserved                                                                                                                     |
| 0 PERIPH_192_R ST | Reset Control value for peripheral PERIPH_192_RST 0b - No forced reset on PERIPH_192_RST 1b - Forced Reset on PERIPH_192_RST |

## 29.7.14 Peripheral Reset Status Register (PSTAT0\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PSTAT0_0   | 140h     |

## Function

This register provides the current reset status for various peripherals. It can be accessed in read-only in all modes.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|------|------|------|------|------|------|------|------|------|------|-------------|-------------|-------------|-------------|-------------|-------------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0           | 0           | PERIP H_... | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |             |             |             |             |             |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0           | 0           | 1           | 1           |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5           | 4           | 3           | 2           | 1           | 0           |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... | PERIP H_... | PERIP H_... | PERIP H_... | PERIP H_... | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |             |             |             |             |             |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           | 1           | 1           | 1           | 1           | 1           |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22      | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field              | Function                                                                                                                             |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| -                  |                                                                                                                                      |
| 21 -               | Reserved                                                                                                                             |
| 20 -               | Reserved                                                                                                                             |
| 19 -               | Reserved                                                                                                                             |
| 18 -               | Reserved                                                                                                                             |
| 17 PERIPH_17_ST AT | Reset Status for peripheral PERIPH_17_STAT 0b - Peripheral PERIPH_17_STAT is not in reset 1b - Peripheral PERIPH_17_STAT is in reset |
| 16 PERIPH_16_ST AT | Reset Status for peripheral PERIPH_16_STAT 0b - Peripheral PERIPH_16_STAT is not in reset 1b - Peripheral PERIPH_16_STAT is in reset |
| 15 -               | Reserved                                                                                                                             |
| 14 -               | Reserved                                                                                                                             |
| 13 -               | Reserved                                                                                                                             |
| 12 -               | Reserved                                                                                                                             |
| 11 -               | Reserved                                                                                                                             |
| 10 -               | Reserved                                                                                                                             |
| 9 -                | Reserved                                                                                                                             |

Table continues on the next page...

## Table continued from the previous page...

| Field            | Function                                                                                                                          |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| 8 -              | Reserved                                                                                                                          |
| 7 -              | Reserved                                                                                                                          |
| 6 -              | Reserved                                                                                                                          |
| 5 PERIPH_5_STA T | Reset Status for peripheral PERIPH_5_STAT 0b - Peripheral PERIPH_5_STAT is not in reset 1b - Peripheral PERIPH_5_STAT is in reset |
| 4 PERIPH_4_STA T | Reset Status for peripheral PERIPH_4_STAT 0b - Peripheral PERIPH_4_STAT is not in reset 1b - Peripheral PERIPH_4_STAT is in reset |
| 3 PERIPH_3_STA T | Reset Status for peripheral PERIPH_3_STAT 0b - Peripheral PERIPH_3_STAT is not in reset 1b - Peripheral PERIPH_3_STAT is in reset |
| 2 PERIPH_2_STA T | Reset Status for peripheral PERIPH_2_STAT 0b - Peripheral PERIPH_2_STAT is not in reset 1b - Peripheral PERIPH_2_STAT is in reset |
| 1 PERIPH_1_STA T | Reset Status for peripheral PERIPH_1_STAT 0b - Peripheral PERIPH_1_STAT is not in reset 1b - Peripheral PERIPH_1_STAT is in reset |
| 0 PERIPH_0_STA T | Reset Status for peripheral PERIPH_0_STAT 0b - Peripheral PERIPH_0_STAT is not in reset 1b - Peripheral PERIPH_0_STAT is in reset |

## 29.7.15 Peripheral Reset Status Register (PSTAT1\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PSTAT1_0   | 148h     |

## Function

This register provides the current reset status for various peripherals. It can be accessed in read-only in all modes.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20          | 19          | 18          | 17          | 16          |
|--------|------|------|------|------|------|------|------|------|------|------|------|-------------|-------------|-------------|-------------|-------------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0           | 0           | 0           |
| W      |      |      |      |      |      |      |      |      |      |      |      |             |             |             |             |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4           | 3           | 2           | 1           | 0           |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... | PERIP H_... | PERIP H_... | PERIP H_... | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |      |             |             |             |             |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           | 1           | 1           | 1           | 1           |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7       | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field             | Function                                                                                                                             |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| -                 |                                                                                                                                      |
| 6 -               | Reserved                                                                                                                             |
| 5 -               | Reserved                                                                                                                             |
| 4 PERIPH_68_ST AT | Reset Status for peripheral PERIPH_68_STAT 0b - Peripheral PERIPH_68_STAT is not in reset 1b - Peripheral PERIPH_68_STAT is in reset |
| 3 PERIPH_67_ST AT | Reset Status for peripheral PERIPH_67_STAT 0b - Peripheral PERIPH_67_STAT is not in reset 1b - Peripheral PERIPH_67_STAT is in reset |
| 2 PERIPH_66_ST AT | Reset Status for peripheral PERIPH_66_STAT 0b - Peripheral PERIPH_66_STAT is not in reset 1b - Peripheral PERIPH_66_STAT is in reset |
| 1 PERIPH_65_ST AT | Reset Status for peripheral PERIPH_65_STAT 0b - Peripheral PERIPH_65_STAT is not in reset 1b - Peripheral PERIPH_65_STAT is in reset |
| 0 PERIPH_64_ST AT | Reset Status for peripheral PERIPH_64_STAT 0b - Peripheral PERIPH_64_STAT is not in reset 1b - Peripheral PERIPH_64_STAT is in reset |

## 29.7.16 Peripheral Reset Status Register (PSTAT2\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PSTAT2_0   | 150h     |

## Function

This register provides the current reset status for various peripherals. It can be accessed in read-only in all modes.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16          |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0           |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7       | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field              | Function                                                                                                                                |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| -                  |                                                                                                                                         |
| 6 -                | Reserved                                                                                                                                |
| 5 -                | Reserved                                                                                                                                |
| 4 -                | Reserved                                                                                                                                |
| 3 -                | Reserved                                                                                                                                |
| 2 -                | Reserved                                                                                                                                |
| 1 -                | Reserved                                                                                                                                |
| 0 PERIPH_128_S TAT | Reset Status for peripheral PERIPH_128_STAT 0b - Peripheral PERIPH_128_STAT is not in reset 1b - Peripheral PERIPH_128_STAT is in reset |

## 29.7.17 Peripheral Reset Status Register (PSTAT3\_0)

## Offset

| Register   | Offset   |
|------------|----------|
| PSTAT3_0   | 158h     |

## Function

This register provides the current reset status for various peripherals. It can be accessed in read-only in all modes.

## Diagram

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16          |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|-------------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0           |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0           |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | PERIP H_... |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |             |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1           |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |

Table continues on the next page...

Reset Generation Module (MC\_RGM)

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17 -    | Reserved   |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7       | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field              | Function                                                                                                                                |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| -                  |                                                                                                                                         |
| 6 -                | Reserved                                                                                                                                |
| 5 -                | Reserved                                                                                                                                |
| 4 -                | Reserved                                                                                                                                |
| 3 -                | Reserved                                                                                                                                |
| 2 -                | Reserved                                                                                                                                |
| 1 -                | Reserved                                                                                                                                |
| 0 PERIPH_192_S TAT | Reset Status for peripheral PERIPH_192_STAT 0b - Peripheral PERIPH_192_STAT is not in reset 1b - Peripheral PERIPH_192_STAT is in reset |

## 29.8 Functional description

## 29.8.1 Reset state machine

The main role of MC\_RGM is the generation of the reset sequence that ensures that the correct parts of the chip are reset based on the reset source event.

For each reset event, immediately after it is captured by the MC\_RGM, the following takes place:

1. The corresponding reset event status bit is set in the MC\_RGM\_DES and MC\_RGM\_FES registers.
2. The pins are put into their default states
3. The RESET\_B pin is asserted.

Reset Generation Module (MC\_RGM)

<!-- image -->

## NOTE

See chip-specific MC\_RGM information for chip-specific reset sequence details.

## 29.8.1.1 Power-on reset sequence

A reset is always generated when the power-on reset source is asserted, and it has priority over all other reset sources. Such a power-on reset forces the reset state machine to enter the power-on sequence resulting in the assertion of all reset signals. The reset state machine starts progressing when the following two conditions are verified:

1. All the power-on reset events are cleared
2. The MC\_RGM's clock source (the FIRC) has started up and stabilized

If a power-on reset event has occurred, the DES[F\_POR] bit is set.

The power-on reset cannot be demoted by the software.

## 29.8.1.2 Destructive reset sequence

The 'Destructive reset sequence' is comprised of a number of phases, where DEST0 is the first phase and is followed by DEST1 and so forth.

This phase is entered immediately from any phase on a power-on, standby reset sequence, or enabled destructive reset event . A destructive reset counter starts immediately on entry in the DEST0 phase . The DEST0 state is exited to the DEST1 state on the rising edge of FIRC\_CLK immediately after all of the following conditions have been established:

- the DEST0 duration time has expired

- all destructive resets inputs are cleared

The DEST0 state is immediately exited to the power-on state after if a power-on reset event occurs.

The reset state machine exits the destructive reset sequence and enters the functional reset sequence when:

- All the destructive reset events are cleared.
- All the processes that take place during the destructive reset sequence have completed. For details on completed destructive reset sequence, see "Reset process sequence" section in the Reset chapter.
- The 'destructive' reset escalator counter has not reached the value in DRET[DRET].

## 29.8.1.3 Functional reset sequence

There are two functional reset sequence, the functional reset entry sequence and the functional reset exit sequence.

## 29.8.1.3.1 Functional reset entry sequence

The functional reset entry sequence is only entered when a functional reset event occurs during the idle phase.

If a functional reset event occurs during an ongoing reset sequence, the corresponding event status flag is set, and the RESET\_B pin is asserted per the reset event's configuration. However, the reset sequence is not influenced, and it continues to progress without interruption.

Functional reset is not asserted during functional reset entry sequence.

The functional reset entry sequence is exited to the DEST0 on the next rising edge of FIRC if a destructive reset event has occurred. The sequence immediately enters the power up sequence if a POR event occurs

In all other cases, the sequence exits to the first stage of functional reset exit sequence.

## 29.8.1.3.2 Functional reset exit sequence

The functional reset exit sequence is entered either on exit from the destructive reset sequence or on completion of the functional reset entry sequence. The reset state machine exits this sequence and enters the idle phase on verification of the following:

- All the functional reset events are cleared.
- All the processes that take place during the destructive reset sequence have completed. For details on completed functional reset sequence, see "Reset process sequence" section in the Reset chapter.

If a functional reset event occurs during an ongoing reset sequence, the corresponding event status flag is set, and the RESET\_B pin is asserted per the reset event's configuration. However, the reset sequence is not influenced, and it continues to progress without interruption.

## 29.8.1.4 Idle phase

This is the final phase and is entered on exit from the functional reset exit sequence . When this phase is reached, MC\_RGM releases control of the system to the platform and waits for the new reset events that can trigger a reset sequence.

## 29.8.2 Destructive resets

A destructive reset indicates that an event has occurred after which critical register or memory content can no longer be guaranteed.

The status flag associated with a given destructive reset event (Destructive Event Status Register (DES)) is set when the destructive reset is asserted and the power-on reset is not asserted. It is possible for multiple status bits to be set simultaneously and the software determines which reset source is the most critical for the application.

The low-voltage detector threshold ensures that when the reset corresponding to the core supply low-voltage detect is enabled, the supply is sufficient to have the destructive event correctly propagated through the digital logic. Therefore, if a given destructive reset is enabled, MC\_RGM ensures that the associated reset event is correctly triggered to the full system.

Reset Generation Module (MC\_RGM)

Reset Generation Module (MC\_RGM)

An enabled destructive reset triggers a reset sequence starting from the beginning of DEST0.

## 29.8.3 External reset

MC\_RGM manages the external reset coming from RESET\_B. The detection of a falling edge on RESET\_B starts the reset sequence from the beginning of the functional reset entry sequence.

The status flag associated with the external reset falling edge event (the RGM\_FES[F\_EXR] bit) is set when the external reset is asserted and the power-on reset is not asserted.

## 29.8.4 Functional resets

A functional reset indicates that an event has occurred after which it can be guaranteed that critical register and memory content is still intact.

The status flag associated with a given functional reset event (Functional /External Reset Status Register (FES)) is set when the functional reset is asserted and the power-on reset is not asserted. It is possible for multiple status bits to be set simultaneously and the software determines which reset source is the most critical for the application.

An enabled functional reset triggers a reset sequence starting from the beginning of the functional reset entry sequence.

## 29.8.5 Alternate event generation

MC\_RGM provides alternative events to be generated on reset source assertion. When a reset source is asserted, MC\_RGM normally enters the reset sequence. Alternatively, it is possible for some reset source events to be converted from a reset to an interrupt request issued to the core. Alternate event selection for a given reset source is made through the RGM\_FERD register as shown in the following table.

Table 135. Functional Reset Disable Register (RGM\_FERD) field descriptions

|   RGM bit FERD value | Generated event   |
|----------------------|-------------------|
|                    0 | Reset             |
|                    1 | Interrupt request |

The alternate event is cleared by deasserting the source of the request (that is, at the reset source that caused the alternate request) and also clearing the appropriate RGM\_FES status bit.

## 29.8.6 Reset\_b assertion control

The software indicates to the MC\_RGM that the RESET\_B is to be asserted by writing to the ERASSERT bit in the RGM\_ERCTRL register. When this bit is set by the software, RESET\_B gets asserted. Setting of this field does not impact the reset sequence in any way.

An example where the ERCTRL[ERASSERT] field could be set by the software is when entering the self test sequence, during which RESET\_B is to be asserted. This indicates the chip is not available in the functional mode although a reset sequence is not in progress. The deassertion of RESET\_B is not controlled by the software. Instead, the RESET\_B pin remains asserted until the next time the chip exits a reset sequence.

ERASSERT bit is also cleared during the reset sequence.

MC\_RGM asserts the external reset if the reset sequence is triggered by one of the following:

- A power-on reset
- A destructive reset event
- A functional reset event

Reset Generation Module (MC\_RGM)

In this case, external reset is asserted until all conditions for the exiting reset sequence have been met, with the exception of the RESET\_B assertion check

## 29.8.7 Functional reset escalation

Functional reset escalation can be used to generate a destructive reset if a number of functional resets is occurred between software writes to the RGM\_FRET register. This function is enabled by writing a non-zero value to the FRET field of this register.

After the functional reset escalation is enabled, MC\_RGM increases a counter on each functional reset that causes a reset sequence to be initiated (which means, entrance into FUNC0 from the IDLE phase). This counter is cleared on a write of any value to the RGM\_FRET register and on any power-on or destructive reset. If the counter reaches the value in the FRET field of the RGM\_FRET register, MC\_RGM asserts a destructive reset.

The following figure shows the functional reset escalation counter.

<!-- image -->

## NOTE

Functional counter increments for each reset source for which escalation is enabled. For details, see "Reset sources" table in the Reset chapter.

## 29.8.8 Destructive reset escalation

Destructive reset escalation can be used to keep the chip in the reset state until the power-on triggers a reset sequence if a number of destructive resets are occurred between software writes to the RGM\_DRET register. This function is enabled by writing a non-zero value to the DRET field of this register.

After destructive reset escalation is enabled, MC\_RGM increases a counter on each destructive reset that is enabled. . This causes a reset sequence to be initiated (that is, entrance into DEST0 from the idle phase or any other reset phase) or an ongoing reset sequence to restart (that is, entrance into DEST0 from any other reset phase). This counter is cleared on a write of any value to the RGM\_DRET register and on any power-on reset. If the counter reaches the value in the DRET field of the RGM\_DRET register, MC\_RGM enters reset DEST0 and stays there until the next power-on reset occurs .

The following figure shows the destructive reset escalation counter.

Reset Generation Module (MC\_RGM)

<!-- image -->

## NOTE

Destructive counter increments for each reset source for which escalation is enabled. For details, see "Reset sources" table in the Reset chapter.

## 29.8.9 Individual peripheral resets

A peripheral can be reset individually without resetting the rest of the chip by setting the appropriate bit in the RGM\_PRSTn registers. However, to prevent unexpected behavior by the chip, the following sequence must be observed by software.

1. Disable the peripheral that is to be reset through MC\_ME (see the MC\_ME chapter for details).
2. Wait for the mode change to complete.
3. Set the bit corresponding to the peripheral in the RGM\_PRSTn registers.
4. Wait until the bit corresponding to the peripheral in the RGM\_PSTATn registers isset.
5. Clear the bit corresponding to the peripheral in the RGM\_PRSTn registers.
6. Wait until the bit corresponding to the peripheral in the RGM\_PSTATn registers is cleared.

The peripheral can be kept in reset indefinitely by not executing steps 5 and 6. After the completion of step 6, the peripheral can be enabled again through MC\_ME.

## NOTE

For any limitations on this feature, see the chip-specific MC\_RGM information.

## Chapter 30 Boot

## 30.1 Introduction

This chapter describes the system boot sequence and provides details about boot options.

When the hardware reset sequence completes, the only processor core available in the HSE\_H subsystem is referred to as the HSE\_H core. The HSE\_H core begins executing firmware from the HSE\_H ROM module that contains the BootROM firmware. The BootROM firmware manages the boot sequence until it passes control to other code, based on the type of boot:

- In a non-secure boot, firmware passes control to customer software that runs on a processor core that is outside the HSE\_H subsystem.
- In a secure boot, firmware passes control to the HSE\_H firmware running on the HSE\_H core.

## 30.2 Features

BootROM boots both customer applications and HSE\_H firmware. For a secure boot, it creates the Root of Chain of Trust. BootROM supports the following features:

- Boot from external flash memory
- Secure and Non-Secure boot modes
- Selection of boot core for customer applications
- Serial download
- Execution of Device Configuration Data (DCD)
- Configuration and start of customer-provided self-test data
- Advance of chip life cycle state
- Debug challenge/response authentication
- Boot from Standby/Low Power mode
- Boot from a backup program image

## 30.3 Boot modes

This chip supports two boot modes:

- Serial Boot mode (from UART, CAN) is typically used for development and factory line programming. You can disable serial boot mode by blowing the DIS\_SER\_BOOT fuse.
- Boot from external flash memory (from QuadSPI flash, SD, or MMC) is typically used in production devices.

At reset, BootROM code for the HSE\_H core configures the boot mode, including memory type, speed, and so on. It does this from either RCON pins or fuses, based on the FUSE\_SEL fuse status.

Combinations of the following inputs control the boot mode:

- Boot mode pins (BOOTMOD1 and BOOTMOD2)
- FUSE\_SEL fuse (inhibits the use of RCON and forces fuse-based boot)
- Life cycle state (blocks some boot modes that are valid only for specific life cycle states)

The boot mode pin values are latched before deassertion of the RESET\_B signal, enabling selection of the required boot mode externally from the chip.

The following table shows the supported boot modes for various combinations of inputs.

Table 136. Supported boot modes

| Life cycle state                 | FUSE_SEL   |   BOOTMOD1 |   BOOTMOD2 | Mode                                              | Use case                                          |
|----------------------------------|------------|------------|------------|---------------------------------------------------|---------------------------------------------------|
| CUST_DEL or OEM_PROD or IN_FIELD | 0          |          0 |          0 | Serial boot + XOSC in Differential mode           | Production configuration for an unprogrammed chip |
| CUST_DEL or OEM_PROD or IN_FIELD | 0          |          0 |          1 | Serial boot + XOSC in Crystal mode or Bypass mode | Production configuration for an unprogrammed chip |
| CUST_DEL or OEM_PROD or IN_FIELD | 0          |          1 |          0 | Boot from RCON                                    | Development configuration                         |
| CUST_DEL or OEM_PROD or IN_FIELD | 1          |          0 |          0 | Boot from fuses                                   | Production configuration for a programmed chip    |
| CUST_DEL or OEM_PROD or IN_FIELD | 1          |          0 |          1 | Boot from fuses                                   | Production configuration for a programmed chip    |
| CUST_DEL or OEM_PROD or IN_FIELD | 1          |          1 |          0 | Serial boot                                       | Debug of a programmed chip                        |
| CUST_DEL or OEM_PROD or IN_FIELD | X          |          1 |          1 | Reserved                                          | Reserved                                          |

## NOTE

- The XOSC Crystal mode and XOSC Bypass mode configurations are valid only if the XOSC\_VALID fuse bit is not blown. See the attached fuse map spreadsheet.
- Boot from RCON and boot from fuses correspond to boot from external flash memory. BOOT\_CFG1[7:5]/ RCON[7:5] values determine the source for external flash memory.
- For available XOSC mode in this chip, refer to FXOSC chapter.

## 30.3.1 Serial Boot mode

Serial Boot mode enables application code to be downloaded to SRAM. There are many possible uses for serial boot, but the two primary use cases are:

- End-of-line flash memory and fuse programming
- Recovery of chips that fail to boot correctly (nonresponsive modules)

## NOTE

If serial boot is disabled by blowing DIS\_SER\_BOOT (BOOT\_CFG2[3]), significant testing limitations exist for devices returned for failure analysis. See the "CQC life cycle and retention" section of the Field Analysis Mechanisms chapter for further detail

## 30.3.1.1 End-of-line programming

In a new chip on the production line, the flash memory is not programmed and all fuses are not blown. To make the device usable, the flash memory must be programmed and the fuses blown with the desired configuration. Serial Boot mode enables download of the initial customer application and data to an unprogrammed device.

## 30.3.1.2 Non-responsive modules

Modules that fail to boot-due to software programming errors, flash memory failure, or PCB failure during production, for example-indicate that a chip is not responsive. Serial Boot mode provides a mechanism to download executable recovery

Boot

Boot software to SRAM. For example, the downloaded executable may reprogram the flash memory or may execute diagnostic code to determine the fault cause.

## 30.3.2 Boot from fuses and RCON

BootROM supports booting from multiple interfaces. To configure the interfaces to meet application requirements, BootROM requires a mechanism through which information can be passed to BootROM. BootROM supports two such mechanisms:

- Fuses
- RCONs

The following sections provide details of these mechanisms.

## 30.3.2.1 Boot from fuses

Boot from fuses is the primary method of configuring the boot process for production devices. In this method, boot code fetches boot configuration data from three fuse words. The following table lists the fuse words associated with boot from fuses.

| Fuse word   | Offset   |
|-------------|----------|
| BOOT_CFG1   | 234h     |
| BOOT_CFG2   | 238h     |
| BOOT_CFG3   | 23Ch     |

See the attached fuse map spreadsheet for fuse details. The Boot ROM Fuse Description tab in the spreadsheet provides a detailed view of the BOOT\_CFGn fuses. The boot fuse words are described under BOOT\_CFG\_LOCK and must be programmed by the application. Select the boot from fuses mechanism by blowing the FUSE\_SEL fuse and by pulling the BOOTMOD1 and BOOTMOD2 pins to the required state during reset.

## NOTE

After you have finalized the correct fuse values for each fuse word associated with boot from fuses, block further changes by enabling the fuse lock for BOOT\_CFG.

## 30.3.2.2 Boot from RCON

During application development, you may change a boot configuration multiple times before reaching the final version. After you blow the boot configuration fuses, you cannot change the configuration. If the configuration contains errors, the device may fail to boot. BootROM supports a mechanism for passing configuration parameters. The mechanism is referred to as Boot from RCON.

Boot from RCON enables you to change boot configurations during development without blowing fuses, because the RCON boot configuration data resides outside the chip. This boot mechanism is useful primarily during development to enable testing various boot configurations before blowing fuses, which finalizes the configuration.

BootROM supports booting from parallel RCON and serial RCON, as explained in the following sections.

## 30.3.2.2.1 Boot from parallel RCON

RCON uses up to 32 general-purpose I/O pins-RCON[0] to RCON[31]-that are latched on functional reset deassertion. RCON[31:0] corresponds bit by bit to values in the fuse word BOOT\_CFG1[31:0]. On every reset, the chip reads the 32 I/O pads and loads their values into the SRC module's BOTT\_GPR\_BMR1 register for later use by BootROM.

RCON[31:0] contains configuration parameters that may change multiple times during development. The BOOT\_CFG2 and BOOT\_CFG3 fuse words contain configuration parameters that do not require testing of multiple configurations.

On development boards, each of the 32 I/Os requires a DIP switch and an analog isolation gate to allow normal operation after reset.

## 30.3.2.2.2 Boot from serial RCON

An RCON over serial EEPROM scheme, referred to as serial RCON, is available. Unlike parallel RCON, serial RCON does not require DIP switches for 32 I/O PADs and analog gates, saving significant board area.

Serial RCON requires an external serial EEPROM that communicates with the chip via I 2 C. The 32 reset configuration bits are fetched from the external EEPROM (first 4 bytes, starting from offset 0h) as part of the boot process. I 2 C transmits one byte of data per read and BootROM reads the first 4 bytes. BootROM expects RCON[7:0] on first read, RCON[15: 8] on second, RCON[23:16] in third, and RCON[31:24] on the fourth read. Because I 2 C transmits the most significant bit first, keep the values in little-endian format.

The chip operates in master mode and the external serial EEPROM must be in slave mode. The SCL and SDA lines are configured in open-drain mode.

In master mode, I 2 C drives the SCL clock from XBAR\_DIV3\_CLK. I 2 C is initialized before the system clock is switched to PLL. The Inter Bus Clock rate (IBFD[IBC]) is programmed as 0Fh, and the effective SCL frequency is 8 MHz/68 = 117.67 kHz. See the I 2 C divider and hold tables in the Inter-Integrated Circuit (I 2 C) chapter for the corresponding I 2 C timing definitions.

The device address should be set to 0xA0.

## 30.3.2.3 RCON mode selection

The RCON[8] value determines which RCON mode is enabled:

- RCON[8] = 1 indicates that an I 2 C EEPROM is connected to RCON[7:8], and 32 bits of configuration data must be read from the EEPROM (see Boot from serial RCON).
- RCON[8] = 0 indicates that all 32 parallel RCON pins are used for the boot configuration (see Boot from parallel RCON).

Serial RCON uses two pins for configuration:

- RCON[7] is the I 2 C SDA signal.
- RCON[8] is the I 2 C SCL signal. It also indicates to BootROM whether RCON is going to use 32 parallel I/Os or a serial I 2 C device.

## 30.3.2.4 Selection of boot from fuses or boot from RCON

Boot from RCON is a development feature that is enabled on unprogrammed devices, so you do not need to do anything to select it. When you decide to use boot from RCON during application development, you need only choose between parallel RCON and serial RCON. See RCON mode selection for details.

After development is complete, the recommendation is to force the chip to always boot from fuses by performing the following steps:

1. Blow the BOOT\_CFGn fuses with the proper values.
2. Blow the FUSE\_SEL fuse to permanently disable boot from RCON. During end-of-line programming on the production line, you can perform this step via serial boot.
3. Pull the BOOTMOD pins to the required state during reset. See Table 136 for BOOTMOD pin states.

The following diagram shows the logical view of selecting the source of boot configuration information from fuses, parallel RCON, or serial RCON.

Boot

Boot

<!-- image -->

## 30.4 Program image

This section describes the set of images that you must include in a chip program image. A program image consists of:

- Image Vector Table (IVT) (see Image Vector Table (IVT))
- Device Configuration Data (DCD) (see Device Configuration Data (DCD))
- Self-Test DCD (see Self-Test)
- Application boot image (see Application boot)
- Serial boot image (see Serial boot)

## 30.4.1 Image Vector Table (IVT)

The IVT is the first image that BootROM reads from the boot device. The IVT contains the required data components: image entry point, pointer to Device Configuration Data (DCD), and other pointers used by BootROM during the boot process. The location of the IVT is the only fixed requirement by BootROM. The remainder of the image memory map is flexible and is traceable by the contents of the IVT. The IVT offset from the device base address and initial load region size for each boot device is defined in the tables below.

Table 137. IVT offset

| Boot device type            | IVT offset   |
|-----------------------------|--------------|
| SD/MMC/eMMC                 | 1000h        |
| QuadSPI serial flash memory | 0h           |

BootROM expects pointers to DCD, Self-Test DCD, the application image, and the HSE\_H firmware image to be 8-byte aligned for QuadSPI boot and 512-byte block aligned for SDHC boot.

Table 138. IVT image structure

| Address   |   Size (bytes) | Name                           | Comments                                                            |
|-----------|----------------|--------------------------------|---------------------------------------------------------------------|
| 0h        |              4 | IVT header                     | Header showing the start of the IVT                                 |
| 4h        |              4 | Reserved                       | Reserved                                                            |
| 8h        |              4 | Self-Test DCD pointer          | Pointer to the start of the configuration data used for BIST        |
| Ch        |              4 | Self-Test DCD pointer (backup) | Pointer to the start of the backup configuration data used for BIST |

Table continues on the next page...

## Table 138. IVT image structure (continued)

| Address   |   Size (bytes) | Name                                                      | Comments                                                                 |
|-----------|----------------|-----------------------------------------------------------|--------------------------------------------------------------------------|
| 10h       |              4 | DCD pointer                                               | Pointer to the start of DCD configuration data                           |
| 14h       |              4 | DCD pointer (backup)                                      | Pointer to the start of backup DCD configuration data                    |
| 18h       |              4 | HSE_H firmware flash memory start pointer                 | Pointer to the start of the HSE_H firmware in flash memory               |
| 1Ch       |              4 | HSE_H firmware flash memory start pointer (backup)        | Pointer to the start of the backup HSE_H firmware in flash memory        |
| 20h       |              4 | Application boot code flash memory start pointer          | Pointer to the start of the application boot code in flash memory        |
| 24h       |              4 | Application boot code flash memory start pointer (backup) | Pointer to the start of the backup application boot code in flash memory |
| 28h       |              4 | Boot configuration word                                   | Configuration data used to select the boot configuration                 |
| 2Ch       |              4 | Life cycle configuration word                             | Configuration data used for advancing life cycle                         |
| 30h       |              4 | Reserved                                                  | Reserved                                                                 |
| 34h       |             36 | Reserved for HSE_H firmware                               | Defined by the HSE_H firmware specification                              |
| 58h       |            140 | Reserved                                                  | Reserved                                                                 |
| E4h       |             12 | Random Initialization Vector                              | Random Value of IV used in AES-GCM operation used for IVT authentication |
| F0h       |             16 | Galois Message Authentication Code (GMAC)                 | GMAC of first 240 bytes of IVT image structure                           |

## Table 139. IVT image header

| Byte 0    | Byte 1   | Byte 2   | Byte 3        |
|-----------|----------|----------|---------------|
| TAG = D1h | Length = | 100h     | Version = 60h |

## 30.4.1.1 IVT boot configuration word

## Table 140. IVT boot configuration word

| 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19         | 18       | 17           | 16           |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|------------|----------|--------------|--------------|
| Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved   | Reserved | Reserved     | Reserved     |
| 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3          | 2        | 1            | 0            |
| Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | BOO T_SE Q | SWT      | BOOT_TARG ET | BOOT_TARG ET |

## Table 141. IVT boot configuration word field descriptions

| Field           | Description                                                                                                                                                                         |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31:5 -          | Reserved                                                                                                                                                                            |
| 3 BOOT_SEQ      | Secure Boot Mode 0b - Non-secure boot. BootROM executes application image without authentication. 1b - Secure boot. HSE_H firmware executes application image after authentication. |
| 2 SWT           | Boot Target Watchdog 0b - BootROM does not configure SWT_0 1b - BootROM enables SWT_0 with default timeout before BOOT_TARGET enabled                                               |
| 1:0 BOOT_TARGET | Boot Target Identifies the boot target, which is the core responsible for running application code. 00b - Cortex-M7_0 01b - Cortex-A53_0 10b - Reserved 11b - Reserved              |

## 30.4.1.2 Life cycle configuration word

## Table 142. Life cycle configuration word

| 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17        | 16         |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|-----------|------------|
| Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved  | Reserved   |
| 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1         | 0          |
| Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | IN_FI ELD | OEM _PRO D |

## Table 143. Life cycle configuration word field descriptions

| Field    | Description                                                                                                                                          |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31:2     | Reserved                                                                                                                                             |
| -        |                                                                                                                                                      |
| 1        | In Field                                                                                                                                             |
| IN_FIELD | Advances life cycle state to IN_FIELD. This field takes precedence over the OEM_PROD field value. 0b - Life cycle state does not advance to IN_FIELD |
| 0        | OEM Production                                                                                                                                       |

Table continues on the next page...

Table 143. Life cycle configuration word field descriptions (continued)

| Field    | Description                                                                                                                          |
|----------|--------------------------------------------------------------------------------------------------------------------------------------|
| OEM_PROD | Advances life cycle state to OEM_PROD. 0b - Life cycle state does not advance to OEM_PROD 1b - Life cycle state advances to OEM_PROD |

## 30.4.2 Device Configuration Data (DCD)

On reset, all module registers have default values. These settings are typically not ideal for achieving optimal system performance. Also, some peripherals must be configured before they can be used. DCD is the configuration information contained in the DCD image that BootROM uses to configure peripherals on the device. BootROM determines the location of the DCD table from the pointer in the IVT (see Table 138). Table 144 shows the DCD image structure-a big-endian byte array of allowed DCD commands. The maximum size of the DCD image is 8192 bytes.

## Table 144. DCD image structure

| Address offset   | Size (bytes)   | Name       | Comments                                                                            |
|------------------|----------------|------------|-------------------------------------------------------------------------------------|
| 0h               | 4              | DCD header | Header to signify start of DCD data                                                 |
| 4h               | DCD_Length     | DCD data   | DCD commands                                                                        |
| DCD_Length + 4   | 12             | Random IV  | Random Value of IV used in AES-GCM operation used for DCD authentication            |
| DCD_Length + 16  | 16             | GMAC       | Cryptographic hash for DCD header, complete DCD data and random IV using IVTDCD key |

## Table 145. DCD header format

| Byte 0    | Byte 1   | Byte 2    | Byte 3        |
|-----------|----------|-----------|---------------|
| TAG = D2h | Length 1 | (2 bytes) | Version = 60h |

1. Size of the DCD data plus the size of the DCD header

## 30.4.2.1 DCD commands

The DCD data is comprised of three commands:

- Write Data
- Check Data
- NOP

## 30.4.2.1.1 Write Data command

Use the Write Data command to write a list of 1-byte, 2-byte, or 4-byte values (or bit masks) to a corresponding list of target addresses. The Write Data command structure is a big-endian byte array as shown in the table below.

Table 146. Write Data command format

| Command type   | Byte 0    | Byte 1   | Byte 2   | Byte 3     |
|----------------|-----------|----------|----------|------------|
| Header         | TAG = CCh | Length   |          | Parameters |
| CMD            | Address   | Address  | Address  | Address    |

Table continues on the next page...

## Table 146. Write Data command format (continued)

| Command type   | Byte 0     | Byte 1     | Byte 2     | Byte 3     |
|----------------|------------|------------|------------|------------|
|                | Value/Mask | Value/Mask | Value/Mask | Value/Mask |
| CMD            | Address    | Address    | Address    | Address    |
| ...            | ...        | ...        | ...        | ...        |
| CMD            | Address    | Address    | Address    | Address    |
| CMD            | Value/Mask | Value/Mask | Value/Mask | Value/Mask |

## Table 147. Write Data command byte descriptions

| Command byte(s)   | Description                                                                                                                                                                                                 |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Length            | Size of entire Write Data command structure including header.                                                                                                                                               |
| Parameters        | A single byte divided into fields as shown in Table 148.                                                                                                                                                    |
| Address           | Target address where data will be written. As shown in Table 146, you can specify one or more Address and Value/Mask pairs. The same bytes and flag parameters apply to all locations in the command.       |
| Value/Mask        | Data value or bit mask to be written to Address. As shown in Table 146, you can specify one or more Address and Value/Mask pairs. The same bytes and flag parameters apply to all locations in the command. |

## Table 148. Write Data command Parameters byte

| 7   | 6   | 5   | 4        | 3         | 2     | 1     | 0     |
|-----|-----|-----|----------|-----------|-------|-------|-------|
|     |     |     | Data Set | Data Mask | Bytes | Bytes | Bytes |

## Table 149. Write Data command Parameters byte field descriptions

| Field       | Description                                                                                                                                                    |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 7:5 -       | Reserved                                                                                                                                                       |
| 4 Data Set  | Status bit showing whether bits at target were successfully overwritten. 0 - Bits at target address not overwritten 1 - Bits at the target address overwritten |
| 3 Data Mask | Enables overwriting of bits at target address. 0 - All bits may be overwritten 1 - Only specific bits may be overwritten                                       |
| 2:0 Bytes   | Width of target location(s) in bytes. 001 - 1 byte 010 - 2 bytes 100 - 4 bytes                                                                                 |

When successful, this command writes to each target address in accordance with the Data Mask and Data Set values as indicated in the following table.

Table 150. Effect of Write Data command Data Mask and Data Set values

|   Data Mask | Data Set   | Action                    | Interpretation   |
|-------------|------------|---------------------------|------------------|
|           0 | X          | *address = val_mask       | Write value      |
|           1 | 0          | *address &= ~val_mask     | Clear bit mask   |
|           1 | 1          | *address &#124;= val_mask | Set bit mask     |

BootROM performs the following checks when processing the list of write Address/Value pairs:

1. If any of the target addresses does not have the same alignment as the data width specified in the Bytes field of the Parameters byte, none of the values are written.
2. If any of the values is larger, or any of the bit masks is wider, than permitted by the data width specified in the Bytes field of the Parameters byte, none of the values are written.
3. If any of the target addresses do not lie within an allowed region, none of the values are written. For allowed target address ranges, see the notes below.

## NOTE

- You cannot use the Write Data command to write SRAM before SRAM initialization, because this will cause an ECC error due to the 64-bit ECC protection.

## 30.4.2.1.2 Check Data command

Use the Check Data command to test for a specific 1-, 2-, or 4-byte bit mask from a source address. The Check Data command structure is a big-endian byte array as shown in the following table.

Table 151. Check Data command structure

| Command type   | Byte 0             | Byte 1            | Byte 2            | Byte 3              |
|----------------|--------------------|-------------------|-------------------|---------------------|
| Header         | TAG = CFh (1 byte) | Length (2 bytes)  | Length (2 bytes)  | Parameters (1 byte) |
| CMD            | Address (4 bytes)  | Address (4 bytes) | Address (4 bytes) | Address (4 bytes)   |
|                | Mask (4 bytes)     | Mask (4 bytes)    | Mask (4 bytes)    | Mask (4 bytes)      |
|                | Count (4 bytes)    | Count (4 bytes)   | Count (4 bytes)   | Count (4 bytes)     |

Table 152. Check Data command byte descriptions

| Command byte(s)   | Description                                                                                                                                                                                                             |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Length            | Size of the entire Check Data command structure, including the header. Used to determine the optional Count.                                                                                                            |
| Parameters        | A single byte divided into fields as shown in Table 153.                                                                                                                                                                |
| Address           | Source address to test. The values in the same Parameters byte apply to all the Address/ Mask pairs in the command structure.                                                                                           |
| Mask              | Bit mask to test. The values in the same Parameters byte apply to all the Address/Mask pairs in the command structure.                                                                                                  |
| Count             | Optional poll count. If no value is specified this command polls indefinitely until the exit condition is met. For a finite value, this command polls Count times. If Count = 0, this command behaves as a NOP command. |

Table 153. Check Data command Parameters byte

| 7   | 6   | 5   | 4        | 3         | 2     | 1     | 0     |
|-----|-----|-----|----------|-----------|-------|-------|-------|
|     |     |     | Data Set | Data Mask | Bytes | Bytes | Bytes |

Table 154. Check Data command Parameters byte field descriptions

| Field       | Description                                                                                                                                                          |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 7:5 -       | Reserved                                                                                                                                                             |
| 4 Data Set  | Enables bit checking at target address. 0 - Bits at target address are ignored 1 - Bits at target address are checked                                                |
| 3 Data Mask | Enables partial/complete checking of bits when the Data Set field is set to 1. 0 - All bits in mask are checked 1 - Any bit in mask may be checked at target address |
| 2:0 Bytes   | Size of target locations in bytes. 001 - 1 byte 010 - 2 bytes 100 - 4 bytes                                                                                          |

The Check Data command polls until either the exit condition is satisfied, or the poll count is reached. If the exit condition is not satisfied until the poll count is reached, it is simply skipped. The exit condition is determined by the Data Mask and Data Set values as shown in the following table.

Table 155. Effect of Check Data command Data Mask and Data Set values

|   Data Mask |   Data Set | Action                  | Interpretation                  |
|-------------|------------|-------------------------|---------------------------------|
|           0 |          0 | *address & mask == 0    | All bits in mask clear.         |
|           0 |          1 | *address & mask == mask | All bits in mask set.           |
|           1 |          0 | *address & mask != mask | At least one bit in mask clear. |
|           1 |          1 | *address & mask != 0    | At least one bit in mask set.   |

Reasons Check Data command fields are not read:

- If the Address does not have the same alignment as the data width specified in the Bytes field of the Parameters byte, the value is not read.
- If the Mask is wider than permitted by the data width specified in the Bytes field of the Parameters byte, the value is not read.

## 30.4.2.1.3 NOP command

This command has no effect. The NOP command structure is a big-endian 4-byte array as shown in the table below.

## Table 156. NOP command structure

| Byte 0    | Byte 1   | Byte 2   | Byte 3   |
|-----------|----------|----------|----------|
| TAG = C0h | Length   | = 04h    | Reserved |

## Table 157. NOP command byte descriptions

| Command byte(s)   | Description                                                                       |
|-------------------|-----------------------------------------------------------------------------------|
| Length            | Size of the NOP command in bytes, fixed to 4. Any value in this field is ignored. |
| Reserved          | This byte is ignored.                                                             |

## 30.4.3 Self-Test

BootROM provides the capability to optionally execute self-test on reset.

Self-test is executed when all of the following conditions are true:

- Device is coming out of POR and self-test completion status is not set.
- Self-Test Image Vector is programmed in IVT.

## 30.4.3.1 Self-Test boot operation

BootROM executes self-test only when booting from POR and self-test completion status (ST\_DONE) is not set in MC\_RGM. The following sequence shows how the BootROM executes the self-test.

1. Verify the Self-Test DCD Image header.
2. Copy the Self-Test DCD Image to internal memory.
3. Authenticate image if (LC==(OEM\_PROD|IN\_FIELD) &amp;&amp; IVT\_AUTH==1) &amp;&amp; EXPORT CONTROL NOT ENABLED.
4. Execute self-test commands.

## NOTE

- The last self-test command must be to start self-test by setting RUNSW[RUNSW] = 1 in STCU2.
- STCU2 watch-dog timeout also results in ST\_DONE assertion and a destructive reset event does not clear the ST\_DONE flag, so either of these events will not result in the BootROM re-running the STCU2.

## 30.4.3.2 Self-Test DCD image structure

The Self-Test DCD image structure has the same format as the DCD image structure (see Device Configuration Data (DCD)). BootROM determines the location of the Self-Test DCD image via the Self-Test DCD pointer in the IVT. The maximum size of the image is 8192 bytes (see Device Configuration Data (DCD) for details on available commands).

## Table 158. Self-Test header

| Byte 0    | Byte 1   |   Byte 2 | Byte 3        |
|-----------|----------|----------|---------------|
| TAG = D3h | Length   |        1 | Version = 60h |

## 30.4.4 Application boot

The Application Boot Code image must comply with the structure shown in the following table for non-secure boot (BOOT\_SEQ == 0).

Table 159. Non-secure Application Boot Code image structure (BOOT\_SEQ == 0)

| Address offset   | Size (bytes)   | Name              | Comments                                                                                                                                                                                                                                   |
|------------------|----------------|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0h               | 4              | Image header      | Marks start of application image.                                                                                                                                                                                                          |
| 4h               | 4              | RAM start pointer | Pointer to the first RAM address to which BootROM must load application boot code.                                                                                                                                                         |
| 8h               | 4              | RAM entry pointer | Pointer to out of RESET start of boot target core. For Cortex-M7, it corresponds to VTOR. For A53, it corresponds to start of code execution. This pointer should be within the section of SRAM where the application image is downloaded. |
| Ch               | 4              | Code length       | Length of code section of the image.                                                                                                                                                                                                       |
| 10h              | 48             | Reserved          | Reserved                                                                                                                                                                                                                                   |
| 40h              | Code_len       | Code              | Code can be any size up to the maximum size of system SRAM.                                                                                                                                                                                |

The header used by the Application Boot Code image is shown below.

Table 160. Application boot image header

| Byte 0    | Byte 1   |   Byte 2 | Byte 3        |
|-----------|----------|----------|---------------|
| TAG = D5h | Reserved |        1 | Version = 60h |

1. The Reserved field has no effect. It is set to all zeroes.

## NOTE

For application boot via the uSDHC interface, when BOOT\_SEQ == 0, the BootROM uses 34008000h to 34079C00 for its internal operations. This address range should not be used by the application across boot cycles. BootROM also uses 4 KB of SRAM memory starting at 343FF000h for ADMA descriptors in the case of uSDHC boot. Application boot image should not overlap this location in case of uSDHC boot.

## 30.4.5 Serial boot

The image structure for non-secure serial boot is shown below.

Table 161. Image structure for non-secure serial boot

| Address offset   |   Bytes | Name         | Comments                                               |
|------------------|---------|--------------|--------------------------------------------------------|
| 0h               |       4 | Image header | Marks start of serial boot code image (see Table 163). |

Table continues on the next page...

Boot

Table 161. Image structure for non-secure serial boot (continued)

| Address offset   | Bytes    | Name              | Comments                                                                                                                               |
|------------------|----------|-------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| 4h               | 4        | RAM start pointer | Pointer to first RAM address to which BootROM must load serial boot code.                                                              |
| 8h               | 4        | RAM Entry pointer | Pointer to out of RESET start of boot target core. For Cortex-M7, it corresponds to VTOR (Only Cortex-M7 is supported in Serial Boot). |
| Ch               | 4        | Code length word  | Length of code section of the image (see Table 164).                                                                                   |
| 10h              | 48       | Reserved          | Reserved                                                                                                                               |
| 40h              | Code_len | Code              | Code can be any size up to the maximum size of SRAM.                                                                                   |

The image structure for secure serial boot is shown below.

Table 162. Image structure secure serial boot

| Address offset   |   Bytes | Name                | Comments                                                                                                                                |
|------------------|---------|---------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 0h               |       4 | Image header        | Marks start of serial boot code image (see Table 163).                                                                                  |
| 4h               |       4 | RAM start pointer   | Pointer to first RAM address to which BootROM must load serial boot code.                                                               |
| 8h               |       4 | RAM Entry pointer   | Pointer to out of RESET start of boot target core. For Cortex-M7, it corresponds to VTOR, (Only Cortex-M7 is supported in Serial Boot). |
| Ch               |       4 | Code length word    | Length of code section of the image (see Table 164).                                                                                    |
| 10h              |       4 | Auth mode           | Authentication mode. Reserved for non-secure boot.                                                                                      |
| 14h              |       4 | NSKPUB Key Selector | NSK public key selector                                                                                                                 |
| 18h              |      40 | Reserved            | Reserved                                                                                                                                |
| 40               |    4096 | NSKPUB              | NSK Public keys (16) for RSA authentication                                                                                             |
| 1040h            |     256 | CSKPUB              | Customer Public key for RSA authentication.                                                                                             |
| 1140h            |     256 | CSK Signature       | RSA signature for CSKPUB authentication.                                                                                                |

Table continues on the next page...

## Table 162. Image structure secure serial boot (continued)

| Address offset      | Bytes       | Name                 | Comments                                             |
|---------------------|-------------|----------------------|------------------------------------------------------|
| 1240h               | Code length | Code                 | Code can be any size up to the maximum size of SRAM. |
| 1240h + Code length | 256         | Public key Signature | Public key signature for image authentication.       |

## NOTE

CSKPUB and CSK Signature fields are reserved if the serial boot application is signed by NXP.

The image header shown below is common to both the non-secure and secure serial boot image structures.

## Table 163. Non-secure and secure boot image header

| Byte 3        | Byte 2   | Byte 1   | Byte 0    |
|---------------|----------|----------|-----------|
| Version = 60h | Reserved | Reserved | TAG = D8h |

The Code length word is described in the table below.

## Table 164. Code length word

| 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18        | 17        | 16        |
|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| NO_E CHO  | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE |
| 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2         | 1         | 0         |
| CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE | CODE_SIZE |

## Table 165. Code length word field description

| Field   | Description                                                     |
|---------|-----------------------------------------------------------------|
| 31      | Do not echo incoming serial data from next serial phase onward. |
| 30:0    | Size of the serial boot code to be downloaded.                  |

## 30.5 Boot register descriptions

During execution, Boot ROM accesses memory-mapped registers to:

- Retrieve configuration details
- Maintain execution details required for proper execution

Some of the registers are read-only and provide input to Boot ROM. Other registers are read/write and contain status information required for proper functioning. The following sections contain the register memory map and detailed register descriptions that include reset phase and field descriptions.

## 30.5.1 Boot memory map

Boot\_CC base address: 4007\_C900h

Boot

| Offset   | Register                             |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------|-------------------|----------|---------------|
| 0h       | Boot Configuration 1 (BOOT_GPR_BMR1) |                32 | R        | 0000_0000h    |
| 4h       | Boot Configuration 2 (BOOT_GPR_BMR2) |                32 | R        | 0000_0000h    |

## 30.5.2 Boot Configuration 1 (BOOT\_GPR\_BMR1)

## Offset

| Register      | Offset   |
|---------------|----------|
| BOOT_GPR_BMR1 | 0h       |

## Function

Contains boot configuration data latched from fuses or GPIOs based on RCON/FUSE\_SEL fuse setting. The data is latched at PHASE3 deassertion in the chip. The reset value for a chip that is not configured is 0000\_0000h. Otherwise, the reset value is dependent on the values latched.

RCON uses 32 IO signals labelled RCON[0] to RCON[31]. See the attached IOMUX spreadsheet for details.

NOTE

This register always illustrates the captured 32 parallel RCON pin values, not the serial RCON values in case of Serial RCON boot mode.

<!-- image -->

| RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   | RCON pads should be supplied with a pull on the board. NOTE   |
|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|---------------------------------------------------------------|
| Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       | Diagram                                                       |
| Bits                                                          | 31                                                            | 30                                                            | 29                                                            | 28                                                            | 27                                                            | 26                                                            | 25                                                            | 24                                                            | 23 22                                                         | 21                                                            | 20                                                            | 19                                                            | 18                                                            | 17                                                            | 16                                                            |
| R                                                             | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      |
| W                                                             |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |
| Reset                                                         | 0                                                             | 0                                                             | 0                                                             | 0 0                                                           | 0                                                             |                                                               | 0                                                             | 0 0                                                           | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             |
| Bits                                                          | 15                                                            | 14                                                            | 13                                                            | 12                                                            | 11                                                            | 10                                                            | 9                                                             | 8 7                                                           | 6                                                             | 5                                                             | 4                                                             | 3                                                             | 2                                                             | 1                                                             | 0                                                             |
| R                                                             | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      | BOOT_CFG                                                      |
| W                                                             |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |                                                               |
| Reset                                                         | 0                                                             | 0                                                             | 0 0                                                           | 0                                                             |                                                               | 0                                                             | 0                                                             | 0 0                                                           | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             | 0                                                             |

## Fields

| Field    | Function                                                                                        |
|----------|-------------------------------------------------------------------------------------------------|
| 31-0     | Boot Configuration                                                                              |
| BOOT_CFG | Boot configuration data from BOOT_CFG fuses or RCON pads, depending on the FUSE_SEL fuse state. |

## 30.5.3 Boot Configuration 2 (BOOT\_GPR\_BMR2)

## Offset

| Register      | Offset   |
|---------------|----------|
| BOOT_GPR_BMR2 | 4h       |

## Function

Boot Mode pins configuration and FUSE\_SEL setting latched from fuses or GPIOs on PHASE3 deassertion in the chip.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25        | 24        | 23       | 22       | 21       | 20        | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|-----------|-----------|----------|----------|----------|-----------|----------|----------|----------|----------|
| R      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | BOOT MOD1 | BOOT MOD2 | Reserved | Reserved | Reserved | Reserved  | Reserved | Reserved | Reserved | Reserved |
| W      |          |          |          |          |          |          |           |           |          |          |          |           |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0 0      |          | 0        | 0         | 0         | 0        | 0        | 0        | 0         | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9         | 8         | 7        | 6        | 5        | 4         | 3        | 2        | 1        | 0        |
| R      | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved | Reserved  | Reserved  | Reserved | Reserved | Reserved | FUSE_ SEL | Reserved | Reserved | Reserved | Reserved |
| W      |          |          |          |          |          |          |           |           |          |          |          |           |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0         | 0         | 0        | 0        | 0        | 0         | 0        | 0        | 0        | 0        |

## Fields

| Field       | Function                                                                                                                                                |
|-------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-26 -     | Reserved                                                                                                                                                |
| 25 BOOTMOD1 | Boot Mode Pin 1 BOOTMOD1 pin value latched at phase3 deassertion.                                                                                       |
| 24 BOOTMOD2 | Boot Mode Pin 2 BOOTMOD2 pin value latched at phase3 deassertion.                                                                                       |
| 23-5 -      | Reserved                                                                                                                                                |
| 4 FUSE_SEL  | Select Boot from Fuses FUSE_SEL value from fuses. This fuse indicates whether the boot configuration is to be fetched from RCON pads or BOOT_CFG fuses. |
| 3-0 -       | Reserved                                                                                                                                                |

## 30.6 Boot register descriptions

During execution, Boot ROM accesses memory-mapped registers to:

- Retrieve configuration details
- Maintain execution details required for proper execution

Some of the registers are read-only and provide input to Boot ROM. Other registers are read/write and contain status information required for proper functioning. The following sections contain the register memory map and detailed register descriptions that include reset phase and field descriptions.

## 30.6.1 Boot memory map

| Offset   | Register                           |   Width (In bits) | Access   | Reset value   |
|----------|------------------------------------|-------------------|----------|---------------|
| 38h      | SRC POR Control (SRC_POR_CTRL_REG) |                32 | RW       | 0000_0000h    |

## 30.6.2 SRC POR Control (SRC\_POR\_CTRL\_REG)

## Offset

| Register         | Offset   |
|------------------|----------|
| SRC_POR_CTRL_REG | 38h      |

## Function

Boot ROM uses this register to implement the HSE\_H roll back mechanism. This register resides in SRC domain at 0x4007c038 address.

## Diagram

<!-- image -->

## Fields

| Field   | Function                       |
|---------|--------------------------------|
| 31-16   | HSE_H Firmware Rollback Marker |

Table continues on the next page...

Table continued from the previous page...

| Field                          | Function                                                                                                                                                                                                                |
|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| HSE_FW_ROLL BACK_MARKE R       |                                                                                                                                                                                                                         |
| 15-8 HSE_FW_ROLL BACK_COUNT _B | HSE Firmware Rollback Count - Backup Image Represents the number of times that boot ROM passed control to the HSE_H firmware backup image, and the HSE_H firmware failed to write a valid HSE_FW_ROLLBACK_MARKER value. |
| 7-0 HSE_FW_ROLL BACK_COUNT _A  | HSE Firmware Rollback Count - Primary Image Represents the number of times that boot ROM passed control to the HSE_H firmware primary image, and HSE_H firmware failed to write a valid HSE_FW_ROLLBACK_MARKER value.   |

## 30.7 Boot flow

HSE\_H BootROM boots HSE\_H firmware and/or application code based on the BOOT\_SEQ value. Following are basic details about boot flow.

1. Depending on self-test pointers and other BootROM checks on the Self-Test DCD, boot flow can complete in either three phases or one phase. See Boot flow phases for more detail.
2. BootROM supports booting of application code and and HSE\_H firmware images, depending upon the BOOT\_SEQ value and whether the image pointers in the IVT are valid.
3. BootROM supports the concept of backup images for:
- Self-Test DCD
- DCD
- Application code
- HSE\_H firmware

For each type of program image, BootROM first tries to execute the primary image if the IVT points to a valid location. Only 0h is considered an invalid location. If any of the following are encountered, BootROM tries to execute the backup image pointed to by the IVT, wherever applicable:

- Primary image points to 0h.
- Primary image header does not conform to the required image header format.
- Authentication fails.
4. BootROM allows rollback of the HSE\_H firmware from the backup image when a failed update of HSE\_H firmware occurs in its primary slot. The failure scenario is as follows:
- a. The updated primary HSE\_H firmware image passes all header checks.
- b. The updated image successfully completes the BootROM authentication process.
- c. After getting control, the updated firmware issues a RESET or generates a SWT RESET due to a hang scenario before reaching the point of execution where it can boot application code and provide services.

BootROM can identify these scenarios.

Boot

- a. After a sequence of 9 failed attempts for the primary HSE\_H firmware image, BootROM tries booting from the HSE\_H firmware backup image.
- b. When a sequence of 8 failures of the backup image occurs, BootROM enters Serial Boot.

BootROM uses an SRC GPR register (POR\_CTRL\_REG1) to keep track of the number of trials for the primary image and the backup image. A marker, HSE\_FW\_ROLLBACK\_MARKER (BADAh), must be written by HSE\_H firmware at the point of its execution where it has passed control to application code and is ready to provide services. BootROM looks for this marker to determine whether booting from the HSE\_H firmware primary image or the backup was successful.

See Boot register descriptions for more details about the POR\_CTRL\_REG1 register.

## 30.7.1 Boot flow phases

When booting from external flash memory, BootROM execution occurs in three phases.

Table 166. Boot flow phases when booting from external flash memory

|   Step | Phase        | Description                                                |
|--------|--------------|------------------------------------------------------------|
|      1 | Initialize 1 | BootROM execution on HSE_H core.                           |
|      2 | Self-Test    | LBIST/MBIST execution by STCU2 (if configured).            |
|      3 | Initialize 2 | BootROM execution on HSE_H core after STCU2-induced reset. |

The Initialize 2 phase initializes the device after reset when self-test completes, and continues the boot process. If the Self-Test DCD vector is not programmed in the IVT, the boot flow skips step 1 and step 2, and starts from step 3, the Initialize 2 phase.

<!-- image -->

## 30.7.1.1 Initialize 1 boot flow phase

<!-- image -->

The steps below define the Initialize 1 boot flow phase:

1. Initialize the stack pointer to memory pointed to by the stack area as described in the memory map.
2. If coming out of Standby mode, enter boot from Standby mode (see Standby boot).
3. If the OCOTP detects a double-bit ECC (DED) error for HSE\_H or the SYS fuse box, the BootROM issues a destructive reset. The FCCU is in the default state during this phase and thus will not trigger a reset by itself.
4. Identify the boot interface.
5. Enable PLL@FIRC and reconfigure the clock to run at 400 MHz.
6. If the number of functional resets  8, enter Serial Boot mode.
7. Configure QuadSPI/SD/MMC/eMMC based on fuse information.
- a. If interface is QuadSPI:

- Read customer-provided flash memory reconfiguration parameters.
- Reconfigure QuadSPI to run at the required speed, pads, and other configuration.
8. Copy the IVT from QuadSPI/SD/MMC/eMMC.
9. Authenticate the IVT, if (LC==OEM\_PROD OR IN\_FIELD) AND (IVT\_AUTH==1) AND (EXPORT CONTROL NOT ENABLED).
10. Check the IVT and issue a functional reset if any of these conditions apply:
- Header is invalid.
- Boot target is incorrect.
- Both the primary and backup pointers for application code and HSE\_H firmware are NULL.
11. If self-test has not been executed, copy and authenticate (depending on step 9) the Self-Test DCD data pointed to by the primary pointer if the pointer is not NULL. If any failure occurs-authentication, invalid header, or wrong DCD, for example-do not execute the remaining Self-Test DCDs under the primary pointer and instead begin self-test configuration operations from the Self-Test DCD under the backup pointer.

If authentication fails for the Self-Test DCD data pointed to by the backup pointer, issue a functional reset.

In case of other failures-invalid header or wrong DCD, for example-skip DCD execution for subsequent DCDs from backup and allow BootROM to proceed to subsequent application boot steps.

## NOTE

It is recommended that a Write Data DCD command be added just before the DCD command to trigger STCU2.

The Write Data DCD command can write a Self-Test DCD configuration completion signature marker. Application code can later read this location and verify whether the Self-Test DCD configuration completion signature marker is available. Application code can use the ST\_DONE status along with the signature marker to determine the outcome of the Self-Test phase.

## 30.7.1.2 Self-Test

Self-test can execute Memory BIST (MBIST) and/or Logic BIST (LBIST). The tests to be performed are defined in the Self-Test DCD image.

- Self-test is run only after POR, and if the Self-Test Completion status flag is not set to 1 in MC\_RGM.
- Self-test is optional and cannot be executed if the primary and back up pointers are NULL.
- Self-test execution begins after the Self-Test DCD triggers STCU2.
- STCU2 performs a reset at the end of self-test.

## 30.7.1.3 Initialize 2 boot flow phase

The following figure illustrates the Initialize 2 boot flow phase.

Figure 161. Initialize 2 boot flow phase

| System and Clock Initialization   | System and Clock Initialization   | QSPI Initial and Final Config and IVT Parsing   | DCD Execution    | HSE_H Firmware Download and Authentication   | Jump to Application   |
|-----------------------------------|-----------------------------------|-------------------------------------------------|------------------|----------------------------------------------|-----------------------|
| IRC@48 MHz                        | PLL@IRC, 400 MHz                  | PLL@IRC, 400 MHz                                | PLL@IRC, 400 MHz | PLL@IRC, 400 MHz                             | PLL@IRC, 400 MHz      |

The steps below define the Initialize 2 boot flow phase:

1. Initialize the stack pointer to the memory pointed to by the stack area as described in the memory map.
2. If coming out of Standby mode, enter boot from Standby mode. (See Standby boot).

3. If an OCOTP double-bit ECC (DED) error is latched for HSE\_H or the SYS fuse box, the BootROM issues a destructive reset. The FCCU is in the default state during this phase and thus will not trigger a reset by itself.
4. Identify the boot interface.
5. Enable PLL@FIRC and reconfigure the clock to run at 400 MHz.
6. If the number of functional resets  8, enter Serial Boot mode.
7. Configure QuadSPI/SD/MMC/eMMC based on fuse information.
- a. If interface is QuadSPI:
- i. Read customer-provided flash memory reconfiguration parameters.
- ii. Reconfigure QuadSPI to run at required speed, pads, and other configuration.
8. Copy the IVT from QuadSPI/SD/MMC/eMMC.
9. Authenticate the IVT, if (LC==OEM\_PROD OR IN\_FIELD) AND (IVT\_AUTH==1) AND (EXPORT CONTROL NOT ENABLED).
10. Check the IVT and issue a functional reset if any of these conditions apply:
- Header is invalid.
- Boot target is incorrect.
- Both the primary and backup pointers for application code and HSE\_H firmware are NULL.
11. Copy and authenticate (depending on the above step) the DCD data if the DCD pointer is not NULL. In case of any failure-authentication, invalid header, or wrong DCD, for example-do not execute the remaining DCDs under the primary pointer and instead begin DCD operations for the DCD data under the backup pointer.

If authentication fails for the DCD data pointed to by the DCD backup pointer, issue a reset.

In case of other failures-invalid header or wrong DCD, for example-skip DCD execution for subsequent DCDs from backup and allow BootROM to proceed to subsequent application boot steps.

12. Set up the Debug challenge/response.
13. If the IVT Boot Configuration Word [BOOT\_SEQ] == 0, parse the IVT and locate the Primary Application Boot Code Structure.
- a. If the Primary Application header is valid, download the application to target memory.
- b. If the Primary Application header is invalid, verify that the backup application header is valid. If it is, download the backup application to target memory.
- c. If both the Primary Application header and the backup application header are invalid, skip downloading the application.
14. Parse the IVT and locate the Primary HSE\_H Firmware Structure.
15. If the value of HSE\_ROLLBACK\_COUNT\_A in the SRC module's POR\_CTRL\_REG1[7:0]  9:
- a. If the value of HSE\_ROLLBACK\_MARKER in the SRC module's POR\_CTRL\_REG1[31:16] == BADAh:
- i. Clear HSE\_ROLLBACK\_COUNT\_A in the SRC module's POR\_CTRL\_REG1[7:0] to 0.
- ii. Clear HSE\_ROLLBACK\_MARKER in the SRC module's POR\_CTRL\_REG1[7:0] to 0.
- b. If the Primary HSE\_H Firmware header is valid:
- i. Decrypt the HSE\_H firmware, authenticate, and copy to target memory.
- ii. If authentication is successful:
- i. If (BOOT\_SEQ == 0) AND (Application downloaded successfully in step 13), enable the Application core.

- c. Else:
- i. If (BOOTSEQ == 0) AND (Application downloaded successfully in step 13):
- i. Enable the Application target core.
- ii. Put the HSE\_H core into an infinite wait loop.
- ii. Else, issue a functional reset.

## NOTE

When BOOT\_SEQ == 0, BootROM downloads application code to SRAM as described in Phase 2 of the boot flow. Although BootROM expects the length of all program images to be 8-byte aligned, for the application download, it initializes an additional 8 bytes of memory just after the last location of the copied image. This is to avoid pre-fetch errors when the application executes.

## 30.7.2 Boot flow diagram

The following figure shows the high level boot flow of BootROM firmware.

- ii. Pass control to HSE\_H firmware and pass IVT location, HSE Image partition selection and BootROM with Random IV support identification value(0x1234ABCD) as arguments in HSE CPU R0, R1 and R2 registers respectively.
- iii. Increment the value of HSE\_ROLLBACK\_COUNT\_A in SRC module's POR\_CTRL\_REG1[7:0] by 1.
- iii. Else, jump to step 16.
- c. Else, jump to step 16.
16. If the value of HSE\_ROLLBACK\_COUNT\_B in the SRC module's POR\_CTRL\_REG1[15:8]  8:
- a. If the value of HSE\_ROLLBACK\_MARKER in the SRC module's POR\_CTRL\_REG1[31:16] == BADAh:
- i. Clear the HSE\_ROLLBACK\_COUNT\_B value in the SRC module's POR\_CTRL\_REG1[15:8] to 0.
- ii. Clear the HSE\_ROLLBACK\_MARKER value in the SRC module's POR\_CTRL\_REG1[31:16] to 0.
- b. If the HSE\_H firmware backup image header is valid:
- i. Decrypt the HSE\_H firmware, authenticate, and copy to target memory.
- i. If authentication is successful:
- i. If (BOOT\_SEQ == 0) AND (Application downloaded successfully in step 13), enable the Application target core.
- ii. Pass control to HSE\_H firmware and pass IVT location, HSE Image partition selection and BootROM with Random IV support identification value(0x1234ABCD) as arguments in HSE CPU R0, R1 and R2 registers respectively.
- iii. Increment the value of HSE\_ROLLBACK\_COUNT\_B in the SRC module's POR\_CTRL\_REG1[15:8] by 1.
- ii. Else:
- i. If (BOOTSEQ == 0) and (Application downloaded successfully in step 13):
- i. Enable the Application target core.
- ii. Put the HSE\_H core into an infinite wait loop.
- ii. Else, issue a functional reset.

Boot

<!-- image -->

## 30.8 Boot settings and fuse map

For additional details about boot settings and the fuse map, see the Boot Settings and Fuse Map spreadsheets.

## 30.9 BootROM impact on module registers' reset values

BootROM execution might change the reset values of some modules' registers when control passes to the application. For list of these modules, their affected registers, and the registers' values, see the Boot Settings attachment.

## NOTE

- BootROM supports many configuration options and permissible combinations. Interfaces used by BootROM, e.g., QSPI or other boot sources, may not be in outright operational state on entry into the booted application. Such interfaces needs to be reconfigured properly before application use.
- If application needs to modify the clock configuration or change interface settings at the start of execution, it should first disable the interface. If application intended to keep using any interface after clock change then it should ensure that interface is reconfigured properly before further use.

## 30.10 BootROM clock configuration

BootROM begins execution with FIRC as the default system clock source. For better performance, BootROM tries to configure CORE PLL-DFS over FIRC. After CORE PLL-DFS is successfully locked, BootROM switches the XBAR clock (source to booting core) to CORE\_DFS1\_CLOCK, which is targeted to be 400 MHz. In case of failure to lock PLL-DFS, BootROM continues booting with FIRC as the system clock.

When BOOT\_SEQ == 0, before BootROM passes control to application code, the system clock is switched back to FIRC and CORE PLL-DFS is switched off.

When BOOT\_SEQ == 1, BootROM passes control to the HSE\_H firmware with the system clock as CORE PLL-DFS. Refer to HSE FW Reference Manual for further details on clock configuration after secure boot.

See the respective interface sections for the clocking scheme of boot interfaces.

## 30.11 Image authentication and decryption

BootROM can load multiple images from non-volatile storage space (QuadSPI or SD/MMC/eMMC) to boot on:

- HSE\_H core (for HSE\_H firmware)
- Cortex-M7/Cortex-A53 core (for application boot code)

Application boot can be either non-secure or secure, depending on the life cycle state and the BOOT\_SEQ field value in the IVT Boot Configuration word. The following images are authenticated by BootROM when performing a secure boot:

- IVT
- DCD
- Self-Test DCD
- Serial application image
- HSE\_H firmware image

## 30.12 Serial boot

Serial Boot mode is entered via the BOOTMOD input pins. Serial download can also be initiated if the Functional Reset Counter (FREC register in the MC\_RGM module) reaches a value 8. This mode is available in all life cycle states except:

- FA

In Serial Boot mode, BootROM programs the HSE\_H SWT for a 60-second timeout, then continuously polls for activity on any of the available interfaces:

- CAN
- UART

If no activity is detected, the timer expires and the core is reset. BootROM sequentially checks for activity on all available interfaces and selects the first serial interface that it identifies as active as the download interface. The following figure describes the selection process.

NOTE

In Serial Download mode, BootROM disables HSE\_H SWT if the life cycle state is:

- CUST\_DEL

Boot

Boot

<!-- image -->

## 30.12.1 XOSC configuration

During serial boot, BootROM uses XOSC as the clock source for serial interfaces.

- LIN\_CLK and CAN\_CLK are derived from an external clock source connected over XOSC.

The XOSC interface supports multiple operating modes and requires specific configuration for providing a stable clock in these modes. BootROM must be provided with the configuration details for enabling correct configuration, as per clock source connected on ECU, over the XOSC interface.

## 30.12.2 Serial download protocol

## 30.12.2.1 Serial download protocol - UART and CAN

The following figure shows the download protocol followed by BootROM during serial download over FlexCAN and UART.

Boot

<!-- image -->

The serial download protocol is divided into various phases as described below. The phases marked "Secure boot", are skipped during a non-secure boot.

Table 167. Serial download protocol phases

|   No. | Phase             | Description                                                                                                                                                                                                                            | Size (bytes)   | Entry   |
|-------|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|---------|
|     1 | Initialization    | BootROM prepares the device to perform a serial download by performing the following steps: 1. Configure clock. 2. Configure the module. 3. Configure watchdog to 60 seconds. 4. Disable SWT if the life cycle state is CUST_DEL.      | -              | -       |
|     2 | Association       | BootROM polls sequentially for activity on the transmission channel until the marker FEED_FACE_CAFE_BEEFh is received. Any incorrect data received is discarded.                                                                       | 8h             | Always  |
|     3 | Non-secure header | BootROM reads the first 40h bytes over the channel and extracts the RAM start pointer, entry pointer, and the code size from the image. BootROM also extracts the NO_ECHO field from the most significant bit of the Code length word. | 40h            | Always  |

Table continues on the next page...

Table 167. Serial download protocol phases (continued)

| No.   | Phase            | Description                                                                                                                                                                                                                                                                                                | Size (bytes)   | Entry       |
|-------|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|-------------|
|       |                  |  BootROM allows serial download of data only to system RAM. The maximum size of the serial image is limited to the size of the system RAM on the chip.  The image download address must be 64- bit aligned. NOTE                                                                                         |                |             |
| 4     | Secure header    | BootROM reads the next 1200h bytes of the image containing the NSKPublic keys, CSKPublic key, and the CSK signature.                                                                                                                                                                                       | 1200h          | Secure boot |
| 5     | Code download    | BootROM downloads the serial code of specified length over the channel and stores it at the specified location.                                                                                                                                                                                            | Code length    | Always      |
| 6     | Public signature | BootROM reads the Public key signature of the image used for authentication of the image.                                                                                                                                                                                                                  | 100h           | Secure boot |
| 7     | Execution        | After successful download of entire image, the Cortex- M7_0core is enabled with the reset vector pointing to the Entry pointer. Before enabling the core, the watchdog SWT_0 is enabled with its default configuration. It is the application's responsibility to service the watchdog appropriately. NOTE | -              | -           |

When performing a secure boot, after the image is downloaded, BootROM first performs authentication of the image per the Authentication mode selected.

Received packets can be either echoed or not. The NO\_ECHO field in the Code length word determines the configuration. By default, all packets are echoed. If the NO\_ECHO field is set to 1:

- For a secure boot, starting from the Secure header phase, CAN packets are not echoed.
- For a non-secure boot, starting from the Code download phase, CAN packets are not echoed.

## 30.12.3 FlexCAN

BootROM supports serial download from the FlexCAN\_0 module. Communication between the chip and the host (transmitting utility) is done by exchange of data through CAN packets. BootROM supports transfer of data only in non-FD mode.

## 30.12.3.1 FlexCAN I/O multiplexer configuration

The I/O pads for FlexCAN communication are configured as shown in the following table.

Table 168. FlexCAN I/O

| Signal   | Pad name   |
|----------|------------|
| CAN RX   | PAD[43]    |
| CAN TX   | PAD[44]    |

## 30.12.3.2 Clock configuration

The baud clock for the FlexCAN module is derived from the MC\_CGM\_0 clock Mux 7 selector, as shown below. BootROM uses XOSC as the clock source for CAN\_PE\_CLK during boot. If XOSC fails to initialize, FIRC is selected as the MUX source.

Figure 165. FlexCAN clock configuration

<!-- image -->

## 30.12.3.3 Baud rates

The baud rate is determined by two factors: the timing parameters programmed for the module and the baud clock.

The FlexCAN baud clock is derived from XOSC as mentioned in Clock configuration. The timing parameters are programmed to achieve a common bit rate for both clock sources.

For XOSC, for varying frequencies of the crystal, the bit rate achieved is directly proportional to the baud clock.

Table 169. FlexCAN baud rates

| Baud clock frequency   | Bit rate   |
|------------------------|------------|
| 20 MHz (XOSC)          | 0.5 MBd    |
| 40 MHz (XOSC)          | 1 MBd      |

## 30.12.3.4 FlexCAN boot operation

The host transfers the application image as per the serial download protocol (see Serial download protocol). The message IDs used by the chip (MCU) for transfer of frames over the FlexCAN interface are defined in the following table. The message IDs are segregated based on the phase of communication.

Table 170. FlexCAN mailbox IDs

| Serial download phase   | Rx MB ID   | Tx MB ID   |
|-------------------------|------------|------------|
| Association phase       | 11h        | 01h        |
| Non-secure header phase | 12h        | 02h        |
| Secure header phase     | 13h        | 03h        |
| Code download phase     | 14h        | 04h        |
| Public signature phase  | 15h        | 05h        |

## 30.12.4 UART

BootROM supports boot from the LINFlexD\_0 module, configured in UART mode. The communication between the MCU and the host (transmitting utility) is done by exchange of data through UART packets. LINFlexD\_0 is configured to communicate in 8E1 configuration.

## 30.12.4.1 UART IOMUX configuration

The IOMUX pads for UART communication are configured as shown in the following table.

Table 171. UART external I/O

| Signal   | PAD name   |
|----------|------------|
| RX       | PAD[42]    |
| TX       | PAD[41]    |

## 30.12.4.2 Clock configuration

The clock for the LINFlexD module is derived from the MC\_CGM\_0 clock Mux 8 selector. BootROM uses XOSC as a clock source for LIN\_BAUD\_CLK during boot. If XOSC fails to initialize, FIRC is selected as the MUX source.

<!-- image -->

## 30.12.4.3 UART baud rates

The baud rate is determined by two factors: the timing parameters programmed for the module and the baud clock. The LINFlexD baud clock is derived from either XOSC or FIRC, as shown in Clock configuration. The timing parameters are programmed to achieve a common bit rate for both clock sources.

For XOSC, for varying frequencies of the crystal, the bit rate achieved is directly proportional to the baud clock.

Table 172. LINFlexD baud rates

| Baud clock frequency   | LINFlexD baud rate   |
|------------------------|----------------------|
| 20 MHz (XOSC)          | 24 kBd               |
| 40 MHz (XOSC)          | 48 kBd               |
| 48 MHz (FIRC)          | 48 kBd               |

## 30.13 Boot from external flash memory

BootROM supports boot from external flash memory devices over the following interfaces:

## NOTE

The payload size of the message transmitted is restricted to 8 bytes.

- QuadSPI
- SD/MMC/eMMC via SDHC interface

Boot device selection is controlled by Boot\_CFG1[7:5] eFuses as shown in the following table.

Table 173. Boot device selection

|   BOOT_CFG[7:5] | Boot device          |
|-----------------|----------------------|
|             000 | QuadSPI flash memory |
|             001 | Reserved             |
|             010 | SD                   |
|             011 | MMC/eMMC             |

## 30.13.1 QuadSPI boot

BootROM supports booting from the QuadSPI\_0 interface:

- Quad and Octal flash memories in 1-bit SDR mode
- HyperFlash flash memories in 8-bit mode

This configuration is only required for initial reads to identify the flash memory. You can reconfigure the interface for optimal performance, based on flash memory configuration parameters provided by customers.

## 30.13.1.1 Functional description

Boot ROM supports boot from a variety of flash memories, providing flexibility for choosing the configuration parameters for which the controller must be programmed during boot. The configuration parameters can be based on product requirements. For better performance, the QuadSPI controller supports high-speed operations in DDR and SDR modes, which requires specific configurations to achieve correct data sampling at such a high rate. The QuadSPI controller supports reading data over an AHB interface or an IP interface-however, boot ROM supports only read via an AHB interface. Boot ROM does not support any write operations to QuadSPI flash memory.

Boot ROM performs QuadSPI controller configuration in two phases, as described in the following table.

Table 174. QuadSPI controller configuration phases

|   No. | Name                          | Description                                                                                                                                                                                                                                                                                                                                                                                             |
|-------|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     1 | QuadSPI initial configuration | Configure the QuadSPI controller at a frequency of 40 MHz in 1-bit mode for Quad and Octal flash memories, and 8-bit mode for HyperFlash flash memories. BootROM uses BOOT_CFG/RCON based values, Table 175, for configuring QSPI controller for applying successful initial configuration.Read the flash memory reconfiguration data as shown in Table 175 located at offset 200h of the flash memory. |
|     2 | QuadSPI final configuration   | Prepare the clock source per required frequency in reconfiguration data. Reconfigure the QuadSPI controller based on details provided in the QuadSPI reconfiguration data.                                                                                                                                                                                                                              |

You must prepare the QuadSPI reconfiguration data per the flash memory requirement, which is finalized during development. Details of these configurations can be passed either via RCON, during development, or via fuses for the projected use case, when the FUSE\_SEL fuse is blown (production use case). For a detailed description, see the boot ROM Fuse description tab in the attached Fuse map spreadsheet. When QuadSPI reconfiguration data is not provided, the QuadSPI final configuration phase is skipped. BootROM sets a timeout of 500ms when downloading the application image. User must ensure that the maximum image size can be downloaded within this time. The image size would depend on the configuration used.

Table 175. QuadSPI fuse description

|   No. | Fuse word offset   | Fuse bit position       | Fuse name              | Settings                                                                                                                   | Description                                                                                                                                                                                                                                         |
|-------|--------------------|-------------------------|------------------------|----------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     1 | 234h               | RCON/ BOOT_CFG1[7:5]    | Boot interface         | 000                                                                                                                        | Selects QuadSPI as the boot interface.                                                                                                                                                                                                              |
|     2 | 234h               | RCON/ BOOT_CFG1[4:2]    | QuadSPI mode           | 000: Quad flash memory 001: HyperFlash flash memory 011: Octal flash memory                                                | Selects type of flash memory.                                                                                                                                                                                                                       |
|     3 | 234h               | RCON/ BOOT_CFG1[9]      | QuadSPI port selection | 0: Port A 1: Port B                                                                                                        | Selects the QuadSPI port on which external flash memory is connected.                                                                                                                                                                               |
|     4 | 234h               | RCON/ BOOT_CFG1[18:1 6] | QuadSPI POR delay      | 000: 300 sec 001: 600 sec 010: 1000 sec 011: 2000 sec 100: 5000 sec 101: 50000 sec 110: 100000 sec 111: 300000 sec | A delay is required before the first access is issued to flash memory after flash memory reset. This delay is not automatically applied when coming out of standby mode. NOTE                                                                       |
|     5 | 234h               | RCON/ BOOT_CFG1[14:1 1] | QuadSPI CAS            | 0000-1111: QuadSPI_SFACR[CAS] value                                                                                        | Column address space. Only valid for HyperFlash mode. See the SFACR[CAS] register field description in the QuadSPI chapter.                                                                                                                         |
|     6 | 234h               | RCON/ BOOT_CFG1[30:2 9] | DQS selection          | 00: Reserved 01: Pad loopback 10: Reserved 11: External DQS                                                                | Selects DQS clock for sampling read data.  For Quad and Octal flash memories, a setting of 01b is recommended.  For HyperFlash memory a setting of 11b is recommended. See the MCR[DQS_FB_SEL] register field description in the QuadSPI chapter. |

Table continues on the next page...

Table 175. QuadSPI fuse description (continued)

|   No. | Fuse word offset   | Fuse bit position       | Fuse name                        | Settings                                                                                             | Description                                                                                                                       |
|-------|--------------------|-------------------------|----------------------------------|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
|     7 | 234h               | RCON/ BOOT_CFG1[23:2 2] | TDH: Time Hold Delay             | 00: Data aligned at PosEdge of internal reference clock 01: Data aligned with 2X serial flash memory | Serial flash memory data in hold time. See the FLSHCR[TDH] register field description in the QuadSPI chapter.                     |
|     8 | 234h               | RCON/ BOOT_CFG1[25]     | FSDLY: Full Speed Delay          | 0: Same DQS 1: Half cycle early DQS                                                                  | Full speed delay selection. See the SMPR[FSDLY] register field description in the QuadSPI chapter.                                |
|     9 | 234h               | RCON/ BOOT_CFG1[24]     | FSPHS: Full Speed Phase          | 0: Select sampling at non- inverted clock 1: Select sampling at inverted clock                       | Full speed phase selection. See the SMPR[FSPHS] register field description in the QuadSPI chapter.                                |
|    10 | 234h               | RCON/ BOOT_CFG1[28:2 6] | DLLFSMPF                         | N can vary from '0' - '7'                                                                            | Selects the nth tap provided by the slave delay-chain. See the SMPR[DLLFSMPFB] register field description in the QuadSPI chapter. |
|    11 | 234h               | RCON/ BOOT_CFG1[19]     | CKN: Differential clock selector | 0: Differential clock not required 1: Differential clock required                                    | Enables clock on differential pad.                                                                                                |
|    12 | 234h               | RCON/ BOOT_CFG1[10]     | CK2: CK2 clock selector          | 0: CK2 clock not required 1: CK2 clock required                                                      | Enables 90-degree phase- shifted clock.                                                                                           |
|    13 | 238h               | BOOT_CFG2[12]           | SLAVE DELAY EN                   | 1: SLV_DLY_OFFS ET and SLV_DLY_COA RSE fuses configure slave delay                                   | Enables DLLCRA[SLV_DLY_COARSE] and DLLCRA[SLV_DLY_OFFSET].                                                                        |

Table continues on the next page...

## Table 175. QuadSPI fuse description (continued)

| No.   | Fuse word offset   | Fuse bit position   | Fuse name      | Settings                                            | Description                                                                                                                                                             |
|-------|--------------------|---------------------|----------------|-----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       |                    |                     |                | 0: Boot ROM configured value configures slave delay |                                                                                                                                                                         |
| 14    | 238h               | BOOT_CFG2[16:1 3]   | SLV_DLY_COARSE | 0000b - 1111b                                       | Sets number of delay elements in each delay tap. See the DLLCRA[SLV_DLY_COARSE] or DLLCRB[SLV_DLY_COARSE] descriptions in the QuadSPI chapter.                          |
| 15    | 238h               | BOOT_CFG2[19:1 7]   | SLV_DLY_OFFSET | 000b - 111b                                         | Selects the number of T/16th offset delay elements, tap, in incoming DQS. See the DLLCRA[SLV_DLY_OFFSET] or DLLCRB[SLV_DLY_OFFSET] descriptions in the QuadSPI Chapter. |

## NOTE

Because information in BOOT\_CFG1, at 234h offset, has bit-by-bit correspondence to RCON[31:0], the FUSE\_BIT\_POSITION column in the table also corresponds to the RCON description.

## NOTE

QSPI Configurations used during initial and re-configuration phase should be used from recommended values in datasheet.

## 30.13.1.2 QuadSPI IOMUX configuration

Table 176 shows the QuadSPI IOMUX pin configuration used in BootROM.

BootROM provides an option of overriding some default QuadSPI IOMUX configuration settings implemented in BootROM firmware, and contained in the attached BootROM Settings Sheet, via a pad override scheme. If BOOT\_CFG3[9] is enabled, BootROM applies the following IOMUX configuration based on fuse values in BOOT\_CFG3. This feature is applicable for both PORT A and PORT B.

## Table 176. QuadSPI IOMUX pin configuration

|   No. | OCOTP fuse word offset   | Fuse bit position   | Definition      | Description                      |
|-------|--------------------------|---------------------|-----------------|----------------------------------|
|     1 | 23Ch                     | BOOT_CFG3[9]        | PAD_OVERRIDE_EN | Enable pad override for QuadSPI. |

Table continues on the next page...

Table 176. QuadSPI IOMUX pin configuration (continued)

| No.   | OCOTP fuse word offset   | Fuse bit position   | Definition         | Description                                                                         |
|-------|--------------------------|---------------------|--------------------|-------------------------------------------------------------------------------------|
|       |                          |                     |                    | 0: Disabled 1: Enabled                                                              |
| 2     | 23Ch                     | BOOT_CFG3[7:5]      | QSPI_SRE           | Pad slew rate value applies to all QuadSPI pads.                                    |
| 3     | 23Ch                     | BOOT_CFG3[4]        | QSPI_PUS_CS        | Pullup select for all CS pads for chosen QuadSPI interface. 0: Pulldown 1: Pullup   |
| 4     | 23Ch                     | BOOT_CFG3[3]        | QSPI_PUS_DATA[7:0] | Pullup select for all DATA pads for chosen QuadSPI interface. 0: Pulldown 1: Pullup |
| 5     | 23Ch                     | BOOT_CFG3[2]        | QSPI_PUS_DQS       | Pullup select for DQS pad for chosen QuadSPI. 0: Pulldown 1: Pullup                 |
| 6     | 23Ch                     | BOOT_CFG3[1]        | Reserved           | Reserved                                                                            |
| 7     | 23Ch                     | BOOT_CFG3[0]        | QSPI_PUS_CK_CK2    | Pullup select for all clock pads for chosen QuadSPI. 0: Pulldown 1: Pullup          |

## 30.13.1.3 QuadSPI clock configuration

QuadSPI drives the clock from CLK\_MUX\_12 selector in MC\_CGM\_0. CLK\_MUX\_12 selectors can select QSPI\_CLK from either IRC or PERIPH\_PLL\_DFS1, as shown in the following figure.

<!-- image -->

In the initial configuration phase, the BootROM clocking scheme for QuadSPI operations depends on the PLL lock status. BootROM tries to lock the PERIPH PLL and PERIPH DFS1 for generating QSPI\_1X\_CLK at 40 MHz. If PLL-DFS is locked

successfully at 40 MHz, then the clock is switched to PLL. Otherwise, the QuadSPI clock is derived from FIRC, resulting in QSPI\_1X\_CLK being at FIRC/2.

In the final configuration phase, QuadSPI read operation clock requirements are derived by the clock that you provide in the QuadSPI reconfiguration data. In case of failure to generate the required clock, BootROM skips the configuration provided and continues read operations with the default configuration and the QuadSPI clock derived from FIRC.

## 30.13.1.4 QuadSPI configuration parameters

The following table lists QuadSPI configuration parameters in order, and the required details to be programmed in flash memory at offset 200h.

Table 177. QuadSPI configuration parameters

| Name          | Offset   |   Size in bytes | Description                                                                                                                                                                                                        |
|---------------|----------|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Header        | 0h       |               4 | Should be 5A5A5A5Ah.                                                                                                                                                                                               |
| MCR           | 4h       |               4 | MCR values for targeted operation.                                                                                                                                                                                 |
| FLSHCR        | 8h       |               4 | FLSHCR values for targeted operation.                                                                                                                                                                              |
| BFGENCR       | Ch       |               4 | BFGENCR values for targeted operation.                                                                                                                                                                             |
| DLLCR         | 10h      |               4 | The values of bit 31 and bits [3:0] are determined by the DLL_BYPASS_EN and DLL_AUTO_UPD_EN bits below. See "DLL and delay chain usage" section for more details.                                                  |
| PARITYCR      | 14h      |               4 | Values to be programmed in case flash memory is enabled for parity.                                                                                                                                                |
| SFACR         | 18h      |               4 | Holds value to be configured in SFACR register.                                                                                                                                                                    |
| SMPR          | 1Ch      |               4 | Holds value to be configured in SMPR register for Phase 2 configurations.                                                                                                                                          |
| DLCR          | 20h      |               4 | Data Learning Control Register configuration required as per desired Phase 2 configurations.                                                                                                                       |
| SFLASH_1_SIZE | 24h      |               4 | Flash 1 top address, applicable to either Port A or B. Only one port is supported during boot. Port selection depends on the value in BOOT_CFG[9].                                                                 |
| SFLASH_2_SIZE | 28h      |               4 | Flash 2 top address, applicable to either Port A or B. Only one port is supported during boot. Port selection depends on the value in BOOT_CFG[9].                                                                 |
| DLPR          | 2Ch      |               4 | Data Learning Pattern Register, as applicable for required Phase 2 configurations by user.                                                                                                                         |
| SFAR          | 30h      |               4 | Serial flash memory address to be configured in Phase 2 configuration.                                                                                                                                             |
| IPCR          | 34h      |               4 | Content to be programmed in IP Configuration register.                                                                                                                                                             |
| TBDR          | 38h      |               4 | Data to be written in TBDR register.                                                                                                                                                                               |
| DLL_BYPASS_EN | 3Ch      |               1 | Based upon DLL_BYPASS_EN configuration, BootROM configures DLL in bypass mode for Phase 2 configurations. You should choose only one DLL configuration, out of the total three, at a time unless stated otherwise. |

Table continues on the next page...

Table 177. QuadSPI configuration parameters (continued)

| Name             | Offset   | Size in bytes   | Description                                                                                                                                                                                                                                                                                                                                                                 |
|------------------|----------|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                  |          |                 | 0: Disable 1: Enable                                                                                                                                                                                                                                                                                                                                                        |
| Reserved         | 3Dh      | 1               | Reserved                                                                                                                                                                                                                                                                                                                                                                    |
| DLL_AUTO_UPD_EN  | 3Eh      | 1               | Based upon DLL_AUTO_UPD_EN configuration, BootROM configures DLL in auto update mode for Phase 2 configurations. User should choose only one DLL configuration, out of total three, at a time unless stated otherwise. 0: Disable 1: Enable When this mode is selected, the value of DLL_BYPASS_EN must be 1. NOTE                                                          |
| IPCR_TRIGGER_EN  | 3Fh      | 1               | Writes IPCR field to IPCR register only if IPCR_TRIGGER_EN is 1.                                                                                                                                                                                                                                                                                                            |
| SFLASH_CLK_FREQ  | 40h      | 1               | User-provided frequency (in MHz) for Phase 2 QuadSPI configuration. This frequency corresponds to the QSPI_1X_CLK clock.                                                                                                                                                                                                                                                    |
| Reserved         | 41h      | 1               | Reserved                                                                                                                                                                                                                                                                                                                                                                    |
| Reserved         | 42h      | 1               | Reserved                                                                                                                                                                                                                                                                                                                                                                    |
| Reserved         | 43h      | 1               | Reserved                                                                                                                                                                                                                                                                                                                                                                    |
| COMMAND_SEQ      | 44h      | 320             | User-provided LUT configuration to be used for read operations over the AHB interface. The LUT should be programmed as per requirements of the flash memory connected and the mode of operation selected, including clock, DDR, SDR, 1-bit, 4-bit, or 8-bit operation. The LUT sequence to be invoked during a read is controlled by the configuration provided in BFGENCR. |
| FLASH_WRITE_DATA | 184h     | 120             | An array of 10 structures. Each structure contains details of a command and related parameters to be sent to flash memory after Phase 1 and before Phase 2.                                                                                                                                                                                                                 |

For better performance, you may need to reconfigure flash memory using default settings, after the initial configuration phase is over. To do this, boot ROM supports a list of 10 commands (CMDs). Each of these commands and associated data are encoded in 12 bytes. See Table 178 and Table 179 that provide details related to:

- FLASH\_WRITE\_DATA structure
- Data to be configured
- Status register address for external flash memory configuration

Using the command configuration structure in Table 178:

- You can pass CMD-related information to boot ROM that is used for configuration.
- BootROM parses the FLASH\_WRITE\_DATA structure array until the CMD field becomes 0.

Boot

This structure is only meant to write to flash memory configuration registers, and not perform operations in the flash memory array. Also, you must perform all flash memory configurations through FLASH\_WRITE\_DATA commands and in 1-bit SPI mode.

Table 178. Word 0 (Bytes 0-3): Command Configuration

| 31                                                                                                            | 30-24                                                                                                                      | 23-18                                                                          | 17-16                                                                   | 15-8                   | 7-0                                                                              |
|---------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|-------------------------------------------------------------------------|------------------------|----------------------------------------------------------------------------------|
| Address valid                                                                                                 | Configuration data size                                                                                                    | Valid address bits                                                             | Pad                                                                     | Reserved               | Command Opcode (from Flash Datasheet)                                            |
| 0 - Do not send address bytes 1 - send address bytes                                                          | 00 - 0 byte 01 - 1 byte 02 - 2 byte 03 - 3 byte 04 - 4 byte Others values for this field are reserved and must not be used | Number of address bits to be sent (for ex., 6'd24 => 24 address bits required) | 00 - 1 bit (SPI) 01 - 2 bit (DUAL) 10 - 4 bit (QUAD) 11 - 8 bit (OCTAL) |                        |                                                                                  |
| e.g. for Macronix Flash, WREN command doesn't need any address to be sent, but WRCR2 needs 4 bytes of address |                                                                                                                            |                                                                                | As only 1-bit SPI commands are supported, set this to 00                | Set this field to 0x00 | e.g. for Macronix Flash, WREN command has opcode 0x06, so set this field to 0x06 |

## Table 179. Word 1 (Byte 7-4): External Flash Configuration/Status Register Address

31 - 0

Set to the address of the register as per Flash datasheet Refer to Serial Flash Memory Address Register (SFAR) for details

Word 2(Byte 11-8): Data to be sent to Flash along with the command

- 0 to 4 bytes of data
- Store it in Little Endian form in the image

After every reset, BootROM requires connected flash memory to be in a configuration mode in which the flash memory is able to respond to a SPI read command.

- If the application alters the flash memory configuration such that the flash memory requires a reset for it to switch to its default SPI mode, then the application must ensure that flash memory is reset on device reset.
- If the application alters the flash memory configuration such that flash memory does not revert to SPI mode even after a reset, then the application must either ensure that flash memory enters SPI mode before every reset, or must use CMDs that do not require such a mode change.

## 30.13.1.5 QuadSPI boot flow diagram

The following figure illustrates the QuadSPI boot flow.

Boot

<!-- image -->

## 30.13.2 SDHC boot

BootROM supports booting from the SDHC interface. The SDHC controller initial configuration is based on information provided via eFuse or RCON GPIO pins. BootROM supports boot from SD, MMC, and eMMC cards in different data rate modes.

Boot

BOOT\_CFG1[7:5] controls the selection of SD card for boot over the SDHC interface. For eFuse information on SD/MMC card support, see the Fuse Map in the attached spreadsheet.

## 30.13.2.1 SDHC IOMUX configuration

BootROM provides an option of overriding some of the default SDHC IOMUX configuration settings in BootROM firmware, shown in the attached BootROM settings spreadsheet, via a pad override scheme. If BOOT\_CFG3[9] is enabled, BootROM applies the following IOMUX configuration, based on fuse values in BOOT\_CFG3.

## Table 180. SDHC IOMUX configuration

|   No. | OCOTP FUSE word offset   | Fuse bit position   | Definition         | Description                                                           |
|-------|--------------------------|---------------------|--------------------|-----------------------------------------------------------------------|
|     1 | 23Ch                     | BOOT_CFG3[9]        | PAD_OVERRIDE_EN    | Enable pad override for SDHC. 0: Disabled 1: Enabled                  |
|     2 | 23Ch                     | BOOT_CFG3[8]        | SDHC_PUS_CMD       | Pull up select for CMD I/O PAD. 0: Pull down 1: Pull up               |
|     3 | 23Ch                     | BOOT_CFG3[7:5]      | SDHC_SRE           | Pad slew rate value applies to all SDHC pads.                         |
|     4 | 23Ch                     | BOOT_CFG3[4]        | SDHC_PUS_RST       | Pullup select for all RST pads 0: Pulldown 1: Pullup                  |
|     5 | 23Ch                     | BOOT_CFG3[3]        | SDHC_PUS_DATA[7:0] | Pullup select for all SDHC DATA pads interface. 0: Pulldown 1: Pullup |
|     6 | 23Ch                     | BOOT_CFG3[2]        | SDHC_PUS_DQS       | Pullup select for SDHC DQS pad. 0: Pulldown 1: Pullup                 |
|     7 | 23Ch                     | BOOT_CFG3[1]        | Reserved           | Reserved                                                              |
|     8 | 23Ch                     | BOOT_CFG3[0]        | SDHC_PUS_CLK       | Pullup select for clock pad. 0: Pulldown 1: Pullup                    |

## 30.13.2.2 SDHC clock configuration

USDHC\_CLK is derived from clock MUX 14 in CGM\_0. USDHC\_CLK can be derived from either FIRC or PERIPHRAL\_PLL\_DFS3. As per the clocking scheme, BootROM tries to lock the Peripheral PLL-DFS and, in case of success, switches the USDHC\_CLK from FIRC to PLL.

Boot

<!-- image -->

## 30.13.2.3 SDHC supported data rates

Only 3.3 V high speed and default speed data rate operations are supported when booting from SD cards. BootROM does not support switching to 1.8 V for SDR modes. During Card Identification mode, the clock is kept below 400 KHz. All SDSC, SDHC, and SDXC cards support these data rates. The application can switch to SDR modes after control is passed to it.

Table 181. SD supported boot data rates

| Speed modes         | Maximum baud rate   | Clock speed   | Signal voltage   |
|---------------------|---------------------|---------------|------------------|
| Identification mode | No data transfer    | ~380 kHz      | 3.3 V            |
| Default speed       | 12.5 MB/s           | 25 MHz        | 3.3 V            |
| High speed          | 25 MB/s             | 50 MHz        | 3.3 V            |

BOOT\_CFG1[19] controls the selection of Default Speed or High Speed mode when the SD card is used over the SDHC interface.

For MMC/eMMC cards, BootROM supports the speed modes listed in the following table.

Table 182. Data rates supported for MMC card boot

| Speed modes    | Maximum baud rate   | Clock speed   | Bus width       |
|----------------|---------------------|---------------|-----------------|
| Normal speed   | 25 MB/s             | 25 MHz        | 1, 4, or 8 bits |
| High speed     | 50 MB/s             | 50 MHz        | 1, 4, or 8 bits |
| High speed DDR | 100 MB/s            | 50 MHz        | 4 or 8 bits     |

BOOT\_CFG1[22:19] controls the selection of speed modes when an MMC/eMMC card is used over the SDHC interface

## 30.13.2.4 SDHC boot flow diagrams

## 30.13.2.4.1 SDHC boot flow - startup

The following figure illustrates the startup portion of the SDHC boot flow.

Boot

<!-- image -->

## 30.13.2.4.2 SDHC boot flow - voltage validation

The following figure illustrates the voltage validation portion of the SDHC boot flow.

Boot

<!-- image -->

## 30.13.2.4.3 SDHC boot flow - chip initialization

The following figure illustrates the chip initialization portion of the SDHC boot flow.

<!-- image -->

## 30.13.2.4.4 SDHC boot flow - data read

The following figure illustrates the data read portion of the SDHC boot flow.

<!-- image -->

## 30.13.2.4.5 uSDHC MMC boot device initialization

The following figure illustrates uSDHC MMC boot device initialization.

Boot

S32G2 Reference Manual, Rev. 8, February 2024

<!-- image -->

## 30.13.2.4.6 uSDHC MMC boot voltage validation

The following figure illustrates uSDHC MMC boot voltage validation.

<!-- image -->

## 30.14 Fail-Safe

Errors may be encountered during BootROM execution-software programming errors during development, flash memory failure, PCB failure during production, timeout due to failure of hardware modules, authentication failure during secure boot, exceptions during BootROM execution, and so on. BootROM issues a functional reset in all error conditions.

When BootROM issues repeated functional resets due to a persistent error condition, it is unable to pass control to the application. To manage this scenario, BootROM checks the number of functional resets issued. If  8, BootROM enters Serial Boot mode to download application code via supported serial interfaces. This mechanism is called Fail-Safe. See Figure 162 for condition RESETs &gt;= 8.

## NOTE

The application should check for reset sources and the number of functional resets in the starting instructions and make a local copy for further reference. It should then clear these registers in MC\_RGM. Otherwise, persistent resets caused by the application (not from BootROM), will force the BootROM firmware to enter Fail-Safe even though the application can be successfully booted.

## 30.15 Boot target

The  boot target is the core responsible for running application code. You can choose to start execution of your application on either the Cortex-M7\_0 or Cortex-A53\_0 core. For safety applications, the boot target must be Cortex-M7\_0. The boot target is enabled only in the default configuration. For lockstep Cortex-A53 configuration, the boot target must be Cortex-M7\_0, and the application can then start the Cortex-A53\_0 in lockstep mode. Application code running on the boot target can start on any other core(s) in any sequence. To set the target application core, provide the settings in the IVT Boot configuration word (see IVT boot configuration word). An invalid value triggers a functional reset.

## 30.16 Boot target watchdog

The Boot target watchdog, SWT\_0, is the watchdog instance responsible for the application code running on the boot target. You can enable the watchdog via setting a field in the IVT Boot configuration word (see IVT boot configuration word for details). When BOOT\_SEQ = 0 (in the Boot configuration word) and the watchdog is configured to be enabled in the IVT Boot configuration word, BootROM enables the boot target watchdog before enabling the boot target, with its reset configuration of FIRC at 7601632 cycles.

When BOOT\_SEQ = 1, HSE\_H firmware configures the boot target watchdog. When the watchdog is enabled, the customer application must service it in a timely manner. Otherwise a functional reset occurs.

## 30.17 Standby boot

Exit from Standby mode triggers execution of BootROM. Depending on the wakeup source, BootROM boots from either the fast boot or performs a full boot, as after any reset.

The fast boot has the same format as the normal IVT (see Image Vector Table (IVT)), but its location is fixed at start of standby RAM (24000000h). When booting via the fast boot, BootROM only supports:

- DCD operations (from primary and backup)
- Application boot (from primary and backup)

The fast boot does not support Self-Test or HSE\_H firmware. It only supports (IVT boot configuration word field) BOOT\_SEQ = 0, which indicates a non-secure boot is to be performed. If BOOT\_SEQ = 1, BootROM issues a reset.

When booting from the fast boot, BootROM does not support fetching of data from either QuadSPI or an SD/MMC/eMMC card.

Before entering Standby mode, the application should program:

- The IVT (at 24000000h)
- DCD (if required)
- Application on standby RAM, whose contents remain valid during Standby mode

All pointers in the IVT must point to addresses within standby RAM. BootROM does not perform any authentication on the fast boot, DCD, or application when booting via the fast boot.

When a full boot is requested, BootROM performs normal boot operation, as after any reset, as detailed in this chapter. BootROM does not check the fast boot at the start of standby RAM. For more details on wakeup sources,see the Wakeup Unit (WKPU) chapter.

The decision to perform a full boot or boot from the fast boot, is based on the wakeup source that triggers the wakeup from standby. If the wakeup source is configured to perform a full boot, BootROM performs a full boot. Otherwise, it boots from the fast boot.

If more than one wakeup source is latched in wakeup status, and one of the wakeup sources is configured for full boot, then a full boot is performed.

Boot

<!-- image -->

## Chapter 31 Power Management

## 31.1 Introduction

This chapter describes the power management architecture. It also provides details for the necessary chip voltages and how to control them.

## 31.1.1 Power management functional blocks

Table 183. Power management functional blocks

| Module   | Description                                                                                                                                                                                |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MC_ME    | Mode Entry module Manages:  On/off control of blocks and subsystems  Standby mode entry requests  Software reset requests.                                                              |
| MC_PCU   | Power Control Unit Manages:  Standby mode entry after MC_ME request  Standby mode exit.                                                                                                  |
| MC_RGM   | Reset Generation Module Manages full-chip and post-wake-up reset sequences.                                                                                                                |
| PMC      | On-Chip Power Management Controller  Controls Non-Critical Supply Presence Detectors (NCSPDs).  Manages power-on reset mechanism.                                                        |
| PMIC     | Off-Chip Power Management IC The off-chip power management circuit may be a single IC or a combination of components, and may contain associated safety and low-power mode infrastructure. |
| WKPU     | Wakeup Unit Manages external NMIs and Standby mode wake-up sources.                                                                                                                        |

## 31.2 Power management features

The power management provides the following features:

- Interfaces to an external SBC (PMIC), providing all chip voltages
- Provides hardware-controlled entry into Run mode
- Enables software-controlled entry into Standby mode
- Enables software-controlled disabling of partitions to reduce power consumption during Run mode
- Provides wake-up event management for exit from Standby mode

## 31.3 Power-related I/Os

## Table 184. Power-related I/O

| Name              | I/O type   | Logic (0.8 V) pullup/pulldown   | Muxable   | Description                                                                                                                                                                                                                                                                                       |
|-------------------|------------|---------------------------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| PMIC_STBY_MODE_ B | Output     | -                               | No        | Active-low Standby mode indicator, causes PMIC to disable all switchable power supplies except the Standby mode core supply and 3.3 V required to power the POR and standby pins. The selection of which supply remains ON in standby mode depends on the programming done to the PMIC registers. |
| PMIC_VDD_OK       | Input      | -                               | No        | Output from PMIC indicating the core supply voltage is in the specified operating range, to enable Standby mode exit process to proceed.                                                                                                                                                          |
| PMIC_SENSE        | Output     | -                               | No        | Sense for core supply (0.8 V)                                                                                                                                                                                                                                                                     |
| NMI               | Input      | -                               | No        | External non-maskable interrupts                                                                                                                                                                                                                                                                  |
| WKUP n            | Input      | -                               | Yes       | External wake-ups that can cause an exit from Standby mode (where ' n ' = 0 to 22)                                                                                                                                                                                                                |
| POR_B             | Input      | Pulldown                        | No        | Startup reset pin indicating supplies are within their specified operating range                                                                                                                                                                                                                  |

## NOTE

See the attached IOMUX spreadsheet for details on power-related I/Os and supply pins.

The package pins/balls and corresponding chip pins that supply each analog block in the list below are independent (for example, they are not shared and not adjacent to each other):

- PMC
- FIRC
- FXOSC

This does not preclude that the supplies may be shared at the board and/or PMIC level.

## 31.4 Operating modes

The power management architecture supports three modes of operation:

- Reset mode
- Entire chip is powered.
- Reset mode is the initial mode of the chip. Run mode is entered after Reset mode.
- Run mode
- Entire chip is powered.
- Power consumption is managed by clock gating unused processing blocks and peripherals.
- This mode is always entered on exit from reset and wake-up from Standby mode.
- Standby mode
- Only a portion of the chip is powered.

Power Management

- This mode is supported in chips requiring ultra-low power. This mode is required when the chip enters a very low-power state caused by PMIC programming that shuts off supplies. It also enters the mode by following the protocol for Standby entry and exit scenarios.

<!-- image -->

## 31.4.1 Reset mode

Reset mode has the following attributes:

- The chip is in a safe state.
- All pins are in their default safe states.
- All computing and communication processes are terminated.
- The chip is fully powered, if not previously fully turned on, on Reset mode entry.
- The chip transitions to its default state prior to enabling Reset mode exit.

The chip always enters Run mode after Reset mode exit (see the "Reset" chapter for related details).

## 31.4.2 Run mode

Run mode has the following attributes:

- Run mode is the only mode during which the chip executes computational and communications functions.
- The chip is fully powered.
- The boot core is the only core enabled on Run mode entry.
- Software can enable/disable cores and subsystems as needed by the application, based on functional and power requirements.
- Software can configure the device pins needed by the application.
- Software can set up and trigger BIST execution as needed by the application:
- Main Reset domain:
- Device pins are placed in a safe state.
- No computational or communication activities are possible.
- After BIST completes, Reset mode is entered automatically.
- Software Reset domain: Some computational and communication activities can run when BIST is running.

## 31.4.3 Standby mode

Standby mode is the lowest power consumption mode of the chip. Only a minimal portion of chip logic is powered during Standby mode.

Operations permitted during Standby mode are:

- Execution shutdown sequence
- Storage of data needed after Standby mode and store data during standby mode
- Generation of wake-up events
- Detection and response to reset and wake-up events
- Execution of the startup sequence.

## 31.4.3.1 Standby mode modules

## Table 185. Standby mode modules

| Module    | Description                                                                                                                             |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| MC_PCU    | Manages power-up/power-down sequencing.                                                                                                 |
| MC_RGM    | Manages resets occurring during Standby mode and the reset sequences associated with Standby mode entry/exit.                           |
| PMC       | Generates a POR on any of the following during Standby mode:  POR_B assertion  CSPD_STANDBY_0P8 indicates loss of voltage on VDD_STBY |
| RTC       | Optionally generates a periodic wake-up event.                                                                                          |
| SIRC      | Provides the clock used by the RTC.                                                                                                     |
| OCOTP     | Retains the fuse values (avoids the need to read fuses after each Standby mode exit).                                                   |
| LC_CHECK  | Detects any corruption of life cycle information provided by OCOTP.                                                                     |
| STDBY_RAM | Stores data that must be intact after Standby mode exit.                                                                                |

## NOTE

All supplies switched off in Standby mode must have low impedance to ground. The supplies must discharge to less than 100 mV before making the PMIC\_VDD\_OK pin low. The requirement is to keep impedance less than 50 .

All wake-up sources, including wake-up pins, are functional and powered during Standby mode.

## 31.4.3.2 High-level Standby mode power-down/power-up flow diagram

Figure 178. High level Standby mode power up/down sequence flow diagram

<!-- image -->

## 31.5 Operating mode transitions

## 31.5.1 Reset mode to Run mode

The transition from Reset mode to Run mode occurs automatically on any reset sequence exit.

See the "Reset" chapter for details on the reset sequence portion of this mode transition.

## 31.5.2 Configuring clocks

See the "Clocking" chapter for clock configuration details.

## 31.5.3 Turning on cores and partitions

See the "Mode Entry Module (MC\_ME)" and "Reset" chapters for details.

## 31.5.4 Run mode to Reset mode

Numerous sources can trigger a transition to Reset mode.

See the "Reset" chapter for details on the reset sequence portion of this mode transition, and for a list of sources that can trigger a reset.

## 31.5.5 Run mode to Standby mode

During the transition from Run mode to Standby mode, software uses the I 2 C or SPI module to communicate that the transition of the chip to Standby mode is in progress. Communicating the transition ensures that the PMIC is aware that the chip is entering Standby mode and prevents undesired Standby mode entry sequence triggers.

## 31.5.5.1 Standby mode entry flow

After the chip notifies the PMIC that Standby mode entry is pending by writing to the Standby Time Window register in the PMIC, the PMIC ignores all further communication bus activity until one of the following events occurs:

- The Standby entry sequence has completed, followed by the Standby exit sequence having completed.
- The PMIC's Standby mode watchdog timer has timed out.
- The reset sequence completes successfully after a reset event is indicated by deassertion of the RESET\_B pin.

## 31.5.5.1.1 Standby mode entry flow diagram

<!-- image -->

See Standby mode to Run mode for Standby mode exit flow.

## 31.5.6 Standby mode to Run mode

Only a wake-up event triggers a transition from Standby mode to Run mode. WKPU manages all wake-up events.

If a wake-up event occurs while a transition from Run mode to Standby mode is in progress, the current transition completes. Only after the transition has completed does the wake-up event trigger a transition back to Run mode.

## 31.5.6.1 Standby mode exit flow

MC\_PCU ignores wake-up and functional reset events that occur during shutdown sequencing. The chip retains the events, then MC\_PCU evaluates them. This evaluation occurs one SIRC clock cycle after PMIC confirmation that the run power domain has successfully shut down.

## 31.5.6.1.1 Standby mode exit flow diagram

<!-- image -->

See the "Reset" chapter for details on the reset sequence portion of this mode transition.

## 31.5.7 Standby to Reset mode

There are numerous reset sources that can trigger a transition to Reset mode.

A reset source available in Standby mode can trigger a transition to Reset mode.

The actions listed below occur automatically when a power-on reset event occurs at any time during Standby mode or during the transition to/from Standby mode:

- Immediate abort of any ongoing Standby mode transition step

Power Management

- Deassertion of the STANDBY\_MODE\_B signal to the PMIC
- Transition to the startup sequence by MC\_RGM.

See the "Reset" chapter for a list of reset sources and related details.

## 31.5.8 Wake-up pin pullup/pulldown control during Run and Standby modes

SIUL2, WKPU, and S32G\_STBY\_GPR modules manage the pull control of the WKUPn pins.

To configure pullup/pulldown of WKUPn pins:

1. Write zero to WKUP\_PUS[WKUP\_PU\_OVERRIDE] of S32G\_STBY\_GPR during Run mode, so that SIUL2 has full control over the pin pullup/pulldown for each WKUPn pin (see Table 186).
2. Write one to WKUP\_PUS[WKUP\_PU\_OVERRIDE] of S32G\_STBY\_GPR before entering Standby mode, to give WKPU control. It can remain one if the application is only spending a short time in Run mode between Standby mode periods (for example, short wake-up events) (see Table 187).

Table 186. Wake-up pin pullup/pulldown during Run mode (WKUP\_PUS[WKUP\_PU\_OVERRIDE] = 0)

| Desired pull   |   SIUL2_MSCR n [PUE] | WKPU_WIPUER[IPUE[ p ]]   | SIUL2_MSCR m [PUS]   | S32G_STBY_GPR WKUP_PUS[WKUP_PUS]   |
|----------------|----------------------|--------------------------|----------------------|------------------------------------|
| None           |                    0 | x                        | x                    | x                                  |
| Pullup         |                    1 | x                        | 1                    | x                                  |
| Pulldown       |                    1 | x                        | 0                    | x                                  |

## Table 187. Wake-up pin pullup/pulldown during Standby mode 1  (WKUP\_PUS[WKUP\_PU\_OVERRIDE] = 1)

| Desired pull   | SIUL2 MSCR n [PUE]   |   WKPU WIPUER[IPUE[ p ]] | SIUL2 MSCR m [PUS]   | S32G_STBY_GPR WKUP_PUS[WKUP_PUS]   |
|----------------|----------------------|--------------------------|----------------------|------------------------------------|
| None           | x                    |                        0 | x                    | x                                  |
| Pullup         | x                    |                        1 | x                    | 1                                  |
| Pulldown       | x                    |                        1 | x                    | 0                                  |

## NOTE

Enabling pullups on the wake-up pins during Standby mode increases overall Standby mode power consumption.

## NOTE

It is not valid to configure the wake-up pin from SIUL2 and write zero to WKUP\_PUS[WKUP\_PU\_OVERRIDE] of the S32G\_STBY\_GPR before entering the Standby mode.

Power Management

Figure 181. Wake-up pin pullup/pulldown control

<!-- image -->

## 31.6 Operating mode control blocks

## 31.6.1 MC\_ME

MC\_ME manages the hardware-driven portions of the mode transition processes as follows (see the "Mode Entry Module (MC\_ME)" chapter details):

- Provides control and status registers to manage enabling/disabling of partition and core clocks.
- Provides control and status registers to manage enabling/disabling of partition output isolation.
- Provides a set of core address registers providing cores with the jump addresses to application code.
- Provides a mechanism for changing the chip mode from Run mode to Standby mode or Reset mode via software triggering.

MC\_ME signals MC\_RGM to enter the start of its Standby mode reset sequence. This signal is asserted immediately after software successfully requests a mode change to Standby mode.

## 31.6.2 MC\_PCU

MC\_PCU manages shutdown sequencing on entry to Standby mode and startup sequencing on exit from Standby mode (see the "Power Control Unit (MC\_PCU)" chapter for details).

## 31.6.3 MC\_RGM

MC\_RGM manages power domain resets during Run mode, of both the shutdown sequence and startup sequence (see the "Reset Generation Module (MC\_RGM)" chapter).

After entering Standby mode reset sequence, MC\_RGM provides a signal to MC\_PCU that triggers MC\_PCU to start the shutdown sequence.

MC\_RGM provides a signal to MC\_PCU that triggers MC\_PCU to begin startup sequencing. This signal is asserted immediately after MC\_RGM detects any functional reset event.

## 31.6.4 RTC

RTC is a real-time counter that runs on the SIRC clock. You can configure it to generate a periodic interrupt or Standby mode wake-up event (see the "Real Time Clock (RTC)" chapter for details).

## 31.6.5 WKPU

WKPU provides a mechanism for managing the Standby mode wake-up sources:

- Up to 31 external wake-up pins (WKUPn signals in IOMUX spreadsheet)
- A single wake-up from RTC

You can also configure the wake-up sources to trigger an interrupt during Run mode.

WKPU also manages NMI pins. NMI pins do not function as a Standby mode wake-up source.

When an NMI event occurs, software determines the NMI pin that caused the event, then whether an NMI event overflow has occurred on that pin, by reading WKPU\_NSR. Software clears each status flag by writing 1 to the corresponding field.

The wake-up outputs of the WKPU connect to the wake-up input of the MC\_PCU.

After exiting the Standby mode wake-up sequence, software determines what caused the wake-up by reading WKPU\_WISR. Similarly, after a WKPU interrupt event, software determines what caused the interrupt by reading the same register.

Software can clear each individual status flag by writing 1 to the corresponding field. Reading the fields in WKPU\_WISR determines the cause of the wake-up:

- Flag 31 equals one indicates an RTC counter rollover.
- If any of the other flags equal one, the cause was an external wake-up event on the corresponding wake-up pin.

After exiting the Standby mode wake-up sequence, software can determine whether to load the low-power boot image or the full boot image by reading WKPU\_WBMSR.

Figure 182 shows the wake-up and interrupt mapping of WKPU. The blocks labeled "glitch filter" represent fields in WKPU\_WIFER or WKPU\_NCR. The blocks labeled "edge det" represent a field in WKPU\_WIFEER (riding edge), WKPU\_WIFEEF (falling edge), or WKPU\_NCR.

Power Management

Figure 182. WKPU wake-up and interrupt mapping overview

Power Management

<!-- image -->

## 31.6.5.1 NMI pins

Each NMI pin (NMI[n]) maps to NMI n in the NMI status and configuration registers in WKPU.

You can configure each NMI input via the corresponding WKPU\_NCR[NREE] and WKPU\_NCR[NFEE] to trigger an NMI on:

- Any rising edge, but not any falling edge
- Any falling edge, but not any rising edge
- Any edge
- No edge (for example, NMI pin disabled)

The default after a full chip reset is no edge.

You cannot configure NMI inputs to cause a wake-up from Standby mode.

There is a glitch filter between each NMI pin input buffer and its corresponding WKPU input. You can enable and disable the filter via the corresponding WKPU\_NCR[NFE] field. The default condition of the filter is disabled after a full chip reset.

See the "Interrupts" section of the WKPU chapter for further details of the processor assignment of each NMI input.

## 31.6.5.2 Wake-up pins

Each wake-up pin (WKUP[n]) maps to wake-up n in the WKPU's status and configuration registers.

Each wake-up input is configurable via the corresponding WKPU\_WRER, WKPU\_WIREER, and WKPU\_WIFEER register fields to trigger a wake-up from Standby mode on:

- Any rising edge but not any falling edge
- Any falling edge but not any rising edge
- Any edge
- No edge (for example, wake-up input is disabled)

The default after a full chip reset is no edge.

There is a glitch filter between each wake-up pin input buffer and its corresponding WKPU input. You can enable or disable the filter via the corresponding WKPU\_WIFER field. A full chip reset sets the filter to its default condition with the filter disabled.

## 31.6.5.3 Wake from RTC

RTC wake-up maps to wake-up 31 in the WKPU's wake-up status and configuration registers.

RTC wake-up must be enabled in both WKPU and RTC. You can disable it in either WKPU or RTC.

The RTC wake-up event is triggered on assertion of RTC wake-up output.

## 31.6.6 Wake-up pin glitch filter

The wake-up input glitch filter filters glitches on the wake-up pins without the need of any clock.

For specifications of the wakeup pin glitch filter, see the data sheet.

## 31.7 Power management and power domains

The power management architecture supports two types of chips:

- Single-core logic power domain
- Two-core power domains (Run mode and Standby mode)

In both cases, there are multiple non-core power domains to support pins and analog modules.

See the IOMUX spreadsheet attached to this reference manual for a list of power domains.

## 31.7.1 Precision voltage monitoring

The purpose of the precision voltage detectors (LVDs and HVDs) is to ensure that each supply voltage remains within its minimum and maximum operating voltage levels. If any supply voltage level is outside this range, the corresponding precision voltage detector indicates a failure. The consequence of the failure is a power-on reset sequence executed on the chip.

There are no on-chip precision voltage monitors. All required precision voltage monitoring is done off-chip. Each precision voltage monitor should be on the same sense point as the regulator for the corresponding power supply.

There is a dedicated PMIC\_SENSE analog output pin for providing the internal cold-point voltage level of the VDD power domain.

The PMIC protects against VDD overvoltage in the case of a broken connection between the VDD sense point and the PMIC (for example, the PMIC\_SENSE ball disconnects from the board). The PMIC then indicates the detected failure via POR\_B assertion or other error indication.

<!-- image -->

## NOTE

The additional sense point at the VDD pin on the board is monitored in case PMIC\_SENSE connection is broken.

Any extended overvoltage condition detected by PMIC causes PMIC to shut down the corresponding regulator.

Table 188. Minimum off-chip LVDs and HVDs

| Supply   | Type   | Sense                     |
|----------|--------|---------------------------|
| 0.8 V    | HVD    | PMIC_SENSE                |
| 0.8 V    | LVD    | PMIC_SENSE                |
| 1.8 V    | HVD    | Output of 1.8 V regulator |
| 1.8 V    | LVD    | Output of 1.8 V regulator |

Table continues on the next page...

Power Management

Table 188. Minimum off-chip LVDs and HVDs (continued)

| Supply         | Type    | Sense                              |
|----------------|---------|------------------------------------|
| 3.3 V          | HVD LVD | Output of 3.3 V regulator          |
| 1.1 V to 1.5 V | LVD     | Output of 1.1 V to 1.5 V regulator |

## NOTE

There is no need to monitor supplies that are not required for a chip.

When one of the off-chip precision voltage monitors detects an overvoltage or undervoltage condition, the POR\_B input asserts.

The VDD\_STBY domain may not be monitored by the PMIC when supplied by its low-power regulator. This minimizes overall power consumption during Standby mode.

## 31.7.2 Supply Presence Detectors (SPD)

SPDs ensure that all the physical connection paths from the voltage regulators to the on-chip voltage supply rails (for example, board connection from PMIC outputs to chip pins, or package connections from pins to the die power supply pins, including substrate and bond wires) are intact.

Depending on the type of SPD (NCSPD or CSPD), if a power rail connection to the supply is broken, the corresponding SPD indicates a failure. The consequences of the failure are:

- An on-chip power-on reset sequence executes for CSPDs.
- If enabled in the PMC NCSPD\_CTL register, an on-chip destructive reset sequence executes for NCSPDs.

Each SPD signals a disconnect event based on its detection of an extremely low voltage on a particular power domain. Such an event automatically triggers when the supply of this target power domain is disconnected, or when it falls below a voltage level that is significantly lower than the precision LVD level of the PMIC. When any of the CSPDs/NCSPDs detect a disconnected core supply, the corresponding CSPD/NCSPD input of the PMC asserts. See the "Reset" chapter for further details.

The figure below shows the basic SPD operation.

<!-- image -->

## 31.7.2.1 NCSPD configuration

The following table shows the NCSPD mapping in the NCSPD\_CTL, NCSPD\_STAT, and NCSPDEF registers of the PMC.

## NOTE

See the chip's data sheet for voltage supply descriptions.

Power Management

Table 189. PMC NCSPD mapping

| PMC NCSPD register fields                                                   | NCSPD index   | Module                             | Supply                                                                  |
|-----------------------------------------------------------------------------|---------------|------------------------------------|-------------------------------------------------------------------------|
| NCSPDEF[NCSPD_EVENT_CAPTURE0] NCSPD_CTL[NCSPD_CTL0] NCSPD_STAT[NCSPD_STAT0] | NCSPD0        | FXOSC                              | VDD_FXOSC                                                               |
| NCSPDEF[NCSPD_EVENT_CAPTURE1] NCSPD_CTL[NCSPD_CTL1] NCSPD_STAT[NCSPD_STAT1] | NCSPD1        | ADC0                               | VDD_ADC                                                                 |
| NCSPDEF[NCSPD_EVENT_CAPTURE2] NCSPD_CTL[NCSPD_CTL2] NCSPD_STAT[NCSPD_STAT2] | NCSPD2        | ADC1                               | VDD_ADC                                                                 |
| NCSPDEF[NCSPD_EVENT_CAPTURE3] NCSPD_CTL[NCSPD_CTL3] NCSPD_STAT[NCSPD_STAT3] | NCSPD3        | TMU                                | VDD_TMU                                                                 |
| NCSPDEF[NCSPD_EVENT_CAPTURE4] NCSPD_CTL[NCSPD_CTL4] NCSPD_STAT[NCSPD_STAT4] | NCSPD4        | FBXC                               | VDD_EFUSE                                                               |
| NCSPDEF[NCSPD_EVENT_CAPTURE5] NCSPD_CTL[NCSPD_CTL5] NCSPD_STAT[NCSPD_STAT5] | NCSPD5        | ACCEL_PLL, PERIPH_PLL and CORE_PLL | VDD_HV_PLL                                                              |
| -                                                                           | NCSPD6        | -                                  | Not mapped to any monitor for this chip. Reserved for future expansion. |
| NCSPDEF[NCSPD_EVENT_CAPTURE7] NCSPD_CTL[NCSPD_CTL7] NCSPD_STAT[NCSPD_STAT7] | NCSPD7        | DDR_PLL                            | VDD_HV_PLL_DDR0                                                         |
| NCSPDEF[NCSPD_EVENT_CAPTURE8] NCSPD_CTL[NCSPD_CTL8] NCSPD_STAT[NCSPD_STAT8] | NCSPD8        | DDR_PLL                            | VDD_LV_PLL_DDR0 1                                                       |
| NCSPDEF[NCSPD_EVENT_CAPTURE9] NCSPD_CTL[NCSPD_CTL9] NCSPD_STAT[NCSPD_STAT9] | NCSPD9        | AURORA_PLL                         | VDD_HV_PLL_AUR                                                          |
| NCSPDEF[NCSPD_EVENT_CAPTURE10] NCSPD_CTL[NCSPD_CTL10]                       | NCSPD10       | AURORA_PLL                         | VDD_LV_PLL_AUR 1                                                        |

Table continues on the next page...

Table 189. PMC NCSPD mapping (continued)

| PMC NCSPD register fields                                                      | NCSPD index       | Module         | Supply                                                                  |
|--------------------------------------------------------------------------------|-------------------|----------------|-------------------------------------------------------------------------|
| NCSPD_STAT[NCSPD_STAT10]                                                       |                   |                |                                                                         |
| NCSPDEF[NCSPD_EVENT_CAPTURE11] NCSPD_CTL[NCSPD_CTL11] NCSPD_STAT[NCSPD_STAT11] | NCSPD11           | Standby domain | VDD_IO_STBY 2                                                           |
| -                                                                              | NCSPD12 - NCSPD16 | -              | Not mapped to any monitor for this chip. Reserved for future expansion. |
| NCSPDEF[NCSPD_EVENT_CAPTURE17] NCSPD_CTL[NCSPD_CTL17] NCSPD_STAT[NCSPD_STAT17] | NCSPD17           | GPIO           | VDD_IO_A                                                                |
| NCSPDEF[NCSPD_EVENT_CAPTURE18] NCSPD_CTL[NCSPD_CTL18] NCSPD_STAT[NCSPD_STAT18] | NCSPD18           | GPIO           | VDD_IO_B                                                                |
| -                                                                              | NCSPD19 - NCSPD20 | -              | Not mapped to any monitor for this chip. Reserved for future expansion. |
| NCSPDEF[NCSPD_EVENT_CAPTURE21] NCSPD_CTL[NCSPD_CTL21] NCSPD_STAT[NCSPD_STAT21] | NCSPD21           | USB            | VDD_IO_USB                                                              |
| NCSPDEF[NCSPD_EVENT_CAPTURE22] NCSPD_CTL[NCSPD_CTL22] NCSPD_STAT[NCSPD_STAT22] | NCSPD22           | uSDHC          | VDD_IO_SDHC                                                             |
| NCSPDEF[NCSPD_EVENT_CAPTURE23] NCSPD_CTL[NCSPD_CTL23] NCSPD_STAT[NCSPD_STAT23] | NCSPD23           | QuadSPI        | VDD_IO_QSPI                                                             |
| -                                                                              | NCSPD24 - NCSPD27 | -              | Not mapped to any monitor for this chip. Reserved for future expansion. |
| NCSPDEF[NCSPD_EVENT_CAPTURE28] NCSPD_CTL[NCSPD_CTL28] NCSPD_STAT[NCSPD_STAT28] | NCSPD28           | -              | PADS_CLKOUT                                                             |
| -                                                                              | NCSPD29 - NCSPD31 | -              | Not mapped to any monitor for this chip. Reserved for future expansion. |

1. NCSPD on the corresponding HV supply may also trigger when the LV supply drops significantly.

Power Management

2. When VDD\_IO\_STBY drops below the NCSPD threshold, it may generate a POR. In this case, the hardware writes 1 to PMC\_SSR[POR\_SUP].

## NOTE

- If the core supply is not active, incorrect results may occur in these CSPD/NCSPD registers:
- CSPD\_EVENT\_CAPTURE
- NCSPD\_STAT
- SSR
- NCSPD11 monitors the 3.3 V supply (VDD\_IO\_STBY) of the POR\_B pad segment to ensure that the chip can enter the destructive reset sequence even if the connection to VDD\_IO\_STBY is broken and the POR\_B signal cannot be properly asserted. For this, the software must enable NCSPD11 in PMC.

In some cases, the connection to VDD\_IO\_STBY may be broken but the POR\_B signal is still asserted enough to be interpreted as a power-on reset. This results in the PMC\_SSR[POR\_SUP] written with 1, but the NCSPD11 event capture flag not being set, even if NCSPD11 is enabled.

## 31.7.2.2 CSPD configuration

The following table shows the field mapping in the PMC\_CSPDEF register. See the chip  Data Sheet for descriptions of all supplies.

Table 190. PMC CSPD mapping

| PMC_CSPDEF field    | CSPD index     | Module   | Supply   |
|---------------------|----------------|----------|----------|
| HVCPOREF            | HVCPOREF       | PMC      | VDD_VREF |
| CSPD_EVENT_CAPTURE1 | CSPD1          | FIRC     | VDD_FIRC |
| CSPD_EVENT_CAPTURE2 | CSPD2          | FIRC     | VDD      |
| 3-31                | CSPD3 - CSPD31 | -        | Unused   |

## NOTE

If the core supply is not active, incorrect results may occur in these CSPD/NCSPD registers:

- CSPD\_EVENT\_CAPTURE
- NCSPD\_STAT
- SSR

## 31.7.3 Voltage overshoot and undershoot protection

PCFS features are provided to ensure smooth clock frequency transitions:

- Ramp-up to protect against an LVD event occurring due to a sudden increase in current consumption when turning on a portion of the chip during Run mode.
- Ramp-down to protect against an HVD event occurring due to a sudden decrease in current consumption due to a functional reset.

There is no on-chip protection against an HVD event occurring due to a sudden decrease in the current consumption of the chip due to a destructive reset.

The off-chip power supply can react quickly enough to a sudden decrease in chip current consumption in the case of a destructive reset.

## 31.7.4 External PMIC interface

The external PMIC contains safety-critical functionalities:

- Voltage supervision
- Watchdog operation (POR\_WDOG)
- Error monitoring
- Analog BIST to check safety functions,

If any failure occurs, the external PMIC asserts POR\_B.

## 31.7.4.1 Use case: Interfacing to external PMIC

For interfacing to the PMIC, see the chip Hardware Design Guidelines.

## 31.7.4.2 Debug use case: Interfacing to external PMIC

In the debug use case, RESET\_B is bidirectional.

The external debugger must clear the watchdog in the external PMIC after RESET\_B asserts. Otherwise, the PMIC can assert POR\_B after a defined number of RESET\_B assertions. Figure 186 shows the debug use case.

<!-- image -->

Power Management

## 31.7.4.3 Standby mode use case: Interfacing to external PMIC

Figure 187. Standby mode use case interfacing external PMIC

<!-- image -->

## 31.7.4.4 Safety context for PMIC WDOG

The PMIC WDOG must be available at the system level immediately when safety outputs release. Before that, RSTB (reset output from PMIC) or POR\_B (power good output from PMIC) are high so the chip can start its own initialization and WDOG has a timeout of 256 ms for the first time if the chip is stuck.

Sequence of steps:

1. PMIC powers up.
2. The power-up sequence configuration in the PMIC determines chip and peripheral supplies.
3. After power supplies reach correct normal operation, the PMIC POR\_B and RSTB pins are automatically deasserted. Upon this deassertion, the PMIC starts an internal counter with a period of 256 ms. During this 256 ms window, the chip starts execution of its own initialization procedure. You must configure the PMIC before the lapse of the window resets the first watchdog.
4. At this point WDOG is working in normal mode. The watchdog refreshes every x ms based on the watchdog window period configured during the initialization phase (for example, 10 ms).
5. The chip can now request the PMIC to release the safety output. The chip is now able to start the application.

## NOTE

Refer to the PMIC datasheet for actual timeout values.

Power Management

When the chip is unable to program the PMIC (for example, it is stuck in reset), PMIC detects this case even with an unconfigured watchdog timer. If the chip is pulling reset low continuously, and the PMIC has an internal counter (8 s), the PMIC automatically transitions to Deep Fail-Safe mode.

In Deep Fail-Safe mode:

1. All regulators in the PMIC switch off.
2. The chip enters Reset mode.
3. The PMIC FS0B (fail-safe output 0) and POR\_B pins are asserted (driven low).
4. If configured on the chip, the automatic restart function executes.

The automatic restart option, if configured at the factory via fuses, operates according to one of the following options:

- No automatic restart
- Automatic restart (executes a maximum of 15 times)
- Automatic restart (no limit to the number of times it can execute)

## 31.8 Power mode control blocks

## 31.8.1 PMIC control

Software controls the PMIC during Run mode via the I 2 C communication interface.

Additionally, PMIC control during Standby mode is via a signal from the chip indicating whether VDD can be turned off, or must be turned on. The PMIC uses a hardware signal to indicate to the chip whether the VDD voltage is within its operating range, separate from the POR\_B input.

## 31.8.1.1 Static Voltage Scaling (SVS)

SVS is a method in which the voltage of a power domain can be adjusted up or down to optimize power consumption at operational frequencies used in that domain. The decision of whether the voltage should be adjusted, and by how much, is based on process data for the particular chip.

<!-- image -->

## NOTE

Voltage levels shown in Figure 188 are examples. See the chip data sheet for actual operating levels.

The process data for each die is stored in the DIE\_PROCESS[1:0] fuses according to the following coding:

- DIE\_PROCESS[1:0] = b00, SVS is disabled
- DIE\_PROCESS[1:0] = b01, SVS mode b01
- DIE\_PROCESS[1:0] = b10, Reserved
- DIE\_PROCESS[1:0] = b11, Reserved

Some SVS modes may not be used, for more information on power domain SVS voltage levels and which SVS modes are supported, see the 'Operating Conditions " section in the chip data sheet.

An overview of the SVS execution flow is shown in the following diagram.

<!-- image -->

The above SVS execution steps are performed by the application software.

Note that PMIC voltage monitoring of the core supply may be disabled while SVS voltage trimming is occurring, which would impact the functional safety viability during this time. Therefore, we recommend that you apply SVS prior to starting the safety application.

Power Management

Power Management

<!-- image -->

Disabling of voltage monitors by the PMIC during SVS is indicated by the PMIC to the chip (for example, via the FSOB output on NXP Semiconductor PMICs).

VDD\_STBY is typically trimmed per the SVS setting during Run mode, but at the nominal voltage during Standby mode. In addition, core supply and VDD\_STBY may still be at nominal voltage after Standby mode exit and require software to execute SVS again.

<!-- image -->

## 31.8.2 PMC

The analog portion of PMC:

- Ensures that if any of the signals that can assert the raw POR signal in the chip are asserted, the raw POR signal is asserted for a minimum of 1 s.

- Provides a band gap voltage.
- Contains CSPDs to monitor the following power rails:
- Core supply - supplies power to the POR signal generation logic.
- PMC supply - supplies the band gap.

PMC also contains a watchdog to recover from undesired stuck-in-reset conditions.

The digital portion of the PMC contains logic for generating a POR used to reset MC\_RGM and the POR signal.

The digital portion of the PMC contains logic and registers required to manage the CSPD and NCSPD signals.

## 31.9 Powerup/powerdown ramp rates and sequences

See the chip's data sheet for supply ramp rate and sequence specifications.

## 31.9.1 Pin behavior during powerup

<!-- image -->

## 31.9.2 Chip startup and shutdown

When the core supply is turned on during startup, VDD\_STBY is also turned on, and the other way around. However, the actual turn-on times and/or ramp rates may differ.

Power Management

Power Management

When the core supply is turned off during shutdown, VDD\_STBY is also turned off, and the other way around. However, the actual turn-off times and/or ramp rates may differ.

When VDD\_IO\_A and VDD\_IO\_B are turned on during startup, VDD\_IO\_STBY is also turned on, and the other way around. However, the actual turn-on times and/or ramp rates may differ.

When VDD\_IO\_A and VDD\_IO\_B are turned off during shutdown, VDD\_IO\_STBY is also turned off, and the other way around. However, the actual turn-off times and/or ramp rates may differ.

## 31.9.3 Standby mode entry

Switchable power supplies are not turned off during Standby mode entry until the PMIC\_STBY\_MODE\_B output pin asserts.

Turning off switchable power supplies during Standby mode entry does not cause the supplies still on to have voltage over/undershoots.

Switchable power supplies may be turned off together with no requirement for a specific shutdown sequence.

## 31.9.4 Standby mode exit

For more information on Standby mode exit sequence, refer to the chip data sheet.

## 31.10 Low power modes

## 31.10.1 Wake-up sources

The device supports 23 wake-up pads in Standby mode (WKUP0 - WKUP22). These pads are identified in the IOMUX spreadsheet as being in the VDD\_IO\_STBY power domain.

To determine the mapping of WKUPn pins with I/O Power Domain, see the IO Signal tab in the attached IOMUX spreadsheet.

To reduce standby current, wake-up pins are input-only.

An internal interrupt, API wake-up signal from RTC, is also supported.

A typical use case for the API is to trigger a periodic wake-up for the S32G to feed an external watchdog before returning to Standby mode. Typically the WDOG is in the PMIC.

The power profile for this sequence should be kept to a minimum (for example, the power consumption during the wake-up transition, the feed watchdog code and the Standby mode entry transition should be kept as low as possible).

The watchdog timeout can be as low as 1 s, requiring one API wake-up event per second.

The data sheet provides a typical and maximum spec for the transition time into and out of Standby mode. The entry time is the time from software triggering a transition until Standby mode entry. Exit time is the time from a wake-up event until customer software execution.

## 31.11 Power management and power domains

## 31.11.1 I/O power domains

Each general-purpose I/O segment has an independent package supply pin, named VDD\_IO\_x (see the Supply Pins tab in the attached IOMUX spreadsheet).

The I/O segments are shown in following table.

Table 191. I/O power segments

| I/O segment   | Voltage       | Description   |
|---------------|---------------|---------------|
| VDD_IO_GMAC0  | 1.8 V / 3.3 V | Ethernet      |

Table continues on the next page...

Table 191. I/O power segments (continued)

| I/O segment   | Voltage              | Description                |
|---------------|----------------------|----------------------------|
| VDD_IO_GMAC1  | 1.8 V / 3.3 V        | Ethernet                   |
| VDD_IO_SDHC   | 1.8 V / 3.3 V        | SDHC smart card            |
| VDD_IO_QSPI   | 1.8 V                | Quad SPI                   |
| VDD_IO_USB    | 1.8 V / 3.3 V        | USB                        |
| VDD_IO_B      | 3.3 V                | General purpose 3.3 V      |
| VDD_IO_STBY   | 3.3 V                | Standby 3.3 V              |
| VDD_IO_A      | 3.3 V                | General purpose 3.3 V      |
| VDD_IO_CLKOUT | 1.8 V                | 1.8 V Clkout (GPIO + LVDS) |
| VDD_IO_DDR0   | 1.1 V / 1.2 V / 1.35 | DDR I/O                    |
| VDD_IO_PCIE0  | 1.8 V                | PCIe I/O                   |
| VDD_IO_PCIE1  | 1.8 V                | PCIe I/O                   |
| VDD_IO_AUR    | 1.8 V                | 1.8 V Aurora I/O           |
| VDD_ADC       | 1.8 V                | ADC 1.8 V supply           |

## 31.11.2 Standby pads

Figure 192. Standby pads overview

<!-- image -->

Table 192. Standby pad types

| Pad name       | Pad type   | Pull type   | Comment                                                                            |
|----------------|------------|-------------|------------------------------------------------------------------------------------|
| POR_B          | 3.3 V GPI  | Down        | Pulldown is disabled when isolation is enabled by MC_PCU; otherwise it is enabled. |
| RESET_B        | 3.3 V GPIO | Up          | Pullup is always enabled; DO pin is tied to 0.                                     |
| STANDBY_MODE_B | 3.3 V GPIO | None        | OBE pin is tied to 1; IND pin remains unconnected.                                 |
| VDD_CORE_OK    | 3.3 V GPI  | Down        | Pulldown is always enabled.                                                        |
| WKUP[*]        | 3.3 V GPI  | Up/Down     | PUE and PUS pins are controlled via SIUL and WKPU.                                 |

## Chapter 32 Mode Entry Module (MC\_ME)

## 32.1 Chip-specific MC\_ME information

## 32.1.1 MC\_ME modes

This chip implements these modes:

- Reset
- Run
- Standby

The chip always enters Run mode after exiting Reset mode.

Run mode is the only mode during which the chip can operate its computational and communications functions.

The chip remains fully powered. That means all the partition are power enabled after existing the reset. The boot core is the only core enabled when entering Run mode.

You can do the following based on your application's needs:

- Enable and disable cores and reset partitions, based on functional and power requirements
- Configure the pins

During BIST execution:

- Pins are safe-stated.
- No computational or communication activities are possible.

## 32.1.2 MC\_ME partition 0 mapping

The following table shows partition 0 and its register mapping.

Table 193. MC\_ME partition 0 mapping

| Register          | Register field   | Description            | Usage                                      |
|-------------------|------------------|------------------------|--------------------------------------------|
| PRTN0_PCONF       | PCE              | Partition clock enable | Reset domain 0 Do not write to this field. |
| PRTN0_STAT        | PCS              | Partition clock status | Read only                                  |
| PRTN0_COFB0_STAT  | BLOCK0           | IP block status        | uSDHC                                      |
| PRTN0_COFB0_STAT  | BLOCK1           | IP block status        | DDR_0                                      |
| PRTN0_COFB0_STAT  | BLOCK2-4         | IP block status        | Reserved                                   |
| PRTN0_COFB0_STAT  | BLOCK5-31        | IP block status        | Reserved (off-CC)                          |
| PRTN0_COFB0_CLKEN | REQ0             | Clock enable           | uSDHC                                      |
| PRTN0_COFB0_CLKEN | REQ1             | Clock enable           | DDR_0                                      |
| PRTN0_COFB0_CLKEN | REQ2-4           | Clock enable           | Reserved                                   |
| PRTN0_COFB0_CLKEN | REQ5-31          | Clock enable           | Reserved (off-CC)                          |

Table continues on the next page...

Table 193. MC\_ME partition 0 mapping (continued)

| Register          | Register field   | Description                      | Usage       |
|-------------------|------------------|----------------------------------|-------------|
| PRTN0_CORE0_PCONF | CCE              | Core 0 clock enable              | Cortex-M7_0 |
| PRTN0_CORE0_PUPD  | CCUPD            | Core 0 clock update              | Cortex-M7_0 |
| PRTN0_CORE0_STAT  | CCS              | Core 0 clock process status      | Cortex-M7_0 |
| PRTN0_CORE0_STAT  | WFI              | Core 0 wait for interrupt status | Cortex-M7_0 |
| PRTN0_CORE0_ADDR  | ADDR             | Core 0 address                   | Cortex-M7_0 |
| PRTN0_CORE1_PCONF | CCE              | Core 1 clock enable              | Cortex-M7_1 |
| PRTN0_CORE1_PUPD  | CCUPD            | Core 1 clock update              | Cortex-M7_1 |
| PRTN0_CORE1_STAT  | CCS              | Core 1 clock process status      | Cortex-M7_1 |
| PRTN0_CORE1_STAT  | WFI              | Core 1 wait for interrupt status | Cortex-M7_1 |
| PRTN0_CORE1_ADDR  | ADDR             | Core 1 address                   | Cortex-M7_1 |
| PRTN0_CORE2_PCONF | CCE              | Core 2 clock enable              | Cortex-M7_2 |
| PRTN0_CORE2_PUPD  | CCUPD            | Core 2 clock update              | Cortex-M7_2 |
| PRTN0_CORE2_STAT  | CCS              | Core 2 clock process status      | Cortex-M7_2 |
| PRTN0_CORE2_STAT  | WFI              | Core 2 wait for interrupt status | Cortex-M7_2 |
| PRTN0_CORE2_ADDR  | ADDR             | Core 2 address                   | Cortex-M7_2 |
| PRTN0_CORE3_PCONF | CCE              | Core 3 clock enable              | Reserved    |
| PRTN0_CORE3_PUPD  | CCUPD            | Core 3 clock update              | Reserved    |
| PRTN0_CORE3_STAT  | CCS              | Core 3 clock process status      | Reserved    |
| PRTN0_CORE3_STAT  | WFI              | Core 3 wait for interrupt status | HSE-CM7     |
| PRTN0_CORE3_ADDR  | ADDR             | Core 3 address                   | Reserved    |

## 32.1.3 MC\_ME partition 1 mapping

The following table below shows partition 1 and its register mapping.

Table 194. MC\_ME partition 1 mapping

| Register    | Register field   | Description                | Usage          |
|-------------|------------------|----------------------------|----------------|
| PRTN1_PCONF | PCE              | Partition clock enable     | Reset domain 1 |
| PRTN1_PCONF | OSSE             | Output safe stating enable | Reset domain 1 |
| PRTN1_PUPD  | PCUD             | Partition clock update     | Reset domain 1 |
| PRTN1_PUPD  | OSSUD            | Output safe stating update | Reset domain 1 |
| PRTN1_STAT  | PCS              | Partition clock status     | Reset domain 1 |
| PRTN1_STAT  | OSSS             | Output safe stating status | Reset domain 1 |

Table continues on the next page...

Table 194. MC\_ME partition 1 mapping (continued)

| Register          | Register field   | Description                      | Usage                                                                                                                                                               |
|-------------------|------------------|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| PRTN1_CORE0_PCONF | CCE              | Core 0 clock enable              | Lockstep mode: These registers control                                                                                                                              |
| PRTN1_CORE0_PUPD  | CCUPD            | Core 0 clock update              | Cortex-A53 cluster0-1 (shared control for Cortex-A53 core0-3) Performance mode: These registers control Cortex-A53 cluster0 (shared control for Cortex-A53 core0-1) |
| PRTN1_CORE0_STAT  | CCS              | Core 0 clock process status      | Cortex-A53 cluster0 core0-1                                                                                                                                         |
| PRTN1_CORE0_STAT  | WFI              | Core 0 wait for interrupt status | Cortex-A53 cluster0 core0                                                                                                                                           |
| PRTN1_CORE0_ADDR  | ADDR             | Core 0 address                   | Performance mode: Cortex-A53 cluster0 core0 Lockstep mode: Shared control for core0 of Cortex-A53 cluster0 and cluster1                                             |
| PRTN1_CORE1_PCONF | CCE              | Core 1 clock enable              | Reserved                                                                                                                                                            |
| PRTN1_CORE1_PUPD  | CCUPD            | Core 1 clock update              | Reserved                                                                                                                                                            |
| PRTN1_CORE1_STAT  | CCS              | Core 1 clock process status      | Reserved                                                                                                                                                            |
| PRTN1_CORE1_STAT  | WFI              | Core 1 wait for interrupt status | Cortex-A53 cluster0 core1                                                                                                                                           |
| PRTN1_CORE1_ADDR  | ADDR             | Core 1 address                   | Performance mode: Cortex-A53 cluster0 core1 Lockstep mode: Shared control for core1 of Cortex-A53 cluster0 and cluster1                                             |
| PRTN1_CORE2_PCONF | CCE              | Core 2 clock enable              | In Lockstep mode, these registers are reserved Performance mode: These registers control Cortex-A53 cluster1 (shared control for Cortex-A53 core2-3)                |
| PRTN1_CORE2_PUPD  | CCUPD            | Core 2 clock update              | In Lockstep mode, these registers are reserved Performance mode: These registers control Cortex-A53 cluster1 (shared control for Cortex-A53 core2-3)                |
| PRTN1_CORE2_STAT  | CCS              | Core 2 clock process status      | Cortex-A53 cluster1 core0-1                                                                                                                                         |
| PRTN1_CORE2_STAT  | WFI              | Core 2 wait for interrupt status | Cortex-A53 cluster1 core0                                                                                                                                           |
| PRTN1_CORE2_ADDR  | ADDR             | Core 2 address                   | Performance mode: Cortex-A53 cluster1 core0 Lockstep mode: Reserved                                                                                                 |
| PRTN1_CORE3_PCONF | CCE              | Core 3 clock enable              | Reserved                                                                                                                                                            |
| PRTN1_CORE3_PUPD  | CCUPD            | Core 3 clock update              | Reserved                                                                                                                                                            |
| PRTN1_CORE3_STAT  | CCS              | Core 3 clock process status      | Reserved                                                                                                                                                            |
| PRTN1_CORE3_STAT  | WFI              | Core 3 wait for interrupt status | Cortex-A53 cluster1 core1                                                                                                                                           |

Table continues on the next page...

Table 194. MC\_ME partition 1 mapping (continued)

| Register         | Register field   | Description    | Usage                                                               |
|------------------|------------------|----------------|---------------------------------------------------------------------|
| PRTN1_CORE3_ADDR | ADDR             | Core 3 address | Performance mode: Cortex-A53 cluster1 core1 Lockstep mode: Reserved |

## 32.1.4 MC\_ME partition 2 mapping

Table 195. MC\_ME partition 2 mapping

| Register          | Register field   | Description                | Usage          |
|-------------------|------------------|----------------------------|----------------|
| PRTN2_PCONF       | PCE              | Partition clock enable     | Reset domain 2 |
| PRTN2_PCONF       | OSSE             | Output safe stating enable | Reset domain 2 |
| PRTN2_PUPD        | PCUD             | Partition clock update     | Reset domain 2 |
| PRTN2_PUPD        | OSSUD            | Output safe stating update | Reset domain 2 |
| PRTN2_STAT        | PCS              | Partition clock status     | Reset domain 2 |
| PRTN2_STAT        | OSSS             | Output safe stating status | Reset domain 2 |
| PRTN2_COFB0_STAT  | BLOCK0-31        | IP block status            | Reserved       |
| PRTN2_COFB0_CLKEN | REQ0             | Clock enable               | PFE_MAC0       |
| PRTN2_COFB0_CLKEN | REQ1             | Clock enable               | PFE_MAC1       |
| PRTN2_COFB0_CLKEN | REQ2             | Clock enable               | PFE_MAC2       |
| PRTN2_COFB0_CLKEN | REQ3             | Clock enable               | PFE_TS_CLK     |
| PRTN2_COFB0_CLKEN | REQ4-31          | Clock enable               | Reserved       |

## 32.1.5 MC\_ME partition 3 mapping

Table 196. MC\_ME partition 3 mapping

| Register          | Register field   | Description                | Usage          |
|-------------------|------------------|----------------------------|----------------|
| PRTN3_PCONF       | PCE              | Partition clock enable     | Reset domain 3 |
| PRTN3_PCONF       | OSSE             | Output safe stating enable | Reset domain 3 |
| PRTN3_PUPD        | PCUD             | Partition clock update     | Reset domain 3 |
| PRTN3_PUPD        | OSSUD            | Output safe stating update | Reset domain 3 |
| PRTN3_STAT        | PCS              | Partition clock status     | Reset domain 3 |
| PRTN3_STAT        | OSSS             | Output safe stating status | Reset domain 3 |
| PRTN3_COFB0_STAT  | BLOCK0-31        | IP block status            | Reserved       |
| PRTN3_COFB0_CLKEN | REQ0-31          | Clock enable               | Reserved       |

## 32.1.6 Core controls

MC\_ME provides core boot addresses via PRTNm\_COREn\_ADDR.

Mode Entry Module (MC\_ME)

For CA53\_x, ADDR[39:32] come from Cortex-A53 GPRs, and ADDR[31:0] come from PRTNm\_COREn\_ADDR.

Each core determines its boot address in one of two possible ways:

- After core reset deassertion, the core jumps to the location specified in PRTNm\_COREn\_ADDR and starts execution from there.
- The core obtains the boot address specified in PRTNm\_COREn\_ADDR via signals from MC\_ME, then boots from that address after the chip completes its reset.

## 32.1.7 Turning off cores and partitions

No hardware handshake exists to ensure a module (core, peripheral, or subsystem) has been shut down before disabling its clock. You must disable the clock. When you do it disables the clock, regardless of the module's state.

## NOTE

For details about turning cores and partitions on or off, see these sections of the "Reset" chapter:

- "Software reset partition turn-on flow chart"
- "Software reset partition turn-off flowchart"
- "Core turn-on sequence"
- "Core turn-off sequence"

## See the following sections:

- Enable output isolation
- Disable core clocks
- Disable partition clocks
- Disable COFB clocks
- Assert partition reset signals

## 32.1.8 Enable output isolation

1. Indicate that you want to enable output-safe stating for the partition by writing 1 to PRTNm\_PCONF[OSSE].
2. Enable the partition clock hardware-update process by writing 1 to PRTNm\_COREn\_PUPD[CCUPD].
3. Start the enabled hardware-update process by writing the control key to CTL\_KEY[KEY]. MC\_ME requests the partition's output isolation cells to switch to isolation mode.
4. Ensure the hardware process has been triggered by writing 1 to PRTNm\_PUPD[PCUD].
5. Ensure the partition's output isolation cells have been transitioned to isolation mode, indicated by reading 1 from PRTNm\_STAT[OSSS].

## 32.1.9 Disable core clocks

1. Indicate that you want to disable the core clock by writing 0 to PRTNm\_COREn\_PCONF[CCE].
2. Enable the clock hardware-update processes by writing 1 to PRTNm\_COREn\_PUPD[CCUPD].
3. Start the enabled hardware-update processes by writing the control key to CTL\_KEY[KEY]. MC\_ME requests closing of the clock gates for the specified core.
4. Ensure the clock hardware process has been triggered by writing 1 to PRTNm\_PUPD[PCUD].
5. Ensure the core clock gates are closed, indicated by reading 0 from PRTNm\_COREn\_STAT[CCS].

## 32.1.10 Disable partition clocks

MC\_ME manages the disabling of a partition's clocks through the following steps.

1. You write 0 to a partition's PRTNm\_PCONF[PCE].
2. You execute a partition clock hardware-update-process sequence by:
- Writing 1 to PRTNm\_PUPD[PCUD].
- Writing the valid KEY combinations to CTL\_KEY[KEY].
3. MC\_ME requests clock gating logic to close the clock gates for that partition.
4. When the hardware process is completed, the module writes 0 to PRTNm\_PUPD[PCUD].
5. When the clock gating logic completes closing the partition's clock gates, the module writes 0 to the partition's PRTNm\_STAT[PCS].

## 32.1.11 Disable COFB clocks

To disable COFB clocks using MC\_ME, perform these steps.

1. Indicate that you want to disable the COFB clock using PRTNm\_COFBn\_CLKEN[REQ].
2. Write 1 to the partition's PRTNm\_PCONF[PCE] field.
3. Initiate the clock hardware process by writing 1 to PRNTm\_PUPD[PCUD].
4. Write the valid key combinations to CTRL\_KEY.
5. Ensure the COFB clock is gated by reading PRTNm\_COFBn\_STAT[BLOCK].

## 32.1.12 Assert partition reset signals

1. Request assertion of the partition's reset signals by writing the appropriate value to MC\_RGM.PRSTn\_0.
2. Ensure the partition reset signals are asserted by reading MC\_RGM.PSTATn\_0.

## 32.2 Introduction

The MC\_ME module generates control signals for a set of modules of the SoC. The set of signals are defined in corresponding 'Partition Configuration Registers'. It also implements a software-based mechanism for initiating a functional and destructive reset sequence and standby entry handshake with power management of SoC. See Figure 193 for the MC\_ME block diagram.

Mode Entry Module (MC\_ME)

Mode Entry Module (MC\_ME)

<!-- image -->

## 32.3 Features

MC\_ME includes the following features:

- 4 logic partitions implementation and their controls
- Core clock controls
- Partition clock control
- Partition output safe stating control
- Control mechanism for initiating a destructive or functional reset sequence to MC\_RGM
- Control mechanism for initiating standby mode entry for SoC

The logic partition inside MC\_ME refers to a certain group of on-chip resources (or IP blocks) that are clubbed together to represent a single 'Partition' inside MC\_ME. The MC\_ME partition can be the same or different than an LBIST partition. Each of the MC\_ME partitions implements a certain number of hardware processes. These hardware processes provide a mechanism to regulate various control signals provided to or received from the IP blocks. The corresponding status signals can also be monitored from MC\_ME register(s). Each of the hardware processes is bound to finish in 256 cycles of the MC\_ME register configuration clocks. Therefore, the hardware processes are non blocking in nature. Mismatch in the expected versus actual status of any hardware process is controlled by a pre-defined software.

## 32.4 MC\_ME register descriptions

MC\_ME implements set hardware processes that can be used by the software for changing the mode of operation for a partition. Following are the features of MC\_ME registers:

- All registers are 32-bit wide.
- Only 32-bit read and write accesses are supported.
- Read/write accesses of less than 32 bits do not terminate with an error, and hardware behavior is unpredictable.
- Writes to read-only register fields in writable registers are ignored and do not provide an error message.
- Writes to read-only registers are aborted with an error message.

## 32.4.1 MC\_ME memory map

MC\_ME base address: 4008\_8000h

| Offset   | Register                                                              |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Control Key Register (CTL_KEY)                                        |                32 | RW       | 0000_5AF0h    |
| 4h       | Mode Configuration Register (MODE_CONF)                               |                32 | RW       | 0000_0000h    |
| 8h       | Mode Update Register (MODE_UPD)                                       |                32 | RW       | 0000_0000h    |
| Ch       | Mode Status Register (MODE_STAT)                                      |                32 | R        | 0000_0000h    |
| 10h      | Main Core ID Register (MAIN_COREID)                                   |                32 | RW       | 0000_0000h    |
| 100h     | Partition 0 Process Configuration Register (PRTN0_PCONF)              |                32 | RW       | 0000_0001h    |
| 104h     | Partition 0 Process Update Register (PRTN0_PUPD)                      |                32 | RW       | 0000_0000h    |
| 108h     | Partition 0 Status Register (PRTN0_STAT)                              |                32 | R        | 0000_0001h    |
| 110h     | Partition 0 COFB Set 0 Clock Status Register (PRTN0_COFB0_STAT)       |                32 | R        | 0000_0000h    |
| 130h     | Partition 0 COFB Set 0 Clock Enable Register (PRTN0_COFB0_CLKEN)      |                32 | RW       | 0000_0000h    |
| 140h     | Partition 0 Core 0 Process Configuration Register (PRTN0_CORE0_PCONF) |                32 | RW       | 0000_0000h    |
| 144h     | Partition 0 Core 0 Process Update Register (PRTN0_CORE0_PUPD)         |                32 | RW       | 0000_0000h    |
| 148h     | Partition 0 Core 0 Status Register (PRTN0_CORE0_STAT)                 |                32 | R        | 0000_0000h    |
| 14Ch     | Partition 0 Core 0 Address Register (PRTN0_CORE0_ADDR)                |                32 | RW       | 0000_0000h    |
| 160h     | Partition 0 Core 1 Process Configuration Register (PRTN0_CORE1_PCONF) |                32 | RW       | 0000_0000h    |
| 164h     | Partition 0 Core 1 Process Update Register (PRTN0_CORE1_PUPD)         |                32 | RW       | 0000_0000h    |
| 168h     | Partition 0 Core 1 Status Register (PRTN0_CORE1_STAT)                 |                32 | R        | 0000_0000h    |
| 16Ch     | Partition 0 Core 1 Address Register (PRTN0_CORE1_ADDR)                |                32 | RW       | 0000_0000h    |
| 180h     | Partition 0 Core 2 Process Configuration Register (PRTN0_CORE2_PCONF) |                32 | RW       | 0000_0000h    |
| 184h     | Partition 0 Core 2 Process Update Register (PRTN0_CORE2_PUPD)         |                32 | RW       | 0000_0000h    |
| 188h     | Partition 0 Core 2 Status Register (PRTN0_CORE2_STAT)                 |                32 | R        | 0000_0000h    |
| 18Ch     | Partition 0 Core 2 Address Register (PRTN0_CORE2_ADDR)                |                32 | RW       | 0000_0000h    |
| 1A0h     | Partition 0 Core 3 Process Configuration Register (PRTN0_CORE3_PCONF) |                32 | RW       | 0000_0000h    |
| 1A4h     | Partition 0 Core 3 Process Update Register (PRTN0_CORE3_PUPD)         |                32 | RW       | 0000_0000h    |
| 1A8h     | Partition 0 Core 3 Status Register (PRTN0_CORE3_STAT)                 |                32 | R        | 0000_0000h    |
| 1ACh     | Partition 0 Core 3 Address Register (PRTN0_CORE3_ADDR)                |                32 | RW       | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                                              |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------------------------------------------|-------------------|----------|---------------|
| 300h     | Partition 1 Process Configuration Register (PRTN1_PCONF)              |                32 | RW       | 0000_0004h    |
| 304h     | Partition 1 Process Update Register (PRTN1_PUPD)                      |                32 | RW       | 0000_0000h    |
| 308h     | Partition 1 Status Register (PRTN1_STAT)                              |                32 | R        | 0000_0004h    |
| 340h     | Partition 1 Core 0 Process Configuration Register (PRTN1_CORE0_PCONF) |                32 | RW       | 0000_0000h    |
| 344h     | Partition 1 Core 0 Process Update Register (PRTN1_CORE0_PUPD)         |                32 | RW       | 0000_0000h    |
| 348h     | Partition 1 Core 0 Status Register (PRTN1_CORE0_STAT)                 |                32 | R        | 0000_0000h    |
| 34Ch     | Partition 1 Core 0 Address Register (PRTN1_CORE0_ADDR)                |                32 | RW       | 0000_0000h    |
| 360h     | Partition 1 Core 1 Process Configuration Register (PRTN1_CORE1_PCONF) |                32 | RW       | 0000_0000h    |
| 364h     | Partition 1 Core 1 Process Update Register (PRTN1_CORE1_PUPD)         |                32 | RW       | 0000_0000h    |
| 368h     | Partition 1 Core 1 Status Register (PRTN1_CORE1_STAT)                 |                32 | R        | 0000_0000h    |
| 36Ch     | Partition 1 Core 1 Address Register (PRTN1_CORE1_ADDR)                |                32 | RW       | 0000_0000h    |
| 380h     | Partition 1 Core 2 Process Configuration Register (PRTN1_CORE2_PCONF) |                32 | RW       | 0000_0000h    |
| 384h     | Partition 1 Core 2 Process Update Register (PRTN1_CORE2_PUPD)         |                32 | RW       | 0000_0000h    |
| 388h     | Partition 1 Core 2 Status Register (PRTN1_CORE2_STAT)                 |                32 | R        | 0000_0000h    |
| 38Ch     | Partition 1 Core 2 Address Register (PRTN1_CORE2_ADDR)                |                32 | RW       | 0000_0000h    |
| 3A0h     | Partition 1 Core 3 Process Configuration Register (PRTN1_CORE3_PCONF) |                32 | RW       | 0000_0000h    |
| 3A4h     | Partition 1 Core 3 Process Update Register (PRTN1_CORE3_PUPD)         |                32 | RW       | 0000_0000h    |
| 3A8h     | Partition 1 Core 3 Status Register (PRTN1_CORE3_STAT)                 |                32 | R        | 0000_0000h    |
| 3ACh     | Partition 1 Core 3 Address Register (PRTN1_CORE3_ADDR)                |                32 | RW       | 0000_0000h    |
| 500h     | Partition 2 Process Configuration Register (PRTN2_PCONF)              |                32 | RW       | 0000_0004h    |
| 504h     | Partition 2 Process Update Register (PRTN2_PUPD)                      |                32 | RW       | 0000_0000h    |
| 508h     | Partition 2 Status Register (PRTN2_STAT)                              |                32 | R        | 0000_0004h    |
| 510h     | Partition 2 COFB Set 0 Clock Status Register (PRTN2_COFB0_STAT)       |                32 | R        | 0000_0000h    |
| 530h     | Partition 2 COFB Set 0 Clock Enable Register (PRTN2_COFB0_CLKEN)      |                32 | RW       | 0000_0000h    |
| 700h     | Partition 3 Process Configuration Register (PRTN3_PCONF)              |                32 | RW       | 0000_0004h    |
| 704h     | Partition 3 Process Update Register (PRTN3_PUPD)                      |                32 | RW       | 0000_0000h    |
| 708h     | Partition 3 Status Register (PRTN3_STAT)                              |                32 | R        | 0000_0004h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                                         |   Width (In bits) | Access   | Reset value   |
|----------|------------------------------------------------------------------|-------------------|----------|---------------|
| 710h     | Partition 3 COFB Set 0 Clock Status Register (PRTN3_COFB0_STAT)  |                32 | R        | 0000_0000h    |
| 730h     | Partition 3 COFB Set 0 Clock Enable Register (PRTN3_COFB0_CLKEN) |                32 | RW       | 0000_0000h    |

## 32.4.2 Control Key Register (CTL\_KEY)

## Offset

| Register   | Offset   |
|------------|----------|
| CTL_KEY    | 0h       |

## Function

This register provides the mechanism to MC\_ME for starting the hardware processes for the partition(s) and standby entry sequence. The hardware processes for partitions are triggered through the corresponding PRTNn\_PCONF register. The mechanism to trigger the hardware processes of the respective partitions require two write operations: first time with key and second time with inverted key. The hexadecimal value of key is 0x5AF0 whereas for inverted key is 0xA50F.

For initiating a standby entry sequence, the MODE\_CONF register is used for providing a standby entry request along with a valid key combination.

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16   | Reserved                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                        |
| 15-0    | Control key                                                                                                                                                           |
| KEY     | Key for starting the hardware processes. Writes with a value other than key or inverted key are ignored. Reads return bit inverted value corresponding to last write. |

## 32.4.3 Mode Configuration Register (MODE\_CONF)

## Offset

| Register   | Offset   |
|------------|----------|
| MODE_CONF  | 4h       |

## Function

This register is used for initiating a standby request or a reset event (destructive or functional) for the chip. The functional or destructive events are signaled to MC\_RGM for further handling.

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-16   | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

Table continues on the next page...

Table continued from the previous page...

| Field      | Function                                                                                                                                                                                              |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 15 STANDBY | Standby request Writing a logic-1 to this bit along with the MODE_UPD register configuration and followed with a valid key combination makes a standby entry sequence request to MC_ME.               |
| 14-2 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                               |
| 1 FUNC_RST | Functional reset request Writing a logic-1 to this bit along with the MODE_UPD register configuration and followed with a valid key combination makes a functional reset event signaling to MC_RGM.   |
| 0 DEST_RST | Destructive reset request Writing a logic-1 to this bit along with the MODE_UPD register configuration and followed with a valid key combination makes a destructive reset event signaling to MC_RGM. |

## 32.4.4 Mode Update Register (MODE\_UPD)

## Offset

| Register   | Offset   |
|------------|----------|
| MODE_UPD   | 8h       |

## Function

This register is used for initiating a mode change. Mode change refers to initiating a standby request, or generating a destructive or functional reset event to MC\_RGM. Setting mode update field to logic-1, along with programming MODE\_CONF registers and then followed by a valid key combination will generate a mode transition request.

## NOTE

<!-- image -->

## Fields

| Field    | Function                                                                                                                  |
|----------|---------------------------------------------------------------------------------------------------------------------------|
| 31-1     | Reserved                                                                                                                  |
| -        | This field is reserved and read returns zeros.                                                                            |
| 0        | Mode update                                                                                                               |
| MODE_UPD | Writing a logic-1 to this bit, followed by a valid key combination initiates a mode change as per the MODE_CONF register. |

## 32.4.5 Mode Status Register (MODE\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| MODE_STAT  | Ch       |

## Function

This register provides the status of the previous mode. In case of standby exit, if the reset event status register of MC\_RGM are set, then contents of this register should be ignored.

## Diagram

<!-- image -->

## Fields

| Field     | Function                                        |
|-----------|-------------------------------------------------|
| 31-1      | Reserved                                        |
| -         | This field is reserved and read returns zeros.  |
| 0         | Previous mode                                   |
| PREV_MODE | This bit shows the status of the previous mode. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                          |
|---------|-----------------------------------------------------------------------------------|
|         | 0b - The previous mode was reset (any reset). 1b - The previous mode was standby. |

## 32.4.6 Main Core ID Register (MAIN\_COREID)

## Offset

| Register    | Offset   |
|-------------|----------|
| MAIN_COREID | 10h      |

## Function

This register provides the ID of the main core sequencing the operation for the standby sequence. Core ID is required for entering in the standby mode, and using this MC\_ME locates the WFI instruction execution of the main core. The core ID in this register is specified by the partition index along with the core index.

## NOTE

Before initiating a standby entry sequence, the contents of this register should point to the correct main core. Providing non-existing or incorrect core ID leads to unpredictable hardware behavior.

<!-- image -->

| Diagram Bits   | 31   | 30   | 29    | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|----------------|------|------|-------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R              | 0    | 0    | 0     | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W              |      |      |       |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset          | 0    | 0    | 0 0   | 0    | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits           | 15   | 14   | 13 12 |      | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R              | 0    | 0    |       |      |      |      |      |      | 0    | 0    | 0    | 0    | 0    |      | CIDX |      |
| W              |      |      | PIDX  | PIDX | PIDX | PIDX | PIDX | PIDX |      |      |      |      |      |      |      |      |
| Reset          | 0    | 0    | 0 0   | 0    |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                         |
|---------|----------------------------------------------------------------------------------|
| 31-13   | Reserved                                                                         |
| -       | This field is reserved and read returns zeros.                                   |
| 12-8    | Partition index                                                                  |
| PIDX    | Provides the partition index of the main core. Only values 0 - 3 can be written. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                       |
|---------|----------------------------------------------------------------|
| 7-3     | Reserved                                                       |
| -       | This field is reserved and read returns zeros.                 |
| 2-0     | Core index                                                     |
| CIDX    | Provides the core index of the main core inside the partition. |

## 32.4.7 Partition 0 Process Configuration Register (PRTN0\_PCONF)

## Offset

| Register    | Offset   |
|-------------|----------|
| PRTN0_PCONF | 100h     |

## Function

This register provides a configuration for the hardware processes corresponding to partition 0. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN0\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN0\_PCONF and PRTN0\_PUPD registers are used to determine the hardware processes to be executed. These are triggered in parallel and independent of each other. All dependent processes should be requested one after another from the software.

<!-- image -->

## Fields

| Field   | Function                                                                                                                                                                                                                                                                                                                        |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 2 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                                                                                         |
| 0 PCE   | Partition clock enable This bit controls whether the clock to IPs (other than core(s)) in the partition should be enabled or disabled. The software must not perform any writes to this field. This field must remain unchanged and always equal to its reset value. 0b - Disable the clock to IPs 1b - Enable the clock to IPs |

## 32.4.8 Partition 0 Process Update Register (PRTN0\_PUPD)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN0_PUPD | 104h     |

## Function

This register provides trigger signaling for the hardware processes corresponding to partition 0. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN0\_PCONF register. When the hardware process is finished the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | 0    | 0    | PCUD |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 2 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 0 PCUD  | Partition clock update This bit controls whether the hardware processes for enabling/disabling the clock to IPs (other than core(s)) in the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

Mode Entry Module (MC\_ME)

## 32.4.9 Partition 0 Status Register (PRTN0\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN0_STAT | 108h     |

## Function

This register provides the current status of the control signals from the partition 0.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | 0    | 0    | PCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |

## Fields

| Field   | Function                                                |
|---------|---------------------------------------------------------|
| 31-7    | Reserved                                                |
| - 6     | This field is reserved and read returns zeros.          |
|         | Reserved                                                |
| -       | This field is reserved and read returns zeros.          |
| 5       | Reserved                                                |
| -       | This field is reserved and read returns zeros. Reserved |
| 4       |                                                         |
| -       | This field is reserved and read returns zeros.          |
| 3       | Reserved                                                |
| -       | This field is reserved and read returns zeros.          |
| 2       | Reserved                                                |
| -       | This field is reserved and read returns zeros.          |

Table continues on the next page...

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | BLOC K31 | BLOC K30 | BLOC K29 | BLOC K28 | BLOC K27 | BLOC K26 | BLOC K25 | BLOC K24 | BLOC K23 | BLOC K22 | BLOC K21 | BLOC K20 | BLOC K19 | BLOC K18 | BLOC K17 | BLOC K16 |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | BLOC K15 | BLOC K14 | BLOC K13 | BLOC K12 | BLOC K11 | BLOC K10 | BLOC K9  | BLOC K8  | BLOC K7  | BLOC K6  | BLOC K5  | BLOC K4  | BLOC K3  | BLOC K2  | BLOC K1  | BLOC K0  |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

|   Field | Function        |
|---------|-----------------|
|      31 | IP block status |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                            |
|---------|-----------------------------------------------------------------------------------------------------|
| 1       | Reserved                                                                                            |
| -       | This field is reserved and read returns zeros.                                                      |
| 0       | Partition clock status                                                                              |
| PCS     | This bit provides the status of the clock to partition. 0b - Clock is inactive 1b - Clock is active |

## 32.4.10 Partition 0 COFB Set 0 Clock Status Register (PRTN0\_COFB0\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_COFB0_STAT | 110h     |

## Function

This register provides the status of set 0 of COFBs inside partition 0.

## NOTE

The reset value of this register can vary depending on the availability of active clock pulses inside partition 0.

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| BLOCK31    | This bit provides the clock status of block 31 in partition 0. 0b - Clock is not running. 1b - Clock is running.                 |
| 30 BLOCK30 | IP block status This bit provides the clock status of block 30 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 29 BLOCK29 | IP block status This bit provides the clock status of block 29 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 28 BLOCK28 | IP block status This bit provides the clock status of block 28 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 27 BLOCK27 | IP block status This bit provides the clock status of block 27 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 26 BLOCK26 | IP block status This bit provides the clock status of block 26 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 25 BLOCK25 | IP block status This bit provides the clock status of block 25 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 24 BLOCK24 | IP block status This bit provides the clock status of block 24 in partition 0. 0b - Clock is not running. 1b - Clock is running. |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 23 BLOCK23 | IP block status This bit provides the clock status of block 23 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 22 BLOCK22 | IP block status This bit provides the clock status of block 22 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 21 BLOCK21 | IP block status This bit provides the clock status of block 21 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 20 BLOCK20 | IP block status This bit provides the clock status of block 20 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 19 BLOCK19 | IP block status This bit provides the clock status of block 19 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 18 BLOCK18 | IP block status This bit provides the clock status of block 18 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 17 BLOCK17 | IP block status This bit provides the clock status of block 17 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 16 BLOCK16 | IP block status This bit provides the clock status of block 16 in partition 0. 0b - Clock is not running.                        |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 15 BLOCK15 | IP block status This bit provides the clock status of block 15 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 14 BLOCK14 | IP block status This bit provides the clock status of block 14 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 13 BLOCK13 | IP block status This bit provides the clock status of block 13 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 12 BLOCK12 | IP block status This bit provides the clock status of block 12 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 11 BLOCK11 | IP block status This bit provides the clock status of block 11 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 10 BLOCK10 | IP block status This bit provides the clock status of block 10 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 9 BLOCK9   | IP block status This bit provides the clock status of block 9 in partition 0. 0b - Clock is not running. 1b - Clock is running.  |
| 8 BLOCK8   | IP block status This bit provides the clock status of block 8 in partition 0.                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                        |
|----------|---------------------------------------------------------------------------------------------------------------------------------|
| 7 BLOCK7 | IP block status This bit provides the clock status of block 7 in partition 0. 0b - Clock is not running.                        |
| 6 BLOCK6 | IP block status This bit provides the clock status of block 6 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 5 BLOCK5 | IP block status This bit provides the clock status of block 5 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 4 BLOCK4 | IP block status This bit provides the clock status of block 4 in partition 0. 0b - Clock is not running.                        |
| 3 BLOCK3 | IP block status This bit provides the clock status of block 3 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 2 BLOCK2 | IP block status This bit provides the clock status of block 2 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 1 BLOCK1 | IP block status This bit provides the clock status of block 1 in partition 0. 0b - Clock is not running. 1b - Clock is running. |
| 0        | IP block status                                                                                                                 |

Table continues on the next page...

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R W    | REQ3 1 | REQ3 0 | REQ2 9 | REQ2 8 | REQ2 7 | REQ2 6 | REQ2 5 | REQ2 4 | REQ2 3 | REQ2 2 | REQ2 1 | REQ2 0 | REQ1 9 | REQ1 8 | REQ1 7 | REQ1 6 |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R W    | REQ1 5 | REQ1 4 | REQ1 3 | REQ1 2 | REQ1 1 | REQ1 0 | REQ9   | REQ8   | REQ7   | REQ6   | REQ5   | REQ4   | REQ3   | REQ2   | REQ1   | REQ0   |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field   | Function                                                                                          |
|---------|---------------------------------------------------------------------------------------------------|
| 31      | Clock enable                                                                                      |
| REQ31   | This bit provides the clock enable control for block 31 in partition 0. 0b - Clock is turned off. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                        |
|---------|-----------------------------------------------------------------------------------------------------------------|
| BLOCK0  | This bit provides the clock status of block 0 in partition 0. 0b - Clock is not running. 1b - Clock is running. |

## 32.4.11 Partition 0 COFB Set 0 Clock Enable Register (PRTN0\_COFB0\_CLKEN)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN0_COFB0_CLKEN | 130h     |

## Function

This register provides clock control signaling to the individual COFBs in set 0 inside partition 0. Whenever a partition clock enable (non-core) hardware process is initiated, the value of logic-1 in the corresponding bit locations of this register enables the clock to the corresponding block in the partition.

## NOTE

The reset value of this register is not defined and is as per the availability of the clock source. See Chip-specific MC\_ME information for clock source availability.

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 30 REQ30 | Clock enable This bit provides the clock enable control for block 30 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 29 REQ29 | Clock enable This bit provides the clock enable control for block 29 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 28 REQ28 | Clock enable This bit provides the clock enable control for block 28 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 27 REQ27 | Clock enable This bit provides the clock enable control for block 27 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 26 REQ26 | Clock enable This bit provides the clock enable control for block 26 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 25 REQ25 | Clock enable This bit provides the clock enable control for block 25 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 24 REQ24 | Clock enable This bit provides the clock enable control for block 24 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 23 REQ23 | Clock enable This bit provides the clock enable control for block 23 in partition 0.                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 22 REQ22 | Clock enable This bit provides the clock enable control for block 22 in partition 0. 0b - Clock is turned off.                          |
| 21 REQ21 | Clock enable This bit provides the clock enable control for block 21 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 20 REQ20 | Clock enable This bit provides the clock enable control for block 20 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 19 REQ19 | Clock enable This bit provides the clock enable control for block 19 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 18 REQ18 | Clock enable This bit provides the clock enable control for block 18 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 17 REQ17 | Clock enable This bit provides the clock enable control for block 17 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 16 REQ16 | Clock enable This bit provides the clock enable control for block 16 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 15       | Clock enable                                                                                                                            |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| REQ15    | This bit provides the clock enable control for block 15 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on.              |
| 14 REQ14 | Clock enable This bit provides the clock enable control for block 14 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 13 REQ13 | Clock enable This bit provides the clock enable control for block 13 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 12 REQ12 | Clock enable This bit provides the clock enable control for block 12 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 11 REQ11 | Clock enable This bit provides the clock enable control for block 11 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 10 REQ10 | Clock enable This bit provides the clock enable control for block 10 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 9 REQ9   | Clock enable This bit provides the clock enable control for block 9 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 8 REQ8   | Clock enable This bit provides the clock enable control for block 8 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on.  |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------|
| 7 REQ7  | Clock enable This bit provides the clock enable control for block 7 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 6 REQ6  | Clock enable This bit provides the clock enable control for block 6 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 5 REQ5  | Clock enable This bit provides the clock enable control for block 5 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 4 REQ4  | Clock enable This bit provides the clock enable control for block 4 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 3 REQ3  | Clock enable This bit provides the clock enable control for block 3 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 2 REQ2  | Clock enable This bit provides the clock enable control for block 2 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 1 REQ1  | Clock enable This bit provides the clock enable control for block 1 in partition 0. 0b - Clock is turned off. 1b - Clock is turned on. |
| 0 REQ0  | Clock enable This bit provides the clock enable control for block 0 in partition 0. 0b - Clock is turned off.                          |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                 |
|---------|--------------------------|
|         | 1b - Clock is turned on. |

## 32.4.12 Partition 0 Core 0 Process Configuration Register (PRTN0\_CORE0\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN0_CORE0_PCONF | 140h     |

## Function

This register provides configurations for the Core 0 hardware processes corresponding to partition 0. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN0\_CORE0\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN0\_CORE0\_PUPD and PRTN0\_CORE0\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 0 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 0 in partition 0 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.13 Partition 0 Core 0 Process Update Register (PRTN0\_CORE0\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE0_PUPD | 144h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 0. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN0\_CORE0\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 0 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 0 in the partition 0 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

Mode Entry Module (MC\_ME)

## 32.4.14 Partition 0 Core 0 Status Register (PRTN0\_CORE0\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE0_STAT | 148h     |

## Function

This register provides the status corresponding to Core 0 in partition 0. The status signal corresponds to clock states and the WFI signal included from Core 0.

<!-- image -->

|         | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   | The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers). NOTE   |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Diagram | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                | Diagram                                                                                                                                                                                                                                                                                                                                                                                |
| Bits    | 31                                                                                                                                                                                                                                                                                                                                                                                     | 30                                                                                                                                                                                                                                                                                                                                                                                     | 29                                                                                                                                                                                                                                                                                                                                                                                     | 28                                                                                                                                                                                                                                                                                                                                                                                     | 27                                                                                                                                                                                                                                                                                                                                                                                     | 26                                                                                                                                                                                                                                                                                                                                                                                     | 25                                                                                                                                                                                                                                                                                                                                                                                     | 24                                                                                                                                                                                                                                                                                                                                                                                     | 23 22                                                                                                                                                                                                                                                                                                                                                                                  | 21                                                                                                                                                                                                                                                                                                                                                                                     | 20                                                                                                                                                                                                                                                                                                                                                                                     | 19                                                                                                                                                                                                                                                                                                                                                                                     | 18                                                                                                                                                                                                                                                                                                                                                                                     | 17                                                                                                                                                                                                                                                                                                                                                                                     | 16                                                                                                                                                                                                                                                                                                                                                                                     |
|         |                                                                                                                                                                                                                                                                                                                                                                                        | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  | R WFI                                                                                                                                                                                                                                                                                                                                                                                  |
| W       |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |
| Reset   | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0 0                                                                                                                                                                                                                                                                                                                                                                                    | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      |
| Bits    | 15                                                                                                                                                                                                                                                                                                                                                                                     | 14                                                                                                                                                                                                                                                                                                                                                                                     | 13                                                                                                                                                                                                                                                                                                                                                                                     | 12                                                                                                                                                                                                                                                                                                                                                                                     | 11                                                                                                                                                                                                                                                                                                                                                                                     | 10                                                                                                                                                                                                                                                                                                                                                                                     | 9                                                                                                                                                                                                                                                                                                                                                                                      | 8                                                                                                                                                                                                                                                                                                                                                                                      | 7 6                                                                                                                                                                                                                                                                                                                                                                                    | 5                                                                                                                                                                                                                                                                                                                                                                                      | 4                                                                                                                                                                                                                                                                                                                                                                                      | 3                                                                                                                                                                                                                                                                                                                                                                                      | 2                                                                                                                                                                                                                                                                                                                                                                                      | 1                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      |
| R       | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | CCS                                                                                                                                                                                                                                                                                                                                                                                    |
| W       |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                        |
| Reset   | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0 0                                                                                                                                                                                                                                                                                                                                                                                    | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      | 0                                                                                                                                                                                                                                                                                                                                                                                      |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 0 in partition 0. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 0 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

Mode Entry Module (MC\_ME)

## 32.4.15 Partition 0 Core 0 Address Register (PRTN0\_CORE0\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE0_ADDR | 14Ch     |

## Function

This register contains the boot address for Core 0 in partition 0.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 0 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.16 Partition 0 Core 1 Process Configuration Register (PRTN0\_CORE1\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN0_CORE1_PCONF | 160h     |

## Function

This register provides configurations for the Core 1 hardware processes corresponding to partition 0. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN0\_CORE1\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN0\_CORE1\_PUPD and PRTN0\_CORE1\_PCONF registers are used to determine the hardware processes to be executed.

Mode Entry Module (MC\_ME)

Mode Entry Module (MC\_ME)

These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 1 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 1 in partition 0 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.17 Partition 0 Core 1 Process Update Register (PRTN0\_CORE1\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE1_PUPD | 164h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 0. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN0\_CORE1\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 1 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 1 in the partition 0 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.18 Partition 0 Core 1 Status Register (PRTN0\_CORE1\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE1_STAT | 168h     |

## Function

This register provides the status corresponding to Core 1 in partition 0. The status signal corresponds to clock states and the WFI signal included from Core 1.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 1 in partition 0. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 1 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.19 Partition 0 Core 1 Address Register (PRTN0\_CORE1\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE1_ADDR | 16Ch     |

## Function

This register contains the boot address for Core 1 in partition 0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 1 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.20 Partition 0 Core 2 Process Configuration Register (PRTN0\_CORE2\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN0_CORE2_PCONF | 180h     |

## Function

This register provides configurations for the Core 2 hardware processes corresponding to partition 0. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN0\_CORE2\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN0\_CORE2\_PUPD and PRTN0\_CORE2\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 2 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 2 in partition 0 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.21 Partition 0 Core 2 Process Update Register (PRTN0\_CORE2\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE2_PUPD | 184h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 0. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN0\_CORE2\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 2 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 2 in the partition 0 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.22 Partition 0 Core 2 Status Register (PRTN0\_CORE2\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE2_STAT | 188h     |

## Function

This register provides the status corresponding to Core 2 in partition 0. The status signal corresponds to clock states and the WFI signal included from Core 2.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 2 in partition 0. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 2 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.23 Partition 0 Core 2 Address Register (PRTN0\_CORE2\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE2_ADDR | 18Ch     |

## Function

This register contains the boot address for Core 2 in partition 0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 2 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.24 Partition 0 Core 3 Process Configuration Register (PRTN0\_CORE3\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN0_CORE3_PCONF | 1A0h     |

## Function

This register provides configurations for the Core 3 hardware processes corresponding to partition 0. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN0\_CORE3\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN0\_CORE3\_PUPD and PRTN0\_CORE3\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 3 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 3 in partition 0 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.25 Partition 0 Core 3 Process Update Register (PRTN0\_CORE3\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE3_PUPD | 1A4h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 0. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN0\_CORE3\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 3 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 3 in the partition 0 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.26 Partition 0 Core 3 Status Register (PRTN0\_CORE3\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE3_STAT | 1A8h     |

## Function

This register provides the status corresponding to Core 3 in partition 0. The status signal corresponds to clock states and the WFI signal included from Core 3.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29    | 28   | 27 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |    |
|--------|------|------|-------|------|---------|------|------|------|------|------|------|------|------|------|------|----|
| R      | WFI  | 0    | 0     | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0  |
| W      |      |      |       |      |         |      |      |      |      |      |      |      |      |      |      |    |
| Reset  | 0    | 0    | 0     | 0 0  | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |    |
| Bits   | 15   | 14   | 13 12 | 11   | 10      | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |    |
| R      | 0    | 0    | 0     | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |    |
| W      |      |      |       |      |         |      |      |      |      |      |      |      |      |      |      |    |
| Reset  | 0    | 0    | 0 0   | 0    | 0       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 3 in partition 0. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 3 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.27 Partition 0 Core 3 Address Register (PRTN0\_CORE3\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN0_CORE3_ADDR | 1ACh     |

## Function

This register contains the boot address for Core 3 in partition 0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 3 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.28 Partition 1 Process Configuration Register (PRTN1\_PCONF)

## Offset

| Register    | Offset   |
|-------------|----------|
| PRTN1_PCONF | 300h     |

## Function

This register provides a configuration for the hardware processes corresponding to partition 1. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN1\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN1\_PCONF and PRTN1\_PUPD registers are used to determine the hardware processes to be executed. These are triggered in parallel and independent of each other. All dependent processes should be requested one after another from the software.

## NOTE

The partition clock enable/disable and output safe stating enable/disable are not standalone and must be done coherently in a fixed sequence. For details, see Software Reset Partition Turn-On Flow Chart and Software reset partition turn-off flowchart in Reset chapter.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSE | 0    | PCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                          |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 2 OSSE  | Output safe stating enable This bit controls whether the outputs of the partition should be safe stated or not. 0b - Disable output safe stating 1b - Enable output safe stating                  |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 0 PCE   | Partition clock enable This bit controls whether the clock to IPs (other than core(s)) in the partition should be enabled or disabled. 0b - Disable the clock to IPs 1b - Enable the clock to IPs |

Mode Entry Module (MC\_ME)

## 32.4.29 Partition 1 Process Update Register (PRTN1\_PUPD)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN1_PUPD | 304h     |

## Function

This register provides trigger signaling for the hardware processes corresponding to partition 1. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN1\_PCONF register. When the hardware process is finished the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-7    | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 6       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 5       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 4       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 3       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 OSSUD | Output safe stating update This bit controls whether the hardware processes for enabling/disabling the safe stating for outputs of the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process      |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 0 PCUD  | Partition clock update This bit controls whether the hardware processes for enabling/disabling the clock to IPs (other than core(s)) in the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.30 Partition 1 Status Register (PRTN1\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN1_STAT | 308h     |

## Function

This register provides the current status of the control signals from the partition 1.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSS | 0    | PCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                  |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 2 OSSS  | Output safe stating status This bit provides the status for output safe stating of the partition. 0b - Output safe stating is inactive 1b - Output safe stating is active |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 0 PCS   | Partition clock status This bit provides the status of the clock to partition. 0b - Clock is inactive 1b - Clock is active                                                |

## 32.4.31 Partition 1 Core 0 Process Configuration Register (PRTN1\_CORE0\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN1_CORE0_PCONF | 340h     |

## Function

This register provides configurations for the Core 0 hardware processes corresponding to partition 1. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN1\_CORE0\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN1\_CORE0\_PUPD and PRTN1\_CORE0\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 0 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 0 in partition 1 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.32 Partition 1 Core 0 Process Update Register (PRTN1\_CORE0\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE0_PUPD | 344h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 1. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN1\_CORE0\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 0 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 0 in the partition 1 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.33 Partition 1 Core 0 Status Register (PRTN1\_CORE0\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE0_STAT | 348h     |

## Function

This register provides the status corresponding to Core 0 in partition 1. The status signal corresponds to clock states and the WFI signal included from Core 0.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 0 in partition 1. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 0 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.34 Partition 1 Core 0 Address Register (PRTN1\_CORE0\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE0_ADDR | 34Ch     |

## Function

This register contains the boot address for Core 0 in partition 1.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 0 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.35 Partition 1 Core 1 Process Configuration Register (PRTN1\_CORE1\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN1_CORE1_PCONF | 360h     |

## Function

This register provides configurations for the Core 1 hardware processes corresponding to partition 1. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN1\_CORE1\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN1\_CORE1\_PUPD and PRTN1\_CORE1\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 1 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 1 in partition 1 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.36 Partition 1 Core 1 Process Update Register (PRTN1\_CORE1\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE1_PUPD | 364h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 1. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN1\_CORE1\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 1 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 1 in the partition 1 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.37 Partition 1 Core 1 Status Register (PRTN1\_CORE1\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE1_STAT | 368h     |

## Function

This register provides the status corresponding to Core 1 in partition 1. The status signal corresponds to clock states and the WFI signal included from Core 1.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    |      |      |      |      |      |      |      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 1 in partition 1. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 1 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.38 Partition 1 Core 1 Address Register (PRTN1\_CORE1\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE1_ADDR | 36Ch     |

## Function

This register contains the boot address for Core 1 in partition 1.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 1 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.39 Partition 1 Core 2 Process Configuration Register (PRTN1\_CORE2\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN1_CORE2_PCONF | 380h     |

## Function

This register provides configurations for the Core 2 hardware processes corresponding to partition 1. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN1\_CORE2\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN1\_CORE2\_PUPD and PRTN1\_CORE2\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 2 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 2 in partition 1 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.40 Partition 1 Core 2 Process Update Register (PRTN1\_CORE2\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE2_PUPD | 384h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 1. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN1\_CORE2\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 2 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 2 in the partition 1 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.41 Partition 1 Core 2 Status Register (PRTN1\_CORE2\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE2_STAT | 388h     |

## Function

This register provides the status corresponding to Core 2 in partition 1. The status signal corresponds to clock states and the WFI signal included from Core 2.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 2 in partition 1. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 2 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.42 Partition 1 Core 2 Address Register (PRTN1\_CORE2\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE2_ADDR | 38Ch     |

## Function

This register contains the boot address for Core 2 in partition 1.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 2 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.43 Partition 1 Core 3 Process Configuration Register (PRTN1\_CORE3\_PCONF)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN1_CORE3_PCONF | 3A0h     |

## Function

This register provides configurations for the Core 3 hardware processes corresponding to partition 1. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN1\_CORE3\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN1\_CORE3\_PUPD and PRTN1\_CORE3\_PCONF registers are used to determine the hardware processes to be executed. These processes are triggered in parallel and are independent of each other. All dependent processes should be requested one after another from the software.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | CCE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                           |
| -       | This field is reserved and read returns zeros.                                                                                                     |
| 0       | Core 3 clock enable                                                                                                                                |
| CCE     | This bit controls whether the clock to Core 3 in partition 1 should be enabled or disabled. 0b - Disable the core clock 1b - Enable the core clock |

## 32.4.44 Partition 1 Core 3 Process Update Register (PRTN1\_CORE3\_PUPD)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE3_PUPD | 3A4h     |

## Function

This register provides trigger signaling for the core hardware processes corresponding to partition 1. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN1\_CORE3\_PCONF register. When the hardware process is finished, the corresponding bit in this register is auto-cleared to logic-0.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCUP |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | D    |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                                              |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-1    | Reserved                                                                                                                                                                                                              |
| -       | This field is reserved and read returns zeros.                                                                                                                                                                        |
| 0       | Core 3 clock update                                                                                                                                                                                                   |
| CCUPD   | This bit controls whether the hardware processes for enabling/disabling the clock to Core 3 in the partition 1 should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.45 Partition 1 Core 3 Status Register (PRTN1\_CORE3\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE3_STAT | 3A8h     |

## Function

This register provides the status corresponding to Core 3 in partition 1. The status signal corresponds to clock states and the WFI signal included from Core 3.

## NOTE

The value held in WFI field of this STATUS register is "current" value of the WFISTANDBY signal from the core. Hence out-of-reset, the reset value of this field will depend on the status of the core (core is running or in low power mode). So, simple reset read sweep will always return current value (different than other register reads such as on control registers).

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | WFI  |      |      |      |      |      |      |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | CCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 WFI  | Wait for interrupt status This bit provides the WFI status approaching from Core 3 in partition 1. 0b - No WFI executed 1b - WFI executed                               |
| 30-1 -  | Reserved This field is reserved and read returns zeros.                                                                                                                 |
| 0 CCS   | Core 3 clock process status This bit provides the status of the clock corresponding to core clock enablement/disablement. 0b - Clock is inactive. 1b - Clock is active. |

## 32.4.46 Partition 1 Core 3 Address Register (PRTN1\_CORE3\_ADDR)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN1_CORE3_ADDR | 3ACh     |

## Function

This register contains the boot address for Core 3 in partition 1.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | 0    | 0    |
| W      | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR | ADDR |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-2    | Address                                        |
| ADDR    | Core 3 boot address                            |
| 1-0     | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

## 32.4.47 Partition 2 Process Configuration Register (PRTN2\_PCONF)

## Offset

| Register    | Offset   |
|-------------|----------|
| PRTN2_PCONF | 500h     |

## Function

This register provides a configuration for the hardware processes corresponding to partition 2. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN2\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN2\_PCONF and PRTN2\_PUPD registers are used to determine the hardware processes to be executed. These are triggered in parallel and independent of each other. All dependent processes should be requested one after another from the software.

## NOTE

The partition clock enable/disable and output safe stating enable/disable are not standalone and must be done coherently in a fixed sequence. For details, see Software Reset Partition Turn-On Flow Chart and Software reset partition turn-off flowchart in Reset chapter.

Mode Entry Module (MC\_ME)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSE | 0    | PCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                          |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 2 OSSE  | Output safe stating enable This bit controls whether the outputs of the partition should be safe stated or not. 0b - Disable output safe stating 1b - Enable output safe stating                  |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 0 PCE   | Partition clock enable This bit controls whether the clock to IPs (other than core(s)) in the partition should be enabled or disabled. 0b - Disable the clock to IPs 1b - Enable the clock to IPs |

Mode Entry Module (MC\_ME)

## 32.4.48 Partition 2 Process Update Register (PRTN2\_PUPD)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN2_PUPD | 504h     |

## Function

This register provides trigger signaling for the hardware processes corresponding to partition 2. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN2\_PCONF register. When the hardware process is finished the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-7    | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 6       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 5       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 4       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 3       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 OSSUD | Output safe stating update This bit controls whether the hardware processes for enabling/disabling the safe stating for outputs of the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process      |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 0 PCUD  | Partition clock update This bit controls whether the hardware processes for enabling/disabling the clock to IPs (other than core(s)) in the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.49 Partition 2 Status Register (PRTN2\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN2_STAT | 508h     |

## Function

This register provides the current status of the control signals from the partition 2.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSS | 0    | PCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                  |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 2 OSSS  | Output safe stating status This bit provides the status for output safe stating of the partition. 0b - Output safe stating is inactive 1b - Output safe stating is active |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 0 PCS   | Partition clock status This bit provides the status of the clock to partition. 0b - Clock is inactive 1b - Clock is active                                                |

## 32.4.50 Partition 2 COFB Set 0 Clock Status Register (PRTN2\_COFB0\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN2_COFB0_STAT | 510h     |

## Function

This register provides the status of set 0 of COFBs inside partition 2.

## NOTE

The reset value of this register can vary depending on the availability of active clock pulses inside partition 2.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | BLOC K31 | BLOC K30 | BLOC K29 | BLOC K28 | BLOC K27 | BLOC K26 | BLOC K25 | BLOC K24 | BLOC K23 | BLOC K22 | BLOC K21 | BLOC K20 | BLOC K19 | BLOC K18 | BLOC K17 | BLOC K16 |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | BLOC K15 | BLOC K14 | BLOC K13 | BLOC K12 | BLOC K11 | BLOC K10 | BLOC K9  | BLOC K8  | BLOC K7  | BLOC K6  | BLOC K5  | BLOC K4  | BLOC K3  | BLOC K2  | BLOC K1  | BLOC K0  |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 31 BLOCK31 | IP block status This bit provides the clock status of block 31 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 30 BLOCK30 | IP block status This bit provides the clock status of block 30 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 29 BLOCK29 | IP block status This bit provides the clock status of block 29 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 28 BLOCK28 | IP block status This bit provides the clock status of block 28 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 27 BLOCK27 | IP block status This bit provides the clock status of block 27 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 26         | IP block status                                                                                                                  |

Table continues on the next page...

Mode Entry Module (MC\_ME)

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| BLOCK26    | This bit provides the clock status of block 26 in partition 2. 0b - Clock is not running. 1b - Clock is running.                 |
| 25 BLOCK25 | IP block status This bit provides the clock status of block 25 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 24 BLOCK24 | IP block status This bit provides the clock status of block 24 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 23 BLOCK23 | IP block status This bit provides the clock status of block 23 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 22 BLOCK22 | IP block status This bit provides the clock status of block 22 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 21 BLOCK21 | IP block status This bit provides the clock status of block 21 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 20 BLOCK20 | IP block status This bit provides the clock status of block 20 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 19 BLOCK19 | IP block status This bit provides the clock status of block 19 in partition 2. 0b - Clock is not running. 1b - Clock is running. |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 18 BLOCK18 | IP block status This bit provides the clock status of block 18 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 17 BLOCK17 | IP block status This bit provides the clock status of block 17 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 16 BLOCK16 | IP block status This bit provides the clock status of block 16 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 15 BLOCK15 | IP block status This bit provides the clock status of block 15 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 14 BLOCK14 | IP block status This bit provides the clock status of block 14 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 13 BLOCK13 | IP block status This bit provides the clock status of block 13 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 12 BLOCK12 | IP block status This bit provides the clock status of block 12 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 11 BLOCK11 | IP block status This bit provides the clock status of block 11 in partition 2. 0b - Clock is not running.                        |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 10 BLOCK10 | IP block status This bit provides the clock status of block 10 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 9 BLOCK9   | IP block status This bit provides the clock status of block 9 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 8 BLOCK8   | IP block status This bit provides the clock status of block 8 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 7 BLOCK7   | IP block status This bit provides the clock status of block 7 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 6 BLOCK6   | IP block status This bit provides the clock status of block 6 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 5 BLOCK5   | IP block status This bit provides the clock status of block 5 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 4 BLOCK4   | IP block status This bit provides the clock status of block 4 in partition 2. 0b - Clock is not running. 1b - Clock is running.  |
| 3 BLOCK3   | IP block status This bit provides the clock status of block 3 in partition 2.                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                        |
|----------|---------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Clock is not running. 1b - Clock is running.                                                                               |
| 2 BLOCK2 | IP block status This bit provides the clock status of block 2 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 1 BLOCK1 | IP block status This bit provides the clock status of block 1 in partition 2. 0b - Clock is not running. 1b - Clock is running. |
| 0 BLOCK0 | IP block status This bit provides the clock status of block 0 in partition 2. 0b - Clock is not running. 1b - Clock is running. |

## 32.4.51 Partition 2 COFB Set 0 Clock Enable Register (PRTN2\_COFB0\_CLKEN)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN2_COFB0_CLKEN | 530h     |

## Function

This register provides clock control signaling to the individual COFBs in set 0 inside partition 2. Whenever a partition clock enable (non-core) hardware process is initiated, the value of logic-1 in the corresponding bit locations of this register enables the clock to the corresponding block in the partition.

## NOTE

The reset value of this register is not defined and is as per the availability of the clock source. See Chip-specific MC\_ME information for clock source availability.

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R W    | REQ3 1 | REQ3 0 | REQ2 9 | REQ2 8 | REQ2 7 | REQ2 6 | REQ2 5 | REQ2 4 | REQ2 3 | REQ2 2 | REQ2 1 | REQ2 0 | REQ1 9 | REQ1 8 | REQ1 7 | REQ1 6 |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R W    | REQ1 5 | REQ1 4 | REQ1 3 | REQ1 2 | REQ1 1 | REQ1 0 | REQ9   | REQ8   | REQ7   | REQ6   | REQ5   | REQ4   | REQ3   | REQ2   | REQ1   | REQ0   |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 31 REQ31 | Clock enable This bit provides the clock enable control for block 31 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 30 REQ30 | Clock enable This bit provides the clock enable control for block 30 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 29 REQ29 | Clock enable This bit provides the clock enable control for block 29 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 28 REQ28 | Clock enable This bit provides the clock enable control for block 28 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 27 REQ27 | Clock enable This bit provides the clock enable control for block 27 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 26 REQ26 | Clock enable This bit provides the clock enable control for block 26 in partition 2.                                                    |

Table continues on the next page...

Mode Entry Module (MC\_ME)

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 25 REQ25 | Clock enable This bit provides the clock enable control for block 25 in partition 2. 0b - Clock is turned off.                          |
| 24 REQ24 | Clock enable This bit provides the clock enable control for block 24 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 23 REQ23 | Clock enable This bit provides the clock enable control for block 23 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 22 REQ22 | Clock enable This bit provides the clock enable control for block 22 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 21 REQ21 | Clock enable This bit provides the clock enable control for block 21 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 20 REQ20 | Clock enable This bit provides the clock enable control for block 20 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 19 REQ19 | Clock enable This bit provides the clock enable control for block 19 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 18       | Clock enable                                                                                                                            |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| REQ18    | This bit provides the clock enable control for block 18 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.              |
| 17 REQ17 | Clock enable This bit provides the clock enable control for block 17 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 16 REQ16 | Clock enable This bit provides the clock enable control for block 16 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 15 REQ15 | Clock enable This bit provides the clock enable control for block 15 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 14 REQ14 | Clock enable This bit provides the clock enable control for block 14 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 13 REQ13 | Clock enable This bit provides the clock enable control for block 13 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 12 REQ12 | Clock enable This bit provides the clock enable control for block 12 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 11 REQ11 | Clock enable This bit provides the clock enable control for block 11 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 10 REQ10 | Clock enable This bit provides the clock enable control for block 10 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 9 REQ9   | Clock enable This bit provides the clock enable control for block 9 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 8 REQ8   | Clock enable This bit provides the clock enable control for block 8 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 7 REQ7   | Clock enable This bit provides the clock enable control for block 7 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 6 REQ6   | Clock enable This bit provides the clock enable control for block 6 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 5 REQ5   | Clock enable This bit provides the clock enable control for block 5 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 4 REQ4   | Clock enable This bit provides the clock enable control for block 4 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 3 REQ3   | Clock enable This bit provides the clock enable control for block 3 in partition 2. 0b - Clock is turned off.                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------|
|         | 1b - Clock is turned on.                                                                                                               |
| 2 REQ2  | Clock enable This bit provides the clock enable control for block 2 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 1 REQ1  | Clock enable This bit provides the clock enable control for block 1 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |
| 0 REQ0  | Clock enable This bit provides the clock enable control for block 0 in partition 2. 0b - Clock is turned off. 1b - Clock is turned on. |

## 32.4.52 Partition 3 Process Configuration Register (PRTN3\_PCONF)

## Offset

| Register    | Offset   |
|-------------|----------|
| PRTN3_PCONF | 700h     |

## Function

This register provides a configuration for the hardware processes corresponding to partition 3. Each of the configuration bit corresponds to the 'nature' of the processes; for example, enabling/disabling and the trigger is controlled by the corresponding field in the PRTN3\_PUPD register. When valid KEY combinations are written onto the CTL\_KEY register, the PRTN3\_PCONF and PRTN3\_PUPD registers are used to determine the hardware processes to be executed. These are triggered in parallel and independent of each other. All dependent processes should be requested one after another from the software.

## NOTE

The partition clock enable/disable and output safe stating enable/disable are not standalone and must be done coherently in a fixed sequence. For details, see Software Reset Partition Turn-On Flow Chart and Software reset partition turn-off flowchart in Reset chapter.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSE | 0    | PCE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                                          |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 2 OSSE  | Output safe stating enable This bit controls whether the outputs of the partition should be safe stated or not. 0b - Disable output safe stating 1b - Enable output safe stating                  |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                           |
| 0 PCE   | Partition clock enable This bit controls whether the clock to IPs (other than core(s)) in the partition should be enabled or disabled. 0b - Disable the clock to IPs 1b - Enable the clock to IPs |

Mode Entry Module (MC\_ME)

## 32.4.53 Partition 3 Process Update Register (PRTN3\_PUPD)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN3_PUPD | 704h     |

## Function

This register provides trigger signaling for the hardware processes corresponding to partition 3. Each of the control bit acts as a trigger for the corresponding hardware processes. When valid KEY combinations are written onto the CTL\_KEY register, the hardware checks the bit fields that are programmed as logic-1 in this register, and then triggers the hardware process per the value in the corresponding bit field in the PRTN3\_PCONF register. When the hardware process is finished the corresponding bit in this register is auto-cleared to logic-0.

## Diagram

<!-- image -->

## Fields

| Field   | Function                                       |
|---------|------------------------------------------------|
| 31-7    | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 6       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 5       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 4       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |
| 3       | Reserved                                       |
| -       | This field is reserved and read returns zeros. |

Table continues on the next page...

Mode Entry Module (MC\_ME)

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                     |
|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 OSSUD | Output safe stating update This bit controls whether the hardware processes for enabling/disabling the safe stating for outputs of the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process      |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                                                                                                      |
| 0 PCUD  | Partition clock update This bit controls whether the hardware processes for enabling/disabling the clock to IPs (other than core(s)) in the partition should be triggered or not. 0b - Do not trigger the hardware process 1b - Trigger the hardware process |

## 32.4.54 Partition 3 Status Register (PRTN3\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| PRTN3_STAT | 708h     |

## Function

This register provides the current status of the control signals from the partition 3.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      | 0    |      |      |      |      | 0    | 0    | 0    | 0    | OSSS | 0    | PCS  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                                                                  |
|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-7 -  | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 6 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 5 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 4 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 3 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 2 OSSS  | Output safe stating status This bit provides the status for output safe stating of the partition. 0b - Output safe stating is inactive 1b - Output safe stating is active |
| 1 -     | Reserved This field is reserved and read returns zeros.                                                                                                                   |
| 0 PCS   | Partition clock status This bit provides the status of the clock to partition. 0b - Clock is inactive 1b - Clock is active                                                |

## 32.4.55 Partition 3 COFB Set 0 Clock Status Register (PRTN3\_COFB0\_STAT)

## Offset

| Register         | Offset   |
|------------------|----------|
| PRTN3_COFB0_STAT | 710h     |

## Function

This register provides the status of set 0 of COFBs inside partition 3.

## NOTE

The reset value of this register can vary depending on the availability of active clock pulses inside partition 3.

## Diagram

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | BLOC K31 | BLOC K30 | BLOC K29 | BLOC K28 | BLOC K27 | BLOC K26 | BLOC K25 | BLOC K24 | BLOC K23 | BLOC K22 | BLOC K21 | BLOC K20 | BLOC K19 | BLOC K18 | BLOC K17 | BLOC K16 |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | BLOC K15 | BLOC K14 | BLOC K13 | BLOC K12 | BLOC K11 | BLOC K10 | BLOC K9  | BLOC K8  | BLOC K7  | BLOC K6  | BLOC K5  | BLOC K4  | BLOC K3  | BLOC K2  | BLOC K1  | BLOC K0  |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 31 BLOCK31 | IP block status This bit provides the clock status of block 31 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 30 BLOCK30 | IP block status This bit provides the clock status of block 30 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 29 BLOCK29 | IP block status This bit provides the clock status of block 29 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 28 BLOCK28 | IP block status This bit provides the clock status of block 28 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 27 BLOCK27 | IP block status This bit provides the clock status of block 27 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 26         | IP block status                                                                                                                  |

Table continues on the next page...

Mode Entry Module (MC\_ME)

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| BLOCK26    | This bit provides the clock status of block 26 in partition 3. 0b - Clock is not running. 1b - Clock is running.                 |
| 25 BLOCK25 | IP block status This bit provides the clock status of block 25 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 24 BLOCK24 | IP block status This bit provides the clock status of block 24 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 23 BLOCK23 | IP block status This bit provides the clock status of block 23 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 22 BLOCK22 | IP block status This bit provides the clock status of block 22 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 21 BLOCK21 | IP block status This bit provides the clock status of block 21 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 20 BLOCK20 | IP block status This bit provides the clock status of block 20 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 19 BLOCK19 | IP block status This bit provides the clock status of block 19 in partition 3. 0b - Clock is not running. 1b - Clock is running. |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 18 BLOCK18 | IP block status This bit provides the clock status of block 18 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 17 BLOCK17 | IP block status This bit provides the clock status of block 17 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 16 BLOCK16 | IP block status This bit provides the clock status of block 16 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 15 BLOCK15 | IP block status This bit provides the clock status of block 15 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 14 BLOCK14 | IP block status This bit provides the clock status of block 14 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 13 BLOCK13 | IP block status This bit provides the clock status of block 13 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 12 BLOCK12 | IP block status This bit provides the clock status of block 12 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 11 BLOCK11 | IP block status This bit provides the clock status of block 11 in partition 3. 0b - Clock is not running.                        |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                         |
|------------|----------------------------------------------------------------------------------------------------------------------------------|
| 10 BLOCK10 | IP block status This bit provides the clock status of block 10 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 9 BLOCK9   | IP block status This bit provides the clock status of block 9 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 8 BLOCK8   | IP block status This bit provides the clock status of block 8 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 7 BLOCK7   | IP block status This bit provides the clock status of block 7 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 6 BLOCK6   | IP block status This bit provides the clock status of block 6 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 5 BLOCK5   | IP block status This bit provides the clock status of block 5 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 4 BLOCK4   | IP block status This bit provides the clock status of block 4 in partition 3. 0b - Clock is not running. 1b - Clock is running.  |
| 3 BLOCK3   | IP block status This bit provides the clock status of block 3 in partition 3.                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                        |
|----------|---------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Clock is not running. 1b - Clock is running.                                                                               |
| 2 BLOCK2 | IP block status This bit provides the clock status of block 2 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 1 BLOCK1 | IP block status This bit provides the clock status of block 1 in partition 3. 0b - Clock is not running. 1b - Clock is running. |
| 0 BLOCK0 | IP block status This bit provides the clock status of block 0 in partition 3. 0b - Clock is not running. 1b - Clock is running. |

## 32.4.56 Partition 3 COFB Set 0 Clock Enable Register (PRTN3\_COFB0\_CLKEN)

## Offset

| Register          | Offset   |
|-------------------|----------|
| PRTN3_COFB0_CLKEN | 730h     |

## Function

This register provides clock control signaling to the individual COFBs in set 0 inside partition 3. Whenever a partition clock enable (non-core) hardware process is initiated, the value of logic-1 in the corresponding bit locations of this register enables the clock to the corresponding block in the partition.

## NOTE

The reset value of this register is not defined and is as per the availability of the clock source. See Chip-specific MC\_ME information for clock source availability.

## Diagram

<!-- image -->

| Bits   | 31     | 30     | 29     | 28     | 27     | 26     | 25     | 24     | 23     | 22     | 21     | 20     | 19     | 18     | 17     | 16     |
|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|--------|
| R W    | REQ3 1 | REQ3 0 | REQ2 9 | REQ2 8 | REQ2 7 | REQ2 6 | REQ2 5 | REQ2 4 | REQ2 3 | REQ2 2 | REQ2 1 | REQ2 0 | REQ1 9 | REQ1 8 | REQ1 7 | REQ1 6 |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |
| Bits   | 15     | 14     | 13     | 12     | 11     | 10     | 9      | 8      | 7      | 6      | 5      | 4      | 3      | 2      | 1      | 0      |
| R W    | REQ1 5 | REQ1 4 | REQ1 3 | REQ1 2 | REQ1 1 | REQ1 0 | REQ9   | REQ8   | REQ7   | REQ6   | REQ5   | REQ4   | REQ3   | REQ2   | REQ1   | REQ0   |
| Reset  | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      | 0      |

## Fields

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 31 REQ31 | Clock enable This bit provides the clock enable control for block 31 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 30 REQ30 | Clock enable This bit provides the clock enable control for block 30 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 29 REQ29 | Clock enable This bit provides the clock enable control for block 29 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 28 REQ28 | Clock enable This bit provides the clock enable control for block 28 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 27 REQ27 | Clock enable This bit provides the clock enable control for block 27 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 26 REQ26 | Clock enable This bit provides the clock enable control for block 26 in partition 3.                                                    |

Table continues on the next page...

Mode Entry Module (MC\_ME)

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 25 REQ25 | Clock enable This bit provides the clock enable control for block 25 in partition 3. 0b - Clock is turned off.                          |
| 24 REQ24 | Clock enable This bit provides the clock enable control for block 24 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 23 REQ23 | Clock enable This bit provides the clock enable control for block 23 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 22 REQ22 | Clock enable This bit provides the clock enable control for block 22 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 21 REQ21 | Clock enable This bit provides the clock enable control for block 21 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 20 REQ20 | Clock enable This bit provides the clock enable control for block 20 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 19 REQ19 | Clock enable This bit provides the clock enable control for block 19 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 18       | Clock enable                                                                                                                            |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| REQ18    | This bit provides the clock enable control for block 18 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.              |
| 17 REQ17 | Clock enable This bit provides the clock enable control for block 17 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 16 REQ16 | Clock enable This bit provides the clock enable control for block 16 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 15 REQ15 | Clock enable This bit provides the clock enable control for block 15 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 14 REQ14 | Clock enable This bit provides the clock enable control for block 14 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 13 REQ13 | Clock enable This bit provides the clock enable control for block 13 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 12 REQ12 | Clock enable This bit provides the clock enable control for block 12 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 11 REQ11 | Clock enable This bit provides the clock enable control for block 11 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |

Table continues on the next page...

## Table continued from the previous page...

| Field    | Function                                                                                                                                |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 10 REQ10 | Clock enable This bit provides the clock enable control for block 10 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 9 REQ9   | Clock enable This bit provides the clock enable control for block 9 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 8 REQ8   | Clock enable This bit provides the clock enable control for block 8 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 7 REQ7   | Clock enable This bit provides the clock enable control for block 7 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 6 REQ6   | Clock enable This bit provides the clock enable control for block 6 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 5 REQ5   | Clock enable This bit provides the clock enable control for block 5 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 4 REQ4   | Clock enable This bit provides the clock enable control for block 4 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on.  |
| 3 REQ3   | Clock enable This bit provides the clock enable control for block 3 in partition 3. 0b - Clock is turned off.                           |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function                                                                                                                               |
|---------|----------------------------------------------------------------------------------------------------------------------------------------|
|         | 1b - Clock is turned on.                                                                                                               |
| 2 REQ2  | Clock enable This bit provides the clock enable control for block 2 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 1 REQ1  | Clock enable This bit provides the clock enable control for block 1 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |
| 0 REQ0  | Clock enable This bit provides the clock enable control for block 0 in partition 3. 0b - Clock is turned off. 1b - Clock is turned on. |

## 32.5 Partition processes

Each of the processes inside the partition controls register space and corresponds to a control signal provided to that partition. A partition can include a core, or COFBs, or both. The MC\_ME hardware processes provide control and status via signals provided to partitions. Each partition can be assigned a signal for control and a signal for status. Each of the control signals implements functionality for the partition. For example, clock gating and peripheral control.

The hardware process can be triggered and monitored using a set of three registers:

- Configuration register; for example, Partition n Process Configuration register
- Update register; for example, Partition n Process Update register
- Status register; for example, Partition n Status register

Similar registers exist for cores inside the partition.

The process setup and triggering procedure is shown in Figure 194. Each of the processes is independent of others and can be triggered or re-triggered in parallel or sequential to other processes. The triggering or re-triggering mechanism remains the same.

Mode Entry Module (MC\_ME)

<!-- image -->

All the hardware processes are bound to finish in 256 cycles of the MC\_ME configuration clock. If the actual and the expected status for a process does not match, then the diagnostics is left as a software responsibility. The software diagnostic can include further wait cycles for the status to match.

## 32.6 Mode transition

MC\_ME implements a mode transition mechanism, whereby the mode of operation for SoC can be changed. Then module implements a mechanism that can lead to:

- Destructive reset
- Functional reset
- Standby mode entry

Mode Entry Module (MC\_ME)

Destructive reset and functional reset requests from MC\_ME are non-retractable transitions. After it is initiated, the other MC\_ME functionality is rendered unusable and bus errors are provided for upcoming access to the MC\_ME register until a reset sequence is executed by MC\_RGM. Hence, it is vital that MC\_RGM should never ignore or gate the reset requests from MC\_ME.

For transition into the standby mode, the software should ensure that required IP blocks such as clock sources and I/O communication are in their respective inactive states before initiating a standby mode transition to MC\_ME. After MC\_ME initiates a power down sequence request, it cannot be retracted. The SoC enters a standby power down sequence and then reenter power-up sequence even for cases where the standby wakeup happens right at the time of initiating a power-down sequence request.

Steps for initiating the MC\_ME mode transition:

1. Setup the MODE\_CONF register with the corresponding target mode bit set to logic-1.
2. Perform the same update as done in the MODE\_CONF register on the CONF\_UPD register.
3. Write the valid control key (0x5AF0) on the CTL\_KEY register.
4. Write the valid invert control key (0xA50F) on the CTL\_KEY register.

Mode transition to MC\_ME is initiated, after the sequence mentioned above is completed.

In step 1, if both FUNC\_RST and DEST\_RST in Mode Configuration Register (MODE\_CONF) are 1:

- After step 4 is complete, MC\_ME initiates a mode transition to a destructive (not functional) reset.
- After the chip exits reset, MC\_RGM records that both MC\_ME's destructive reset and MC\_ME's functional reset were the reset source.

## NOTE

Any hardware partition processes setup, along with mode transition, is executed in parallel to the mode transition of MC\_ME.

## 32.7 Standby entry

MC\_ME provides hardware processes that implement shutdown sequencing of on-chip resources, such as cores and COFBs. The standby entry sequencing can be achieved or implemented using these hardware processes. The order of the hardware process is determined by the software and MC\_ME. It requires no restriction in sequencing of the operation. Following is an example sequence for initiating a power-down sequence for entering the standby mode for SoC. The standby entry sequence should include (but not limited to) the following steps:

1. Setting up wakeup lines
2. Shutting down cores and COFBs
3. Switching all MC\_CGM muxes to clk\_src\_0 with PCFS
4. Powering down all clock sources except clk\_src\_0
5. Setting up MC\_ME using the main core and initiating a standby mode transition
6. Executing WFI instruction on the main core (per Arm specification)

## 32.7.1 Application core shutdown

This section describes a mechanism for shutting down an application core. The sequence proposed here is extendible with the housekeeping tasks required for other IPs. Each of the tasks mentioned in the following sequence, can be further integrated with an SoC-specific task.

Mode Entry Module (MC\_ME)

<!-- image -->

After the application core is shutdown, the main core can optionally decide to gate the respective core clock using the corresponding core clock hardware process.

## 32.7.2 Application cluster shutdown

This section describes a mechanism for shutting down an application cluster. The sequence proposed here is extendible with the housekeeping tasks required for other IPs. Each of the tasks mentioned in the following sequence can be further integrated with an SoC- specific task and can also be skipped when not required, as shown in Figure 196.

Mode Entry Module (MC\_ME)

<!-- image -->

After the application cluster is shutdown, the main core can optionally decide to gate the respective core clock using the corresponding core clock hardware process.

## 32.7.3 Main core shutdown and standby entry

This section describes standby entry sequence along with the main core shutdown. This sequence should only be initiated after SoC is ready for entering standby and has completed all the housekeeping activities. It is necessary that the main core has completed all the operations pertaining to other (application cores) and is the last active core before initiating the standby entry sequence. See Figure 197.

Figure 197. Standby entry sequence along with main core shutdown

<!-- image -->

## NOTE

- After MC\_ME initiates the power sequence to MC\_PCU, it also gates the NMI signal to the main core with its clock still running. This enables the main core to remain inactive (WFI state) until it is reset and power-up again at standby exit. Therefore, it is necessary that gated NMI signal to the core should not be lost by the wakeup unit.

## 32.8 Glossary

WFI

Wait for interrupt

COFB

Collection of functional blocks also referred as number of peripherals

## Chapter 33 Power Control Unit (MC\_PCU)

## 33.1 Introduction

The power control unit (MC\_PCU) is used for initiating a Standby mode entry that reduces the overall chip power consumption. Power can be saved by disconnecting parts of the chip from the power supply. The blocks inside the chip are grouped into multiple parts having this capability, which are called "power domains".

When a power domain is disconnected from the supply, the power consumption is reduced to zero in that domain. Any status information, such as, power domain is lost. When you reconnect a power domain to the supply voltage, the domain draws an increased current until the power domain reaches its operational voltage. Maximum power saving is achieved by entering the Standby mode.

After the MC\_ME asserts a standby entry request, MC\_PCU initiates the power sequence, which is non-retractable and includes the handshake with the chip power management controller. The power-up/down sequences are handled by Finite State Machines (FSMs) to ensure a smooth and safe transition into and out of the Standby mode. Exiting the Standby mode can only be done through a system wakeup event, power-on reset, destructive reset, or a functional reset.

## 33.2 Power sequence FSM

MC\_PCU implements an FSM to initiate the power sequencing of the Standby mode entry/exit sequence for the chip.

This image contains layers and parameterization

<!-- image -->

## NOTE

When destructive reset is asserted from MC\_RGM, MC\_PCU FSM moves to the IDLE state immediately. Indication of this is not shown in the above figure.

Table 197. MC\_PCU FSM transition description

| State          | Name                 | Exit condition                                                      |
|----------------|----------------------|---------------------------------------------------------------------|
| IDLE           | Idle state           | Standby entry request received from MC_ME                           |
| DISABLE CLOCKS | Disable clock state  | Standby entry acknowledgment from MC_RGM and FIRC PD acknowledgment |
| INTF LOCK      | Interface lock state | Input isolation active                                              |

Table continues on the next page...

Table 197. MC\_PCU FSM transition description (continued)

| State       | Name                 | Exit condition                                                               |
|-------------|----------------------|------------------------------------------------------------------------------|
| SW OPEN     | Switch open state    | Output isolation active, PMIC_VDD_OK input pin has been asserted by the PMIC |
| PWR DOWN    | Power down state     | Wakeup or functional reset event occurrence                                  |
| PWR UP      | Power up state       | One clock cycle of SIRC                                                      |
| SW H CLOSE  | Switch H close state | PMIC_VDD_OK input pin has been deasserted by the PMIC                        |
| SW L CLOSE  | Switch L close state | Output isolation inactive                                                    |
| INTF UNLOCK | Interface unlock     | Input isolation inactive                                                     |

Power Control Unit (MC\_PCU)

## Chapter 34 Power Management Controller (PMC)

## 34.1 Chip-specific PMC information

## 34.1.1 Device Status Flag (DSFn) status signal mapping

The following sections provide the details about captured status signals through Device Status Flag registers.

## 34.1.1.1 Device Status Flag (DSF0) status signals

The following table provides details about status signals captured through the DSF0 register (POR\_WDOG\_EVENT\_CAPTURE0).

## Table 198. PMC\_DSF0[DSFBIT0] signal mapping

| Bit field   | Field name   | Description                       |
|-------------|--------------|-----------------------------------|
| 0           | RGM_DES_0    | Destructive reset event status 0  |
| 1           | RGM_DES_1    | Destructive reset event status 1  |
| 2           | Reserved     | Reserved                          |
| 3           | RGM_DES_3    | Destructive reset event status 3  |
| 4           | RGM_DES_4    | Destructive reset event status 4  |
| 5           | Reserved     | Reserved                          |
| 6           | RGM_DES_6    | Destructive reset event status 6  |
| 7           | Reserved     | Reserved                          |
| 8           | RGM_DES_8    | Destructive reset event status 8  |
| 9           | RGM_DES_9    | Destructive reset event status 9  |
| 10          | RGM_DES_10   | Destructive reset event status 10 |
| 11          | RGM_DES_11   | Destructive reset event status 11 |
| 12          | RGM_DES_12   | Destructive reset event status 12 |
| 13          | RGM_DES_13   | Destructive reset event status 13 |
| 14:15       | Reserved     | Reserved                          |
| 16          | RGM_DES_16   | Destructive reset event status 16 |
| 17          | RGM_DES_17   | Destructive reset event status 17 |
| 18          | RGM_DES_18   | Destructive reset event status 18 |
| 19:29       | Reserved     | Reserved                          |
| 30          | RGM_DES_30   | Destructive reset event status 30 |
| 31          | RGM_DES_31   | Destructive reset event status 31 |

## 34.1.1.2 Device Status Flag (DSF1) status signals

The following table provides details about status signals captured through the DSF1 register (POR\_WDOG\_EVENT\_CAPTURE1).

Table 199. PMC\_DSF1[DSFBIT1] signal mapping

| Bit field   | Field name   | Description                      |
|-------------|--------------|----------------------------------|
| 0           | RGM_FES_0    | Functional reset event status 0  |
| 1           | Reserved     | Reserved                         |
| 2           | Reserved     | Reserved                         |
| 3           | RGM_FES_3    | Functional reset event status 3  |
| 4           | RGM_FES_4    | Functional reset event status 4  |
| 5           | Reserved     | Reserved                         |
| 6           | RGM_FES_6    | Functional reset event status 6  |
| 7:17        | Reserved     | Reserved                         |
| 18          | RGM_FES_18   | Functional reset event status 18 |
| 19          | Reserved     | Reserved                         |
| 20          | RGM_FES_20   | Functional reset event status 20 |
| 21          | RGM_FES_21   | Functional reset event status 21 |
| 22:29       | Reserved     | Reserved                         |
| 30          | RGM_FES_30   | Functional reset event status 30 |
| 31          | RGM_FES_31   | Functional reset event status 31 |

## 34.1.1.3 Device Status Flag (DSF2) status signals

The following table provides details about status signals captured through the DSF2 register (POR\_WDOG\_EVENT\_CAPTURE2).

Table 200. PMC\_DSF2[DSFBIT2] signal mapping

| Bit field   | Field name   | Description                                                                        |
|-------------|--------------|------------------------------------------------------------------------------------|
| 0-31        | Reserved     | Do not access this register. Attempted accesses do not result in a transfer error. |

## 34.1.2 Supply names

The following table lists supply name references used in this document and their corresponding names listed in the IOMUX file attached to the document.

Table 201. Supply names

| Supply name used in the reference manual   | Name defined in the IOMUX file   |
|--------------------------------------------|----------------------------------|
| Core supply                                | VDD                              |
| PMC supply                                 | VDD_VREF                         |

## 34.2 Introduction

The PMC monitors the different power domains of the chip. It receives power domain status from different points in the chip and combines them into two outputs:

- Power-on reset (POR) event

- Non-critical supply presence detector (NCSPD) event

Use both outputs as a system reset placing an application into a safe state. A low-power mode exists that reduces the power consumption of the PMC by turning off some features.

## 34.2.1 Features

- Critical supply presence detector (CSPD) monitoring:
- Combines the status of all CSPDs into one POR event signal, used as a system reset source
- NCSPD monitoring:
- Monitors the NCSPD signals and creates a combined NCSPD event based on user configuration.
- POR watchdog (POR\_WDOG):
- Causes a POR event if the counter expires.

## 34.2.2 Block diagram

Figure 199 shows the functional structure of the PMC.

<!-- image -->

Guide to the diagram:

- The following input signals are active low. When those signals are logic high, the supply monitored by its SPD is operating normally.
- NCSPD
- CSPD
- PMC supply CSPD

Power Management Controller (PMC)

- Core CSPD
- The output signal POR event is an active low signal.

The block diagram shows only general functionality. Standard logic, needed for power isolation, is not shown. This logic insures that the PMC supply CSPD signal is logic high when the PMC is in low-power mode.

## 34.2.2.1 SPD monitoring

There are two SPD types defined as follows:

- NCSPD - Non-critical SPDs are not available after reset and need to be configured before use.
- Configure which NCSPD you need to use for you application.
- Configure the NCSPD reaction.
- Use a status register to show current state of an NCSPD (asynchronous).
- Event capture register showing any event that caused previous event (synchronous).
- CSPD - Critical SPDs are always on. There is no user configuration available.
- CSPDs cause a POR event.
- Event capture register showing any event that caused previous POR (synchronous).

All sources that can modify one of the two output events are determined by reading registers, these register types are:

- Synchronously set registers (status registers) to observe the current state of a signal.
- Asynchronously set registers (event registers) keeping track of any event that has occurred.

The software can read the current state of the signal of interest from the respective field in the status registers, they are only for non-critical events.

Hardware writes one to the event flag register fields (CSPDEF[CSPD\_EVENT\_CAPTUREn] and

NCSPDEF[NCSPD\_EVENT\_CAPTUREn]) when their corresponding signals have been in its active state. All signals involved in the generation of events are monitored by such event flag registers.

## 34.2.2.2 POR and NCSPD event generation

The PMC generates one POR event used as a system reset. The event is extended by the pulse extension so it stays asserted for a specified minimum time (see Data Sheet for details). It is generated by the logical combination of the following sources:

- An external power-on reset input signal (POR\_B)
- A CSPD monitoring the Core supply
- A CSPD monitoring the PMC supply
- The combination of all CSPD
- The POR\_WDOG counter expires (see POR watchdog for details)

In addition to the CSPD signals, the PMC receives NCSPD signals . When the NCSPD signals are individually enabled by the respective field in the Non-Critical Supply Presence Detector Control (NCSPD\_CTL), they are combined into a single NCSPD event .

## 34.2.3 Modes of operation

The PMC can operate in different power modes:

- Full-power mode with all features available
- Standby mode

Power Management Controller (PMC)

Power Management Controller (PMC)

The PMC enters Standby mode by removing the PMC supply. The output of the PMC supply CSPD is isolated from the POR event generation during Standby mode. This reset cannot set the POR flag during Standby mode. All other features of the PMC stay functional in all modes.

## 34.3 Memory map and register definition

## 34.3.1 Transfer error description

The following actions cause a transfer error, but register contents does not change:

- Accessing an unused register address
- Write access to a read-only register

## 34.3.2 PMC register descriptions

## 34.3.2.1 PMC memory map

PMC base address: 4008\_C000h

| Offset   | Register                                                  |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Source of System Reset (SSR)                              |                32 | RW       | 0000_0001h    |
| 4h       | Non-Critical Supply Presence Detector Control (NCSPD_CTL) |                32 | RW       | 0000_0000h    |
| Ch       | NCSPD Status Register (NCSPD_STAT)                        |                32 | R        | 0000_0000h    |
| 10h      | CSPD Event Capture (CSPDEF) (CSPD_EVENT_CAPTURE)          |                32 | RW       | See section   |
| 14h      | NCSPD Event Flag (NCSPDEF) (NCSPD_EVENT_CAPTURE)          |                32 | RW       | See section   |
| 1Ch      | Device Status Flag (DSF0) (POR_WDOG_EVENT_CAPTURE0)       |                32 | RW       | 0000_0000h    |
| 20h      | Device Status Flag (DSF1) (POR_WDOG_EVENT_CAPTURE1)       |                32 | RW       | 0000_0000h    |
| 24h      | Device Status Flag (DSF2) (POR_WDOG_EVENT_CAPTURE2)       |                32 | RW       | 0000_0000h    |

## 34.3.2.2 Source of System Reset (SSR)

## Offset

| Register   | Offset   |
|------------|----------|
| SSR        | 0h       |

## Function

The fields capture an event on any of the sources that may set the POR event.

## Diagram

<!-- image -->

## Fields

| Field             | Function                                                                                                                                                                                                                                                                                                                                                                               |
|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-3 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                               |
| 2 POR_WDOG_E VENT | POR watchdog event flag Captures a POR_WDOG timeout event (see the 'Expired' output from the POR_WDOG in Figure 199 ). 0b - No event detected after the last clearing of the bit 1b - An event was detected                                                                                                                                                                            |
| 1 CSPD_EVENT      | Critical supply presence detector event flag Captures an event on any CSPD failure by monitoring CSPD Event Capture (CSPDEF) (CSPD_EVENT_CAPTURE) (see the CSPD valid and PMC supply CSPD in Figure 199 ). This field can only be cleared when the CSPDEF register does not show any CSPD event. NOTE 0b - No event detected after last clearing of the bit 1b - An event was detected |
| 0 POR_SUP         | POR on core supply CSPD event flag Captures an event on the core supply CSPD valid signal or external POR_B . Whenthe value of this field equals 1, you must clear all other PMCregisters before they can be used. NOTE 0b - No event detected after the last time this field was cleared 1b - An event was detected                                                                   |

Power Management Controller (PMC)

## 34.3.2.3 Non-Critical Supply Presence Detector Control (NCSPD\_CTL)

## Offset

| Register   | Offset   |
|------------|----------|
| NCSPD_CTL  | 4h       |

## Function

Use these fields to enable capturing NCSPD valid signal status in the NCSPDEF register (see the "NCSPD configuration" section in the "Power Management" chapter for NCSPD mapping). For actual NCSPD CTL mapping on this chip, see the PMC NCSPD table in Power Management chapter.

## Diagram

<!-- image -->

## Fields

| Field          | Function                                                                                                                                                                                                 |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 NCSPD_CTL31 | NCSPD31 control Enables capturing the NCSPD31 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE31]. 0b - NCSPD31 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE31] 1b - NCSPD31 can set NCSPDEF[NCSPD_EVENT_CAPTURE31] |
| 30 NCSPD_CTL30 | NCSPD30 control Enables capturing the NCSPD30 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE30]. 0b - NCSPD30 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE30] 1b - NCSPD30 can set NCSPDEF[NCSPD_EVENT_CAPTURE30] |
| 29 NCSPD_CTL29 | NCSPD29 control Enables capturing the NCSPD29 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE29]. 0b - NCSPD29 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE29] 1b - NCSPD29 can set NCSPDEF[NCSPD_EVENT_CAPTURE29] |
| 28             | NCSPD28 control                                                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                 |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCSPD_CTL28    | Enables capturing the NCSPD28 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE28]. 0b - NCSPD28 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE28] 1b - NCSPD28 can set NCSPDEF[NCSPD_EVENT_CAPTURE28]                 |
| 27 -           | Reserved                                                                                                                                                                                                 |
| 26 -           | Reserved                                                                                                                                                                                                 |
| 25 -           | Reserved                                                                                                                                                                                                 |
| 24 -           | Reserved                                                                                                                                                                                                 |
| 23 NCSPD_CTL23 | NCSPD23 control Enables capturing the NCSPD23 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE23]. 0b - NCSPD23 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE23] 1b - NCSPD23 can set NCSPDEF[NCSPD_EVENT_CAPTURE23] |
| 22 NCSPD_CTL22 | NCSPD22 control Enables capturing the NCSPD22 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE22]. 0b - NCSPD22 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE22] 1b - NCSPD22 can set NCSPDEF[NCSPD_EVENT_CAPTURE22] |
| 21 NCSPD_CTL21 | NCSPD21 control Enables capturing the NCSPD21 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE21]. 0b - NCSPD21 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE21] 1b - NCSPD21 can set NCSPDEF[NCSPD_EVENT_CAPTURE21] |
| 20 -           | Reserved                                                                                                                                                                                                 |
| 19 -           | Reserved                                                                                                                                                                                                 |
| 18 NCSPD_CTL18 | NCSPD18 control Enables capturing the NCSPD18 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE18]. 0b - NCSPD18 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE18]                                                     |

Table continues on the next page...

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                 |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 17 NCSPD_CTL17 | NCSPD17 control Enables capturing the NCSPD17 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE17]. 0b - NCSPD17 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE17] 1b - NCSPD17 can set NCSPDEF[NCSPD_EVENT_CAPTURE17] |
| 16 -           | Reserved                                                                                                                                                                                                 |
| 15 -           | Reserved                                                                                                                                                                                                 |
| 14 -           | Reserved                                                                                                                                                                                                 |
| 13 -           | Reserved                                                                                                                                                                                                 |
| 12 -           | Reserved                                                                                                                                                                                                 |
| 11 NCSPD_CTL11 | NCSPD11 control Enables capturing the NCSPD11 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE11]. 0b - NCSPD11 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE11] 1b - NCSPD11 can set NCSPDEF[NCSPD_EVENT_CAPTURE11] |
| 10 NCSPD_CTL10 | NCSPD10 control Enables capturing the NCSPD10 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE10]. 0b - NCSPD10 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE10] 1b - NCSPD10 can set NCSPDEF[NCSPD_EVENT_CAPTURE10] |
| 9 NCSPD_CTL9   | NCSPD9 control Enables capturing the NCSPD9 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE9]. 0b - NCSPD9 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE9] 1b - NCSPD9 can set NCSPDEF[NCSPD_EVENT_CAPTURE9]        |
| 8 NCSPD_CTL8   | NCSPD8 control Enables capturing the NCSPD8 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE8]. 0b - NCSPD8 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE8]                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field        | Function                                                                                                                                                                                          |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 7 NCSPD_CTL7 | NCSPD7 control Enables capturing the NCSPD7 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE7]. 0b - NCSPD7 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE7] 1b - NCSPD7 can set NCSPDEF[NCSPD_EVENT_CAPTURE7] |
| 6 NCSPD_CTL6 | NCSPD6 control Enables capturing the NCSPD6 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE6]. 0b - NCSPD6 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE6] 1b - NCSPD6 can set NCSPDEF[NCSPD_EVENT_CAPTURE6] |
| 5 NCSPD_CTL5 | NCSPD5 control Enables capturing the NCSPD5 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE5]. 0b - NCSPD5 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE5] 1b - NCSPD5 can set NCSPDEF[NCSPD_EVENT_CAPTURE5] |
| 4 NCSPD_CTL4 | NCSPD4 control Enables capturing the NCSPD4 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE4]. 0b - NCSPD4 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE4] 1b - NCSPD4 can set NCSPDEF[NCSPD_EVENT_CAPTURE4] |
| 3 NCSPD_CTL3 | NCSPD3 control Enables capturing the NCSPD3 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE3]. 0b - NCSPD3 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE3] 1b - NCSPD3 can set NCSPDEF[NCSPD_EVENT_CAPTURE3] |
| 2 NCSPD_CTL2 | NCSPD2 control Enables capturing the NCSPD2 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE2]. 0b - NCSPD2 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE2] 1b - NCSPD2 can set NCSPDEF[NCSPD_EVENT_CAPTURE2] |
| 1 NCSPD_CTL1 | NCSPD1 control Enables capturing the NCSPD1 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE1]. 0b - NCSPD1 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE1] 1b - NCSPD1 can set NCSPDEF[NCSPD_EVENT_CAPTURE1] |
| 0 NCSPD_CTL0 | NCSPD0 control Enables capturing the NCSPD0 valid signal in NCSPDEF[NCSPD_EVENT_CAPTURE0].                                                                                                        |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                               |
|---------|--------------------------------------------------------------------------------------------------------|
|         | 0b - NCSPD0 cannot set NCSPDEF[NCSPD_EVENT_CAPTURE0] 1b - NCSPD0 can set NCSPDEF[NCSPD_EVENT_CAPTURE0] |

## 34.3.2.4 NCSPD Status Register (NCSPD\_STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| NCSPD_STAT | Ch       |

## Function

Captures the current status of an NCSPD. For actual NCSPD STAT mapping on this chip, see the PMC NCSPD table in Power Management chapter.

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R      | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | 0           | 0           | 0           | 0           | NCSP D_S... | NCSP D_S... | NCSP D_S... | 0           | 0           | NCSP D_S... | NCSP D_S... | 0           |
| W      |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R      | 0           | 0           | 0           | 0           | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... | NCSP D_S... |
| W      |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |             |
| Reset  | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           | 0           |

## Fields

| Field         | Function                                                                                                                                              |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31            | NCSPD31 status                                                                                                                                        |
| NCSPD_STAT3 1 | Shows the current status of the NCSPD31 valid signal. 0b - NCSPD31 has not detected an error condition. 1b - NCPSD31 has detected an error condition. |
| 30            | NCSPD30 status                                                                                                                                        |
| NCSPD_STAT3 0 | Shows the current status of the NCSPD30 valid signal.                                                                                                 |

Table continues on the next page...

## Table continued from the previous page...

| Field            | Function                                                                                                                                                             |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 29 NCSPD_STAT2 9 | 1b - NCPSD30 has detected an error condition. NCSPD29 status Shows the current status of the NCSPD29 valid signal. 0b - NCSPD29 has not detected an error condition. |
| 28 NCSPD_STAT2 8 | NCSPD28 status Shows the current status of the NCSPD28 valid signal. 0b - NCSPD28 has not detected an error condition. 1b - NCPSD28 has detected an error condition. |
| 27 -             | Reserved                                                                                                                                                             |
| 26 -             | Reserved                                                                                                                                                             |
| 25 -             | Reserved                                                                                                                                                             |
| 24 -             | Reserved                                                                                                                                                             |
| 23 NCSPD_STAT2   | NCSPD23 status                                                                                                                                                       |
| 3 22             | Shows the current status of the NCSPD23 valid signal. 0b - NCSPD23 has not detected an error condition. 1b - NCPSD23 has detected an error condition. NCSPD22 status |
| 21               | NCSPD21 status Shows the current status of the NCSPD21 valid signal. 0b - NCSPD21 has not detected an error condition.                                               |
| NCSPD_STAT2 1    | 1b - NCPSD21 has detected an error condition.                                                                                                                        |

Table continues on the next page...

## Table continued from the previous page...

| Field            | Function                                                                                                                                                             |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 20 -             | Reserved                                                                                                                                                             |
| 19 -             | Reserved                                                                                                                                                             |
| 18 NCSPD_STAT1 8 | NCSPD18 status Shows the current status of the NCSPD18 valid signal. 0b - NCSPD18 has not detected an error condition. 1b - NCPSD18 has detected an error condition. |
| 17 NCSPD_STAT1 7 | NCSPD17 status Shows the current status of the NCSPD17 valid signal. 0b - NCSPD17 has not detected an error condition. 1b - NCPSD17 has detected an error condition. |
| 16 -             | Reserved                                                                                                                                                             |
| 15 -             | Reserved                                                                                                                                                             |
| 14 -             | Reserved                                                                                                                                                             |
| 13 -             | Reserved                                                                                                                                                             |
| 12 -             | Reserved                                                                                                                                                             |
| 11 NCSPD_STAT1 1 | NCSPD11 status Shows the current status of the NCSPD11 valid signal. 0b - NCSPD11 has not detected an error condition. 1b - NCPSD11 has detected an error condition. |
| 10 NCSPD_STAT1 0 | NCSPD10 status Shows the current status of the NCSPD10 valid signal. 0b - NCSPD10 has not detected an error condition. 1b - NCPSD10 has detected an error condition. |

Table continues on the next page...

## Table continued from the previous page...

| Field         | Function                                                                                                                                                         |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 9 NCSPD_STAT9 | NCSPD9 status Shows the current status of the NCSPD9 valid signal. 0b - NCSPD9 has not detected an error condition. 1b - NCPSD9 has detected an error condition. |
| 8 NCSPD_STAT8 | NCSPD8 status Shows the current status of the NCSPD8 valid signal. 0b - NCSPD8 has not detected an error condition. 1b - NCPSD8 has detected an error condition. |
| 7 NCSPD_STAT7 | NCSPD7 status Shows the current status of the NCSPD7 valid signal. 0b - NCSPD7 has not detected an error condition. 1b - NCPSD7 has detected an error condition. |
| 6 NCSPD_STAT6 | NCSPD6 status Shows the current status of the NCSPD6 valid signal. 0b - NCSPD6 has not detected an error condition. 1b - NCPSD6 has detected an error condition. |
| 5 NCSPD_STAT5 | NCSPD5 status Shows the current status of the NCSPD5 valid signal. 0b - NCSPD5 has not detected an error condition. 1b - NCPSD5 has detected an error condition. |
| 4 NCSPD_STAT4 | NCSPD4 status Shows the current status of the NCSPD4 valid signal. 0b - NCSPD4 has not detected an error condition. 1b - NCPSD4 has detected an error condition. |
| 3 NCSPD_STAT3 | NCSPD3 status Shows the current status of the NCSPD3 valid signal. 0b - NCSPD3 has not detected an error condition. 1b - NCPSD3 has detected an error condition. |
| 2 NCSPD_STAT2 | NCSPD2 status Shows the current status of the NCSPD2 valid signal. 0b - NCSPD2 has not detected an error condition.                                              |

Table continues on the next page...

Table continued from the previous page...

| Field         | Function                                                                                                                                                         |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|               | 1b - NCPSD2 has detected an error condition.                                                                                                                     |
| 1 NCSPD_STAT1 | NCSPD1 status Shows the current status of the NCSPD1 valid signal. 0b - NCSPD1 has not detected an error condition. 1b - NCPSD1 has detected an error condition. |
| 0 NCSPD_STAT0 | NCSPD0 status Shows the current status of the NCSPD0 valid signal. 0b - NCSPD0 has not detected an error condition. 1b - NCPSD0 has detected an error condition. |

## 34.3.2.5 CSPD Event Capture (CSPDEF) (CSPD\_EVENT\_CAPTURE)

## Offset

| Register            | Offset   |
|---------------------|----------|
| CSPD_EVENT_CAPTUR E | 10h      |

## Function

Read these fields to determine if a CSPD monitored supply failed . These fields are unaffected by any reset.

## Diagram

<!-- image -->

| Bits   | 31        | 30        | 29        | 28        | 27        | 26        | 25        | 24        | 23        | 22        | 21        | 20        | 19        | 18          | 17          | 16        |
|--------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-------------|-------------|-----------|
| R      | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed   | Reserv ed   | Reserv ed |
| W      | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C         | W1C         | W1C       |
| Reset  | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u           | u           | u         |
| Bits   | 15        | 14        | 13        | 12        | 11        | 10        | 9         | 8         | 7         | 6         | 5         | 4         | 3         | 2           | 1           | 0         |
| R      | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | Reserv ed | CSPD _EV... | CSPD _EV... | HVCP OREF |
| W      | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C       | W1C         | W1C         | W1C       |
| Reset  | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u         | u           | u           | u         |

## Fields

| Field   | Function   |
|---------|------------|
| 31 -    | Reserved   |
| 30 -    | Reserved   |
| 29 -    | Reserved   |
| 28 -    | Reserved   |
| 27 -    | Reserved   |
| 26 -    | Reserved   |
| 25 -    | Reserved   |
| 24 -    | Reserved   |
| 23 -    | Reserved   |
| 22 -    | Reserved   |
| 21 -    | Reserved   |
| 20 -    | Reserved   |
| 19 -    | Reserved   |
| 18 -    | Reserved   |
| 17      | Reserved   |

Table continues on the next page...

## Table continued from the previous page...

| Field   | Function   |
|---------|------------|
| -       |            |
| 16 -    | Reserved   |
| 15 -    | Reserved   |
| 14 -    | Reserved   |
| 13 -    | Reserved   |
| 12 -    | Reserved   |
| 11 -    | Reserved   |
| 10 -    | Reserved   |
| 9 -     | Reserved   |
| 8 -     | Reserved   |
| 7 -     | Reserved   |
| 6 -     | Reserved   |
| 5 -     | Reserved   |
| 4 -     | Reserved   |
| 3 -     | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field                  | Function                                                                                                                                                                       |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2 CSPD_EVENT_ CAPTURE1 | CSPD1 event flag Captures the CSPD1 status. 0b - No CSPD1 error condition detected after last clearing of this field. 1b - CSPD1 error condition detected.                     |
| 1 CSPD_EVENT_ CAPTURE0 | CSPD0 event flag Captures the CSPD0 status. 0b - No CSPD0 error condition detected after last clearing of this field. 1b - CSPD0 error condition detected.                     |
| 0 HVCPOREF             | PMC supply CSPD event flag Captures the status of the PMC supply CSPD. 0b - PMC Supply did not cross the lower voltage limit 1b - PMC Supply was below the lower voltage limit |

## 34.3.2.6 NCSPD Event Flag (NCSPDEF) (NCSPD\_EVENT\_CAPTURE)

## Offset

| Register             | Offset   |
|----------------------|----------|
| NCSPD_EVENT_CAPTU RE | 14h      |

## Function

Captures an NCSPD n error if it was enabled by writing one to NCSPD\_CTL[NCSPD\_CTL n ]. These fields are unaffected by any reset.

## Diagram

<!-- image -->

| Bits   | 31          | 30          | 29          | 28          | 27          | 26          | 25          | 24          | 23          | 22          | 21          | 20          | 19          | 18          | 17          | 16          |
|--------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|-------------|
| R      | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | Reserv ed   | Reserv ed   | Reserv ed   | Reserv ed   | NCSP D_E... | NCSP D_E... | NCSP D_E... | Reserv ed   | Reserv ed   | NCSP D_E... | NCSP D_E... | Reserv ed   |
| W      | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         |
| Reset  | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           |
| Bits   | 15          | 14          | 13          | 12          | 11          | 10          | 9           | 8           | 7           | 6           | 5           | 4           | 3           | 2           | 1           | 0           |
| R      | Reserv ed   | Reserv ed   | Reserv ed   | Reserv ed   | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... | NCSP D_E... |
| W      | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         | W1C         |
| Reset  | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           | u           |

## Fields

| Field                     | Function                                                                                                                                                                   |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 NCSPD_EVEN T_CAPTURE31 | NCSPD31 event flag Captures an NCSPD31 error condition. 0b - No NCSPD31 error condition occurred after last clearing of this field. 1b - NCSPD31 error condition occurred. |
| 30 NCSPD_EVEN T_CAPTURE30 | NCSPD30 event flag Captures an NCSPD30 error condition. 0b - No NCSPD30 error condition occurred after last clearing of this field. 1b - NCSPD30 error condition occurred. |
| 29 NCSPD_EVEN T_CAPTURE29 | NCSPD29 event flag Captures an NCSPD29 error condition. 0b - No NCSPD29 error condition occurred after last clearing of this field. 1b - NCSPD29 error condition occurred. |
| 28 NCSPD_EVEN T_CAPTURE28 | NCSPD28 event flag Captures an NCSPD28 error condition. 0b - No NCSPD28 error condition occurred after last clearing of this field. 1b - NCSPD28 error condition occurred. |
| 27 -                      | Reserved                                                                                                                                                                   |
| 26 -                      | Reserved                                                                                                                                                                   |
| 25 -                      | Reserved                                                                                                                                                                   |
| 24 -                      | Reserved                                                                                                                                                                   |
| 23 NCSPD_EVEN T_CAPTURE23 | NCSPD23 event flag Captures an NCSPD23 error condition. 0b - No NCSPD23 error condition occurred after last clearing of this field. 1b - NCSPD23 error condition occurred. |
| 22 NCSPD_EVEN T_CAPTURE22 | NCSPD22 event flag Captures an NCSPD22 error condition.                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field                     | Function                                                                                                                                                                   |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                           | 0b - No NCSPD22 error condition occurred after last clearing of this field. 1b - NCSPD22 error condition occurred.                                                         |
| 21 NCSPD_EVEN T_CAPTURE21 | NCSPD21 event flag Captures an NCSPD21 error condition. 0b - No NCSPD21 error condition occurred after last clearing of this field. 1b - NCSPD21 error condition occurred. |
| 20 -                      | Reserved                                                                                                                                                                   |
| 19 -                      | Reserved                                                                                                                                                                   |
| 18 NCSPD_EVEN T_CAPTURE18 | NCSPD18 event flag Captures an NCSPD18 error condition. 0b - No NCSPD18 error condition occurred after last clearing of this field. 1b - NCSPD18 error condition occurred. |
| 17 NCSPD_EVEN T_CAPTURE17 | NCSPD17 event flag Captures an NCSPD17 error condition. 0b - No NCSPD17 error condition occurred after last clearing of this field. 1b - NCSPD17 error condition occurred. |
| 16 -                      | Reserved                                                                                                                                                                   |
| 15 -                      | Reserved                                                                                                                                                                   |
| 14 -                      | Reserved                                                                                                                                                                   |
| 13 -                      | Reserved                                                                                                                                                                   |
| 12 -                      | Reserved                                                                                                                                                                   |
| 11                        | NCSPD11 event flag Captures an NCSPD11 error condition.                                                                                                                    |

Table continues on the next page...

## Table continued from the previous page...

| Field                     | Function                                                                                                                                                                   |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCSPD_EVEN T_CAPTURE11    | 0b - No NCSPD11 error condition occurred after last clearing of this field. 1b - NCSPD11 error condition occurred.                                                         |
| 10 NCSPD_EVEN T_CAPTURE10 | NCSPD10 event flag Captures an NCSPD10 error condition. 0b - No NCSPD10 error condition occurred after last clearing of this field. 1b - NCSPD10 error condition occurred. |
| 9 NCSPD_EVEN T_CAPTURE9   | NCSPD9 event flag Captures an NCSPD9 error condition. 0b - No NCSPD9 error condition occurred after last clearing of this field. 1b - NCSPD9 error condition occurred.     |
| 8 NCSPD_EVEN T_CAPTURE8   | NCSPD8 event flag Captures an NCSPD8 error condition. 0b - No NCSPD8 error condition occurred after last clearing of this field. 1b - NCSPD8 error condition occurred.     |
| 7 NCSPD_EVEN T_CAPTURE7   | NCSPD7 event flag Captures an NCSPD7 error condition. 0b - No NCSPD7 error condition occurred after last clearing of this field. 1b - NCSPD7 error condition occurred.     |
| 6 NCSPD_EVEN T_CAPTURE6   | NCSPD6 event flag Captures an NCSPD6 error condition. 0b - No NCSPD6 error condition occurred after last clearing of this field. 1b - NCSPD6 error condition occurred.     |
| 5 NCSPD_EVEN T_CAPTURE5   | NCSPD5 event flag Captures an NCSPD5 error condition. 0b - No NCSPD5 error condition occurred after last clearing of this field. 1b - NCSPD5 error condition occurred.     |
| 4 NCSPD_EVEN T_CAPTURE4   | NCSPD4 event flag Captures an NCSPD4 error condition. 0b - No NCSPD4 error condition occurred after last clearing of this field. 1b - NCSPD4 error condition occurred.     |
| 3                         | NCSPD3 event flag                                                                                                                                                          |

Table continues on the next page...

## Table continued from the previous page...

| Field                   | Function                                                                                                                                                               |
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NCSPD_EVEN T_CAPTURE3   | Captures an NCSPD3 error condition. 0b - No NCSPD3 error condition occurred after last clearing of this field. 1b - NCSPD3 error condition occurred.                   |
| 2 NCSPD_EVEN T_CAPTURE2 | NCSPD2 event flag Captures an NCSPD2 error condition. 0b - No NCSPD2 error condition occurred after last clearing of this field. 1b - NCSPD2 error condition occurred. |
| 1 NCSPD_EVEN T_CAPTURE1 | NCSPD1 event flag Captures an NCSPD1 error condition. 0b - No NCSPD1 error condition occurred after last clearing of this field. 1b - NCSPD1 error condition occurred. |
| 0 NCSPD_EVEN T_CAPTURE0 | NCSPD0 event flag Captures an NCSPD0 error condition. 0b - No NCSPD0 error condition occurred after last clearing of this field. 1b - NCSPD0 error condition occurred. |

## 34.3.2.7 Device Status Flag (DSF0) (POR\_WDOG\_EVENT\_CAPTURE0)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| POR_WDOG_EVENT_C APTURE0 | 1Ch      |

## Function

These fields capture the status of the device just before a POR\_WDOG timeout.

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 |
| W      | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 | DSFBIT0 |
| W      | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

## Fields

| Field        | Function                                                                                                                                                                     |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 DSFBIT0 | See the "Chip-specific PMC information" at the beginning of this chapter for the mapping between these fields and the "Device status" signals of the chip (see Figure 199 ). |

## 34.3.2.8 Device Status Flag (DSF1) (POR\_WDOG\_EVENT\_CAPTURE1)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| POR_WDOG_EVENT_C APTURE1 | 20h      |

## Function

These fields capture the status of the device just before a POR\_WDOG timeout.

## Diagram

<!-- image -->

| Bits   | 31      | 30      | 29      | 28      | 27      | 26      | 25      | 24      | 23      | 22      | 21      | 20      | 19      | 18      | 17      | 16      |
|--------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|---------|
| R      | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 |
| W      | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |
| Bits   | 15      | 14      | 13      | 12      | 11      | 10      | 9       | 8       | 7       | 6       | 5       | 4       | 3       | 2       | 1       | 0       |
| R      | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 | DSFBIT1 |
| W      | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     | W1C     |
| Reset  | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       | 0       |

Power Management Controller (PMC)

## Fields

| Field        | Function                                                                                                                                                                     |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 DSFBIT1 | See the "Chip-specific PMC information" at the beginning of this chapter for the mapping between these fields and the "Device status" signals of the chip (see Figure 199 ). |

## 34.3.2.9 Device Status Flag (DSF2) (POR\_WDOG\_EVENT\_CAPTURE2)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| POR_WDOG_EVENT_C APTURE2 | 24h      |

## Function

These fields capture the status of the device just before a POR\_WDOG timeout.

## Diagram

<!-- image -->

## Fields

| Field        | Function                                                                                                                                                                     |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-0 DSFBIT2 | See the "Chip-specific PMC information" at the beginning of this chapter for the mapping between these fields and the "Device status" signals of the chip (see Figure 199 ). |

## 34.4 Functional description

## 34.4.1 Reset

Different kinds of digital logic exist in the PMC reset scheme. Table 202 defines which function asynchronous controls a PMC function.

Table 202. Reset schemes

| Asynchronous source                           | Function impacted                                                                                                                                                                         | Explanation                                                                                                                                                               |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| POR_B or core supply CSPD (CSPDEF[HVCPOREF ]) | The entire PMC except for the event flag registers (CSPDEF, NCSPDEF). CSPD and NCSPD signals set CSPDEF and NCPDEF asynchronously. SSR[CSPD_EVENT] equals zero only when CSPDEF is clear. | Reset the logic by power cycling. All other reset sources are active together with or activated by this reset (CSPD and NCSPD signals may not be active with this reset). |
| Module reset                                  | NCSPD_CTL NCSPD_STAT                                                                                                                                                                      | Reset these registers with the module reset.                                                                                                                              |
| Events on CSPD or NCSPD signal inputs         | NCSPDEF CSPDEF SSR[CSPD_EVENT] equals 1                                                                                                                                                   | Set the registers asynchronously. Clear the registers by writing a one to each field.                                                                                     |
| POR_WDOG event                                | POR_WDOG                                                                                                                                                                                  | Reset the POR_WDOG state machine when a POR_WDOG event occurs. The DSF registers are unaffected by a POR_WDOG event.                                                      |

## 34.4.2 Event flag registers

As described in POR and NCSPD event generation, the logical combination of signals from different sources generates the POR and the NCSPD events. Read Source of System Reset (SSR), CSPD Event Capture (CSPDEF) (CSPD\_EVENT\_CAPTURE), and NCSPD Event Flag (NCSPDEF) (NCSPD\_EVENT\_CAPTURE) to identify which of the sources activated the event. When an event occurs due to any CSPD signal or any enabled NCSPD signal, the corresponding field in the register equals one until software writes a one.

## 34.4.3 POR watchdog

The purpose of the POR watchdog (POR\_WDOG) is to detect when the system is in its reset state for too long. In this case, the POR\_WDOG triggers a full reset of the system. Hence, the POR\_WDOG is one of the sources that create the POR event.

The POR\_WDOG is a simple counter. This counter starts immediately when its supply is available and the clock signal is active. It is stopped by the system, e.g. when the system transitions from Reset mode into Functional mode. In case the counter is not stopped and it exceeds its non-configurable limit (overall delay depends on the source of the free-running clock, see system description for details), the POR\_WDOG triggers the POR event.

One clock cycle before the counter exceeds its limit ("Expired-1" sets as shown in Figure 199), the device status inputs are captured inside Device Status Flag (DSF0) (POR\_WDOG\_EVENT\_CAPTURE0), Device Status Flag (DSF1) (POR\_WDOG\_EVENT\_CAPTURE1), and POR\_WDOG\_EVENT\_CAPTURE2 registers. This provides some debug capabilities showing why the POR\_WDOG counter did not stop in time. Those registers are not reset when the POR\_WDOG counter expires.

Power Management Controller (PMC)

## Chapter 35 SRAM Controller (SRAMC)

## 35.1 Chip-specific SRAMC information

## 35.1.1 Standby SRAM

The device contains a 32 KB SRAM, called the Standby SRAM. This SRAM is separate from the system SRAM and is powered by the STANDBY power domain. This means it will retain its contents through standby entry and exit unlike the system SRAM. The Standby SRAM is located at the address 0x2400\_0000. The RAM is controlled by a single SRAM controller, this is simply another instance of the system ocp2sram controller, but dedicated to the 32KB standby SRAM. The SRAM controller supports ECC protection (single bit correction, double bit detection). Single bit errors are automatically corrected. Double bit errors will cause an FCCU fault to assert. The number of single bit errors that have occurred are counted and are readable in the ERM\_STDBY module (a functional reset will clear the count). See the ERM section of the spec for details on that module, the ERM\_STDBY base address is 0x4404\_7000. Note that the SRAM controller is NOT located in the standby power domain (only the memory array itself is in the STANDBY domain), and thus the controller will not retain it's state during standby mode. The Standby RAM controller's configuration registers are at base address 0x4402\_8000.

## 35.1.2 System RAM and Cortex-M7 implementation

S32G2x4 contains a 8 MB SRAM and three Cortex-M7 cores. Each Cortex-M7 can address the whole available SRAM. The optimum Cortex-M7 to SRAM latency can be achieved by following the table given below.

The SRAM access latency will increase by approx. 20% for a non-optimal access (e.g. Cortex-M7\_0 accessing MEM\_NOC\_1 or Cortex-M7\_1/2 accessing MEM\_NOC\_0). The additional latency only occurs on an SRAM access - any cached accesses are not impacted. So the actual overall performance impact will be far less than the latency impact stated.

Table 203. S32G2x4: Address range of SRAM modules

| Cortex-M7 core   | Lowest latency SRAM modules (4 MB SRAM region)   | SRAM address range      |
|------------------|--------------------------------------------------|-------------------------|
| Cortex-M7_0      | SRAM 0/1/2/3/4/5/6/7                             | 0x3400_0000-0x343F_FFFF |
| Cortex-M7_1      | SRAM 8/9/10/11/12/13/14/15                       | 0x3440_0000-0x347F_FFFF |
| Cortex-M7_2      | SRAM 8/9/10/11/12/13/14/15                       | 0x3440_0000-0x347F_FFFF |

<!-- image -->

S32G233A contains a 6 MB SRAM and one Cortex-M7 core. The Cortex-M7 can address the whole available SRAM. The optimum Cortex-M7 to SRAM latency can be achieved by following the table given below.

Table 204. S32G233A: Address range of SRAM modules

| Cortex-M7 core   | Lowest latency SRAM modules (4 MB SRAM region)   | SRAM address range      |
|------------------|--------------------------------------------------|-------------------------|
| Cortex-M7_0      | SRAM 0/1/2/3/4/5/6/7                             | 0x3400_0000-0x343F_FFFF |

<!-- image -->

## 35.1.3 SRAMC registers

Here are some important notes about the SRAMC registers. For detailed register descriptions, see the SRAMC register descriptions section.

- The SRAMC register map is not accessible in User Mode.
- Always configure the registers PRAMIAS and PRAMIAE for the selected memory ranges prior to utilization of the initialization feature.

## 35.1.4 Initialization

The SRAMC can initialize all the RAM banks of all channels that the SRAMC controls. To initialize the banks:

- Program PRAMCR, PRAMIAS, and PRAMIAE registers

All RAM banks are written in parallel from the lowest address entry to the highest. When the process is complete, a set of status signals is written in PRAMSR. This register's fields reflect the status information. The information should be sufficient to determine:

- If the RAM has been initialized successfully
- If the RAM initialization has failed

<!-- image -->

Perform the following procedure to initialize the RAM banks:

1. Determine the bus address range to be initialized, and compute the equivalent range in the local memory address. This must identify the lower and upper bound addresses in local memory to set up PRAMIAS and PRAMIAE.

## NOTE

The step size for SRAM memory initialization is 128 bytes. But these 128 bytes are not over contiguous memory region as per the memory's interleaving architecture. For contiguous initialization of the memory, initialization steps in multiples of 4 are recommended. Hence, the bus address range for initialization must be specified in multiples of 512 bytes with the starting address aligned to this size.

2. Write the lower bound local memory address to PRAMIAS[IAS].
3. Write the upper bound local memory address to PRAMIAE[IAE].
4. Start initialization by writing 1 to PRAMCR[INITREQ].

## 35.1.4.1 Initialization sequence examples

For initialization in an interleaving system, you must consider the array architecture in order to properly initialize the desired memory ranges. This requires the correct mapping between the bus address range to be initialized (bus\_addr) and the local memory address (mem\_addr). Here are a few examples:

## 35.1.4.1.1 Example 1: Configuration of an 8-way, 64-byte interleaving system, 128-bit data (16 memory banks)

1. Considering the bus address range to be initialized is the first 512 bytes starting at 3400\_0000h (that is, 3400\_0000h to 3400\_01FFh), compute the equivalent range (lower and upper bound addresses) in local memory by using the following equation:

mem\_addr[16:0] = {bus\_addr[23:9],bus\_addr[5:4]}]; where bus\_addr[8:7] identifies the memory banks.

Calculation result:

Lower bound: for bus address 3400\_0000h, local memory address = 0h

Upper bound: for bus address 3400\_01FFh, local memory address = 3h

2. Write the lower bound local memory address to PRAMIAS[IAS].
3. Write the upper bound local memory address to PRAMIAE[IAE].
4. Start initialization by writing 1 to PRAMCR[INITREQ].

The software configured with this sequence writes to each of the addresses from 0h to 3h of all the 16 RAM banks. That is, the software writes four times to each of the 16 banks, thus initializing 512 bytes from 3400\_0000h to 3400\_01FFh.

This example is illustrated in the following figure:

<!-- image -->

SRAM Controller (SRAMC)

## 35.1.4.1.2 Example 3: Configuration of an 8-way, 64-byte interleaving system, 128-bit data (16 memory banks)

1. Considering the bus address range to be initialized is from 3400\_0200h to 3400\_07FFh (which is 3  512 bytes), compute the equivalent range (lower and upper bound addresses) in local memory by using the following equation:

mem\_addr[16:0] = {bus\_addr[23:9],bus\_addr[5:4]}]; where bus\_addr[8:7] identifies the memory banks.

Calculation result:

Lower bound: for bus address 3400\_0200h, local memory address = 4h

Upper bound: for bus address 3400\_07FFh, local memory address = Fh

2. Write the lower bound local memory address to PRAMIAS[IAS].
3. Write the upper bound local memory address to PRAMIAE[IAE].
4. Start initialization by writing 1 to PRAMCR[INITREQ].

The software configured with this sequence writes to each of the addresses from 4h to Fh of all the 16 RAM banks. That is, the software writes four times to each of the 16 banks, thus initializing the addresses from 3400\_0200h to 3400\_07FFh.

## 35.2 Introduction

## 35.2.1 Overview

The SRAMC acts as an interface between the bus request from an interconnect fabric and the integrated system RAM. It converts the protocols between the bus and the dedicated RAM array interface. The primary bus request port provides a connection to the platform module interconnect for direct RAM access from various masters. It uses a simple non-blocking interface, with a pipeline of multiple outstanding transactions, to maximize the bandwidth utilization.

A device can use a single channel or multiple identical channels. Each channel supports one pipeline. The concept is to create a block of SRAM arrays with a channel that can be distributed in the floorplan in an optimal way for each device. This model provides a way to arrange the accesses in an interleaving fashion on a certain address boundary-such as a cache line-so that a line fill or write back occupies only one channel at a time, freeing other channels to respond to other requests.

A global programming model provides centralized control and status, including the initialization setup and error reports, via a common set of memory-mapped registers for all channels.

The following figure shows the block diagram for SRAMC.

<!-- image -->

## 35.2.2 Features

For the RAM size and configuration implemented in this device, see the chip-specific SRAMC information.

Key features of SRAMC include:

- Each channel supports:
- Single-beat transactions
- Normal reads
- Posted writes
- Multiple outstanding transactions
- Each channel has low access latency for normal reads and posted writes:
- 4-stage pipeline and a one-transaction late write buffer allowing up to four outstanding transactions
- 3-cycle response for reads
- 1-cycle response for 64-bit and 128-bit aligned writes
- 3-cycle response for partial writes with read-modify-write operation for each 64-bit data

SRAM Controller (SRAMC)

- SRAM data is covered by 8-bit ECC on a 64-bit basis using the H-matrix that includes address in the syndrome calculation, which enables single-error correction, double-error detection (SECDED).
- A global IPS interface to 4 K space of memory-mapped control and status registers for all channels
- Support for initialization of the SRAM arrays to a valid ECC state for each entry:
- Initialization can be triggered by software
- Initialization sequence with optional wait states, which can be used to limit power surge
- SRAM arrays are initialized in parallel
- Software programmable portion of the SRAM for initialization
- Support for an option to block access and suppress any error indicator for that access
- Error injection on memory read data
- For memory built-in self-tests (MBISTs) executed by an external MBIST module: monitoring to detect a collision between MBIST operation and normal RAM accesses or initialization if they target the same memory cuts

## 35.2.3 Modes of operation

The current controller only supports normal running mode. It allows MBIST to run concurrently with the normal accesses.

## 35.3 SRAMC register descriptions

The memory-mapped registers of SRAMC are in an address space of 4 KB and are accessible in Supervisor mode with granularity of word size. Any read or write access to the addresses in the SRAMC memory space not satisfying the above leads to transfer errors. These registers are shared by all SRAMC instances.

## 35.3.1 SRAMC memory map

SRAMC base address: 4019\_C000h

SRAMC\_1 base address: 401A\_0000h

STDBY\_SRAM\_CFG base address: 4402\_8000h

| Offset   | Register                                                     |   Width (In bits) | Access   | Reset value   |
|----------|--------------------------------------------------------------|-------------------|----------|---------------|
| 0h       | Platform RAM Control Register (PRAMCR)                       |                32 | RW       | 0000_0000h    |
| 4h       | Platform RAM Initialization Address Register Start (PRAMIAS) |                32 | RW       | 0000_0000h    |
| 8h       | Platform RAM Initialization Address Register End (PRAMIAE)   |                32 | RW       | 0001_FFFFh    |
| Ch       | Platform RAM Status Register (PRAMSR)                        |                32 | RW       | 0000_0000h    |
| 10h      | Platform RAM ECC Address (PRAMECCA)                          |                32 | R        | 0000_0000h    |

## 35.3.2 Platform RAM Control Register (PRAMCR)

## Offset

| Register   | Offset   |
|------------|----------|
| PRAMCR     | 0h       |

## Function

Use this register to request an initialization and specify the number of wait cycles for each memory write during the initialization.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16     |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|--------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |        |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0      |
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |      |      | INITRE |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      | IWS  | IWS  | Q      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      |

## Fields

| Field     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-3 -    | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 2-1 IWS   | Initialization Wait Cycles Write to this field to specify the number of wait cycles for each memory write during the initialization. The default value of 0b00 enables back to back writes with no idle cycle in between. This feature can be used to reduce power due to several SRAM banks being written to in the same cycle. 00b - No wait cycles between memory writes 01b - One wait cycle between memory writes 10b - Two wait cycles between memory writes 11b - Three wait cycles between memory writes                                                                                                 |
| 0 INITREQ | Initialization Request Write 1 to this field to request an initialization of the SRAM for the range specified in the PRAMIAS and PRAMIAE registers. Each time this field is written with a 1, it causes one initialization. To start another initialization, clear the field first before writing 1 to start a new initialization. Hardware clears this bit if the status bit for initialization done (PRAMSR[IDONE]) is cleared by the software. If software writes 0 to this bit prior to completion, the initialization is aborted. 0b - No initialization is requested. 1b - An initialization is requested. |

SRAM Controller (SRAMC)

## 35.3.3 Platform RAM Initialization Address Register Start (PRAMIAS)

## Offset

| Register   | Offset   |
|------------|----------|
| PRAMIAS    | 4h       |

## Function

Use this register to specify the start address for initialization.

## Diagram

<!-- image -->

| Bits    | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|---------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R       | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | IAS  |
| W       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | IAS  |
| Reset   | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
| Bits    | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R       |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W Reset | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field   | Function                                                                                                                   |
|---------|----------------------------------------------------------------------------------------------------------------------------|
| 31-17   | Reserved                                                                                                                   |
| 16-0    | Initialization Start Address                                                                                               |
| IAS     | Specify the RAM start address for initialization in this field. The address is of the RAM address and not the bus address. |

## 35.3.4 Platform RAM Initialization Address Register End (PRAMIAE)

## Offset

| Register   | Offset   |
|------------|----------|
| PRAMIAE    | 8h       |

## Function

Use this register to specify the end address for initialization. The value of the end address must be greater than that of the start address.

SRAM Controller (SRAMC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23   | 22   | 21   | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | IAE  |
| W      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      | IAE  |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 1    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7    | 6    | 5    | 4    | 3    | 2    | 1    | 0    |
| R      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |      |
| W      | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  | IAE  |
| Reset  | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |

## Fields

| Field    | Function                                                                                                                                                                                                                                             |
|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-17 -  | Reserved                                                                                                                                                                                                                                             |
| 16-0 IAE | Initialization End Address Specify the RAM end address for initialization in this field. The address is of the RAM address and not the bus address. The end address specified here must be greater than the start address specified in PRAMIAS[IAS]. |

## 35.3.5 Platform RAM Status Register (PRAMSR)

## Offset

| Register   | Offset   |
|------------|----------|
| PRAMSR     | Ch       |

## Function

PRAMSR is a global status register that reports the initialization progress as well as different ECC error types for the whole SRAM system.

SRAM Controller (SRAMC)

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24   | 23      | 22      | 21   | 20   | 19   | 18    | 17   | 16    |
|--------|------|------|------|------|------|------|------|------|---------|---------|------|------|------|-------|------|-------|
| R      | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0       | 0       | 0    | 0    | 0    | 0     | 0    | 0     |
| W      |      |      |      |      |      |      |      |      |         |         |      |      |      |       |      |       |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0       | 0       | 0    | 0    | 0    | 0     | 0    | 0     |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8    | 7       | 6       | 5    | 4    | 3    | 2     | 1    | 0     |
| R      | SYND | SYND | SYND | SYND | SYND | SYND | SYND | SYND | SGLE RR | MLTE RR | AERR | AEXT | 0    | IPEND | IERR | IDONE |
| W      |      |      |      |      |      |      |      |      | W1C     | W1C     | W1C  |      |      |       | W1C  | W1C   |
| Reset  | 0    | 0    | 0    | 0 0  |      | 0    | 0    | 0    | 0       | 0       | 0    | 0    | 0    | 0     | 0    | 0     |

## Fields

| Field     | Function                                                                                                                                                                                                                                     |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-16 -   | Reserved                                                                                                                                                                                                                                     |
| 15-8 SYND | ECC Syndrome Value This field is associated with the ECCerror in the error fields. After an error is set, this field does not change. The chip updates it with a new value after all the errors are cleared by the software.                 |
| 7 SGLERR  | ECC Single-bit Error Indicates if a single-bit error occurred on a previous access 0b - No single-bit error 1b - A single-bit error                                                                                                          |
| 6 MLTERR  | ECC Multi-bit Error Indicates if a multi-bit error occurred on a pervious access 0b - No multi-bit error 1b - A multi-bit error                                                                                                              |
| 5 AERR    | ECC Address Error Indicates an address error on a previous access 0b - No address error 1b - An address error                                                                                                                                |
| 4 AEXT    | Indicates whether address bits used in the ECC HMatrix were from external or local RAM address 0b - Address bits used in the ECC HMatrix were the local RAM address 1b - Address bits used in the ECC HMatrix were from external RAM address |
| 3         | Reserved                                                                                                                                                                                                                                     |

Table continues on the next page...

SRAM Controller (SRAMC)

## Table continued from the previous page...

| Field   | Function                                                                                                                                                                                                                                                                                                          |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -       |                                                                                                                                                                                                                                                                                                                   |
| 2 IPEND | Initialization Progress Status Indicates whether initialization is in progress The software should not try to clear this bit for it will get undefined behavior. To abort the initialization, it should write to the PRAMCR[INITREQ]. 0b - Initialization is not in progress. 1b - Initialization is in progress. |
| 1 IERR  | Initialization Error Indicates whether an error that is not of an ECC error type occurred during initialization or MBIST sequence, or an access outside of the valid range 0b - No non-ECC error occurred on a previous access 1b - A non-ECC error occurred on a previous access                                 |
| 0 IDONE | Initialization Done Indicates whether initialization is complete 0b - Initialization is not complete. 1b - Initialization completed successfully.                                                                                                                                                                 |

## 35.3.6 Platform RAM ECC Address (PRAMECCA)

## Offset

| Register   | Offset   |
|------------|----------|
| PRAMECCA   | 10h      |

## Function

Address associated with an ECC error during initialization. This is a read-only register, and any write to this register leads to transfer error.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28   | 27   | 26   | 25   | 24     | 23     | 22     | 21     | 20   | 19   | 18   | 17   | 16   |
|--------|------|------|------|------|------|------|------|--------|--------|--------|--------|------|------|------|------|------|
| R      |      |      |      | 0    |      |      |      | CTRLID | CTRLID | CTRLID | CTRLID | EBNK | 0    | 0    | 0    | EADR |
| W      |      |      |      |      |      |      |      |        |        |        |        |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0    |
| Bits   | 15   | 14   | 13   | 12   | 11   | 10   | 9    | 8      | 7      | 6      | 5      | 4    | 3    | 2    | 1    | 0    |
| R      | EADR | EADR | EADR | EADR | EADR | EADR | EADR | EADR   | EADR   | EADR   | EADR   | EADR | EADR | EADR | EADR | EADR |
| W      |      |      |      |      |      |      |      |        |        |        |        |      |      |      |      |      |
| Reset  | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0      | 0      | 0      | 0      | 0    | 0    | 0    | 0    | 0    |

## Fields

| Field        | Function                                                                                                                                                                                                                                                                            |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-25 -      | Reserved                                                                                                                                                                                                                                                                            |
| 24-21 CTRLID | Indicates the controller ID of the reported error. 0000b - The RAM with the error is in controller 0. ... 1111b - The RAM with the error is in controller 15.                                                                                                                       |
| 20 EBNK      | Indicates the RAM bank that has the ECC error indicated in the error fields 0b - Bank 0 has the error 1b - Bank 1 has the error                                                                                                                                                     |
| 19-17 -      | Reserved                                                                                                                                                                                                                                                                            |
| 16-0 EADR    | The chip writes to report ECC address associated with the error indicated in the error field in PRAMSR. After an error is set, this field does not change. Chip only updates it with a new value if all the errors in the status register PRAMSR have been cleared by the software. |

## 35.4 Functional description

This information describes the functionality of each SRAMC channel.

## 35.4.1 Error report

When an ECC error occurs, the SRAMC reports the following: address-bit error and multi-bit error or single-bit error as well as the syndrome bus and the location of the RAM bank. Note that multi-bit error is loosely defined, which is an uncorrectable error including the address-bit error. The information is captured by the PRAMSR register, and a set of error signals are sent as module outputs.

The hardware does not change the error report until the software invalidates it. In case of a new error occurring while the current report for the previous error is still valid, a new report replaces the current report only if the current report is a single-bit error. Address-bit error and multi-bit error in the current report block subsequent errors from being reported.

SRAM Controller (SRAMC)

SRAM Controller (SRAMC)

There will be a single report for each error cycle for all the channel instances. Because only one location is reported, in case of multiple errors, it must select one over the others. The selection is based on the following priority:

1. It looks to see which channel has a highest priority error:
- a. Uncorrectable ECC error: This error type includes address-bit error or double-bit error. This error is not correctable, and is given the highest priority.
- b. Single-bit error: This error has the lowest priority.
2. If multiple channels have the same error types, the priority shifts from channels with lower ID to higher ID values. For a system having 16 channels, channel #0 has the highest priority whereas channel #15 has the lowest priority.
3. Within the selected channel, it selects one of the two RAM banks. If both RAM banks have errors at the same time, the bank with a higher priority error type is selected for reporting. In case of both banks having the same type of error, bank0, which holds lower doubleword (MData[63:0]), is selected for reporting.

The address that is reported is the local RAM address, along with the RAM bank. The information is captured in the PRAMECCA register.

## 35.5 Safety considerations

## 35.5.1 ECC algorithm

The ECC scheme implements a SECDED coding using the Hsiao odd-weight column criteria to produce 8-bit ECC checkbits for each SRAM banks:

- 64-bit Data: Bus\_Data[63:0] for SRAM bank0
- 29-bit Address of the local SRAM address [16:0] unless specified by chip-specific SRAMC section.

## Table 205. ECC HMATRIX

Table continues on the next page...

<!-- image -->

| C   |
|-----|

Table 205. ECC HMATRIX (continued)

<!-- image -->

| C Byte   | 2   | 2   | 2   | 2   | 2   | 2   |
|----------|-----|-----|-----|-----|-----|-----|

## 35.5.2 Safety logic

Safety logic was implemented to detect a fault in the pipeline and the Late write buffer.

SRAM Controller (SRAMC)

- Check the integrity of the address and attributes being transported from the first stage of the pipeline to the last stage. A set of 8-bit parity signals is used, which include address and byte strobes and pipeline hit signals.
- Check the integrity of the write data being transported from the first stage to the Late write buffer. Sixteen 8-bit parity signals are used to cover two 64-bit data.
- Keep track of the write request from the bus and monitor request from the Late write buffer to the RAM arrays. Detect any missing or any extra write to the RAM.

## 35.6 Initialization

See the 'chip-specific SRAMC information' section in this chapter for the initialization sequence and its examples.

## Chapter 36 DDR Subsystem

## 36.1 Chip-specific DDR subsystem information

## 36.1.1 Feature configuration

The DDR subsystem on this chip implements DDR3L. Any references to "DDR3" in this document should be interpreted as "DDR3L."

The DDR subsystem on this chip does not implement DDR4. Disregard its references in this document.

## 36.1.2 Mapping of AXI ports and masters

## Table 206. Mapping of AXI ports and masters

| Port   | Master                                                                                                                |
|--------|-----------------------------------------------------------------------------------------------------------------------|
| AXI_0  | All the noncore masters with noncoherent access and HSE_H, having a data width of 128 bits                            |
| AXI_1  | All the noncore masters with coherent access (routed via Ncore) and Cortex-A53 cores, having a data width of 128 bits |
| AXI_2  | All the Cortex-M7 cores (except HSE_H) and eDMA instances, having a data width of 64 bits                             |

## 36.1.3 Mapping of AXI ports and monitors

DDR Controller supports at most eight exclusive access monitors based on the selected configuration. The following table shows this limitation per AXI port at the NoC level.

## Table 207. Mapping of AXI ports and monitors

| Port   |   Number of monitors |
|--------|----------------------|
| AXI_0  |                    6 |
| AXI_1  |                    3 |
| AXI_2  |                    3 |

You must write 1 to PCFGR\_n[rdwr\_ordered\_en] when software coherency is required. For more information, see the "Software coherency for AXI ports" section in this chapter.

## 36.1.4 ECC and parity errors

All the DDR interrupts related to parity, ECC, or CRC errors are connected to FCCU.

## 36.1.5 Speculative access to DDR memory

Before you initialize DDR, speculative access to DDR memory can generate a fault or lead to unexpected behavior. Therefore, you must program the core to disable speculative access to this region.See https://www.developer.arm.com/documentation/ ddi0489/f/memory-system/speculative-accesses for details.

## 36.1.6 Limitations

## 36.1.6.1 AXI-urgent signals of DDR memory

AXI-urgent signals are disabled in this chip. Ignore any references to them or related content.

## 36.1.6.2 AXI poison registers

Following AXI poison registers are not supported by the chip. Ignore any references to them or related content.

- AXI Poison Configuration (POISONCFG)
- AXI Poison Status (POISONSTAT)

## 36.1.6.3 Hardware low power control and Temperature derate limit interrupt

Hardware low power control (HWLPCTL) and Temperature derate limit interrupt (DERATECTL) registers are not supported by the chip. Ignore any references to them or related content.

## 36.1.6.4 Performance monitor

Performance monitor is disabled in this chip. Ignore any references or related content.

## 36.1.7 Non-Binary aligned density support recommendations

Non Power aligned densities (like 24Gb, 12Gb) LPDDR4 /DDR3L DRAMs are not recommended to interface with S32G. NXP recommends to use binary aligned memory densities like 32Gb, 16Gb, 8Gb, 4Gb etc.

## 36.2 Overview

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

The DDR subsystem integrates several submodules to provide a complete memory interface solution for several highperformance memory types.

## 36.2.1 Supported DRAM types

The DDR subsystem supports the following DRAM types:

- DDR3L
- DDR4
- LPDDR4

## 36.2.2 Memory controller (MC)

MC performs the following functions:

- Accepts memory access requests from up to three slave application-side host ports connected to the MC through standard AMBA AXI4 bus interfaces (also know as AXI port interfaces or XPIs).
- Queues requested transactions internally and schedules them for access to the DRAM, satisfying the DRAM protocol timing requirements, transaction priorities, and dependencies between the transactions.
- Uses flexible address mapper logic to allow application-specific mapping of row, column, bank, bank group, and rank bits.

## 36.2.3 Physical interface (PHY)

The Physical Interface (PHY) launches and captures data to and from the external DRAM. It provides:

- Initialization
- DRAM interface training
- Delay line calibration and VT compensation
- Impedance calibration and VT compensation
- Programmable configuration controls

DDR Subsystem

## 36.3 Architecture

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

This section contains a system diagram of an example DDR subsystem application, with descriptions of the main architectural components.

## 36.3.1 Block diagram

The following diagram illustrates the DDR subsystem.

<!-- image -->

## 36.3.2 Parity block

Each application-side host port (AXI port) connects to the MC through a parity block. Each parity block contains three parity generators to generate one bit of parity either per word or per byte for the AXI write data, write addresses, and read addresses of the corresponding port. OCPARCFGn controls parity enabling and parity type for all three parity blocks.

The MC generates parity for the write data, write addresses, and read addresses of each of the three AXI ports.

## 36.3.3 Performance monitor

The performance monitor consists of counter logic driven by various MC performance logging signals.

## 36.3.3.1 Performance signals and counters

The performance monitor consists of multiple counters, which provides the monitoring capability on various DDR-Controller specific performance logging signals. The Performance monitoring mechanism provides the ability to calculate the "DDR Command controller" utilization wrt specific Events/Signals.

DDR Subsystem

A set of 4 x 32 bit counters are implemented. These counters are used to monitor the PERF signals specific to the performance log from the DDR-Controller based on defined connectivity within the DDR subsystem. A limited set of performance log signals are used based on CSV programming within these three 'counterN' Performance monitors.

## Functional highlights:

1. Counter0 is utilized to count the 'Total Time-Period' (based on counter overflow status) and when expired causes a lock on itself.
2. Counter0 start counting, if COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_EN] bit is set to '1' and COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_CLR] bit is disabled.
3. Counter0 &amp; COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_OFL] is cleared by setting the COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_CLR] = 0 (active low bit programming).
4. Counter0 stops counting, if COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_EN] bit is set to '0' and COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_CLR] bit is set to '1' (default: disabled state).

|   CNTR_EN |   CNTR_CLR | CNTR_OFL (Read Only)      | Result                                 |
|-----------|------------|---------------------------|----------------------------------------|
|         0 |          0 | -                         | Counter disable                        |
|         0 |          1 | -                         | Counter stops counting                 |
|         1 |          1 | Set to 1 when overflowing | Counter starts counting until overflow |
|         1 |          0 | Cleared to 0              | Counter cleared                        |

These counters (1/2/3) start counting the selected Events based on CSV programming.

5. CounterN does not stop counting when the counterN overflows.

## NOTE

Overflow flag will be reset on the receiving of the next subsequent event.

6. CounterN &amp; "COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_OFL]" flag bit is cleared by setting COUNTER\_0\_CTRL\_REG\_ADDR[CNTR\_CLR] = 0 (Active low)

## NOTE

These "counterN" can also start counting the selected Event (based on CSV settings) , if COUNTER\_N\_CTRL\_REG\_ADDR[CNTR\_CLR] bit is '1'. For example:

1. Writing CSV: Counter starts immediately, independent of Count\_PR=0x00, CNTR\_EN=0 , CNTR\_ CLR =1 (default: disabled state).
2. Writing CSV with 0: Counter stops.

Table 208. Function description of following Signals &amp; its dependency on CSV /CP programming

| Signals                                               | Description                                                                                            |
|-------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| Write address filled-level count Event (WAQ_WCOUNT_0) | Indicates the number of used positions in the Write address FIFO queue (total depth 8)                 |
| Write Transaction Pop Event (WAQ_POP_0)               | Indicates write Transaction pop event from the Write address FIFO after getting the arbitration grant. |
| Low-Priority free CAM slots Event (LPR_CREDIT_CNT)    | Indicates the number of available free low-priority read CAM (Content Addressable Memory) slots.       |

Table continues on the next page...

Table 208. Function description of following Signals &amp; its dependency on CSV /CP programming (continued)

| Signals                                               | Description                                                                                                                             |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| High-Priority free CAM slots Event (HPR_CREDIT_CNT)   | Indicates the number of available free high-priority read CAM (Content Addressable Memory) slots.                                       |
| Write free CAM slots Event (WR_CREDIT_CNT)            | Indicates the number of available free write CAM (Content Addressable Memory) slots.                                                    |
| Selfrefresh Status Event (stat_ddrc_reg_selfref_type) | Indicates the Self-refresh status and type  00 Not in self refresh  11 self-refresh by automatic means  10 caused by SW/HW interface |

## Programming dependency wrt "COUNTER\_N\_CTRL\_REG\_ADDR" registers:

| 31:24 CSV      | Count_value_select[7:0] Used to select which Performance Logs signal from DDR- Controller is to be applied for performance monitoring purpose.   |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------|
| 23:16 COUNT_PR | Count_parameter[7:0] Used to define a threshold level of Performance Log signal for capturing the count event by counterN.                       |

## For example:

1. Select CSV == 8'h09, Means monitoring the Time-period, when "Write address filled position count" value equate to specified threshold level as specified in CP register.
2. Select CSV == 8'h11, Means monitoring the Time-period, when " High-Priority free CAM slots" value equate to specified threshold level as specified in CP register.
3. Select CSV == 8'h00, Used to stop the 'counterN' increment.

## Programming options for CSV bits:

A limited set of performance log signals are used based on CSV programming within these performance monitors.

Table 209. Programming options for CSV bits

| CSV[7:0]   | Programming Impact                   | Functional aspects                                                                                            |
|------------|--------------------------------------|---------------------------------------------------------------------------------------------------------------|
| 8'h00      | No CounterN increment                | CounterN (1/2/3) will stop incrementing.                                                                      |
| 8'h01      | stat_ddrc_reg_selfref_type = CP[1:0] | Counts Time period, when ram is running in self_refresh mode                                                  |
| 8'h05      | WAQ_POP_0                            | Counts Write Transaction pop event from the Write address FIFO after getting the arbitration grant.           |
| 8'h09      | WAQ_WCOUNT_0[3:0] = CP[3:0]          | Counts Time period, when Write Queue depth is fixed number X (Number of used positions as defined by CP[3:0]) |

Table continues on the next page...

Table 209. Programming options for CSV bits (continued)

| CSV[7:0]   | Programming Impact            | Functional aspects                                                                                            |
|------------|-------------------------------|---------------------------------------------------------------------------------------------------------------|
| 8'h10      | LPR_CREDIT_CNT[6:0] = CP[6:0] | Counts Time period, when LP read cam has X entries (Number of available CAM free slots as defined by CP[6:0]) |
| 8'h11      | HPR_CREDIT_CNT[6:0] = CP[6:0] | Counts Time period, when HP read cam has X entries(Number of available CAM free slots as defined by CP[6:0])  |
| 8'h12      | WR_CREDIT_CNT[6:0] = CP[6:0]  | Counts Time period, when Write cam has X entries (Number of available CAM free slots as defined by CP[6:0])   |
| 8'h2X      | Group 0                       | Counts performance Events from Group0 as specified below.                                                     |
| 8'h3X      | Group 1                       | Counts performance Events from Group1 as specified below.                                                     |

These performance Events are divided into two groups as shown below:

Table 210. Group0 specific performance Events

| CSV[3:0]   | Selected performance Events   | Function Description                                                                                                                  |
|------------|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| 4'h0       | perf_hif_rd                   | Perf-Event asserts, when any Read command is issued towards DDR- Command Controller from HIF-Queue.                                   |
| 4'h1       | perf_hif_wr                   | Perf-Event asserts, when any Write command is issued towards DDR- Command Controller from HIF-Queue.                                  |
| 4'h2       | perf_hif_rmw                  | Perf-Event assert ,when read, modify, and write (rmw) command is issued towards DDR Command Controller.                               |
| 4'h3       | perf_hif_hi_pri_rd            | Perf-Event asserts ,when high-priority Read command (based on QoS Functionality) is issued towards DDR Command Controller.            |
| 4'h4       | perf_hpr_req_with_nocredit    | Perf-Event asserts when there is a High Priority Read (HPR) request (from AXI interface to PA) not served due to no available credit. |
| 4'h5       | perf_hpr_xact_when_critical   | Perf-Event asserts ,when High Priority Read transaction that is scheduled when the High Priority Queue is in Critical state           |
| 4'h6       | perf_lpr_req_with_nocredit    | Perf-Event asserts when there is a Low Priority Read (LPR) request (from XPI to PA) not served due to no available credit.            |

Table continues on the next page...

Table 210. Group0 specific performance Events (continued)

| CSV[3:0]   | Selected performance Events   | Function Description                                                                                                      |
|------------|-------------------------------|---------------------------------------------------------------------------------------------------------------------------|
| 4'h7       | perf_lpr_xact_when_critical   | Perf-Event asserts ,when Low Priority Read transaction that is scheduled when the Low Priority Queue is in Critical state |
| 4'h9       | perf_wr_xact_when_critical    | Perf-Event asserts ,when Write transaction that is scheduled when the Write Queue is in Critical state.                   |
| 4'hA       | perf_dfi_rd_data_cycles       | Perf-Event asserts for every Read data beat transfer on the DFI interface coming from DRAM.                               |
| 4'hB       | perf_dfi_wr_data_cycles       | Perf-Event asserts for every Read data beat transfer on the DFI interface going towards DRAM                              |

Table 211. Group1 specific performance Events

| CSV[3:0]   | Selected performance Events   | Functional Description                                                                                                           |
|------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| 4'h0       | perf_rdwr_transitions         | Perf-Event asserts for every Read to Write and Write to Read bus-turn- around that happens in the controller.                    |
| 4'h1       | perf_op_is_precharge          | Perf-Event asserts for every precharge issued by DDR-Command Controller                                                          |
| 4'h2       | perf_op_is_activate           | Perf-Event asserts for every activate command issued by DDR-Command Controller                                                   |
| 4'h3       | perf_op_is_load_mode          | Perf-Event asserts for every Load Mode operation (MRW or MRR) that is issued by the controller after initialization is complete. |
| 4'h4       | perf_op_is_mwr                | Perf-Event asserts for every Masked Write that is issued for commands going through CAM (Content Addressable Memory).            |
| 4'h5       | perf_op_is_rd                 | Perf-Event asserts for every Read that is issued for commands going through CAM (Content Addressable Memory).                    |
| 4'h6       | perf_op_is_rd_activate        | Perf-Event asserts for every Read Activate that is issued for commands going through CAM (Content Addressable Memory).           |
| 4'h7       | perf_op_is_refresh            | Perf-Event asserts for every Refresh command that is issued by the controller after initialization is complete                   |

Table continues on the next page...

Table 211. Group1 specific performance Events (continued)

| CSV[3:0]   | Selected performance Events   | Functional Description                                                                  |
|------------|-------------------------------|-----------------------------------------------------------------------------------------|
| 4'h8       | perf_op_is_wr                 | Perf-Event asserts for every Write that is issued for commands going through CAM        |
| 4'h9       | perf_raw_hazard               | Perf-Event asserts for every Read-after- Write collision that happens in the controller |

## 36.3.4 APB common interface

This is a custom logic block designed to provide a common APB interface to all internal slaves within the DDR subsystem, thus unifying the register space for software access to DDR subsystem. APB common interface module directs the APB traffic from the single host side APB port to the correct APB interface on either the controller or the PHY.

## 36.4 Features

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

## 36.4.1 DDR MC feature list

The MC supports the following features:

- Support for DDR4 protocol up to DDR4-3200 speed grade
- Support for LPDDR4 protocol up to LPDDR4 3200 speed grade
- 1:2 frequency ratio architecture , it means that within the internal DDR PHY the DDR\_CLK will be doubled and therefore the outputted DRAM clock frequency is DDR\_CLK multiplied with 2.
- Up to three (03) host ports using AMBA AXI4 protocol
- Support for AXI burst types: Incremental and wrap
- AXI clock synchronous to the controller clock
- Exclusive access support
- Read reorder buffer with reduced latency options (for example, bypass)
- Direct software request control or programmable internal control for ZQ short calibration cycles for DDR3 and DDR4 modes
- Support for ZQ long calibration after self-refresh exit for DDR3 and DDR4 modes.
- Direct software request control or programmable internal control for ZQ calibration cycles for LPDDR4 mode.
- Support for ZQ calibration after SR-Power down exit for LPDDR4 mode.
- Support for ZQ Reset feature through software for LPDDR4 mode.
- Dynamic scheduling to optimize bandwidth and latency
- Read and write buffers in fully associative CAMs, 32 Reads and 32 Writes.
- Delayed writes for optimum performance on DRAM data bus
- Support "Out of order" command execution to maximizes the DRAM efficiency
- Programmable DRAM parameters
- Supports BL16 burst length
- Supports 1,2 memory ranks

- Control options to avoid starvation of lower priorities
- Guaranteed coherency for write-after-read (WAR) and read-after-write (RAW) hazards
- Write combine to allow multiple writes to the same address to be combined into a single write to DRAM; supported for same starting address
- Paging policy selectable by configuration registers as any of the following:
- Leave pages open after accesses, or
- Close page when there are no further accesses available in the controller for that page, or
- Auto-Precharge with each access, with an optimization for page-close mode which leaves the page open after a flush for read-write and write-read collision cases
- Supports automatic DRAM power-down entry and exit caused by lack of transaction arrival for programmable time
- Supports automatic Clock Stop entry and exit caused by lack of transaction arrival
- Supports self-refresh entry and exit as follows:
- Supports automatic self-refresh entry and exit caused by lack of transaction arrival for programmable time
- Support for self-refresh entry and exit under software control
- Support for explicit DRAM mode register updates under software control
- Flexible address mapper logic to allow application specific mapping of row, column,bank, and rank bits
- Programmable support for 1T or 2T timing
- User-selectable refresh control options:
- Controller-generated auto-refreshes at programmable average intervals
- In multi-rank designs, an offset can be applied to each rank's refresh timer to allow rank refreshes to expire at different times (this can increase efficiency by allowing traffic to continue to other ranks while a given rank is being refreshed)
- Ability to group up to 8 controller-generated refreshes together to be issued consecutively (this reduces the frequency of page closings, increases overall efficiency)
- When LPDDR4 is used, per-bank refreshes are scheduled for banks with no traffic in the CAM to minimize impact of refreshes on throughput.
- When controller-generated refreshes are grouped, some refreshes can be issued speculatively when the controller is idle for a programmable period of time
- Ability to disable controller-generated auto-refreshes
- Ability to issue a refresh through direct software request
- When LPDDR4 is used, user-selectable ability to perform per-bank refreshes rather than all-banks refreshes
- When DDR4 is used, fine granularity refresh can be selected
- When controller-generated refreshes are grouped, some refreshes can be issued speculatively when the controller is idle and does not have any HIF transactions to the DRAM rank/bank address for a programmable period of time
- INLINE-ECC support, when controller is configured for 32-bit/16-bit DRAM data width, including the following:
- Support for single error correction/double error detection (SEC/DED)
- Automatic data scrubbing of correctable errors
- Support for highly efficient read-modify-write when byte enables are used with ECC enabled
- Automatic logging of both correctable and uncorrectable errors
- Ability to 'poison' the write data by adding uncorrectable errors, for use in testing ECC error handling

DDR Subsystem

## NOTE

1. The DDR4 CRC-Retry feature is disabled based on hardware configuration of DDR subsystem.

## 36.4.2 PHY features

The PHY supports the following features:

- 8-bit, 16-bit and 32-bit wide SDRAMs
- Support 8-bit and 16-bit DDR3 and DDR4 DRAM devices
- Support 16-bit per channel LPDDR4 DRAM devices
- Support VT compensated delay lines for DQS centering, read/write leveling, and per bit de-skew
- PHY independent, firmware-based training using an embedded calibration processor
- Utilizes a specialized hardware acceleration engine
- Automatic periodic retraining through PHY MASTER Interface
- Support for (LPDDR4) Command Bus eye training relative to CK
- Support for Write Leveling to compensate for CK-DQS timing skew
- Support for Write Training: DQS to DQ: Two modes of training are available in LPDDR4:
- Command-based FIFO WR/RD with user patterns
- An internal DQS clock-tree oscillator, to determine the need for, and the magnitude of, required periodic training
- Data bus VREFDQ training
- Read training:
- DQ bit deskew training using DRAM mode registers
- DQS to DQ eye centering training using DRAM array
- LVSTL IO calibration and ODT calibration
- Three inactive idle states:
- DFI\_LP Mode: most clocks and delay lines gated
- PHY Inactive: leakage only
- PHY Retention: Core power removed, most I/Os powered down, SDRAMs held in self-refresh
- Voltage and temperature compensated delay lines used for:
- Centering the clock in the address/command window
- Centering the strobes in the data eyes
- Read/write leveling
- Per-bit deskew
- Includes a low-jitter PLL for both PHY clock generation and DRAM clock generation
- Only one PLL is required per DDR PHY
- Integrated PLL bypass to support 50 to 666 MT/s
- Flexible pre and postamble
- Support for 1 or 2 clock write preamble
- Support for static or toggling read preamble of 1 or 2 tCK
- Support for 0.5 or 1.5 tCK read postamble

- Support for a SW controllable DQ bit and AC bit swizzling
- Includes the PHY utility block (PUB)
- Soft IP Verilog design that includes PHY control features, such as read/write leveling and data eye training
- APB and JTAG interfaces for register access
- JTAG register interface for easy test access
- Direct override programming available for all VREF, ODT, drive strength, and timing delays to facilitate debug and characterization
- DDR3 Burst Chop
- DRAM addressing up to 4GBytes
- MRR reads and MPC write/read
- Data bus inversion
- Mode register readout
- Support Programmable input on-die termination (ODT) for IOs
- Support Programmable output impedance for IOs
- Support PVT-compensated ODT and output impedance for IOs
- Support Retention feature keeps SDRAMs in self-refresh during VDD power down
- Support Separate driver and receiver I/O power-down control
- Support PAD and internal loopback modes

## 36.5 Functional description

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

The MC converts system bus transactions into memory commands on the DFI interface that are compliant with the DDR protocols.

## 36.5.1 Exclusive access

The MC controller supports the AXI Exclusive Access feature.

All exclusive read transactions have an EXOKAY response (except in the case of an ECC uncorrectable error). Successful exclusive write accesses have an EXOKAY response, unsuccessful exclusive write accesses return an OKAY response. If an exclusive write fails, the data mask for the exclusive write is forced low so the data is not written. Masked writes or RMW must be supported when using exclusive access.

The exclusive access monitor compares the exclusive write transaction address, size, length, ID and port number against the exclusive read transaction address, size, length, ID and port number, and only accepts an exclusive write when these parameters match. Otherwise, the exclusive write is considered as fail. In some cases SLVERR response may be returned for exclusive access transactions. For more information about this, see 'Read Data and Response Channel' and 'Write Response Channel' description.

DDR Subsystem

## NOTE

- The read response SLVERR is generated for an exclusive read transaction for ECC configurations, when ECC is enabled and an uncorrectable error is detected. The master, upon receiving a SLVERR to an exclusive read command should not complete the exclusive operation by sending an exclusive write command. If it does, the MC monitors return EXOKAY if there is no violation.
- The maximum number of bytes that are monitored as a region per address cannot exceed 128 bytes. The AXI exclusive transaction length must always be a power of two.
- When all the monitors are active, further exclusive read should not be issued. If this happens, one of the active monitors is evicted using a round robin control and new exclusive read is accepted. The selection of the monitor to be evicted is based on a pointer which rotates across all the locations when a new exclusive read is received.

## 36.5.2 Software coherency for AXI ports

For information about how the MC handles in-order execution of commands to the same address, see Address collision handling. For the commands issued at the AXI port, the logic in the MC protects against all types of software coherency hazards when the AXI master waits for write (read) response before sending the next same address read (same address write) or vice versa.

Some special AXI masters expect an ordering relationship between the reads and writes when the opposite direction transactions are sent without waiting for the previous response. For these special cases, additional logic should be instantiated in the AXI port interface (XPI) to enforce the order of acceptance within the reads and writes between the AXI and HIF interfaces at the MC.

This logic is included by setting of the hardware parameter UMCTL2\_RDWR\_ORDERED\_n (Enabled for all three AXI ports in Hardware configuration) and enabled by the register PCFGR\_n.rdwr\_ordered\_en. When this feature is enabled and read and write transactions are presented at the same cycle, the pre-arbiter gives precedence to read transactions, incrementing the write transaction order token by 1 with respect to the read transaction order token.

For example, if the last order token issued was equal to 0, then the read order token will be equal to 1 and the write order token will be equal to 2.

## 36.5.3 Host interface (HIF)

HIF is an internal interface when the MC is configured to include a multi-port arbiter (the hardware parameter UMCTL2\_INCL\_ARB is set to 1). In this case, the AXI Port Interface (XPI) and/or Port Arbiter handle all signals on this interface. Read, write, and RMW requests as well as write data are received through the HIF. Following the receipt and acceptance of a write or RMW request, the MC requests write data from the interface.

The interface subsequently provides the independently timed write data in the requested order (matches the order in which requests are made to the MC). Read, write, and RMW requests are provided through a common command bus if UMCTL2\_DUAL\_HIF = 0.

Both read and write requests can be reordered later, before being output on the DFI interface. Requests to the MC are throttled in two ways:

- A credit mechanism that ensures that buffer space is available for any request to the MC, prior to the request being made.
- An independent stall mechanism that throttles requests when address collisions take place or if entering self-refresh through the software self-refresh or hardware low power self-refresh.

Data is handled separately. The MC throttles data by potentially waiting after it receives a write or RMW request before requesting the associated data. If there is collision, then the throttling lasts until the collision is cleared in the MC.

Once write data is requested, it is always accepted by the MC. However, if RMW requests are present, the write data can be throttled using the 'hif\_wdata\_stall' signal.

## 36.5.4 Partial writes

A Partial Write is where the number of write data beats is less than the number required for a normal (full) write for the MEMC\_BURST\_LENGTH.

DDR Subsystem

When UMCTL2\_PARTIAL\_WR = 1 (as set in hardware configuration), the MC issues the minimum number of DRAM bursts on the DDR interface required, dependent on the number of HIF write data beats and the HIF address alignment with respect to the DRAM Column address - as DRAM Writes must be sent BL-aligned.

## 36.5.5 XPI queues information

The controller interface provides the information about the address queues in the XPI. The information involves address queues for both read and write, and for reads separate information for blue/red queues in case dual queue is selected for that specific port (UMCTL2\_XPI\_USE2RAQ\_$ = 1).

In some cases, an AXI WRAP command at the input may be split into two internal INCR commands and are pushed separately into the queue. This can be recognized when split is asserted. When split and push are high, it means that the first generated INCR command has been pushed into the queue, and the following push means that the second generated INCR command has been pushed into the queue.

## 36.5.6 Overview of DFI interface

The MC contains a DFI interface, that connects the MC to a DFI-compliant PHY, and to transfer address, control, and data to the PHY. In case of DDR PHY, the MC interfaces to a PUB block, which acts as the DFI PHY interface. The MC, including its DFI Interface, runs at:

Half data rate (HDR) clock (referred to as 1:2 frequency ratio mode in the DFI Specification) You can get more information about the DFI interface from the following specifications:

- DDR PHY Interface (DFI) Specification, Revision 3.1 (Preliminary), 21 March 2014 and DDR PHY Interface (DFI) Specification, Preliminary DFI 4.0 Specification - Addendum to DFI 3.1, 2 April 2014

The DFI interface is sub-divided into the following interface groups:

- Control interface: The Control interface is a reflection of the DRAM control interface including address, bank, chip select, row strobe, column strobe, write enable, clock enable and ODT control, as applicable for the memory technology
- Write data interface:The Write data interface handles the transmission of write data across the DFI interface. The DFI Specification defines signals and timing relationships. The timing of this interface is user-configurable, to support all DFI-compliant PHYs through the DFITMG0.dfi\_tphy\_wrlat and DFITMG0.dfi\_tphy\_wrdata registers.
- Read data interface:The Read data interface handles the return of read data across the DFI interface. The DFI Specification defines signals and timing relationships. The timing of this interface is user-configurable, to support all DFI-compliant PHYs through the DFITMG0.t\_rddata\_en register.
- Update interface:During system operation, the system may require updates to the internal settings to compensate for environmental conditions. To ensure that updates do not interfere with signals on the DRAM interface, the DFI interface supports update modes where the DFI read, write, and Control interface is suspended from the normal activity.
- Status interface: The DFI interface requires status information for initialization and clock control to the DRAM devices. These signals are used to convey information between the MC and PHY.
- Training (PHY-Independent mode supported by the MC): Write and read leveling function performed in a DFI-compliant PHY with no MC interaction.
- Low power control interface: This interface consists of signals that are used to inform the PHY of a low power mode opportunity, as well as how quickly the MC requires the PHY to resume normal operation.

## 1:2 Frequency ratio mode considerations:

The MC, including its DFI interface runs at the half data rate (HDR) clock (referred to as 1:2 frequency ratio mode in the DFI Specification), so all DFI command and address signals are twice the width of the equivalent DDR DRAM signals. DFI data signals are four times the width of the equivalent DDR DRAM signals. The MC operates with an HDR clock. The PHY handles HDR-to-SDR conversion on the address bus to memory and HDR/DDR conversion on the data buses. In 1:2 frequency ratio mode, core\_ddrc\_core\_clk runs at half the frequency of CK/CK#.

DDR Subsystem

For DFI command and address signals in DFI 1:2, the DFI protocol refers to phase 0 (\_p0)and phase 1 (\_p1) but there are no such *\_p0 and *\_p1 signals in the MC. Instead, the lower half of the bits corresponds to phase 0 and the upper half of the bits corresponds to phase 1.

Consider the following example:

- In system that has 32 bits of DRAM in DFI 1:2, dfi\_wrdata[127:0] is the case. dfi\_wrdata[63:0] corresponds to dfi\_wrdata\_p0 and dfi\_wrdata[127:64] corresponds to dfi\_wrdata\_p1. Similarly, dfi\_wr-data\_en[7:0] is the case. dfi\_wrdata\_en[3:0] corresponds to dfi\_wrdata\_en\_p0 and dfi\_wrdata\_en[7:4] corresponds to dfi\_wrdata\_en\_p1. Similarly, dfi\_wrdata\_mask[15:0] is the case. dfi\_wrdata\_mask[7:0] corresponds to dfi\_wrdata\_mask\_p0 and dfi\_wrdata\_mask[15:8] corresponds to dfi\_wr-data\_mask\_p1.

For dfi\_rddata\_valid/dfi\_rddata/dfi\_rddata\_dbi signals in DFI 1:2, the DFI protocol refers to word 0 (\_w0) and word 1 (\_w1). But, there are no such *\_w0 and *\_w1 signals in the MC. Instead, the lower half of the bits correspond to word 0 and the upper half of the bits correspond to word 1.

- In system that has 32 bits of DRAM in DFI 1:2, dfi\_rddata[127:0] is the case. dfi\_rddata[63:0] corresponds to dfi\_rddata\_w0 and dfi\_rddata[127:64] corresponds to dfi\_rddata\_w1. Similarly, dfi\_rd-data\_valid[7:0] is the case. dfi\_rddata\_valid[3:0] corresponds to dfi\_rddata\_valid\_w0 and dfi\_rddata\_valid[7:4] corresponds to dfi\_rddata\_valid\_w1. Similarly, dfi\_rddata\_dbi[15:0] is the case. dfi\_rddata\_dbi[7:0] corresponds to dfi\_rddata\_dbi\_w0 and dfi\_rddata\_dbi[15:8] corresponds to dfi\_rddata\_dbi\_w1.

## 36.5.7 Low power software interface

Low Power Interface In a DDR memory subsystem, it is advantageous to place the PHY in a low power state when the MC has knowledge that the memory subsystem remains idle for a period of time. Depending on the state of the system, the MC communicates state information to the PHY allowing the PHY to enter the appropriate power saving state.

Software control is provided in DFILPCFG0/DFILPCFG1 registers (see UMCTL2\_REGS) for the following:

- This is an optional interface for a DFI-compliant PHY. The interface signals always exist in the MC. But the software can enable this interface in self-refresh and/or power-down and/or deep power-down mode and/or maximum power saving mode - DFILPCFG0.dfi\_lp\_en\_pd, DFILP-CFG0.dfi\_lp\_en\_sr, DFILPCFG0.dfi\_lp\_en\_dpd and DFILPCFG1.dfi\_lp\_en\_mpsm respectively.
- Software control over what is driven on dfi\_lp\_wakeup signal (and its associated timing) in self-refresh or power-down or deep power-down or maximum power saving mode - DFILP-CFG0.dfi\_lp\_wakeup\_pd, DFILPCFG0.dfi\_lp\_wakeup\_sr, DFILPCFG0.dfi\_lp\_wakeup\_dpd and DFILPCFG1.dfi\_lp\_wakeup\_mpsm respectively.
- The timing of this DFI low power interface - DFILPCFG0.dfi\_tlp\_resp.
- ctl\_idle output pin is a sideband signal (not specified in DFI) supported by PHY to trigger the PHY's Anti-Aging feature. This is driven the same as dfi\_lp\_req if enabled through soft-ware (DFIMISC.ctl\_idle\_en = 1 and DFI Low Power Interface is also enabled through DFILP-CFG0/DFILPCFG1).

## NOTE

DFI low power interface specific functionary is disabled with LP3 retention sequence.

## 36.5.8 Transaction service control

The transaction service control allows you to carefully manage the following:

- Costly read/write bus turn-arounds
- Priorities of read requests to generally favor high priority traffic while also preventing starvation of low priority traffic

This functionality is implemented in a simple 2-state machine for each traffic type with completely configurable controls. The states of the 2-state machine determine when reads/writes are serviced and the relative priority (high priority versus low priority reads) at any given moment.

Transactions in the MC are separated into five categories:

- Low Priority Reads (LPR)

- Variable Priority Reads (VPR)
- High priority reads (HPR)
- Normal priority writes (NPW)
- Variable priority writes (VPW)

## 36.5.9 Transaction scheduling based on aging (per Port):

The aging counters per port, per direction (read/write) count down the time when a port is requesting but not granted. The timeout condition occurs when a port aging counter becomes 0 and the port becomes the highest priority requester (Priority0) to the Port Arbiter. Registers PCFGR\_n[rd\_port\_priority] and PCFGW\_n[wr\_port\_priority] determine the initial value of the counters. The aging feature and the timeout can be enabled by PCFGR\_n[rd\_port\_aging\_en] and PCFGW\_n[wr\_port\_aging\_en] registers. Aging should always be enabled otherwise there is always a possibility of starvation.

## 36.5.10 Page policy

## 36.5.10.1 Explicit auto-precharge (Per Command)

The explicit auto-precharge feature can enable auto-precharge on a per-command basis. If the HIF signal hif\_cmd\_autopre is set during a valid command, then the auto-precharge bit for that command is set when it is sent to the DRAM. If you do not want to use the per-command auto-precharge feature, then this bit can be tied to 1'b1 or 1'b0. Tying it to 1'b1 causes all the commands to be executed with auto-precharge, and tying it to 1'b0 causes no commands to be executed with auto-precharge. For AXI configurations, the HIF signal hif\_cmd\_autopre is tied to 0 internally, and is not accessible to the user.

## 36.5.10.2 Intelligent precharges

The SCHED.pageclose register (see UMCTL2\_REGS Registers) enables precharge commands to be issued smartly through auto-precharges or explicit precharges. The exact functionality depends on the value programmed in SCHED1.pageclose\_timer:

- If SCHED.pageclose is set to 1 and SCHED1.pageclose\_timer = 0, a bank is kept open while there are page hit transactions available in the CAM to that bank. The last read or write command in the CAM with a bank and page hit is executed with auto-precharge. The intelligent precharge logic considers only the CAM or CAM region that is currently active, i.e. while executing reads it looks at the LPR or HPR region of the read CAM (whichever is active at the time) and does not look at transactions in the other region of the read CAM or in the write CAM; while executing writes the logic does not look at transactions in the LPR or HPR regions of the read CAM.

Whenever a mode switch occurs between LPR, HPR and writes, the page context is lost and therefore, a redundant auto-precharge may be issued followed by an explicit activate to the same bank or only an explicit precharge may be issued instead of an auto-precharge. The read and write commands that are executed as part of the ECC scrub requests are also executed with explicit precharge if the page needs to be closed.

- SCHED.pageclose is set to 1 and SCHED1.pageclose\_timer &gt;0, a bank is kept open while there are page hit transactions available in the CAM to that bank. The last read or write command in the CAM with a bank and page hit is not executed with auto-precharge. Instead, a timer is started with page-close\_timer as the initial value

There is a timer on a per bank basis. The timer decrements unless the next read or write in the CAM to a bank is a page hit. It resets to pageclose\_timer value if the next read or write in the CAM to a bank is a page hit. Once the timer reaches zero, an explicit precharge is scheduled. Prior to a bank's timer expiring, an explicit precharge may also be scheduled if the transaction scheduler chooses a CAM entry that is a row miss to the same bank.

- If SCHED.pageclose is set to 0, the bank remains open only until there is a need to close it (to open a different page or for page timeout or refresh timeout). This is also known as open page policy. The open page policy can be overridden by setting the per command auto pre bit on the HIF interface (hif\_cmd\_autopre) as described in 'Explicit Auto-Precharge (Per Command. When the multi-port arbiter is configured, the HIF signal hif\_cmd\_autopre is tied to 0 and you do not have control over it.

DDR Subsystem

## 36.5.10.3 Address collision handling

The MC can execute transactions out-of-order while ensuring that all transactions appear as if they are executed in the order in which they are received. Every transaction that requires a response from the MC arrives with a token number which is provided back to the core as part of the response. Since the MC queues transactions prior to execution, it is possible that multiple transactions to the same DRAM address can arrive before the first transaction to that address is issued. For address collision, two HIF addresses are considered the same address if all of the HIF address bits (except for the LSB column values) are the same. That is, the 'collision' ignores the LSB column values when comparing addresses.

To enforce ordering of accesses to the same address, the MC uses the following algorithm:

1. New read colliding with queued read: This collision causes no problems. The two reads can end up being executed out-of-order.
2. New write colliding with queued write: If write combine is enabled, the MC overwrites the data for the old write with that from the new write and only performs one write transaction (write combine). For more information about this, see 'Write Combine' section.
3. New read (or write) colliding with queued write (or read) respectively: In this case, the MC performs the following sequence:
- a. Holds the new transactions in a temporary buffer
- b. Applies flow control back to the SoC core to prevent more transactions from arriving.
- c. Flushes the internal queue holding the colliding transaction until that transaction is serviced.
- d. Accepts the new transaction and removes flow control.
4. New read colliding with both read and write: This can happen when a read collides with an RMW command. In this case, the reads are flushed until the read collision is cleared, then the writes are flushed in the same manner as described in the Step 3.
5. New write colliding with both read and write: This can happen when a write collides with an RMW command.
- If write combine is enabled, the new write is combined with write part of queued RMW.
- If write combine is disabled, the new write is held in a temporary buffer until the RMW has completed.
6. New RMW colliding with queued write: In this case, the new RMW is stored in a temporary buffer until the queued write is completed.

## 36.5.10.4 Write combine

The write combine feature can combine multiple writes to the same address into a single write to DRAM. When a new write collides with a queued write in the CAM:

- If write combine is enabled, the MC overwrites the data for the old write with that from the new write and only performs one write transaction (write combine).
- If write combine is disabled, the MC performs the following sequence:
1. Holds the new write transaction in a temporary buffer.
2. Applies flow control back to the SoC core to prevent more transactions from arriving.

## 36.5.10.4.1 Registers related to transaction service control

The following are the registers related to the Transaction Service Control:

- Low priority read transaction store
- PERFLPR1.lpr\_max\_starve
- PERFLPR1.lpr\_xact\_run\_length
- High priority read transaction store

DDR Subsystem

- PERFHPR1.hpr\_max\_starve
- PERFHPR1.hpr\_xact\_run\_length
- Write transaction store
- PERFWR1.w\_max\_starve
- PERFWR1.w\_xact\_run\_length
- Bus turn-around control
- SCHED.prefer\_write
- SCHED.rdwr\_idle\_gap

## 36.5.11 Overview of quality of service

In a SoC based sub-systems, Quality of Service (QoS) are extremely important in distributing the available resources (bandwidth or latency) amongst the different devices, in a fair mechanism to meet the overall performance requirements.

In any SoC based on-chip communication system, there will be multiple Masters trying to communicate with different Slaves through Interconnect. Interconnect is used to route the traffic between the Masters and Slaves. There are potential chances of bandwidth sensitive Master starving for data and latency sensitive Master requirements are not met. This impacts the overall performance of the sub-system. QoS addresses these kinds of performance issues in sub-system.

Traffic classes: The MC supports different traffic classes that are distinguished from each other by the arqos signal.

## 36.5.11.1 Read classes

- Low priority read (LPR): It is also called as the best effort traffic. There is no resource allocation and it shares the resources with the other traffic types. LPR is always treated as low priority in the port arbiter (PA) and in the MC. There are timeout mechanisms that can be used to prevent starvation for both the PA and the MC. When there is a timeout in the PA, that port becomes the highest priority (priority0). When there is a timeout in the LPR store in the MC (in other words, LPR store becomes critical), the LPR entries are served before HPR entries.
- Variable priority read (VPR): It is also called as the maximum latency bound traffic for meeting real time deadlines in video or audio applications. VPR traffic shares the same resources with LPR in the MC. But, based on the configuration, it may have a dedicated queue (red or blue) in the XPI. It has the same priority as LPR, but lower priority than HPR for the PA. For the MC, VPR has the same initial priority as LPR. Each command tagged as VPR has an associated latency timer. When expired, VPR transactions have the highest priority in the controller, both in the PA and in the MC. The purpose of this traffic class is to limit the maximum latency, where this latency bound is expected to be a few hundred clock cycles.
- High priority read (HPR): It has allocated resources. If the XPIs are configured to have dual read address queues, then the red queue can be allocated to HPR. For the MC, HPR traffic goes to its own dedicated store. HPR traffic has higher priority than LPR. HPR is meant for latency critical but not real time applications such as CPU.

## 36.5.11.2 Write classes

- Normal priority write (NPW): It is also called as the best effort traffic. There is no resource allocation and it shares the resources with the other traffic types. It is always treated as normal priority in the PA and MC. There are timeout mechanisms that can be used to prevent starvation for the PA. When there is a timeout in the PA, that port becomes the highest priority (priority0).
- Variable priority write (VPW): It is also called as the maximum latency bound traffic to meet real time deadlines in video or audio applications. VPW traffic shares the same resources with NPW in the MC. For the MC, VPW has the same initial priority as NPW. Each command tagged as VPW has an associated latency timer. When expired, VPW transactions have the highest priority in the controller, both in the PA and in the MC. The purpose of this traffic class is to limit the maximum latency, where this latency bound is expected to be a few hundred clock cycles.

DDR Subsystem

## 36.5.12 Significance of urgent signal on QoS

The application master can indicate to the uMCTL2 Port Arbiter that it is going to starve soon by asserting the AXI sideband signals like arurgent and awurgent. These sideband signals can be asserted anytime and are not associated with any particular command. When an arurgnet or wurgent signal is asserted, the priority of that port becomes the highest (Priority0) and that causes the read/write direction to switch immediately at the Port Arbiter level if enabled by PCFGR\_n[rd\_port\_urgent\_en] and PCFGW\_n[wr\_port\_urgent\_en]. These AXI-Urgent signals also assert the hif\_go2critical\_wr/ hif\_go2critical\_lpr/\_hpr signals at the HIF interface level, which forces the read/write direction switch within DDRC, if enabled by PCCFG[go2critical\_en].

## 36.6 ECC scrubber

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

ECC Scrubber (SBR) is a block which initiates periodic background read commands to the MC. The purpose behind periodic scrubbing is to increase the reliability of the system by correcting single-bit ECC errors in time, before they turn into uncorrectable 2-bit errors. With Inline ECC, scrub feature of the MC is not supported, for this reason RMW command is initiated by the Scrubber itself for every single-bit ECC error detected. Scrub command is a read of one memory burst (for example, BL8) which is sent to the MC periodically with the lowest priority. The SBR consumes one of the ports of the Port Arbiter (PA) as a requester. The SBR terminates and dumps the read data. For Inline ECC the Scrubber itself initiates the required RMW commands as necessary to fix single-bit ECC errors.

- The controller does not scrub automatically for each correctable read error (for Inline ECC, always ECCCFG0.dis\_scrub = 1).
- ECC Scrubber (SBR) block is enhanced to issue fully masked (all bytes disabled) single read-modify-write command after detecting a correctable read error (a new HIF signal hif\_rdata\_corr\_ecc\_err is provided).
- For arbiter configurations only.

## 36.6.1 Scrub period

Scrub interval (tSCRUBI) is defined as number of clock cycles between two scrub read commands. Scrub period is defined as the time needed to read every memory location of the entire DRAM address range. The period ranges from 2 hours to 12 hours depending on the tSCRUBI setting, memory size, and clock frequency. The register SBRCTL.scrub\_interval[12:0] counts in multiples of 512 cycles. With inline-ECC, whenever SBRCTL.scrub\_intrval is programmed to 0, the scrubber will not issue any RMW command to the MC if a single bit ECC errors are detected.

## 36.6.2 Normal operation

For Inline ECC a minimum of 8 bursts (1 block) is issued to the MC each time; the amount of burst sent is set by programming SBRCTL[scrub\_burst] [2:0] register. Each time tSCRUBI counter times out, a scrub command (or a burst of commands for Inline ECC) is pushed to a scrub queue (8-deep), which is then immediately issued to the MC.The SBR counters halt if more than 8 scrub commands are collected and pending inside the scrub queue due to the MC being busy. The SBR starts the reads from address 0 up to the maximum address as defined by some of the controller parameters and address map register settings.

The address range is automatically calculated. However, for debugging purpose (for example, to speed up testing of it), the start address can be overridden by the external signal sbr\_address\_start\_mask, while the maximum address range can be overridden by the external signal, Scrubber address range mask. If there are outstanding read commands on flight issued by the SBR, SBRSTAT[scrub\_busy] register is asserted.

For inline ECC configurations that use an ECC scrubber, if the Scrubber address range mask signal is set to any of these values: unprotected region, ECC region, or zero, the scrubber loops back to the starting address even after it completes writing or scrubbing the last memory location. SBRSTAT[scrub\_done] is not always asserted.

Therefore, the end of the initialization write operation cannot be determined, and a software timer is required to determine the period to initialize or scrub the memory space. This is done using the scrubber. You also need to stop the scrubber by writing 0 to SBRCTL[scrub\_en], after the time is over.

DDR Subsystem

## NOTE

In Inline ECC configurations , the 'ECC Scrub' feature is not supported and is always disabled by setting the ECCCFG0[dis\_scrub] = 1'b1.

## 36.6.3 Low power operation -software controlled

If the MC is in one of the software controlled low power modes such as self-refresh, deep power-down (DPD), or maximum power saving mode (MPSM), it is recommended to follow the procedure mentioned below:

- Before entering into any of the software controlled low power modes, disable the SBR by setting SBRCTL.scrub\_en to 0.
- If scrubbing is required in this low power mode, the whole address range can be quickly scrubbed by issuing back-to-back scrub read commands.
- Software must wake up the MC and initialize the DRAM/PHY as necessary.
- To start the SBR in an accelerated rate, write SBRCTL[scrub\_interval] to 0 and enable the SBR.
- Once the SBR scrubs the entire DRAM range, sbr\_done\_intr interrupt signal is asserted. In addition, SBRSTAT.scrub\_done software status bit is set which can be polled by the software. The scrubbing operation continues until SBR is disabled.

## NOTE

Note that sbr\_done\_intr signal and scrub\_done register are never set if the SBR is operating in its normal mode (SBRCTL[scrub\_interval] &gt; 0).

- If the software does not want to wait for the complete scrubbing operation to finish, SBRCTL[scrub\_interval] can be set to a non-zero value anytime. The SBR will re-start the scrub commands from the start address.
- Disabling the SBR or setting the SBRCTL[scrub\_interval] back to its normal operating value (tSCRUBI) which is greater than 0 clears both the interrupt signal and the status bit.

## NOTE

When you use scrubber in the Inline ECC mode, the SBR counter reaches the configured SBRCTL[scrub\_interval] and the controller is in the LP mode. In this case the next set of SBR reads is not generated.

Therefore, disable SBR during the Low-Power mode by writing 0 to SBRCTL[scrub\_during\_lowpower].

## 36.6.4 Initialization writes

The above sections refer to scrub read commands. The SBR block can be used to initialize the memories with a defined pattern. SBRCTL.scrub\_mode should be programmed to 1. SBRWDATA0 can be programmed with the desired pattern.

After PHY and DRAM initialization, perform the following steps:

- If MEMC\_INLINE\_ECC is defined and ECC is enabled, set ECCCFG1.ecc\_parity\_region\_lock to 1.
1. Ensure that PCTRL\_n.port\_en are set to 0, block the AXI ports from taking the transaction.
2. Set SBRCTL.scrub\_mode = 1.
3. Set SBRCTL.scrub\_interval = 0.
4. Set the desired pattern through SBRWDATA0 register.
5. Enable the SBR by programming SBRCTL.scrub\_en = 1.
6. Poll SBRSTAT.scrub\_done = 1 (all scrub writes commands have been sent).
7. Poll SBRSTAT.scrub\_busy = 0 (all scrub writes data have been sent).
8. Disable SBR by programming SBRCTL.scrub\_en = 0.
9. Prepare for normal scrub operation (Reads) by programming SBRCTL.scrub\_mode = 0 and SBRCTL.scrub\_interval to tSCRUBI.

## NOTE

DDR controller does not mask ECC Check for unused data portion of DRAM burst. For both correctable and uncorrectable errors, ECC error reporting is based on the entire DDR PHY Interface (DFI) read data. For small and unaligned AXI transactions, parts of this read data may not be propagated to the AXI. However, ECC errors for this unused read data are still flagged. In particular, this may happen for uninitialized memory locations. To avoid this, it is recommended to initialize ECC of the complete protected memory space during initialization.

## 36.7.1 Address map

There are few definitions mentioned below:

- Data block: 8 burst accesses of data (a burst can be DRAM BL8 or BL16).
- Super-block: Block with ECC parity (9 burst accesses).
- Hole: ECC parity + wasted region of the memory.
- Usable memory size: All the data blocks that fits.
- Usable size ratio: Usable memory size/Full memory size.
- Utilization percentage: The percentage of memory used for Data and ECC.

When Inline ECC is enabled, the highest three column bits must be mapped to the highest address map position possible. The controller flexible address mapping scheme is constrained so that the highest system address space is reserved for ECC parity and waste as one region as shown in Figure below. For the normal data in all remaining regions, the system address is linear and continuous. The reason for the waste is due to how the memory is divided for ease of implementation. Data to ECC ratio is 8 to 1 (divide by 9), but the memory is mapped 7 to 1 (divide by 8 which is a power of 2).

- Usable size ratio is 7/8 = 87.5%.
- Utilization percentage is (7/8 + (1/8*7/8)) = 63/64 = 98.4% and the remaining becomes the waste. The unprotected wasted area can still be accessible by the system, but not in linear and continuous fashion.

DDR Subsystem

10. Enable the SBR by programming SBRCTL.scrub\_en = 1. 11. Enable AXI ports by programming PCTRL\_n.port\_en = 1.

## 36.7 Overview of inline ECC support

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

The main features of Inline ECC :

- ECC parity (code) is stored together with the data without using a dedicated sideband memory device.
- Inline ECC is a necessity for LPDDR4 due to device characteristics and device topology.
- Inline ECC is supported with LPDDR4, DDR4 (BG rotation address mapping), and DDR3 protocols.
- The supported memory data widths are 16, and 32.
- For inline ECC, 64/8 SECDED Hamming code is used:
- Data to ECC ratio is 8/1

<!-- image -->

For LPDDR4 and DDR3, for best Inline ECC performance, it is recommended to have address mapping such that Data and ECC to be mapped to the same bank and page.

For DDR4, it is recommended to have bank group rotation address mapping. In this case ECC parity is in a different bank and bank group than the data

## 36.7.2 Selectable protected regions

The memory is divided into eight regions. To maintain uninterrupted linear system address space, ECC hole maps to the top of the system address.The ECC hole size, including the waste, is 1/8 of the memory size. Except for the last region, which is the ECC hole, the remaining seven regions can be set to be either ECC protected or not. This feature allows ECC protection only on the critical safe areas of the memory. Remaining unprotected addresses can be accessed with no performance overhead since ECC commands are not injected.

The register ECCCFG0.ecc\_region\_map[6:0] indicates whether each region is ECC protected or not. To protect a region, set the corresponding bit to 1, otherwise set to 0.

<!-- image -->

## 36.7.3 Locking of ECC region

The ECC region comprises two separate sub-regions:

1. Used sub-region:
- ECC parity area for ECC protected regions.

2. Unused sub-region:
- ECC parity area for unprotected regions (reserved but not used by inline ECC logic).
- Waste region, which is never used by inline ECC logic.

The Used sub-region is locked/unlocked by the register ECCCFG1.ecc\_region\_parity\_lock. The Unused sub-region is locked/ unlocked by the register ECCCFG1.ecc\_region\_waste\_lock.

In normal conditions, the user software should not access the Used region of the ECC hole and therefore should be kept locked. However, for debugging or error injection purposes into ECC parity, it can be unlocked by the ecc\_region\_parity\_lock register. If required, for normal transfers, the user software can access the Unused region of the ECC hole and therefore can be kept unlocked using the ecc\_region\_waste\_lock register. However, it should be noted that the Unused region is not consecutive in terms of system addresses and it is interleaved with the Used region.

Locking the ECC hole sub-regions from access means the following:

- Any write or RMW request to this region is discarded, while the HIF output hif\_wdata\_ptr\_addr\_err is asserted.
- Any read request to this region is executed to the memory, but without the ECC check and returns all zeros, while the output hif\_rdata\_addr\_err is asserted.

For AXI configurations, any assertion of hif\_wdata\_ptr\_addr\_err or hif\_rdata\_addr\_err also results in SLVERR/ERROR response. When Inline ECC is disabled in the software, all the memory space can be accessed.

## 36.7.4 Error injection through software (ECC data poisoning)

ECC error injection is useful for system-level software validation. There is no dedicated hardware support for it. However, errors can be easily injected through the software by unlocking the ECC region through the ecc\_region\_parity\_lock register and overriding certain ECC parity bits. When the corresponding addresses are read from a protected memory region, ECC errors are generated as correctable or uncorrectable, depending on the type of error introduced.

## 36.7.5 Performance

The idle command latency of the controller increases by one core clock cycle with inline ECC.

- Full block write: No additional latency
- ECC burst is appended after 8 data bursts, the write data response is generated normally after each data burst.
- Back to back full write blocks can be streamed with 88.9% application port efficiency and 100% DDR efficiency (this assumes single block channel).
- For writes, the overhead command is not appended until the block channel is overridden or flushed. For example, for four block channels, it is possible to achieve 100% utilization up to 8*4 sequential/interleaving write bursts.
- For block read: BL/2 additional latency (4 DDR cycles for BL8, eight DDR cycles for BL16)
- First, read the ECC burst, then read the eight consecutive data bursts. The first read command of the block channel incurs the latency.
- Back to back full read blocks can be streamed with 88.9% application port efficiency and 100% DDR efficiency.

## 36.7.6 Interrupts related to inline ECC

The following are the interrupts for Inline ECC:

- ecc\_corrected\_err\_intr
- ecc\_uncorrected\_err\_intr
- ecc\_ap\_err\_intr

DDR Subsystem

## 36.8 Refresh controls

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

## 36.8.1 Overview of refresh controls

Refresh can be issued using the auto-refresh feature or using the direct software request of the refresh command. The 'RFSHCTL3.dis\_auto\_refresh' register bit selects the refresh method. When this bit is set to 1, the MC uses direct software request of refresh command. When it is set to 0, the internal auto-refresh feature is used.

The purpose of refresh control is to:

- Reduce the bandwidth impact of refresh cycles
- Increase the likelihood of refreshes being serviced during idle periods
- Provide fine-gain control of the trading-off the above benefits (to gather refreshes) versus the increased worst case latencies associated with gathering refreshes
- Allow traffic to flow to other ranks while a given rank is being refreshed (for multi-rank configurations of the MC only)

## 36.8.2 Refresh using direct software request of refresh command

Follow these steps to put the MC in direct software request of refresh command mode:

1. Set the RFSHCTL3.dis\_auto\_refresh bit to 1. When the register bit set, the MC checks for any pending refreshes. Any pending refreshes are issued right away using the 'critical refresh' feature inside the MC. After these refreshes are issued, all the refresh timers inside the MC are reset to 0. They are re-activated only when the auto-refresh feature is enabled.
2. The SoC core must keep track of the refresh requirements of the DRAM.
3. The refresh command can be issued by setting the register bits DBGCMD.rank*\_refresh to 1. When the rank*\_refresh request is stored in the MC, the corresponding register bit is automatically cleared. The SoC core can initiate a rank*\_refresh operation only if DBGSTAT.rank*\_refresh\_busy is low. The MC issues refresh to the DRAM at the earliest.
4. Software-driven refresh commands for each rank are loaded into a 9-entry buffer, and are issued by the MC on the DFI as soon as it is legal to do so (the MC must wait tRFC(min) between each refresh request). If the buffer saturates, the DBGSTAT.rank*\_refresh\_busy remains asserted to prevent software from initiating further refreshes.

## NOTE

- Application can give a burst of back-to-back refresh commands without polling the DBGSTAT.rank*\_refresh\_busy register field to reduce the time between the software refresh commands to a minimum with the following risk:
- If the refresh buffer is not empty when the burst starts or the burst is longer than 9 refresh commands, the buffer saturates (DBGSTAT.rank*\_refresh\_busy is asserted) and some APB writes given in the burst are not added to the buffer. This means that the number of APB writes do not reflect the number of REF commands sent out to the memory.
- For LPDDR4 configuration manual refreshes (RFSHCTL3.dis\_au-to\_refresh = 1) may not be used if the PHY Master Interface is enabled (DFIPHYMSTR.dfi\_phymstr\_en = 1).

## 36.8.3 Refresh using auto refresh feature inside the MC

The MC provides advanced refresh controls. Besides fully-configurable refresh constraints (tRFC(min) and tREFI), the MC can also be programmed to gather refreshes to each rank of DRAM to reduce the bandwidth consumed by refreshes and to increase the likelihood that refreshes can be serviced during an idle period.

Fine-grain control of the refreshes ensures these benefits can be balanced against worst case latencies associated with servicing refreshes together. Staggered refresh timers for multi-rank configurations of the MC allow transactions to continue to other ranks while refreshes are taking place to just one rank.

DDR Subsystem

DDR Subsystem

To minimize the worst case impact of a forced refresh cycle, the MC can be programmed to issue single refreshes at a time by forcing RFSHCTL0.refresh\_burst = 0. It can be programmed to burst up to 8 refreshes (RFSHCTL0.refresh\_burst = 7) in non-DDR4 modes. In LPDDR4 mode, with per-bank refresh enabled (RFSHCTL0.per\_bank\_refresh = 1), the maximum refresh burst supported by MC is 64 (RFSHCTL0.refresh\_burst = 63). In DDR4 mode, if using Fine Granularity Refresh feature, the number of refreshes that can be bursted is up to 16 refreshes in Fixed 2x mode and up to 32 in Fixed 4x mode. Burst refresh can be used to minimize the bandwidth lost to closing pages for refresh and to increase the likelihood that refreshes can be serviced during idle periods. It can also be programmed to any number in between to trade-off the benefits of each.

## 36.8.3.1 Single refresh

When using single refresh (RFSHCTL0.refresh\_burst = 0), the MC issues refreshes every time the refresh timer (tREFI) expires. This is the optimal mode of operation for systems that minimize the maximum latency associated with refresh cycles.

## 36.8.3.2 Burst refresh

When burst refresh is enabled (RFSHCTL0.refresh\_burst &gt; 0), the MC issues refreshes in bursts of (RFSHCTL0.refresh\_burst+1) refreshes at one time. Bursting refreshes reduces the total latency associated with those refreshes by reducing the number of pre-charges and activates required for refresh, as banks must be precharged only once to perform the entire group of refreshes, instead of once for each refresh.

## 36.8.3.3 Speculative refresh

When tREFI has expired at least once, the MC can also perform speculative refreshes. This is done by automatically inserting refreshes when there are no transactions pending in the CAM to a rank/bank address. The RFSHCTL0.refresh\_to\_x1\_x32 register determines how long the transactions must not be stored in the CAM before considering inserting these speculative refreshes. Each time a speculative refresh is performed, the count of tREFI expirations is decremented, and thereby increasing the time before a critical refresh is required.

This also ensures that speculative refreshes never occur more often than is required to keep the DRAM properly refreshed. If a new read or write transaction is accepted by the MC during speculative refresh, the MC services it as soon as legally possible. Most often it entails waiting for the required NOP cycles after a refresh before performing an activate and then servicing the read or write. If the MC has begun closing pages for a speculative refresh but has not yet issued the refresh when the new transaction arrives, the speculative refresh is canceled.

## 36.8.4 Per-bank refresh (LPDDR4 only)

If per\_bank\_refresh is set to 1 , the MC performs per-bank refreshes instead of all-bank refreshes. In this case, t\_rfc\_nom\_x1\_x32 and RFSHTMG.t\_rfc\_min should be set to the appropriate values for per-bank refresh (tREFIpb and tRFCpb respectively). In this mode, the MC keeps track of which bank is being refreshed at any time, and is able to schedule commands to other banks immediately before and after the per-bank refresh commands, resulting in potential efficiency gains. To improve the accuracy of per-bank refresh timing, set t\_rfc\_nom\_x1\_sel to 1 and program t\_rfc\_nom\_x1\_x32 accordingly.

For LPDDR4, the per-bank refresh command can be issued in any bank order. The MC can send the per-bank refresh to banks as a priority, where no transactions pending in the CAM or the bank is precharged. Also, the MC does not send the per-bank refresh command to multiple ranks at the same time, as the command contains a bank address, and the MC cannot specify multiple bank addresses with one command.

## Handling of Refresh in LPDDR4 &gt;= 6 Gb density devices, with both per-bank refresh and derating enabled :

For LPDDR4 &gt;= 6 Gb devices, with both per-bank refresh and derating enabled, refreshes can consume all the bandwidth on the SDRAM bus. This is because, due to derating, in some cases tREFIpb is close to, or smaller than, tRFCpb. In this case, the

controller ends up sending REFpb constantly (in tREFI/4 case for LPDDR4, ) and this blocks transitions such as SRE. LPDDR4DualChannelRefreshRequirements:

|                                  | Density   |     2Gb |     4Gb |     6Gb |     8Gb |    12Gb |    16Gb |    24Gb |    32Gb | Unit   |
|----------------------------------|-----------|---------|---------|---------|---------|---------|---------|---------|---------|--------|
| AverageRefreshInterval(AllBanks) | tREFlab   |   3.904 |   3.904 |   3.904 |   3.904 |   3.904 |   3.904 |   3.904 |   3.904 | us     |
| AverageRefreshInterval(PerBank)  | tREFlpb   | 488     | 488     | 488     | 488     | 488     | 488     | 488     | 488     | ns     |
|                                  | tREFlpb/2 | 244     | 244     | 244     | 244     | 244     | 244     | 244     | 244     | ns     |
|                                  | tREFIpb/4 | 122     | 122     | 122     | 122     | 122     | 122     | 122     | 122     | ns     |
| RefreshCycleTime(AllBanks)       | tRFCab    | 130     | 130     | 180     | 180     | 280     | 280     | 380     | 380     | ns     |
| RefreshCycleTimePerBank)        | tRFCpb    |  60     |  60     |  90     |  90     | 140     | 140     | 190     | 190     | ns     |

## NOTE

For LPDDR4 &gt;= 6Gb devices, if both per-bank refresh and derating are enabled, the controller will automatically switch to all-bank refresh if the derated refresh period is too short. The threshold is programmable. The controller will automatically switch back to per-bank refresh when the derated refresh period changes to other values.

## Functional Description

If per-bank refresh is enabled, when the refresh period becomes too short due to derating (e.g. tREFI/4 in LPDDR4), the derate module will set the derate\_force\_refab signal.

auto\_refab\_en:The switching threshold is configurable by the auto\_refab\_en register bit. Enables automatic switching from per-bank to all-bank refresh when the derated refresh period is small.

- 0x0 - Disable automatic switching
- 0x1 - Enable automatic switching when the derated refresh period is tREFI/2 or lower
- 0x2 - Enable automatic switching when the derated refresh period is tREFI/4
- 0x3 - Reserved

Automatically switches back to per-bank refresh when the derated refresh period is no longer small.

- refresh\_burst: In LPDDR4 mode, if per-bank refresh is enabled (per\_bank\_refresh = 1), and automatic switching from per-bank to all-bank refresh is enabled (auto\_refab\_en = 2'b01 or auto\_refab\_en = 2'b10), the DDR-Controller divides this value by 8 when it switches automatically from per-bank to all-bank refresh
- refresh\_to\_ab\_x32:When the uMCTL2 switches automatically from per-bank to all-bank refresh (if enabled by auto\_refab\_en), it will use this register to determine when to perform speculative all-bank refreshes. If the refresh timer (tRFCnom, also known as tREFI) has expired at least once, then a speculative refresh may be performed.

## NOTE

The above limitation can by-passed by utilizing the auto\_refab\_en =1 feature, based on following sequence.

## Case 1

- Set Per Bank refresh and refresh\_burst=0 and derate\_mr4\_tuf\_dis=1
- Set auto\_refab\_en=1 after ddr init
- Set auto\_refab\_en=1 after ddr init
- Set refresh\_burst=64 as per per bank refresh requirements
- If temperature increases so that per bank to all bank switch happens, refresh burst will automatically be changed to 8
- Temperature decreases and refresh burst will be automatically changed to 64 and all bank to per bank switch happens again

## Case 2

- Set Per Bank refresh and refresh\_burst=0 and derate\_mr4\_tuf\_dis=1. Set high temp at boot
- Set auto\_refab\_en=1 after ddr init
- Per bank to all bank switch happens and refresh\_burst is still 0
- Set refresh\_burst=64 as per per bank refresh requirements
- Refresh burst will automatically be changed to 8 while all bank refresh is on
- Temperature decreases and refresh burst will be automatically changed to 64 and all bank to per bank switch happens again.

## 36.8.5 Fine granularity refresh (DDR4 only)

This feature is supported only by DDR4. As the device density increases, tRFC gets longer and limits the performance. Consequently, frequent refresh with shorter tRFC may be advantageous in certain traffic scenarios. DDR4 allows the following types of fine granularity refresh modes. They are set by programming the DRAM mode register MR3 A[8:6] and RFSHCTL3.refresh\_mode registers:

- 000: Fixed 1x (normal mode)
- 001: Fixed 2x
- 010: Fixed 4x
- 101: On-the-fly 1x/2x (not supported by the MC)
- 110: On-the-fly 1x/4x (not supported by the MC)

The MC only supports Fixed mode refresh modes. The mode of operation has to be programmed both in the DRAM mode register and RFSHCTL3.refresh\_mode registers. This must happen before the deassertion of reset or when controller is in self-refresh mode, similar to other static registers. When updating refresh mode in self-refresh, INIT4.emr3 must be updated as well, because the value written to the DRAM through automatic MR3 command is taken from INIT4.emr3, not RFSHCTL3.refresh\_mode. Fixed 2x and Fixed 4x modes have shorter tREFI and tRFC (min) values compared to Fixed 1x mode. The following restrictions apply when using Fine Granularity Refresh mode:

- On-the-fly refresh modes are not supported
- Only Fixed 1x refresh mode operation is allowed if Temperature Controlled Refresh (TCR) is enabled in the DRAM (MR4 A[3:2])
- Multi-purpose register (MPR) reads and writes are not allowed when the Controller is in Fixed 2x or Fixed 4x modes.
1. Move the controller and DRAM into self-refresh
2. Change the controller operation to Fixed 1x mode (RFSHCTL3.refresh\_mode = 3'b000)

3. Program the DRAM operation to Fixed 1x mode (INIT4.emr3 = 3'b000)
4. Exit self-refresh On exiting self-refresh, the controller automatically issues MR3 write and puts the DRAM in Fixed 1x mode. It is now possible to perform MPR operation as the controller and DRAM are in Fixed 1x mode. If the system wants to put the controller and DRAM back into Fixed 2x or Fixed 4x mode, it should repeat the above steps by moving the controller back into self-refresh, changing the refresh mode and the exiting self-refresh.
- RFSHCTL0.refresh\_burst has the following restrictions:
- In Fixed 1x mode, this must be less than 8
- In Fixed 2x mode or on-the-fly 2x mode, this must be less than 16
- In Fixed 4x mode or on-the-fly 4x mode, this must be less than 32
- DDR4 protocol requires the following requirements before self-refresh entry:
- Even number of refreshes required in Fixed 2x mode
- Multiple of four refreshes required in Fixed 4x mode

The controller takes care of this requirement. Note that the controller enters self-refresh only after waiting for all ranks to meet the above requirements (especially the even/multiple of four requirement for Fixed 2x/Fixed 4x modes). Hence, larger the difference between refresh\_timer*\_start\_value\_x32 settings, longer the wait before self-refresh entry occurs.

## 36.8.6 Constraints on refresh\_timerX\_start\_value\_x32

The refresh\_timerX\_start\_value\_x32 register fields control the relative timing of refreshes to different ranks. The register fields must obey the following constraint: refresh\_timerX\_start\_value\_x32 + RoundUp(RFSHTMG.t\_rfc\_min/32) &lt; RFSHTMG.t\_rfc\_nom\_x1\_x32

If RFSHTMG.t\_rfc\_nom\_x1\_sel is set, RoundDown(RFSHTMG.t\_rfc\_nom\_x1\_x32/32) should be used in the above constraint. Also, note that the register field refresh\_timerX\_start\_value\_x32 cannot be changed after initialization. So the value of the register RFSHTMG.t\_rfc\_nom\_x1\_x32 used above should be anticipated as the minimum value which will be used, considering frequency change, fine granularity refresh, etc.

For LPDDR2/3/4, if DERATEEN.derate\_enable = 1, use minimum RFSHTMG.t\_rfc\_nom\_x1\_x32/4 as value in calculation of refresh\_timerX\_star\_value\_x32 to consider possible effect of derating in high temperature case.

## 36.9 ZQ calibration

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

## 36.9.1 Overview of ZQ calibration

This feature is applicable to DDR3/DDR4 and LPDDR4. The MC uses ZQ calibration command to calibrate DRAM RON (Resistor ON) and ODT (On-Die Termination) values over PVT (Process, Voltage, Temperature). DDR3/DDR4 and LPDDR4 SDRAMs need more time to calibrate RON and ODT at initialization and relatively less time to perform periodic calibrations.

## 36.9.2 DDR3/DDR4 devices

ZQCL (ZQ Calibration Long) command is used as follows:

- To perform the initial calibration during the power-up initialization sequence. This command is allowed a timing period of tZQinit determined by INIT5. dev\_zqinit\_x32 to perform full calibration and the transfer of values.
- To perform long ZQ Calibration after exiting from self-refresh mode (or after exiting from maximum power saving mode in DDR4 mode). This command is allowed a timing period of tZQOPER, deter-mined by ZQCTL0.\_t\_zq\_long\_nop. This command is automatically issued when ZQCTL0.dis\_srx- \_zqcl (ZQCTL0.dis\_mpsmx\_zqcl) is set to 0. To disable issuing ZQCL after self-refresh exit (after maximum power saving mode exit in DDR4 mode), set ZQCTL0.dis\_srx\_zqcl (ZQCTL0.dis\_mpsmx- \_zqcl) to 1.

DDR Subsystem

DDR Subsystem

ZQCS (ZQ Calibration Short) command is used to perform periodic calibration to account for VT (Voltage/Temperature) variations. A shorter timing window is provided to perform calibration and transfer of values as defined by the timing parameter tZQCS (determined by ZQCTL0.\_t\_zq\_short\_nop).

ZQCS can be performed automatically on a regular interval or through direct software request.. In DDR3/DDR4 mode, the ZQ Calibration commands are sent out encoded on the DFI command bus as mentioned in the JEDEC Specification. The MC performs no other activities for the duration of tZQinit, tZQOPER and tZQCS. The quiet time on the DRAM channel helps in accurate calibration of DRAM RON and ODT. All banks are precharged and tRP met before the MC issues the ZQ Calibration commands.

## 36.9.3 LPDDR4 devices

The MC supports all the ZQ calibration commands that are supported by the JEDEC Specification. ZQ calibration sequence uses the following MPC commands:

- ZQCal Start
- ZQCal Latch

The ZQCal Start command is used to initiate DRAM's calibration procedure. The ZQCal Latch command is used to capture the result and load it into DRAM's drivers. ZQCal Latch command can be issued after tZQCAL (determined by ZQCTL0.\_t\_zq\_long\_nop) has expired and all DQ Bus operations have completed. If a ZQ calibration is triggered, those commands are sent out consecutively to the DRAM by the MC.

<!-- image -->

ZQCal Start and ZQCal Latch command can be performed automatically at a regular interval or through direct software request. Furthermore, both commands are issued automatically after SR-Powerdown exit if ZQCTL0. dis\_srx\_zqcl is set to 0. To disable issuing of both commands after SR-Powerdown exit, set ZQCTL0. dis\_srx\_zqcl to 1.

Do not change the following mode register fields following a ZQCal Start command and before tZQCAL has expired:

- PU-Cal (Pull-up Calibration VOH Point) - MR3:OP[0]
- PDDS (Pull Down Drive Strength and Rx Termination) - MR3:OP[5:3]
- DQ-ODT (DQ ODT Value) - MR11:OP[2:0]

## 36.9.4 Automatic and software Initiated ZQCS

The MC issues a ZQCS command in the following ways:

##  Automatic ZQCS by the MC:

In this case, the MC sends ZQCS commands to DRAM periodically. The interval is determined by ZQCTL1.t\_zq\_short\_interval\_x1024. This method is used if ZQCTL0.dis\_auto\_zq is set to 0. In LPDDR4 mode, the MC sends MPC-based ZQ calibration commands (ZQCal Start and ZQCal Latch) instead of ZQCS command.

##  ZQCS using direct software request:

In this case, the SoC core sends a ZQCS command through software by setting DBGCMD.zq\_calib\_short to 1. When the ZQCS request is stored in the MC, the register bit is automatically cleared. It is recommended not to set DBGCMD.zq\_calib\_short signal in init, self-refresh, deep power-down operating modes or maximum power saving

DDR Subsystem mode (MPSM). The SoC core can initiate a ZQCS operation only if DBGSTAT.zq\_calib\_short\_busy is low. The DBGSTAT.zq\_calib\_short\_busy signal goes high in the clock after the MC accepts a ZQCS request. It goes low when the ZQCS operation is initiated in the MC. For proper DRAM operation, user/SoC core should schedule this command frequently. This method is used if ZQCTL0.dis\_auto\_zq is set to 1. In LPDDR4 mode, the MC sends MPC-based ZQ calibration commands (ZQCal Start and ZQCal Latch) instead of ZQCS command and it is recommended not to set DBGCMD.zq\_calib\_short signal in init or SR-Powerdown or Deep Power Down operating mode (this can be checked by observing STAT.operating\_mode and STAT.selfref\_state).

For self-refresh (except LPDDR4) or SR-Powerdown(LPDDR4), command is scheduled after SR/SR-Powerdown is exited. For Deep Power Down or MPSM, command is not scheduled although ZQSTAT.zq\_calib\_short\_busy is de-asserted.

## 36.9.5 LPDDR4 ZQ reset command

In LPDDR4 mode, it is recommended not to set this signal in init or SR-Powerdown or Deep Power Down operating modes (this can be checked by observing STAT.operating\_mode and STAT.selfref\_state). The SoC core can initiate a ZQ Reset operation only if ZQSTAT.zq\_reset\_busy is low. This signal goes high in the clock after the MC accepts a ZQ Reset request. It goes low when the ZQ reset command is issued to the DRAM and the associated NOP period is completed.

For self-refresh (except LPDDR4) or SR-Powerdown(LPDDR4), command is scheduled after SR/SR-Powerdown is exited. For Deep Power Down, command is not scheduled although ZQSTAT.zq\_reset\_busy is de-asserted.

## 36.10 MRR/MPR specific sequences

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

## 36.10.1 Mode register read and write operations

This section explains how to perform mode register reads and writes through software. Mode Register Reads (MRR) are applicable only to LPDDR4 and are used to read configuration and status data from mode registers in the SDRAM. Mode Register Writes ( MRW or MRS) are applicable to all supported DDR protocols and are used to write configuration data to mode registers in the SDRAM. For DDR4 , the uMCTL2 also supports Multi-Purpose Register (MPR) reads and writes.

Access to the mode register is initiated by programming the MRCTRL0 and MRCTRL1 registers. It must be done in following steps:

1. Poll mr\_wr\_busy[mr\_wr\_busy] until it is 0. This checks that there is no outstanding MR transaction. No writes should be performed to MRCTRL0 and MRCTRL1, if mr\_wr\_busy[mr\_wr\_busy] =1.
2. Write the mr\_type[mr\_type], mr\_addr[mr\_addr], mr\_rank[mr\_rank] and (for MRWs) mr\_data[mr\_data] to define the MR transaction.
3. In a separate APB transaction, write the mr\_wr[mr\_rank] to 1. This bit is self-clearing and triggers the MR transaction. The uMCTL2 then asserts the mr\_wr\_busy[mr\_wr\_busy], while it performs the MR transaction to SDRAM and no further accesses can be initiated until it is de-asserted.

## Note for Mode Register Write:

MRW transactions can be specified for either any single rank or any combination of serval ranks, by programming mr\_rank[mr\_rank]. If any part of the SDRAM's MR register is updated by software, it is also the responsibility of the software to update corresponding INIT*.*mr* so that it is aligned to the SDRAM's MR register.

## Note for Mode Register Read:

MRR transactions should only be performed to one rank at a time, to avoid bus contention. When a MRR is performed, the mode register contents are available on hif\_mrr\_data, qualified by hif\_mrr\_data\_valid, after the mode register read command is issued by the uMCTL2 to the SDRAM.

## 36.10.2 Multi-purpose register (MPR for DDR4 only)

This section describes how MPR Reads and MPR Writes are performed. The DDR4 SDRAMs contain four 8-bit programmable MPR which can be used for DQ training, CA parity log, MRS read out , or for vendor specific purposes. You can access MPRs when SDRAM is in MPR mode and the value of mpr\_en[mpr\_en] is 1.

## Sequence of MPR Write operation:

1. Issue MRS command to SDRAM MR3 to put the SDRAM into MPR mode. The register mpr\_en[mpr\_en] must be 0. The MPR page selection, MR3[1:0] also be selected.
2. Wait until mr\_wr\_busy[mr\_wr\_busy] is 0. Write mr\_data[mr\_data].
3. Write MRCTRL0, where mr\_addr[mr\_addr] = MPR Location, mr\_type[mr\_type] = write , mr\_wr[mr\_wr] =1 and mpr\_en[mpr\_en] =1.
4. Issue MRS command to SDRAM MR3 to exit the SDRAM from MPR mode. The mpr\_en[mpr\_en] must be 0.

## Sequence of MPR Read operation:

1. Issue MRS command to SDRAM MR3 to put the SDRAM into MPR mode. The register mpr\_en[mpr\_en] must be 0. The MPR page selection, MR3[1:0] and read format, MR3[12:11] must also be selected at this time.
2. Wait until mr\_wr\_busy[mr\_wr\_busy] is 0. Write mr\_data[mr\_data], where mr\_data[mr\_data][1:0]=00.
3. Write MRCTRL0, where mr\_addr[mr\_addr] = MPR Location, mr\_type[mr\_type] =read , mr\_wr[mr\_wr] =1 and mpr\_en[mpr\_en] =1. This causes the uMCTL2 to issue the MPR Read. The mode register contents are available on hif\_mrr\_data, qualified by hif\_mrr\_data\_valid. When this data is received, it is safe to move to the next step.
4. Issue MRS command to SDRAM MR3 to exit the SDRAM from MPR mode. The register MRCTRL0.mpr\_en must be 0.

## 36.11 ODT control

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

## 36.11.1 Overview of ODT control

By default, ODT to memories (dfi\_odt) is driven to all zeros. The register inputs control the following:

- ODTMAP.rank*\_wr\_odt: The value desired for ODT following a write command.
- ODTCFG.wr\_odt\_delay: The number of cycles to delay following a write command before driving the programmed values for write ODT, which depends primarily on CAS latency.
- ODTCFG.wr\_odt\_hold: The number of cycles to hold the programmed write value after it is first driven.
- ODTMAP.rank*\_rd\_odt: The value desired for ODT following a read command.
- ODTCFG.rd\_odt\_delay: The number of cycles to delay following a read command before driving the programmed values for write ODT, which depends primarily on CAS latency.
- ODTCFG.rd\_odt\_hold: The number of cycles to hold the programmed read value after it is first driven.

## NOTE

- ODT control for memories is not required for LPDDR4. It is a DDR3/DDR4 specific feature.
- For LPDDR4, set ODTMAP.rank*\_wr/rd\_odt to all zero because the ODT feature is automatically turned ON/OFF. In addition, the DRAMTMG13.odtloff register field must be appropriately programmed.
- DDR4 Dynamic ODT mode is not supported by the MC.

All of these must be set by the SoC core before taking the MC out of reset. They are then applied to every read or write issued by the MC. To avoid overlap of ODT for reads and writes, the following constraints must be enforced:

## 1:2 Frequency Ratio Mode:

- ODTCFG.wr\_odt\_hold &lt;= 2 * RANKCTL.diff\_rank\_wr\_gap + MSTR.burst\_rdwr
- If burst chop is enabled (MSTR.burstchop = 1), use burst\_rdwr/2 in the above equation
- ODTCFG.rd\_odt\_hold &lt;= 2*RANKCTL.diff\_rank\_rd\_gap + MSTR.burst\_rdwr
- If burst chop is enabled (MSTR.burstchop = 1), use burst\_rdwr/2 in the above equation

DDR Subsystem

- ODTCFG.wr\_odt\_delay + ODTCFG.wr\_odt\_hold &lt;= ODTCFG.rd\_odt\_delay + 2 * DRAMTMG2.wr2rd - For DDR4, use wr2rd\_s in the above equation
- ODTCFG.rd\_odt\_delay + ODTCFG.rd\_odt\_hold &lt;= ODTCFG.wr\_odt\_delay + 2 * DRAMTMG2.rd2wr
- ODTCFG.wr\_odt\_delay &gt;= DFITMG1.dfi\_t\_cmd\_lat (DDR4 only)

<!-- image -->

## 36.12 Programming considerations

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

This section provides information about how to program certain types of registers and fields.

## 36.12.1 Programming fields based on multiples of DFI clock cycles

The MC contains three timers that issue pulses at these multiples of the DFI clock:

- Every 32 clock cycles
- Every 1024 clock cycles
- Every 4096 clock cycles

Some timing register field values are stated based on these multiples. These fields have "x32", "x1024", or "x4096" in the field name. For example, an "x32" field counts pulses of the 32-clock cycle timer. The periods tracked by these fields start without any guaranteed relation to the phase of the associated timer. Therefore, for "x32" fields:

- A value of 0 gives no delay.
- A value of 1 gives a 1 to 32 cycle delay.
- A value of 2 gives a 33 to 64 cycle delay, and so on.

For "x1024" fields:

- A value of 0 gives no delay.

- A value of 1 gives a 1 to 1024 cycle delay.
- A value of 2 gives a 1025 to 2048 cycle delay, and so on.

For "x4096" fields:

- A value of 0 gives no delay.
- A value of 1 gives a 1 to 4096 cycle delay.
- A value of 2 gives a 4097 to 8192 cycle delay, and so on.

For a minimum delay, the field value must be set to the smallest number for which the resulting delay is ALWAYS greater than or equal to the required delay. For a maximum delay or nominal refresh, the value must ensure that the delay is ALWAYS less than or equal to the required delay.

## 36.12.2 Converting times into clock cycles

Most of the DRAM timing register fields call for values stated in clock cycles. But the value in an DRAM datasheet may be stated in time, such s, ns, or ps. These datasheet values are primarily minimum timings. Before using them to calculate a value to program into a field, divide the specified time by the DRAM clock period (tCK) and round any fraction up to the next integer value.

The exceptions to this rule are maximum timings, where the result should be rounded down rather than up. These maximum timings include:

- RFSHTMG[t\_rfc\_nom\_x32]
- DRAMTMG0[t\_ras\_max]

Certain DRAM timing register fields clarify this by using the following functions in their descriptions:

- RoundUp (X/Y), which means that if X divided by Y does not result in a whole integer, round the result up to the next integer value. For example: RoundUp(1000/150) = 7, and RoundUp(1050/150) = 7.
- RoundDown (X/Y), which means that if X divided by Y does not result in a whole integer, round the result down to the next integer value. For example: RoundUp(1000/150) = 6, and RoundUp(1050/150) = 7.

## 36.12.3 Programming mode

Each field description specifies the programming mode for that field. The programming mode describes when the field can be written to. The options are:

| Programming mode      | Description                                                                                                                          |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| Static                | Can be written only when the MC is in reset.                                                                                         |
| Dynamic               | Can be written at any time during operation.                                                                                         |
| Quasi-dynamic Group 1 | Can be written when the MC is in reset and when no read/ write traffic is present at the DFI.                                        |
| Quasi-dynamic Group 2 | Can be written when the MC is in reset and when the MC is in the Self Refresh, Deep Power Down, or Maximum Power Saving Mode states. |
| Quasi-dynamic Group 3 | Can be written when the MC is in reset and when the MC is empty (idle).                                                              |
| Quasi-dynamic Group 4 | Can be written when the MC is in reset and depending on the frequency mode (MSTR[frequency_mode]).                                   |

## NOTE

Some fields are programmable under more than one quasi-dynamic group.

DDR Subsystem

DDR Subsystem

If OCCAPCFG[occap\_en] = 1, you must poll SWSTAT[sw\_done\_ack] until it becomes 0 before modifying quasi-dynamic registers.

## 36.12.4 Standby power state (IO Retention)

The IO Retention power state is a non-operational low power state, where entry allows for dram contents to be maintained through STANDBY or functional reset. The standby power state has the following properties:

- This is the lowest possible power state for the phy.
- In this power state, the dram may either be in self-refresh, or in reset.
- The VDD and VDD\_DDR0 power supplies can be powered down in this state. If the VDD power supply is shut off, power consumption is predominantly determined by the device leakage on VDD\_IO\_DDR0 and the number of active CKE lanes.
- The state of CKE and DDR0\_MEMRESET\_b pins will be preserved at their last values when VDD is shut off. VDD\_IO\_DDR0 must remain valid for the value of the pins to be reserved.

## Retention Enter steps:

- Save phy trained state
- Block AXI port transactions
- Disable scrubber, if enabled
- Place dram in self refresh or reset
- Transition phy to IO retention
- Enable retention mode to hold current state on CKE and DDR0\_MEMRESET\_b
- Turn off VDD and VDD\_DDR0 supplies, VDD\_IO\_DDR0 must remain active during IO retention

## Retention Exit steps:

- Restore VDD and VDD\_DDR0, VDD\_IO\_DDR0 will have remained active.
- Exit retention/IO retention mode, reset controller and phy
- Restore controller configuration
- Restore phy configuration, including saved trained state
- Exit self refresh
- Enable AXI ports to accept transactions

## 36.13 Subsystem register descriptions

## 36.13.1 subsystem memory map

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

ddr\_subsystem base address: 403D\_0000h

| Offset   | Register              |   Width (In bits) | Access   | Reset value   |
|----------|-----------------------|-------------------|----------|---------------|
| 0h       | DDR SS Reg (reg_grp0) |                32 | RW       | 0000_0000h    |

## 36.13.2 DDR SS Reg (reg\_grp0)

## Offset

| Register   | Offset   |
|------------|----------|
| reg_grp0   | 0h       |

## Diagram

<!-- image -->

## Fields

| Field                          | Function                                                                                                                 |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| 31 ddr_ss_pub_reg _deco_int_en | Enables or disables the generated interrupt if the PUB register decoder detects a difference. 0b - Disables 1b - Enables |
| 30 aclk_2_disable              | Enables or disables the AXI port 2 clock. 0b - Disables 1b - Enables                                                     |
| 29 aclk_1_disable              | Enables or disables the AXI port 1 clock. 0b - Disables 1b - Enables                                                     |
| 28 aclk_0_disable              | Enables or disables the AXI port 0 clock. 0b - Disables 1b - Enables                                                     |
| 27 core_clk_disabl e           | Enables or disables the uMCTL2 main core clock.                                                                          |
| 26-25                          | Reserved                                                                                                                 |

Table continues on the next page...

DDR Subsystem

Table continued from the previous page...

| Field                 | Function                                                                                                     |
|-----------------------|--------------------------------------------------------------------------------------------------------------|
| -                     |                                                                                                              |
| 24-16 axi_parity_type | Indicates the type of parity selection for the AXI port read address. 0_0000_0000b - Even 0_0000_0001b - odd |
| 15-13 -               | Reserved                                                                                                     |
| 12-4 axi_parity_en    | Enables parity for the AXI port write address. 0_0000_0000b - Even parity 0_0000_0001b - odd parity          |
| 3-1 -                 | Reserved                                                                                                     |
| 0 dfi1_enabled        | Enables or disables DFI interface 1 on PHY. 0b - Disables 1b - Enables                                       |

## 36.14 Performance monitor register descriptions

## 36.14.1 PERF memory map

Perf\_Registers base address: 403E\_0000h

| Offset    | Register                                                         |   Width (In bits) | Access   | Reset value   |
|-----------|------------------------------------------------------------------|-------------------|----------|---------------|
| 0h        | Counter control 0 (COUNTER_0_CTRL_REG_ADDR)                      |                32 | RW       | 0000_0000h    |
| 4h        | Counter control 1 (COUNTER_1_CTRL_REG_ADDR)                      |                32 | RW       | 0000_0000h    |
| 8h        | Counter control 2 (COUNTER_2_CTRL_REG_ADDR)                      |                32 | RW       | 0000_0000h    |
| Ch        | Counter control 3 (COUNTER_3_CTRL_REG_ADDR)                      |                32 | RW       | 0000_0000h    |
| 20h - 2Ch | Counter Data (COUNTER_0_DATA_REG_ADDR - COUNTER_3_DATA_REG_ADDR) |                32 | R        | 0000_0000h    |
| 40h       | Mode Register Read 0 address (MRR_0_DATA_REG_ADDR)               |                32 | RW       | 0000_0000h    |
| 44h       | Mode Register Read 1 address (MRR_1_DATA_REG_ADDR)               |                32 | R        | 0000_0000h    |

## 36.14.2 Counter control 0 (COUNTER\_0\_CTRL\_REG\_ADDR)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| COUNTER_0_CTRL_RE G_ADDR | 0h       |

## Function

Provides control for counter 0 and indicates whether the counter has expired (overflowed).

## Diagram

<!-- image -->

## Fields

| Field      | Function                                                                                                |
|------------|---------------------------------------------------------------------------------------------------------|
| 31-24 -    | Reserved                                                                                                |
| 23-16 -    | Reserved                                                                                                |
| 15-3 -     | Reserved                                                                                                |
| 2 CNTR_EN  | Counter enable 0b - Disable (clock gated) 1b - Enable. If CNT_CLR is 1, the counter begins counting.    |
| 1 CNTR_CLR | Counter clear Sets the counter value to 0. 0b - Set counter to 0 and clear counter overflow (CNTR_OFL). |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                            |
|----------|-------------------------------------------------------------------------------------------------------------------------------------|
|          | 1b - If the counter is enabled (CNTR_EN), the counter starts counting.                                                              |
| 0        | Counter overflow                                                                                                                    |
| CNTR_OFL | Indicates whether the counter has expired (overflowed). 0b - Expired (and no longer counting) 1b - Not expired (and still counting) |

## 36.14.3 Counter control 1 (COUNTER\_1\_CTRL\_REG\_ADDR)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| COUNTER_1_CTRL_RE G_ADDR | 4h       |

## Function

Provides control for counter 1 and indicates whether the counter has expired (overflowed).

<!-- image -->

## Fields

| Field   | Function                |
|---------|-------------------------|
| 31-24   | Count_value_select[7:0] |

Table continues on the next page...

## Table continued from the previous page...

| Field          | Function                                                                                                                                                                                                                                                                                                                                          |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CSV            | Selects which counter is to be applied. Refer Table 209 , Table 210 and Table 211.                                                                                                                                                                                                                                                                |
| 23-16 COUNT_PR | Count_parameter[7:0] Refer Table 208                                                                                                                                                                                                                                                                                                              |
| 15-3 -         | Reserved                                                                                                                                                                                                                                                                                                                                          |
| 2 CNTR_EN      | Counter Enable This counter x(1/2/3) are always enabled (Independent of CNTR_EN bit status). Use CSV=0 to halt/ no counter increment. NOTE 0b - Disable (clock gated) 1b - Enable.                                                                                                                                                                |
| 1 CNTR_CLR     | Counter clear On reset, the MC clears the counter and writes 1 to this field. To start counting, you must enable the counter (CNTR_EN). NOTE 0b - Set counter value to 0 and clear counter overflow (CNTR_OFL). In response, the MC automatically writes 1 to this field to start the counter. 1b - No clearing effect. Normal counter operation. |
| 0 CNTR_OFL     | Counter overflow Indicates whether the counter has expired (overflowed). Overflow flag will be reset on the receiving of the next subsequent event. NOTE 0b - Counting with/without expired state. 1b - Expired and waiting for next selected event.                                                                                              |

## 36.14.4 Counter control 2 (COUNTER\_2\_CTRL\_REG\_ADDR)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| COUNTER_2_CTRL_RE G_ADDR | 8h       |

## Function

Provides control for counter 2 and indicates whether the counter has expired (overflowed).

## NOTE

To get counterN (N=2) value correctly before reset, user must need to capture before overflow. User can either configure counter0 interrupt to read the counterN value or the given elaps time should not exceed the overflow condition.

## Diagram

<!-- image -->

## Fields

| Field          | Function                                                                                                                                                                           |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CSV      | CSV[7:0] Selects which counter is to be applied. Refer Table 209 , Table 210 and Table 211.                                                                                        |
| 23-16 COUNT_PR | Count_parameter[7:0] Refer Table 208                                                                                                                                               |
| 15-3 -         | Reserved                                                                                                                                                                           |
| 2 CNTR_EN      | Counter Enable This counter x(1/2/3) are always enabled (Independent of CNTR_EN bit status). Use CSV=0 to halt/ no counter increment. NOTE 0b - Disable (clock gated) 1b - Enable. |
| 1 CNTR_CLR     | Counter clear                                                                                                                                                                      |

Table continues on the next page...

## Table continued from the previous page...

| Field      | Function                                                                                                                                                                                                                                                                                                                            |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | On reset, the MC clears the counter and writes 1 to this field. To start counting, you must enable the counter (CNTR_EN). NOTE 0b - Set counter value to 0 and clear counter overflow (CNTR_OFL). In response, the MC automatically writes 1 to this field to start the counter. 1b - No clearing effect. Normal counter operation. |
| 0 CNTR_OFL | Counter overflow Indicates whether the counter has expired (overflowed). Overflow flag will be reset on the receiving of the next subsequent event. NOTE 0b - Counting with/without expired state. 1b - Expired and waiting for next selected event.                                                                                |

## 36.14.5 Counter control 3 (COUNTER\_3\_CTRL\_REG\_ADDR)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| COUNTER_3_CTRL_RE G_ADDR | Ch       |

## Function

Provides control for counter 3 and indicates whether the counter has expired (overflowed).

## NOTE

To get counterN (N=3) value correctly before reset, user must need to capture before overflow. User can either configure counter0 interrupt to read the counterN value or the given elaps time should not exceed the overflow condition.

## Diagram

<!-- image -->

| Bits   | 31   | 30   | 29   | 28    | 27   | 26   | 25       | 24   | 23   | 22   | 21   | 20       | 19   | 18   | 17   | 16        |
|--------|------|------|------|-------|------|------|----------|------|------|------|------|----------|------|------|------|-----------|
| R W    | CSV  | CSV  | CSV  | CSV   | CSV  | CSV  | CSV      | CSV  |      |      |      | COUNT_PR |      |      |      |           |
| Reset  | 0    | 0    | 0    | 0 0   | 0    |      | 0        | 0    | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0         |
| Bits   | 15   | 14   | 13   | 12 11 | 10   |      | 9        | 8    | 7    | 6    | 5    | 4        | 3    | 2    | 1    | 0         |
| R      |      |      |      |       |      |      | Reserved |      |      |      |      |          |      | CNTR | CNTR | CNTR _OFL |
| W      |      |      |      |       |      |      |          |      |      |      |      |          |      | _EN  | _CLR |           |
| Reset  | 0    | 0    | 0    | 0 0   |      | 0    | 0        | 0    | 0    | 0    | 0    | 0        | 0    | 0    | 0    | 0         |

## Fields

| Field          | Function                                                                                                                                                                                                                                                                                                                                          |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-24 CSV      | CSV[7:0] Selects which counter is to be applied. Refer Table 209 , Table 210 and Table 211.                                                                                                                                                                                                                                                       |
| 23-16 COUNT_PR | Count_parameter[7:0] Refer Table 208                                                                                                                                                                                                                                                                                                              |
| 15-3 -         | Reserved                                                                                                                                                                                                                                                                                                                                          |
| 2 CNTR_EN      | Counter Enable This counter x(1/2/3) are always enabled (Independent of CNTR_EN bit status). Use CSV=0 to halt/ no counter increment. NOTE 0b - Disable (clock gated) 1b - Enable                                                                                                                                                                 |
| 1 CNTR_CLR     | Counter clear On reset, the MC clears the counter and writes 1 to this field. To start counting, you must enable the counter (CNTR_EN). NOTE 0b - Set counter value to 0 and clear counter overflow (CNTR_OFL). In response, the MC automatically writes 1 to this field to start the counter. 1b - No clearing effect. Normal counter operation. |
| 0 CNTR_OFL     | Counter overflow Indicates whether the counter has expired (overflowed).                                                                                                                                                                                                                                                                          |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                    |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | Overflow flag will be reset on the receiving of the next subsequent event. NOTE 0b - Counting with/without expired state. 1b - Expired and waiting for next selected event. |

## 36.14.6 Counter Data (COUNTER\_0\_DATA\_REG\_ADDR - COUNTER\_3\_DATA\_REG\_ADDR)

## Offset

| Register                 | Offset   |
|--------------------------|----------|
| COUNTER_0_DATA_RE G_ADDR | 20h      |
| COUNTER_1_DATA_RE G_ADDR | 24h      |
| COUNTER_2_DATA_RE G_ADDR | 28h      |
| COUNTER_3_DATA_RE G_ADDR | 2Ch      |

## Function

Counter 0 counts real-time clock cycles. Counters 1-3 count DDR events.

## Diagram

<!-- image -->

| Bits   | 31       | 30       | 29       | 28       | 27       | 26       | 25       | 24       | 23       | 22       | 21       | 20       | 19       | 18       | 17       | 16       |
|--------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| R      | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |
| Bits   | 15       | 14       | 13       | 12       | 11       | 10       | 9        | 8        | 7        | 6        | 5        | 4        | 3        | 2        | 1        | 0        |
| R      | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL | COUNT_VL |
| W      |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |          |
| Reset  | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        | 0        |

## Fields

| Field   | Function    |
|---------|-------------|
| 31-0    | Count Value |

Table continues on the next page...

| Field    | Function                   |
|----------|----------------------------|
| COUNT_VL | The current counter value. |

## 36.14.7 Mode Register Read 0 address (MRR\_0\_DATA\_REG\_ADDR)

## Offset

| Register             | Offset   |
|----------------------|----------|
| MRR_0_DATA_REG_AD DR | 40h      |

<!-- image -->

## Fields

| Field                | Function                                                                                                                                                                                           |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-4 -               | Always read zero                                                                                                                                                                                   |
| 3 VALID_OUT          | Valid out                                                                                                                                                                                          |
| 2 MPR_VALID_C LR_REG | MPR_VALID_CLR_REG = 1 clears the VALID_OUT of 'Mode Register Read 0 address' and also clears the 'Mode Register Read 1 address'. MRR_0_DATA_REG_ADDR DDR[MPR_VALID_CLR_REG] is self clearing. NOTE |
| 1 MPR_MODE_S EL_REG  | Set MPR_MODE_SEL_REG = 1 to enable serial mode and Set MPR_MODE_SEL_REG = 0 to enable parallel mode.                                                                                               |

Table continues on the next page...

Table continued from the previous page...

| Field        | Function                                                                                         |
|--------------|--------------------------------------------------------------------------------------------------|
| 0 MRR_DDR_SE | Set MPR_MODE_SEL_REG = 1 to enable LPDDR4 mode and Set MPR_MODE_SEL_REG = 0 to enable DDR4 mode. |

## 36.14.8 Mode Register Read 1 address (MRR\_1\_DATA\_REG\_ADDR)

## Offset

| Register             | Offset   |
|----------------------|----------|
| MRR_1_DATA_REG_AD DR | 44h      |

## Function

## Table 212. Details of MRR\_VL meaning

|   If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is: |   and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG] is: | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                  |
|---------------------------------------------------|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                 0 |                                                   0 | A concatenation data in this order: 1. data_in_d2[31:24] 2. data_in_d2[23:16] 3. data_in_d2[15:8] 4. data_in_d2[7:0]                                                                                                                                      |
|                                                 0 |                                                   1 | A concatenation data in this order: 1. data_in_d[120] 2. data_in_d[88] 3. data_in_d[56] 4. data_in_d[24] 5. data_in_d2[120] 6. data_in_d2[88] 7. data_in_d2[56] 8. data_in_d2[24] 9. data_in_d[112] 10. data_in_d[80] 11. data_in_d[48] 12. data_in_d[16] |

Table continues on the next page...

Table 212. Details of MRR\_VL meaning (continued)

| If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | If MRR_0_DATA_REG_ADDR DDR[MRR_DDR_SEL_REG] is:   | and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG]   | and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG]   | and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG]   | and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG]   | and MRR_0_DATA_REG_ADDR DDR[MPR_MODE_SEL_REG]   | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           | then MRR_1_DATA_REG_ADDR DDR[MRR_VL] is:                                                                                                                                                                                                                                                                                                                                           |
|---------------------------------------------------|---------------------------------------------------|---------------------------------------------------|---------------------------------------------------|---------------------------------------------------|---------------------------------------------------|-------------------------------------------------|-------------------------------------------------|-------------------------------------------------|-------------------------------------------------|-------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                   |                                                   |                                                   |                                                   |                                                   |                                                   |                                                 |                                                 |                                                 |                                                 |                                                 | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] | 13. data_in_d2[112] 14. data_in_d2[80] 15. data_in_d2[48] 16. data_in_d2[16] 17. data_in_d[104] 18. data_in_d[72] 19. data_in_d[40] 20. data_in_d[8] 21. data_in_d2[104] 22. data_in_d2[72] 23. data_in_d2[40] 24. data_in_d2[8] 25. data_in_d[96] 26. data_in_d[96] 27. data_in_d[32] 28. data_in_d[0] 29. data_in_d2[96] 30. data_in_d2[64] 31. data_in_d2[32] 32. data_in_d2[0] |
| 1                                                 | 1                                                 | 1                                                 | 1                                                 | 1                                                 | 1                                                 | 0 or 1                                          | 0 or 1                                          | 0 or 1                                          | 0 or 1                                          | 0 or 1                                          | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  | mrr_data_in[31:0]                                                                                                                                                                                                                                                                                                                                                                  |
| Diagram                                           |                                                   |                                                   |                                                   |                                                   |                                                   |                                                 |                                                 |                                                 |                                                 |                                                 |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |
| Bits                                              | 31                                                | 30                                                | 29                                                | 28                                                | 27                                                | 26                                              | 25                                              | 24                                              | 23                                              | 22                                              | 21                                                                                                                                                                                                                                                                                                                                                                                 | 20                                                                                                                                                                                                                                                                                                                                                                                 | 19                                                                                                                                                                                                                                                                                                                                                                                 | 18                                                                                                                                                                                                                                                                                                                                                                                 | 17                                                                                                                                                                                                                                                                                                                                                                                 | 16                                                                                                                                                                                                                                                                                                                                                                                 |
| R                                                 | MRR_VL                                            | MRR_VL                                            | MRR_VL                                            | MRR_VL                                            | MRR_VL                                            | MRR_VL                                          | MRR_VL                                          | MRR_VL                                          | MRR_VL                                          | MRR_VL                                          | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             | MRR_VL                                                                                                                                                                                                                                                                                                                                                                             |
| W                                                 |                                                   |                                                   |                                                   |                                                   |                                                   |                                                 |                                                 |                                                 |                                                 |                                                 |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |
| Reset                                             | 0                                                 | 0                                                 | 0                                                 | 0                                                 | 0                                                 | 0                                               | 0                                               | 0                                               | 0                                               | 0                                               | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  |
| Bits                                              | 15                                                | 14                                                | 13                                                | 12                                                | 11                                                | 10                                              | 9                                               | 8                                               | 7                                               | 6                                               | 5                                                                                                                                                                                                                                                                                                                                                                                  | 4                                                                                                                                                                                                                                                                                                                                                                                  | 3                                                                                                                                                                                                                                                                                                                                                                                  | 2                                                                                                                                                                                                                                                                                                                                                                                  | 1                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  |
| R MRR_VL                                          | R MRR_VL                                          | R MRR_VL                                          | R MRR_VL                                          | R MRR_VL                                          | R MRR_VL                                          | R MRR_VL                                        | R MRR_VL                                        | R MRR_VL                                        | R MRR_VL                                        | R MRR_VL                                        | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           | R MRR_VL                                                                                                                                                                                                                                                                                                                                                                           |
| W                                                 |                                                   |                                                   |                                                   |                                                   |                                                   |                                                 |                                                 |                                                 |                                                 |                                                 |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                    |
| Reset                                             | 0                                                 | 0                                                 | 0                                                 | 0                                                 | 0                                                 | 0                                               | 0                                               | 0                                               | 0                                               | 0                                               | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  | 0                                                                                                                                                                                                                                                                                                                                                                                  |

## Fields

| Field   | Function                         |
|---------|----------------------------------|
| 31-0    | MRR value                        |
| MRR_VL  | See Table 212for an explanation. |

## 36.15 UMCTL2\_REGS register descriptions

## 36.15.1 UMCTL2\_REGS memory map

This section and all its sub-sections are Synopsys Proprietary. Used with permission.

DDR MC registers

UMCTL2\_REGS base address: 403C\_0000h

| Offset   | Register                                     |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------------|-------------------|----------|---------------|
| 0h       | Master (MSTR)                                |                32 | RW       | 0304_0001h    |
| 4h       | Operating mode status (STAT)                 |                32 | R        | 0000_0000h    |
| 10h      | Mode Register read/write control 0 (MRCTRL0) |                32 | RW       | 0000_0030h    |
| 14h      | Mode Register Read/Write Control 1 (MRCTRL1) |                32 | RW       | 0000_0000h    |
| 18h      | Mode Register Read/Write Status (MRSTAT)     |                32 | R        | 0000_0000h    |
| 1Ch      | Mode Register Read/Write Control 2 (MRCTRL2) |                32 | RW       | 0000_0000h    |
| 20h      | Temperature derate enable (DERATEEN)         |                32 | RW       | 0000_0000h    |
| 24h      | Temperature derate interval (DERATEINT)      |                32 | RW       | 0080_0000h    |
| 2Ch      | Temperature derate control (DERATECTL)       |                32 | RW       | 0000_0001h    |
| 30h      | Low power control (PWRCTL)                   |                32 | RW       | 0000_0000h    |
| 34h      | Low Power Timing (PWRTMG)                    |                32 | RW       | 0040_2010h    |
| 38h      | Hardware low power control (HWLPCTL)         |                32 | RW       | 0000_0003h    |
| 50h      | Refresh Control 0 (RFSHCTL0)                 |                32 | RW       | 0021_0000h    |
| 54h      | Refresh control 1 (RFSHCTL1)                 |                32 | RW       | 0000_0000h    |
| 60h      | Refresh Control 3 (RFSHCTL3)                 |                32 | RW       | 0000_0000h    |
| 64h      | Refresh Timing (RFSHTMG)                     |                32 | RW       | 0062_008Ch    |
| 68h      | Refresh timing 1 (RFSHTMG1)                  |                32 | RW       | 008C_0000h    |
| 70h      | ECC Configuration 0 (ECCCFG0)                |                32 | RW       | 033F_7F40h    |
| 74h      | ECC Configuration 1 (ECCCFG1)                |                32 | RW       | 0000_07B0h    |
| 78h      | SECDED ECC Status (ECCSTAT)                  |                32 | R        | 0000_0000h    |

Table continues on the next page...

DDR Subsystem

Table continued from the previous page...

| Offset   | Register                                    |   Width (In bits) | Access   | Reset value   |
|----------|---------------------------------------------|-------------------|----------|---------------|
| 7Ch      | ECC Control (ECCCTL)                        |                32 | RW       | 0000_0700h    |
| 80h      | ECC Error Counter (ECCERRCNT)               |                32 | R        | 0000_0000h    |
| 84h      | ECC Corrected Error Address 0 (ECCCADDR0)   |                32 | R        | 0000_0000h    |
| 88h      | ECC Corrected Error Address 1 (ECCCADDR1)   |                32 | R        | 0000_0000h    |
| 8Ch      | ECC Corrected Syndrome 0 (ECCCSYN0)         |                32 | R        | 0000_0000h    |
| 90h      | ECC Corrected Syndrome 1 (ECCCSYN1)         |                32 | R        | 0000_0000h    |
| 94h      | ECC Corrected Syndrome 2 (ECCCSYN2)         |                32 | R        | 0000_0000h    |
| 98h      | ECC Corrected Data Bit Mask 0 (ECCBITMASK0) |                32 | R        | 0000_0000h    |
| 9Ch      | ECC Corrected Data Bit Mask 1 (ECCBITMASK1) |                32 | R        | 0000_0000h    |
| A0h      | ECC Corrected Data Bit Mask 2 (ECCBITMASK2) |                32 | R        | 0000_0000h    |
| A4h      | ECC Uncorrected Error Address 0 (ECCUADDR0) |                32 | R        | 0000_0000h    |
| A8h      | ECC Uncorrected Error Address 1 (ECCUADDR1) |                32 | R        | 0000_0000h    |
| ACh      | ECC Uncorrected Syndrome 0 (ECCUSYN0)       |                32 | R        | 0000_0000h    |
| B0h      | ECC Uncorrected Syndrome 1 (ECCUSYN1)       |                32 | R        | 0000_0000h    |
| B4h      | ECC Uncorrected Syndrome 2 (ECCUSYN2)       |                32 | R        | 0000_0000h    |
| D0h      | DRAM Initialization 0 (INIT0)               |                32 | RW       | 0002_004Eh    |
| D4h      | DRAM Initialization 1 (INIT1)               |                32 | RW       | 0000_0000h    |
| D8h      | DRAM Initialization 2 (INIT2)               |                32 | RW       | 0000_0D05h    |
| DCh      | DRAM Initialization 3 (INIT3)               |                32 | RW       | 0000_0510h    |
| E0h      | DRAM Initialization 4 (INIT4)               |                32 | RW       | 0000_0000h    |
| E4h      | DRAM Initialization 5 (INIT5)               |                32 | RW       | 0010_0004h    |
| E8h      | DRAM Initialization 6 (INIT6)               |                32 | RW       | 0000_0000h    |
| ECh      | DRAM Initialization 7 (INIT7)               |                32 | RW       | 0000_0000h    |
| F4h      | Rank Control (RANKCTL)                      |                32 | RW       | 0000_066Fh    |
| 100h     | DRAM Timing 0 (DRAMTMG0)                    |                32 | RW       | 0F10_1B0Fh    |
| 104h     | DRAM Timing 1 (DRAMTMG1)                    |                32 | RW       | 0008_0414h    |
| 108h     | DRAM Timing 2 (DRAMTMG2)                    |                32 | RW       | 0305_060Dh    |
| 10Ch     | DRAM Timing 3 (DRAMTMG3)                    |                32 | RW       | 0050_400Ch    |
| 110h     | DRAM Timing 4 (DRAMTMG4)                    |                32 | RW       | 0504_0405h    |
| 114h     | DRAM Timing 5 (DRAMTMG5)                    |                32 | RW       | 0505_0403h    |
| 118h     | DRAM Timing 6 (DRAMTMG6)                    |                32 | RW       | 0202_0005h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                  |   Width (In bits) | Access   | Reset value   |
|----------|-------------------------------------------|-------------------|----------|---------------|
| 11Ch     | DRAM Timing 7 (DRAMTMG7)                  |                32 | RW       | 0000_0202h    |
| 120h     | DRAM Timing 8 (DRAMTMG8)                  |                32 | RW       | 0303_4405h    |
| 124h     | DRAM Timing 9 (DRAMTMG9)                  |                32 | RW       | 0004_040Dh    |
| 128h     | DRAM Timing 10 (DRAMTMG10)                |                32 | RW       | 001C_180Ah    |
| 12Ch     | DRAM Timing 11 (DRAMTMG11)                |                32 | RW       | 440C_021Ch    |
| 130h     | DRAM Timing 12 (DRAMTMG12)                |                32 | RW       | 0002_0010h    |
| 134h     | DRAM Timing 13 (DRAMTMG13)                |                32 | RW       | 1C20_0004h    |
| 138h     | DRAM Timing 14 (DRAMTMG14)                |                32 | RW       | 0000_00A0h    |
| 13Ch     | DRAM Timing 15 (DRAMTMG15)                |                32 | RW       | 0000_0000h    |
| 180h     | ZQ Control 0 (ZQCTL0)                     |                32 | RW       | 0200_0040h    |
| 184h     | ZQ Control 1 (ZQCTL1)                     |                32 | RW       | 0200_0100h    |
| 188h     | ZQ Control 2 (ZQCTL2)                     |                32 | RW       | 0000_0000h    |
| 18Ch     | ZQ Status (ZQSTAT)                        |                32 | R        | 0000_0000h    |
| 190h     | DFI Timing 0 (DFITMG0)                    |                32 | RW       | 0702_0002h    |
| 194h     | DFI Timing 1 (DFITMG1)                    |                32 | RW       | 0000_0404h    |
| 198h     | DFI Low Power Configuration 0 (DFILPCFG0) |                32 | RW       | 0700_0000h    |
| 19Ch     | DFI Low Power Configuration 1 (DFILPCFG1) |                32 | RW       | 0000_0000h    |
| 1A0h     | DFI Update 0 (DFIUPD0)                    |                32 | RW       | 0040_0003h    |
| 1A4h     | DFI Update 1 (DFIUPD1)                    |                32 | RW       | 0001_0001h    |
| 1A8h     | DFI Update 2 (DFIUPD2)                    |                32 | RW       | 8000_0000h    |
| 1B0h     | DFI Miscellaneous Control (DFIMISC)       |                32 | RW       | 0000_0041h    |
| 1B4h     | DFI Timing 2 (DFITMG2)                    |                32 | RW       | 0000_0202h    |
| 1B8h     | DFI Timing 3 (DFITMG3)                    |                32 | RW       | 0000_0000h    |
| 1BCh     | DFI Status (DFISTAT)                      |                32 | R        | 0000_0000h    |
| 1C0h     | DM/DBI Control (DBICTL)                   |                32 | RW       | 0000_0001h    |
| 1C4h     | DFI PHY Master (DFIPHYMSTR)               |                32 | RW       | 0000_0001h    |
| 200h     | Address Map 0 (ADDRMAP0)                  |                32 | RW       | 0000_0000h    |
| 204h     | Address Map 1 (ADDRMAP1)                  |                32 | RW       | 0000_0000h    |
| 208h     | Address Map 2 (ADDRMAP2)                  |                32 | RW       | 0000_0000h    |
| 20Ch     | Address Map 3 (ADDRMAP3)                  |                32 | RW       | 0000_0000h    |
| 210h     | Address Map 4 (ADDRMAP4)                  |                32 | RW       | 0000_0000h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                              |   Width (In bits) | Access   | Reset value   |
|----------|-------------------------------------------------------|-------------------|----------|---------------|
| 214h     | Address Map 5 (ADDRMAP5)                              |                32 | RW       | 0000_0000h    |
| 218h     | Address Map 6 (ADDRMAP6)                              |                32 | RW       | 0000_0000h    |
| 21Ch     | Address Map 7 (ADDRMAP7)                              |                32 | RW       | 0000_0000h    |
| 220h     | Address Map 8 (ADDRMAP8)                              |                32 | RW       | 0000_0000h    |
| 224h     | Address Map 9 (ADDRMAP9)                              |                32 | RW       | 0000_0000h    |
| 228h     | Address Map 10 (ADDRMAP10)                            |                32 | RW       | 0000_0000h    |
| 22Ch     | Address Map 11 (ADDRMAP11)                            |                32 | RW       | 0000_0000h    |
| 240h     | ODT Configuration (ODTCFG)                            |                32 | RW       | 0400_0400h    |
| 244h     | ODT/Rank Map (ODTMAP)                                 |                32 | RW       | 0000_2211h    |
| 250h     | Scheduler Control (SCHED)                             |                32 | RW       | 0000_1005h    |
| 254h     | Scheduler Control 1 (SCHED1)                          |                32 | RW       | 0000_0000h    |
| 25Ch     | High Priority Read CAM 1 (PERFHPR1)                   |                32 | RW       | 0F00_0001h    |
| 264h     | Low Priority Read CAM 1 (PERFLPR1)                    |                32 | RW       | 0F00_007Fh    |
| 26Ch     | Write CAM 1 (PERFWR1)                                 |                32 | RW       | 0F00_007Fh    |
| 300h     | Debug 0 (DBG0)                                        |                32 | RW       | 0000_0000h    |
| 304h     | Debug 1 (DBG1)                                        |                32 | RW       | 0000_0000h    |
| 308h     | CAM Debug (DBGCAM)                                    |                32 | R        | 0000_0000h    |
| 30Ch     | Command Debug (DBGCMD)                                |                32 | RW       | 0000_0000h    |
| 310h     | Status Debug (DBGSTAT)                                |                32 | R        | 0000_0000h    |
| 318h     | CAM Debug 1 (DBGCAM1)                                 |                32 | R        | 0000_0000h    |
| 320h     | Software Register Programming Control Enable (SWCTL)  |                32 | RW       | 0000_0001h    |
| 324h     | Software Register Programming Control Status (SWSTAT) |                32 | R        | 0000_0001h    |
| 330h     | On-Chip Parity Configuration 0 (OCPARCFG0)            |                32 | RW       | 00B0_3032h    |
| 334h     | On-Chip Parity Configuration 1 (OCPARCFG1)            |                32 | RW       | 0000_0000h    |
| 338h     | On-Chip Parity Status 0 (OCPARSTAT0)                  |                32 | R        | 0000_0000h    |
| 33Ch     | On-Chip Parity Status 1 (OCPARSTAT1)                  |                32 | R        | 0000_0000h    |
| 340h     | On-Chip Parity Status 2 (OCPARSTAT2)                  |                32 | R        | 0000_0000h    |
| 36Ch     | AXI Poison Configuration (POISONCFG)                  |                32 | RW       | 0011_0011h    |
| 370h     | AXI Poison Status (POISONSTAT)                        |                32 | R        | 0000_0000h    |
| 388h     | Address protection within ECC Status (ECCAPSTAT)      |                32 | R        | 0000_0000h    |
| 3C0h     | Register parity configuration (REGPARCFG)             |                32 | RW       | 0000_0002h    |

Table continues on the next page...

Table continued from the previous page...

| Offset   | Register                                                       |   Width (In bits) | Access   | Reset value   |
|----------|----------------------------------------------------------------|-------------------|----------|---------------|
| 3C4h     | Register parity status (REGPARSTAT)                            |                32 | R        | See section   |
| 3E0h     | On-Chip command/Address Protection Configuration (OCCAPCFG)    |                32 | RW       | 0001_0000h    |
| 3E4h     | On-Chip command/Address Protection Status (OCCAPSTAT)          |                32 | R        | 0000_0000h    |
| 3E8h     | On-Chip command/Address Protection Configuration 1 (OCCAPCFG1) |                32 | RW       | 0001_0001h    |
| 3ECh     | On-Chip command/Address Protection Status 1 (OCCAPSTAT1)       |                32 | R        | 0000_0000h    |
| 3F0h     | Temperature Derate Status (DERATESTAT)                         |                32 | R        | 0000_0000h    |

## 36.15.2 Master (MSTR)

## Offset

| Register   | Offset   |
|------------|----------|
| MSTR       | 0h       |

## Diagram

<!-- image -->

## Fields

| Field         | Function                                      |
|---------------|-----------------------------------------------|
| 31-30         | Device configuration                          |
| device_config | Selects the configuration of the DRAM device. |
|               | Programming Mode: Static                      |
|               | 00b - x4 device                               |
|               | 01b - x8 device                               |

Table continues on the next page...

## Table continued from the previous page...

| Field              | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|--------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | 10b - x16 device 11b - x32 device                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 29-28 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 27-24 active_ranks | Active ranks Selects the number of active ranks. This field is present only for multi-rank configurations. Each bit represents one rank: 1 =rank is populated; 0 =rank is not populated. For two-rank configurations, bits 26-27 are reserved. The lsb is the lowest rank number. Programming Mode: Static All values not listed below are reserved. NOTE 0001b - One rank populated 0011b - Two ranks populated 1111b - Four ranks populated. Valid only in a four-rank configuration. |
| 23-20 -            | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 19-16 burst_rdwr   | DRAM burst length Selects the burst length (BL) used to access the DRAM. This selection must match the burst length mode register setting in the DRAM. Programming Mode: Static                                                                                                                                                                                                                                                                                                         |
| 15 dll_off_mode    | Dll-off mode Selects DLL-off mode for low frequency operation. DLL-on mode is for normal frequency operation. Programming Mode: Quasi-dynamic Group 2 0b - DLL-on mode                                                                                                                                                                                                                                                                                                                  |

Table continues on the next page...

## Table continued from the previous page...

| Field                 | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 14 -                  | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 13-12 data_bus_width  | Data bus width Selects the portion of the DQ bus width (excluding any ECC width) used by the DRAM. Programming Mode: Static The following bus-width restrictions apply. The DDR subsystem supports:  Half bus width only when the DRAM bus width is a multiple of 16  Quarter bus width only when the DRAM bus width is a multiple of 32 and the configuration parameter MEMC_QBUS_SUPPORT = 1. NOTE 00b - Full DQ bus width 01b - Half DQ bus width 10b - Half DQ bus width |
| 11 geardown_mod e     | Geardown Selects geardown mode(2N) or normal mode(1N). In 2Nmode,the address, command, and control signals are asserted for 2 clock cycles. You can write this field only when the MC is in the Self Refresh state. Geardown mode is not supported if:  Configuration parameter MEMC_CMD_RTN2IDLE = 1  Configuration parameter UMCTL2_SHARED_AC = 1 (in Shared-AC mode) and the register value is don't care NOTE Programming Mode: Quasi-dynamic Group 2                    |
| 10 en_2t_timing_m ode | 2T timing Selects 1T or 2T timing. In 2T timing, all command signals (except chip select) are held for 2 clocks on the DRAM bus, and chip select is asserted on the second cycle of the command.                                                                                                                                                                                                                                                                               |

Table continues on the next page...

Table continued from the previous page...

| Field       | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|             | 2T timing is not supported: p>  For LPDDR2, LPDDR3, or LPDDR4  If the configuration parameter MEMC_CMD_RTN2IDLE = 1  In DDR4 geardown mode  In Shared-AC dual channel mode and the register value is don't care NOTE 0b - 1T timing 1b - 2T timing                                                                                                                                                                                                                                                      |
| 9 burstchop | Burst Enable burst chop (BC4 or 8 on-the-fly) in DDR3 or DDR4. The subsystem exercises burst chop for reads only in HIF configurations (UMCTL2_INCL_ARB not set) and if in full bus width mode (data_bus_width = 00) and if MEMC_BURST_LENGTH is equal to 8 or 16. The subsystem exercises burst chop for writes only if partial writes are enabled (UMCTL2_PARTIAL_WR = 1) and if CRC is disabled ( is equal to 0). BC4 (fixed) mode is not supported. Programming Mode: Static 0b - Disabled 1b - Enabled |
| 8-6 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 5 lpddr4    | LPDDR4 Selects LPDDR4 DRAM. Only present in systems that support LPDDR4. Programming Mode: Static 0b - Not selected 1b - Selected                                                                                                                                                                                                                                                                                                                                                                           |
| 4 ddr4      | DDR4 Selects DDR4 DRAM. Only present in systems that support DDR4. Programming Mode: Static 0b - Not selected 1b - Selected                                                                                                                                                                                                                                                                                                                                                                                 |
| 3 lpddr3    | LPDDR3 Selects LPDDR3 DRAM. Only present in systems that support LPDDR3. Programming Mode: Static                                                                                                                                                                                                                                                                                                                                                                                                           |

Table continues on the next page...

Table continued from the previous page...

| Field    | Function                                                                                                                          |
|----------|-----------------------------------------------------------------------------------------------------------------------------------|
|          | 0b - Not selected 1b - Selected                                                                                                   |
| 2 lpddr2 | LPDDR2 Selects LPDDR2 DRAM. Only present in systems that support LPDDR2. Programming Mode: Static 0b - Not selected 1b - Selected |
| 1 -      | Reserved                                                                                                                          |
| 0 ddr3   | DDR3 Selects DDR3 DRAM. Only present in systems that support DDR3. Programming Mode: Static 0b - Not selected 1b - Selected       |

## 36.15.3 Operating mode status (STAT)

## Offset

| Register   | Offset   |
|------------|----------|
| STAT       | 4h       |

## Diagram

<!-- image -->

## Fields

| Field                     | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-13 -                   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 12 selfref_cam_not _empty | Self refresh with CAMs not empty Indicates if DRAM is in Self Refresh state but the CAMs are not drained. Programming Mode: Static 0b - DRAM has exited Self Refresh state 1b - DRAM is in Self Refresh state but CAMs are not drained                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 11-10 -                   | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 9-8 selfref_state         | Self refresh state Indicates whether DRAM is in the Self Refresh (other than LPDDR4) or Self Refresh Power Down (LPDDR4) state. Use this field to determine Self Refresh state for frequency change and MRR or MRW access. Programming Mode: Static 00b - Not in Self Refresh state 01b - In Self Refresh 1 state 10b - In Self Refresh Power Down state                                                                                                                                                                                                                                                                                                                                                           |
| 7-6 -                     | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 5-4 selfref_type          | Self refresh mode Indicates if DRAM enters the Self Refresh state and whether it did so only as the result of automatic self-refresh control. Programming Mode: Static 00b - Not in Self Refresh (except LPDDR4) or Self Refresh Power Down (LPDDR4). 01b - In Self Refresh (except LPDDR4) or Self Refresh Power Down (LPDDR4) caused by a PHY Master Request. 10b - In Self Refresh (except LPDDR4) or Self Refresh Power Down (LPDDR4) not caused soley under automatic self-refresh control. It could be caused by the hardware low-power interface or software (PWRCTL[selfref_sw]). 11b - In Self Refresh (except LPDDR4) or Self Refresh Power Down (LPDDR4) caused only by automatic self-refresh control. |
| 3                         | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Table continues on the next page...

Table continued from the previous page...

| Field              | Function                                                                                                                                                                                                                                                      |
|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -                  |                                                                                                                                                                                                                                                               |
| 2-0 operating_mode | Operating state Indicates the current operating state. Programming Mode: Static 000b - Init 001b - Normal 010b - Power Down 011b - Self Refresh. LPPD4: Self Refresh Power Down 1xxb - mDDR, LPDDR2, LPDDR3, or DDR4: Deep Power Down or Maximum Power Saving |

## 36.15.4 Mode Register read/write control 0 (MRCTRL0)

## Offset

| Register   | Offset   |
|------------|----------|
| MRCTRL0    | 10h      |

## Function

Controls and initates an DRAM Mode Register read or write transaction.

## NOTE

Enable only one of the following functions at any given time:

- Software Intervention (sw\_init\_int)
- Per DRAM Addressability (pda\_en)
- Multi Purpose Register (mpr\_en)

<!-- image -->

## Fields

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31 mr_wr      | Mode Register read/write Triggers a ModeRegister read or write operation. WhentheMRoperationis complete, the MCautomatically clears this field. You must write the other fields in this register in a separate transaction before writing this field. Do not write to this field while DRAMis intializing or is in the Deep Power Down or Maximum Power Saving Mode states. Programming Mode: Dynamic                                                                                                                                                                                                                                                                                                                              |
| 30 pba_mode   | Per buffer addressability Selects per buffer addressability (PBA) mode. If both pda_en and pba_en are selected, the MC initiates PBA access instead of PDA. MRSTAT[pda_done] indicates the completion of PBA access just as it does for PDA. Programming Mode: Dynamic 0b - PDA 1b - PBA                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 29-16 -       | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 15-12 mr_addr | Mode Register address Selects the Mode Register to be written to. For Mode Register addressing in LPDDR2, LPDDR3, and LPDDR4, see MRCTRL1[mr_data]. This signal is also used for writing to control words of the register chip on RDIMMs and LRDIMMs. In that case, it corresponds to the bank address bits sent to the RDIMM or LRDIMM. For DDR4, bits 15-14 correspond to the bank group bits. Therefore, bit 15 as well as bits 14-12 must be set to an appropriate value that is considered both the address mirroring of UDIMMs, RDIMMs, or LRDIMMs, and the output inversion of RDIMMs or LRDIMMs. Programming Mode: Dynamic 0000b - MR0 0001b - MR1 0010b - MR2 0011b - MR3 0100b - MR4 0101b - MR5 0110b - MR6 0111b - MR7 |
| 11-6          | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Table continues on the next page...

## Table continued from the previous page...

| Field         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| -             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 3 sw_init_int | Software intervention Allows software intervention via MRCTRL0/MRCTRL1 before the automatic DRAM initialization routine. DDR4: Initialize the DDR4 RCD (MR7) before automatic DRAM initialization. LPDDR4: Program additional mode registers before automatic DRAM initialization. For dual-channel DRAM, you must program both channels first. Programming Mode: Dynamic You must write 0 to this field after completing software intervention; otherwise, the DRAM initialization routine will not re-start. NOTE 0b - Not allowed |
| 2 pda_en      | 1b - Allowed Per DRAM addressability Selects Per DRAM Addressability (PDA) mode. Programming Mode: Dynamic 0b - MRS 1b - MRS in PDA mode                                                                                                                                                                                                                                                                                                                                                                                             |
| 1 mpr_en      | Multi-purpose register Selects MRS or WR/RD for MPR operation. The DDR subsystem supports WR/RD for MPR operation only for DDR4. NOTE                                                                                                                                                                                                                                                                                                                                                                                                |

Table continues on the next page...

## Table continued from the previous page...

| Field     | Function                                                                                                                                                                               |
|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | 0b - MRS 1b - WR/RD for MPR                                                                                                                                                            |
| 0 mr_type | Mode Register operation Selects whether the next Mode Register operation is read or write. Use only for for LPDDR2, LPDDR3, LPDDR4, or DDR4 DRAM. Programming Mode: Dynamic 0b - Write |

## 36.15.5 Mode Register Read/Write Control 1 (MRCTRL1)

## Offset

| Register   | Offset   |
|------------|----------|
| MRCTRL1    | 14h      |

## Function

Specifies data for a Mode Register write operation.

## Diagram

<!-- image -->

## Fields

| Field   | Function   |
|---------|------------|
| 31-18   | Reserved   |

Table continues on the next page...

Table continued from the previous page...

| Field   | Function                                                                                                                                                                                           |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 17-0    | Mode Register write data                                                                                                                                                                           |
| mr_data | Write data for all non-LPDDR2, non-LPDDR3, and non-LPDDR4 DRAM. For LPDDR2, LPDDR3, and LPDDR4, bits 15-8 are the Mode Register address and bits 7-0 are the write data. Programming Mode: Dynamic |

## 36.15.6 Mode Register Read/Write Status (MRSTAT)

## Offset

| Register   | Offset   |
|------------|----------|
| MRSTAT     | 18h      |

## Function

Controls when Mode Register read or write operations can be initiated.

## Diagram

<!-- image -->

## Fields

| Field    | Function                                                                                                                                                                                                                        |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 31-9     | Reserved                                                                                                                                                                                                                        |
| 8        | PDA operation complete                                                                                                                                                                                                          |
| pda_done | Indicates whether a MR operation in PDA or PBA mode has completed. This signal goes high when three consecutive MRS commands related to the PDA or PBA mode are issued to the DRAM. It goes low when MRCTRL0[pda_en] becomes 0. |

Table continues on the next page...